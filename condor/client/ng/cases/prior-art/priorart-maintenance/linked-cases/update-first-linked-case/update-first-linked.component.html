<form id="updatFirstLinked" [formGroup]="formGroup" *ngIf="formGroup">

    <div class="modal-header">
        <h2 class="modal-title">{{'priorart.updateFirstLinked.title' | translate}}</h2>
        <div class="modal-header-controls">
            <ipx-save-button id="save" type="button" (click)="apply()"></ipx-save-button>
            <ipx-close-button type="button" (click)="cancel()"></ipx-close-button>
        </div>
    </div>
    <div class="modal-body">
        <div class="row">
            <div *ngIf="!!newLinkedCases" class="label-value">
                <label class="col-md-6" translate="priorart.updateFirstLinked.newFirstLinkedCases"></label>
                <span class="text col-md-6">
                    {{newLinkedCases.caseReference}} ({{newLinkedCases.title}})
                </span>
            </div>
        </div>
        <div class="row" style="margin-top: 5px;">
            <div *ngIf="(!!currentlyLinkedCases)" class="label-value">
                <label class="col-md-6" translate="priorart.updateFirstLinked.currentFirstLinkedCases"></label>
                <div class="col-md-6">
                    <div style="max-height: 300px; overflow-y: auto;" class="row">
                        <div *ngFor="let linkedCase of currentlyLinkedCases; trackBy: getCaseKey" class="col-sm-12">
                            <span class="text">
                                {{linkedCase.caseReference}} ({{linkedCase.title}})
                            </span>
                        </div>
                        <div *ngIf="currentlyLinkedCases.length == 0" class="col-sm-12">
                            <span class="text">
                                {{"priorart.updateFirstLinked.noCasesFound" | translate}}
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <ipx-checkbox class="col-sm-12" name="keepCurrent" [label]="'priorart.updateFirstLinked.keepCurrent'" [disabled]="!currentlyLinkedCases?.length" formControlName="keepCurrent">
            </ipx-checkbox>
        </div>
    </div>
</form>