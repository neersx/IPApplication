<div [ipxConfirmBeforeRouteChange]="isPageDirty" [confirmMessage]="'dmsIntegration.discardMessage' | translate">
    <ipx-sticky-header>
        <ipx-page-title-save [title]="'dmsIntegration.dmslblTitle' | translate" [subtitle]="'dmsIntegration.dmslblSubTitle'" (onSave)="save()" (onDiscard)="reload()" [isSaveEnabled]="isSaveEnabled || isEnabledDirty"
            [isDiscardEnabled]="isDiscardEnabled || isEnabledDirty">

            <before-buttons>
                <span *ngIf="testingConnection" translate="dmsIntegration.iManage.verifying" style="margin-right: 2px; margin-top: 6px;"></span>
            </before-buttons>
        </ipx-page-title-save>
    </ipx-sticky-header>

    <ipx-topics *ngIf="topicOptions" [options]="topicOptions">
        <topic-group-details>
            <div style="margin-top: 12px;">
                <div class="input-wrap-group" style="margin-top: 11px; height: 40px;background-color: #f5f5f5; margin-bottom: -16px;">
                    <button type="button" name="testCaseWorkspace" [disabled]="disableTestWorkspace" class="btn btn-prominent pull-right" style="margin-top: 9px; margin-right: 10px;"
                        (click)="openTestWorkspaceModal(workspaceType.Case)">{{'dmsIntegration.iManage.testWorkspace.testCaseWorkspace' | translate}}</button>
                    <button type="button" name="testNameWorkspace" [disabled]="disableTestWorkspace" class="btn btn-prominent pull-right" style="margin-top: 9px;margin-right: 5px;"
                        (click)="openTestWorkspaceModal(workspaceType.Name)">{{'dmsIntegration.iManage.testWorkspace.testNameWorkspace' | translate}}</button>
                </div>
            </div>
        </topic-group-details>
        <ng-template let-topic #afterHeader>
            <span *ngIf="topic.key == 'iManageSettings'">
                <div class="input-wrap switch" [ngClass]="{edited: isEnabledDirty}">
                    <input type="checkbox" id="{{'enabled_iManage'}}" name="enabledImanage" [(ngModel)]="isImanageEnabled" #chkEnabled="ngModel" (change)="enabledChanged()" />
                    <label for="{{'enabled_iManage'}}" [translate]="'dmsIntegration.iManage.enabled' | translate"></label>
                </div>
            </span>
        </ng-template>
    </ipx-topics>

</div>