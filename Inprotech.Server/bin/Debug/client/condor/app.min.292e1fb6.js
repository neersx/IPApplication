function ErrorDetailsController(e,t,a,i){"use strict";function n(){e.dismiss("Cancel")}function o(){i.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){t.canOpen("ErrorDetails")&&n()}})}var r=this;r.errorDetails=a.errorDetails,r.initShortcuts=o,r.close=n}function FailureSummaryController(e){"use strict";function t(){a.topicOptions={topics:[{key:"overviewGroup",title:"dataDownload.failureSummary.overview.title",subTitle:"dataDownload.failureSummary.overview.subtitle",topics:_.map(e.viewData.failureSummary,function(e){var t=e.failedCount>0?void 0:"dataDownload.failureSummary.noErrorForDataSource";return{key:e.dataSource,title:"dataDownload.dataSource."+e.dataSource,subTitle:t,template:'<ip-failure-summary-source-topic data-topic="$topic">',params:{viewData:e}}})}],actions:[]},e.viewData.allowDiagnostics&&a.topicOptions.topics.push({key:"diagnostics",title:"dataDownload.failureSummary.diagnostics.title",subTitle:"dataDownload.failureSummary.diagnostics.subtitle",template:'<ip-failure-summary-diagnostics-topic data-topic="$topic" />'})}var a=this;a.$onInit=t}function NewScheduleController(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){return!(k.form.maintenance.$dirty&&k.form.maintenance.$valid&&!k.sourceError&&!k.schedule.continuousDuplicate)}function m(){s.close()}function v(){k.schedule.continuousDuplicate=!1,k._isSaving||(k.errors={},k.form.maintenance&&k.form.maintenance.$validate&&k.form.maintenance.$validate(),k.form.maintenance.$invalid||(k._isSaving=!0,t.post(n.api("ptoaccess/newschedule/create"),k.schedule).then(g,f)))}function g(e){var t=e.data.result.result;if("success"===t)s.close(),l.success();else{if(k._isSaving=!1,"duplicate-schedule-name"===t)return void(k.errors=[{field:"name",message:"field.errors.notunique"}]);if("epo-missing-keys"===t)return void(k.errors=[{field:"selectedDataSource",message:"dataDownload.newSchedule.errors.epo-missing-keys"}]);if("duplicate-continuous"===t)return void(k.schedule.continuousDuplicate=!0);if("background-process-loginid"===t)return void(k.errors=[{field:"selectedDataSource",message:"dataDownload.newSchedule.errors.background-process-loginid"}]);l.alert({title:"modal.unableToComplete",message:k.getError("description").topic,errors:_.where(t.errors,{field:null})})}}function f(e){k._isSaving=!1,k.errors=e.data.result.errors,l.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function h(e){return _.find(k.errors,function(t){return t.field==e})}function y(){return k.form.maintenance.$dirty}function b(){return k.form.maintenance.$dirty?void l.discard().then(function(){k.cancel()}):void k.cancel()}function w(){c.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!u()&&d.canOpen("NewSchedule")&&k.save()}}),c.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){d.canOpen("NewSchedule")&&k.dismissAll()}})}var k=this;k.errors={},k.form={},k.viewData={},k.recurrence=a.recurrence,k.cancel=m,k.save=v,k.dismissAll=b,k.afterSave=g,k.afterSaveError=f,k.initShortcuts=w,k.disable=u,k.getError=h,k.hasUnsavedChanges=y,k.options=r,k._isSaving=!1,k.schedule={name:"",dataSource:"",continuousDuplicate:!1},k.availableDataSources=[],k.onSelectedDataSourceChanged=function(e){k.schedule.dataSource=e?e.dataSource:"",k.caseSourceTemplate=i.partial(k.schedule.dataSource,"caseSource"),k.downloadTypeTemplate=i.partial(k.schedule.dataSource,"downloadType"),k.schedule.isContinuousAvailable=i.partial(k.schedule.dataSource,"isContinuousAvailable"),k.schedule.recurrence=k.schedule.isContinuousAvailable?k.recurrence.continuous:k.recurrence.recurring,k.sourceError=e&&e.error?e.error:null,k.sourceError?k.errors=[{field:"selectedDataSource",message:"dataDownload.newSchedule.errors."+k.sourceError}]:k.errors=null,k.errorLink=e&&e.error?o.getLinkFor(e.error,"DataSource"):null},t.get(n.api("ptoaccess/newScheduleview")).then(function(e){k.viewData=e.data.result.viewData,k.availableDataSources=_.map(k.viewData.dataSources,function(e){return{dataSource:e.id,name:p.instant("dataDownload.dataSource."+e.id),dmsIntegrationEnabled:e.dmsIntegrationEnabled,error:e.error}})})}function RecoverableCasesController(e,t,a,i,n,o){"use strict";function r(){return o.buildOptions(e,{id:"searchResults",sortable:!0,scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,columns:s(),read:function(){return i.model.recoverableCases}})}function s(){var e=[{title:"dataDownload.schedule.applicationNumber",field:"applicationNumber",width:"33%",sortable:!0},{title:"dataDownload.schedule.registrationNumber",field:"registrationNumber",width:"33%",sortable:!0},{title:"dataDownload.schedule.publicationNumber",field:"publicationNumber",width:"33%",sortable:!0}];return i.model.hasCorrelationId&&e.push({title:"dataDownload.schedule.correlation"+i.model.dataSource,field:"correlationIds"}),e}function l(){t.dismiss("Cancel")}function c(){n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){a.canOpen("RecoverableCases")&&l()}})}var d=this;d.initShortcuts=c,d.close=l,d.gridOptions=r()}function RecoverableDocumentsController(e,t,a,i,n,o){"use strict";function r(){return o.buildOptions(e,{id:"searchResults",sortable:!0,scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,columns:s(),read:function(){return i.model.recoverableDocuments}})}function s(){var e=[{title:"dataDownload.schedule.applicationNumber",field:"applicationNumber",sortable:!0},{title:"dataDownload.schedule.registrationNumber",field:"registrationNumber",sortable:!0},{title:"dataDownload.schedule.publicationNumber",field:"publicationNumber",sortable:!0},{title:"dataDownload.schedule.documentDescription",field:"documentDescription",sortable:!0},{title:"dataDownload.schedule.documentCode",field:"documentCode",sortable:!0},{title:"dataDownload.schedule.mailRoomDate",field:"mailRoomDate",sortable:!0,template:function(){return'<ip-date model="dataItem.mailRoomDate"></ip-date>'}},{title:"dataDownload.schedule.lastChecked",field:"updatedOn",width:"150px",sortable:!0,template:function(){return'<ip-date-time model="dataItem.updatedOn"></ip-date-time>'}}];return i.model.hasCorrelationId&&e.push({title:"dataDownload.schedule.correlation"+i.model.dataSource,field:"correlationIds"}),e}function l(){t.dismiss("Cancel")}function c(){n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){a.canOpen("RecoverableDocuments")&&l()}})}var d=this;d.initShortcuts=c,d.close=l,d.gridOptions=r()}function ScheduleController(e){"use strict";function t(){a.viewData=e.viewData,a.topicOptions={topics:[{key:"definition",title:"dataDownload.schedule.definition",template:'<ip-schedule-definition-topic data-topic="$topic">',params:{viewData:a.viewData}}],actions:[]},a.topicOptions.topics.push({key:"recent-history",title:"dataDownload.schedule.recentHistoryTitle",template:'<ip-schedule-recent-history-topic data-topic="$topic" />',params:{viewData:a.viewData}})}var a=this;a.$onInit=t}function SchedulesController(e,t,a,i,n,o,r,s,l,c,d){"use strict";function p(){C.onAdd=f,C.onDelete=h,C.onRunNow=y,C.onStop=b,C.onPause=w,C.onResume=k,C.gridOptions=u(),C.ScheduleStateEnum={Active:0,Expired:1,Purgatory:2}}function u(){return c.buildOptions(e,{id:"searchResults",scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,read:function(){return t.get(r.api("ptoaccess/schedulesview")).then(function(e){return g(e.data.schedules)})},columns:[{title:"dataDownload.schedules.nextRun",width:"100px",fixed:!0,template:function(e){return e.type!==o.scheduleType.continuous?'<ip-date model="dataItem.nextRun"></ip-date>{{dataItem.statusDesc}}</span>':""}},{title:"dataDownload.schedules.description",sortable:!0,template:'<schedule-description model="dataItem"><schedule-description>'},{title:"dataDownload.schedules.dataSource",field:"dataSourceName",sortable:!0},{title:"dataDownload.schedules.status",field:"executionStatus",sortable:!0},{sortable:!1,template:function(e){var t='<div class="pull-right">';return e.type!==o.scheduleType.continuous?("Started"===e.executionStatus&&(t+='<button id="btnStop_{{dataItem.id}}" ng-click="vm.onStop(dataItem); $event.stopPropagation();" class="btn btn-prominent schedule-button" translate="dataDownload.schedules.stop" />'),t+='<button id="btnRunNow_{{dataItem.id}}" ng-if="dataItem.state!==\'disabled\'" ng-click="vm.onRunNow(dataItem); $event.stopPropagation();" class="btn btn-prominent schedule-button" translate="dataDownload.schedules.runNow" />'):t+="paused"===e.state?'<button id="btnResume_{{dataItem.id}}" ng-click="vm.onResume(dataItem); $event.stopPropagation();" class="btn btn-prominent schedule-button" translate="dataDownload.schedules.resume" />':'<button id="btnPause_{{dataItem.id}}" ng-click="vm.onPause(dataItem); $event.stopPropagation();" class="btn btn-prominent schedule-button" translate="dataDownload.schedules.pause" />',t+='<button id="btnDelete_{{dataItem.id}}" ng-click="vm.onDelete(dataItem); $event.stopPropagation();" class="btn btn-discard schedule-button" translate="dataDownload.schedules.delete" />',t+="</div>"}}]})}function m(e){var t;if(e.runOnDays){if(t=e.runOnDays.split(","),7===t.length)return n.instant("dataDownload.schedules.runsDaily");if("Sun"===e.runOnDays)return n.instant("dataDownload.schedules.runsWeekly");var a=_.map(t,function(e){return" "+n.instant("dataDownload.runOn."+e)}).join();return n.instant("dataDownload.schedules.runsOn")+a}return n.instant("dataDownload.schedules.runOnce")}function v(e){return e.state===C.ScheduleStateEnum.Expired?"3000/12/25":e.state===C.ScheduleStateEnum.Purgatory?"3000/12/24":e.nextRun}function g(e){return C.schedules=_.map(e,function(e){var t="";return e.state==C.ScheduleStateEnum.Purgatory&&(t=n.instant("dataDownload.schedules.noMoreRuns")),e.state==C.ScheduleStateEnum.Expired&&(t=n.instant("dataDownload.schedules.expired")),_.extend(e,{presetDesc:m(e),dataSourceName:n.instant("dataDownload.dataSource."+e.dataSource),template:s.partial(e.dataSource,"list"),downloadDesc:n.instant("dataDownload.downloadType."+e.dataSource+"."+e.downloadType),nextRunNullSort:v(e),statusDesc:t})})}function f(){l.openModal({id:"NewSchedule",controllerAs:"vm"}).then(function(){C.gridOptions.search()})}function h(e){d.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){t["delete"](r.api("ptoaccess/Schedules/"+e.id)).then(function(t){"success"===t.data.result.result&&(C.schedules=_.reject(C.schedules,function(t){return t.id===e.id})),C.gridOptions.search()})})}function y(e){d.confirm({message:"dataDownload.schedules.runNowConfirmation",messageParams:{scheduleName:e.name},messages:["dataDownload.schedules.runNowDescription"]}).then(function(){t.post(r.api("ptoaccess/Schedules/RunNow/"+e.id)).then(function(e){if("success"===e.data.result.result)return d.success("dataDownload.schedules.runNowSuccess")})})}function b(e){d.confirm({message:"dataDownload.schedules.stopScheduleConfirmation",messageParams:{scheduleName:e.name},messages:["dataDownload.schedules.stopScheduleDescription1","dataDownload.schedules.stopScheduleDescription2"]}).then(function(){t.post(r.api("ptoaccess/Schedules/Stop/"+e.id)).then(function(e){return"success"===e.data.result.result?d.success("dataDownload.schedules.stopSuccess"):void g(e.data.schedules)})})}function w(e){d.confirm({message:"dataDownload.schedules.pauseScheduleConfirmation",messageParams:{scheduleName:e.name}}).then(function(){t.post(r.api("ptoaccess/Schedules/Pause/"+e.id)).then(function(e){return"success"===e.data.result.result?d.success("dataDownload.schedules.pauseSuccess"):void g(e.data.schedules)})})}function k(e){d.confirm({message:"dataDownload.schedules.resumeScheduleConfirmation",messageParams:{scheduleName:e.name}}).then(function(){t.post(r.api("ptoaccess/Schedules/Resume/"+e.id)).then(function(e){return"success"===e.data.result.result?d.success("dataDownload.schedules.resumeSuccess"):void g(e.data.schedules)})})}var C=this;C.$onInit=p}function DataItemController(e,t,a,i,n,o,r,s,l,c,d,p,u){"use strict";function m(){M.context="dataitems",N=new l(M.context),M.gridOptions=v(),M.clearAll=D,M.resetSearchCriteria=h,M.deleteSelectedDataItems=O,M.highlightFilteredGroup=f,M.dataItems=$(),M.search=g,M.totalItems=null,M.add=y,M.edit=I,M.lastNavigatedId=null,h(),r(A,500)}function v(){return t.buildOptions(e,{id:"searchResults",pageable:!0,scrollable:!1,navigatable:!0,detailTemplate:'<ipt-dataitem-detail-view data-parent="dataItem"></ipt-dataitem-detail-view>',rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',autoGenerateRowTemplate:!0,selectable:"row",showExpandAll:!0,onDataCreated:function(){i.persistSavedDataItems(M.gridOptions.data()),N.selectionChange(M.gridOptions.data())},read:function(e){return i.search(M.searchCriteria,e).then(function(e){return M.totalItems=e.ids,e.results})},dataBound:function(e){r(k,10,!0,e)},filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},readFilterMetadata:function(e){return i.getColumnFilterData(e)},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.dataItems" data-context="dataitems" data-on-clear="vm.clearAll();" is-full-selection-possible="false" data-on-select-this-page="vm.selectPage(val)" data-initialised="vm.menuInitialised()"></div>'},{title:"dataItem.name",field:"name",width:"15%",template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.name"></a>',sortable:!0},{title:"dataItem.description",field:"description",width:"15%",sortable:!0},{title:"dataItem.outputDataType",field:"outputDataType",width:"20%",sortable:!1},{title:"dataItem.updateDate",field:"dateUpdated",width:"15%",sortable:!0,filterable:{type:"date"},template:"<span>{{ dataItem.dateUpdated | localeDate }}</span>"},{title:"dataItem.creationDate",field:"dateCreated",width:"15%",sortable:!0,filterable:{type:"date"},template:"<span>{{ dataItem.dateCreated | localeDate }}</span>"},{title:"dataItem.createdBy",field:"createdBy",width:"15%",sortable:!0,filterable:!0},{title:"dataItem.group",field:"name",width:"15%",sortable:!1,template:'<span ng-if= "dataItem.groups.length > 0"> <span ng-repeat="group in dataItem.groups track by $index"><span ng-if="$index > 0">, </span><span ng-style="{\'font-weight\': vm.highlightFilteredGroup(group)}">{{group.value}}</span></span></span>'}]})}function g(){M.gridOptions.clear(),M.gridOptions.search(),M.clearAll()}function f(e){if(null!==M.searchCriteria.group&&void 0!==e&&_.any(M.searchCriteria.group,function(t){return t.key===e.code}))return"bold"}function h(){M.gridOptions.clear(),M.searchCriteria={},M.clearAll()}function y(){var e={isSqlStatement:!0};b(e,d.adding)}function b(e,t){e.state=t,s.openModal({id:"DataItemMaintenanceConfig",entity:e||{},dataItem:C(e.id),allItems:M.totalItems,controllerAs:"vm"}).then(function(e){M.lastNavigatedId=e.dataItemId,w(e.dataItemId,e.shouldRefresh)})}function w(e,t){var a=u.getPageForId(_.pluck(M.totalItems,"id"),e,M.gridOptions.pageable.pageSize);t||a&&M.gridOptions.dataSource.page()!==a.page?(M.gridOptions.dataSource.page(a.page),D()):M.gridOptions.selectLastNavigatedItem(M.lastNavigatedId,"checkbox_row_"+M.lastNavigatedId)}function k(){M.gridOptions.selectLastNavigatedItem(M.lastNavigatedId,"checkbox_row_"+M.lastNavigatedId)}function C(e){return _.find(M.gridOptions.data(),function(t){return t.id===e})}function D(){return N.clearAll(M.gridOptions.data())}function x(){return N.anySelected(M.gridOptions.data())}function S(e){return void 0!==e&&null!==e?e:N.selectedRecord(M.gridOptions.data()).id}function I(e){var t=S(e);i.get(t).then(function(e){b(e,d.updating)})}function T(){var e=S();i.get(e).then(function(e){var t=angular.copy(e);t.id=null,b(t,d.duplicating)})}function $(){return[{id:"edit",enabled:x,click:I,maxSelection:1},{id:"duplicate",enabled:x,click:T,maxSelection:1},{id:"delete",enabled:x,click:E}]}function E(){N.selectedRecords(M.gridOptions.data()).length<=0||o.confirmDelete({message:"dataItem.confirmDelete"}).then(function(){O()})}function O(){i["delete"](N.selectedRecords(M.gridOptions.data())).then(function(e){if(e.data.hasError){var t=N.selectedRecords(M.gridOptions.data()).length===e.data.inUseIds.length,a=t?p.instant("modal.alert.alreadyInUse"):p.instant("modal.alert.partialComplete")+"<br/>"+p.instant("modal.alert.alreadyInUse"),i=t?"modal.unableToComplete":"modal.partialComplete";M.gridOptions.search().then(function(){o.alert({title:i,message:a}),N.selectionChange(M.gridOptions.data(),e.data.inUseIds)})}else o.success(e.data.message),N.clearSelectedItemsArray(),M.gridOptions.search()})}function A(){c.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){s.canOpen()&&M.add()}}),c.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){s.canOpen()&&E()}})}var N,M=this;M.$onInit=m,M.selectPage=function(e){N.selectPage(M.gridOptions.data(),e)},M.menuInitialised=function(){N.initialiseMenuForPaging(M.gridOptions.pageable.pageSize)},M.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),N.singleSelectionChange(M.gridOptions.data(),e)}}function DataItemMaintenanceConfigController(e,t,a,i,n,o,r,s){function l(){k.entity.state===r.duplicating&&(k.options.entity.name=null)}function c(){o.dataItem&&o.dataItem.id!==o.entity.id?a.get(o.dataItem.id).then(function(e){k.entity=e,k.entity.state=r.updating}):k.entity=o.entity}function d(){n.close({dataItemId:k.entity.id,shouldRefresh:k.isUpdated})}function p(e){return _.find(k.errors,function(t){return t.field===e})}function u(){return k.entity.state===r.updating}function m(){if(k.errors=null,k.form.maintenance&&k.form.maintenance.$validate&&k.form.maintenance.$validate(),!k.form.maintenance.$invalid)if(k.entity.state===r.adding||k.entity.state===r.duplicating)a.add(k.entity).then(g,f);else if(k.form.maintenance.code.$dirty){var e=s.instant("dataItem.maintenance.editConfirmationMessage")+"<br/>"+s.instant("dataItem.maintenance.proceedConfirmation");i.confirm({message:e,cancel:"Cancel","continue":"Proceed"}).then(function(){v()})}else v()}function v(){k.entity.isSqlStatement?k.entity.sql.storedProcedure=null:k.entity.sql.sqlStatement=null,a.update(k.entity).then(g,f)}function g(e){"success"===e.data.result?(a.savedDataItemIds.push(e.data.updatedId),k.entity.state===r.updating?k.form.maintenance.$setPristine():n.close({dataItemId:e.data.updatedId,shouldRefresh:!0}),i.success(),k.isUpdated=!0):(k.errors=e.data.errors,i.alert({title:"modal.unableToComplete",message:"code"===e.data.errors[0].field?k.getError(e.data.errors[0].field).topic:k.getError(e.data.errors[0].field).message,errors:_.where(e.data.errors,{field:null})}))}function f(e){i.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function h(){return k.form.maintenance.$dirty}function y(){return k.form.maintenance.$dirty?void i.discard().then(function(){k.cancel()}):void k.cancel()}function b(){return!(k.form.maintenance.$dirty&&k.form.maintenance.$valid)}function w(){e.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!b()&&t.canOpen("DataItemMaintenanceConfig")&&k.save()}}),e.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){t.canOpen("DataItemMaintenanceConfig")&&k.dismissAll()}})}var k=this;k.entity={state:o.entity.state},k.cancel=d,k.save=m,k.dismissAll=y,k.disable=b,k.initShortcuts=w,k.afterSave=g,k.afterSaveError=f,k.getError=p,k.form={},k.options=o,k.hasUnsavedChanges=h,k.isEditState=u,k.isUpdated=!1,l(),c()}function DataItemService(e,t){"use strict";function a(t,a){return u=angular.copy(t),e.get(m+"search",{params:{q:JSON.stringify(t),params:JSON.stringify(a)}}).then(function(e){return e.data})}function i(){return e.get(m+"viewdata").then(function(e){return e.data})}function n(t){return e.get(m+"filterdata/"+t.field,{params:{criteria:JSON.stringify(u)}}).then(function(e){return e.data})}function o(t){return e.post(m,t)}function r(t){return e.post(m+"validate",t)}function s(t){return e.post("api/picklists/dataItems/validate",t)}function l(t){return e.get(m+t).then(function(e){return e.data})}function c(t){return e.put(m+t.id,t)}function d(t){return e.post(m+"delete",{ids:_.pluck(t,"id")})}function p(e){_.each(e,function(e){_.each(v.savedDataItemIds,function(t){e.id===t&&(e.saved=!0)})})}var u,m="api/configuration/dataitems/",v={search:function(e,i){return v.lastSearch=new t({method:a,methodName:"search",args:arguments}),a(e,i)},viewData:i,getColumnFilterData:n,add:o,validate:r,validatePicklistSql:s,savedDataItemIds:[],"delete":d,persistSavedDataItems:p,get:l,update:c};return v}function ImportanceLevelController(e,t,a,i,n,o,r,s){"use strict";function l(){N=i,M.gridOptions=c(),M.initShortcuts=A,M.onAddClick=d,M.checkLevelDuplicate=T,M.checkDescriptionDuplicate=$,M.isSaveEnabled=f,M.isDiscardEnabled=h,M.discard=I,M.save=k,M.onLevelChanged=v,M.onDescriptionChanged=g}function c(){return t.buildOptions(e,{id:"importanceGrid",autoBind:!0,actions:{"delete":!0},autoGenerateRowTemplate:!0,rowAttributes:'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.inUse || dataItem.error, edited: dataItem.isEdited || dataItem.added ||dataItem.deleted, deleted: dataItem.deleted}"',serverFiltering:!1,read:function(){return a.search()},columns:[{title:"importanceLevel.importance",width:"10%",fixed:!0,template:'<span ng-if="dataItem.deleted" ng-bind="dataItem.level"></span>{{vm.checkLevelDuplicate(dataItem, rowForm)}}<ip-text-field ng-if="dataItem.added" focus-on-add ip-required label="" name="level" ng-model="dataItem.level" ng-change="vm.onLevelChanged(dataItem, rowForm)" ng-maxlength="2"></ip-text-field><span ng-if="!dataItem.added && !dataItem.deleted" ng-bind="dataItem.level"></span>'},{title:"importanceLevel.description",width:"90%",fixed:!0,template:'<span ng-if="dataItem.deleted" ng-bind="dataItem.description"></span>{{vm.checkDescriptionDuplicate(dataItem, rowForm)}}<ip-text-field id="{{dataItem.level}}" ng-if="!dataItem.deleted" ip-required label="" name="description" ng-model="dataItem.description" ng-maxlength="30" ng-change="vm.onDescriptionChanged(dataItem, rowForm)"></ip-text-field>'}]})}function d(){var e=M.gridOptions.dataSource.total();M.gridOptions.insertRow(e,{added:!0})}function p(e){return(e.added||e.isAdded)&&!e.deleted}function u(e){return e.deleted}function m(e){return e.isEdited&&!e.deleted&&!(e.added||e.isAdded)}function v(e,t){e.isEdited=!0,e.error=!1,t.level.$setValidity("duplicate",!0),e.duplicatedFields?_.contains(e.duplicatedFields,"level")&&(e.duplicatedFields=_.without(e.duplicatedFields,"level")):e.duplicatedFields=[],E(e,"level")&&(t.level.$setValidity("duplicate",!1),e.duplicatedFields.push("level"))}function g(e,t){e.isEdited=!0,e.inUse=!1,e.error=!1,t.description.$setValidity("duplicate",!0),e.duplicatedFields?_.contains(e.duplicatedFields,"description")&&(e.duplicatedFields=_.without(e.duplicatedFields,"description")):e.duplicatedFields=[],E(e,"description")&&(t.description.$setValidity("duplicate",!1),e.duplicatedFields.push("description"))}function f(){return s.isGridDirty(M.gridOptions)&&!M.form.$invalid&&!O()}function h(){return s.isGridDirty(M.gridOptions)}function y(e,t){return{added:_.chain(e).filter(p).map(t).value(),deleted:_.chain(e).filter(u).map(t).value(),updated:_.chain(e).filter(m).map(t).value()}}function b(){var e=y(M.gridOptions.dataSource.data(),w);return e}function w(e){return{level:e.level,description:e.description}}function k(){if(S()&&!O()){var e=b();a.save(e).then(function(t){if("success"===t.data.result)n.success(),M.gridOptions.search();else if("error"===t.data.result){var a=_.filter(t.data.validationErrors,function(e){return e.inUseIds&&e.inUseIds.length>0});if(a&&a.length>0){var i=e.deleted.length===a.length,r=i?o.instant("modal.alert.alreadyInUse"):o.instant("modal.alert.partialComplete")+"<br/>"+o.instant("modal.alert.alreadyInUse"),s=i?"modal.unableToComplete":"modal.partialComplete";M.gridOptions.search().then(function(){n.alert({title:s,message:r}),x(_.first(a).inUseIds)})}var l=_.filter(t.data.validationErrors,function(e){return null!==e.field&&null!==e.Id});l.length>0&&C(t.data.validationErrors)}})}}function C(e){_.chain(e).each(D)}function D(e){var t=_.first(_.filter(M.gridOptions.dataSource.data(),function(t){return(p(t)||m(t))&&t.level===e.id}));t&&(t.error=!0)}function x(e){_.each(M.gridOptions.data(),function(t){_.each(e,function(e){t.level===e&&(t.inUse=!0)})})}function S(){return M.form.$validate()}function I(){return M.gridOptions.search()}function T(e,t){e.duplicatedFields&&_.contains(e.duplicatedFields,"level")&&t.level&&t.level.$setValidity("duplicate",!1)}function $(e,t){e.duplicatedFields&&_.contains(e.duplicatedFields,"description")&&t.description&&t.description.$setValidity("duplicate",!1)}function E(e,t){var a=M.gridOptions.dataSource.data();return N.isDuplicated(_.without(a,e),e,[t])}function O(){var e=M.gridOptions.dataSource.data();e=_.filter(e,function(e){return!e.deleted});var t=_.any(e,function(e){return e.duplicatedFields&&_.any(e.duplicatedFields)});return t}function A(){r.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){M.onAddClick()}})}var N,M=this;M.$onInit=l}function ImportanceLevelService(e){"use strict";function t(){return e.get(n+"viewdata").then(function(e){return e.data})}function a(){return e.get(n+"search").then(function(e){return e.data})}function i(t){return e.post(n,t)}var n="api/configuration/importancelevel/",o={viewData:t,search:a,save:i};return o}function NameRestrictionsController(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){$.context="namerestrictions",T=new c($.context),$.add=k,$.edit=D,$.duplicate=x,$.deleteSelectedNameRestrictions=h,$.viewData=t,$.nameRestrictions=f(),$.gridOptions=m(),$.searchCriteria={text:""},p(I,500)}function m(){return a.buildOptions(e,{id:"searchResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',autoBind:!0,serverFiltering:!0,onDataCreated:function(){i.persistSavedNameRestrictions($.gridOptions.data()),T.selectionChange($.gridOptions.data())},read:v,columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.nameRestrictions" data-context="namerestrictions" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"nameRestriction.description",field:"description",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.description"></a>'},{title:"nameRestriction.actionToBeTaken",field:"actionToBeTaken",sortable:!0},{title:"nameRestriction.displayFlag",field:"severity",template:"<span ng-if=\"dataItem.severity\" class=\"cpa-icon cpa-icon-flag debtor-restrictions\" ng-class=\"{ 'error' : dataItem.severity === 'error', 'warning': dataItem.severity === 'warning', 'info': dataItem.severity === 'information' }\"></span>"}]})}function v(){return i.search($.searchCriteria,$.gridOptions.getQueryParams())}function g(){return T.anySelected($.gridOptions.data())}function f(){return[{id:"edit",enabled:g,click:D,maxSelection:1},{id:"duplicate",enabled:g,click:x,maxSelection:1},{id:"delete",enabled:g,click:y}]}function h(){i["delete"](T.selectedRecords($.gridOptions.data())).then(function(e){if(e.data.hasError){var t=T.selectedRecords($.gridOptions.data()).length===e.data.inUseIds.length;d(["modal.alert.partialComplete","modal.alert.alreadyInUse"]).then(function(a){var n=t?a["modal.alert.alreadyInUse"]:a["modal.alert.partialComplete"]+"<br/>"+a["modal.alert.alreadyInUse"],o=t?"modal.unableToComplete":"modal.partialComplete";$.gridOptions.search().then(function(){r.alert({title:o,message:n}),i.markInUseNameRestrictions($.gridOptions.data(),e.data.inUseIds),T.selectionChange($.gridOptions.data())})})}else r.success(e.data.message),$.gridOptions.search()})}function y(){T.selectedRecords($.gridOptions.data()).length<=0||r.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){h()})}function b(e,t){e.state=t;var a=o.openModal({id:"NameRestrictionsMaintenance",entity:e||{},viewData:$.viewData,controllerAs:"vm",dataItem:w(e.id),allItems:$.gridOptions.data()});a.then(function(){$.gridOptions.search()})}function w(e){return _.find($.gridOptions.data(),function(t){return t.id===e})}function k(){var e={};b(e,s.adding)}function C(e){return void 0!==e&&null!==e?e:T.selectedRecord($.gridOptions.data()).id}function D(e){var t=C(e);i.get(t).then(function(e){b(e,s.updating)})}function x(){var e=C();i.get(e).then(function(e){var t=angular.copy(e);t.id=null,t.description=S(e.description.trim()),b(t,s.duplicating)})}function S(e){var t=" - Copy",a=50-t.length;return e.length>a&&(e=e.substring(0,a)),e+t}function I(){l.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){o.canOpen()&&$.add()}}),l.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){o.canOpen()&&y()}}),l.add({combo:"alt+shift+s",description:"shortcuts.save"}),l.add({combo:"alt+shift+z",description:"shortcuts.close"})}var T,$=this;$.$onInit=u,$.clearAll=function(){return T.clearAll($.gridOptions.data())},$.selectAll=function(e){return T.selectAll($.gridOptions.data(),e)},$.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),T.selectionChange($.gridOptions.data())}}function NameRestrictionsMaintenanceController(e,t,a,i,n,o,r,s){"use strict";function l(){D.errors={},D.form={},D.actionOptions=r.viewData,D.selectedAction=p()}function c(){l(),r.dataItem&&r.dataItem.id!=r.entity.id?a.get(r.dataItem.id).then(function(e){D.entity=e,D.entity.state=i.updating,D.selectedAction=p()}):D.entity=r.entity}function d(){return D.entity.state===i.updating}function p(){return _.find(r.viewData,function(e){return e.type===D.entity.action})}function u(){null!=D.selectedAction&&D.selectedAction.type===s.DisplayWarningWithPassword||(D.entity.password=null,D.form.maintenance.password.$resetErrors())}function m(){return null==D.selectedAction||D.selectedAction.type!==s.DisplayWarningWithPassword}function v(){return!(D.form.maintenance.$dirty&&D.form.maintenance.$valid)}function g(){e.close()}function f(){D._isSaving||(D.errors={},D.form.maintenance&&D.form.maintenance.$validate&&D.form.maintenance.$validate(),D.form.maintenance.$invalid||(D._isSaving=!0,D.entity.action=D.selectedAction.type,D.entity.state===i.adding||D.entity.state===i.duplicating?a.add(D.entity).then(h,y):a.update(D.entity).then(h,y)))}function h(n){"success"===n.data.result.result?(a.savedNameRestrictionIds.push(n.data.result.updatedId),D.entity.state===i.updating?(D._isSaving=!1,D.form.maintenance.$setPristine()):e.close(),t.success()):(D._isSaving=!1,D.errors=n.data.result.errors,t.alert({title:"modal.unableToComplete",message:D.getError("description").topic,errors:_.where(n.data.result.errors,{field:null})}))}function y(e){D._isSaving=!1,D.errors=e.data.result.errors,t.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function b(e){return _.find(D.errors,function(t){return t.field==e})}function w(){return D.form.maintenance.$dirty}function k(){return D.form.maintenance.$dirty?void t.discard().then(function(){D.cancel()}):void D.cancel()}function C(){n.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!v()&&o.canOpen("NameRestrictionsMaintenance")&&D.save()}}),n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){o.canOpen("NameRestrictionsMaintenance")&&D.dismissAll()}})}var D=this;D.entity={state:r.entity.state
},D.cancel=g,D.save=f,D.dismissAll=k,D.afterSave=h,D.afterSaveError=y,D.initShortcuts=C,D.disable=v,D.getError=b,D.hasUnsavedChanges=w,D.entity=r.entity,D.onActionChanged=u,D.isPasswordDisabled=m,D.isEditState=d,D.options=r,D._isSaving=!1,c()}function NameRestrictionService(e){"use strict";function t(){return e.get(c+"viewdata").then(function(e){return e.data})}function a(t,a){return e.get(c+"search",{params:{q:JSON.stringify(t),params:JSON.stringify(a)}}).then(function(e){return e.data})}function i(t){return e.get(c+t).then(function(e){return e.data})}function n(t){return e.post(c,t)}function o(t){return e.put(c+t.id,t)}function r(t){return e.post(c+"delete",{ids:_.pluck(t,"id")})}function s(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})}function l(e){_.each(e,function(e){_.each(d.savedNameRestrictionIds,function(t){e.id===t&&(e.saved=!0)})})}var c="api/configuration/namerestrictions/",d={viewData:t,search:a,get:i,add:n,update:o,"delete":r,savedNameRestrictionIds:[],persistSavedNameRestrictions:l,markInUseNameRestrictions:s};return d}function NameTypesController(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){$.context="nametypes",T=new c($.context),$.add=w,$.edit=C,$.duplicate=D,$.openNameTypeMaintenance=b,$.deleteSelectedNameTypes=h,$.launchNameTypesPriorityOrder=I,$.resetSearchCriteria=x,$.actions=f(),$.gridOptions=m(),x(),p(S,500)}function m(){return t.buildOptions(e,{id:"searchResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',autoBind:!0,serverFiltering:!1,onDataCreated:function(){a.persistSavedNameTypes($.gridOptions.data()),T.selectionChange($.gridOptions.data())},read:v,columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.actions" data-context="nametypes" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"Code",field:"code",width:"130px",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.code"></a>'},{title:"Description",field:"description",width:"400px",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.description"></a>'},{title:"nameType.maintenance.nameTypeGroup",field:"nameGroup",width:"600px",sortable:!1,template:'<span ng-repeat="nameTypeGroup in dataItem.nameTypeGroups track by $index"><span ng-if="$index > 0">, </span><span ng-style="{\'font-weight\': vm.highlightFilteredNameGroup(nameTypeGroup)}">{{nameTypeGroup.description}}</span></span>'},{title:"nameType.priorityOrder",field:"priorityOrder",sortable:!0}]})}function v(){return a.search($.searchCriteria)}function g(){return T.anySelected($.gridOptions.data())}function f(){return[{id:"edit",enabled:g,click:C,maxSelection:1},{id:"duplicate",enabled:g,click:D,maxSelection:1},{id:"delete",enabled:g,click:y}]}function h(){a["delete"](T.selectedRecords($.gridOptions.data())).then(function(e){if(e.data.hasError){var t=T.selectedRecords($.gridOptions.data()).length===e.data.inUseIds.length,i=t?d.instant("modal.alert.alreadyInUse"):d.instant("modal.alert.partialComplete")+"<br/>"+d.instant("modal.alert.alreadyInUse"),n=t?"modal.unableToComplete":"modal.partialComplete";$.gridOptions.search().then(function(){o.alert({title:n,message:i}),a.markInUseNameTypes($.gridOptions.data(),e.data.inUseIds),T.selectionChange($.gridOptions.data())})}else o.success(e.data.message),$.gridOptions.search()})}function y(){T.selectedRecords($.gridOptions.data()).length<=0||o.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){h()})}function b(e,t){e.state=t;var a=n.openModal({id:"NameTypeMaintenance",entity:e,controllerAs:"vm",searchCallbackFn:$.gridOptions.search});a.then(function(){o.success(),$.gridOptions.search()})}function w(){var e={minAllowedForCase:"0",displayNameCode:"none",ethicalWallOption:"notApplicable"};b(e,r.adding)}function k(e){return void 0!==e&&null!==e?e:T.selectedRecord($.gridOptions.data()).id}function C(e){var t=k(e);a.get(t).then(function(e){b(e,r.updating)})}function D(){var e=k();a.get(e).then(function(e){var t=angular.copy(e);t.id=null,b(t,r.duplicating)})}function x(){$.searchCriteria={text:"",nameTypeGroup:null}}function S(){l.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){n.canOpen()&&$.add()}}),l.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){n.canOpen()&&y()}})}function I(){var e=n.openModal({launchSrc:"search",id:"NameTypesOrder",controllerAs:"vm"});e.then(function(){$.gridOptions.search()})}var T,$=this;$.$onInit=u,$.clearAll=function(){return T.clearAll($.gridOptions.data())},$.selectAll=function(e){return T.selectAll($.gridOptions.data(),e)},$.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),T.selectionChange($.gridOptions.data())},$.highlightFilteredNameGroup=function(e){if(null!==$.searchCriteria.nameTypeGroup&&void 0!==e&&_.any($.searchCriteria.nameTypeGroup,function(t){return t.key===e.id}))return"bold"}}function NameTypeMaintenanceController(e,t,a,i,n,o,r,s){"use strict";function l(){return!(D.maintenance.$dirty&&D.maintenance.$valid)}function c(){D.entity.state===i.duplicating&&(D.entity.nameTypeCode=null)}function d(){e.dismiss("Cancel")}function p(){D.entity.maximumAllowed&&D.entity.maximumAllowed>999?D.maintenance.description.$setValidity("notSupportedValue",!1):D.maintenance.description.$setValidity("notSupportedValue",!0)}function u(){var e=o.openModal({launchSrc:"maintenance",id:"NameTypesOrder",controllerAs:"vm"});e.then(function(){D.options.searchCallbackFn()})}function m(){D._isSaving||(D.errors={},D.maintenance&&D.maintenance.$validate&&D.maintenance.$validate(),D.maintenance.$invalid||(D._isSaving=!0,D.entity.state===i.adding||D.entity.state===i.duplicating?a.add(D.entity).then(v,g):a.update(D.entity).then(v,g)))}function v(n){"success"===n.data.result.result?(a.savedNameTypeIds.push(n.data.result.updatedId),e.close(),D.entity.state!==i.adding&&D.entity.state!==i.duplicating||s(u,100)):(D._isSaving=!1,D.errors=n.data.result.errors,t.alert({title:"modal.unableToComplete",message:D.getError("nameTypeCode").topic,errors:_.where(n.data.result.errors,{field:null})}))}function g(e){D._isSaving=!1,D.errors=e.data.result.errors,t.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function f(e){return _.find(D.errors,function(t){return t.field===e})}function h(){return D.maintenance.$dirty?void t.discard().then(function(){D.cancel()}):void D.cancel()}function y(){D.entity.isClassified===!0&&D.entity.state===i.updating&&t.confirm({title:"modal.sameNameType.title",message:"modal.sameNameType.message"}).then(function(){D.entity.addNameTypeClassification=!0})}function b(e){D.entity[e]=!1}function w(){null===D.entity.pathNameTypePickList&&(D.entity.updateFromParentNameType=!1,D.entity.pathNameRelation=null,D.entity.useHomeNameRelationship=!1,D.entity.useNameType=!1)}function k(){null===D.entity.pathNameTypePickList&&(D.entity.useHomeNameRelationship=!1,D.entity.useNameType=!1)}function C(){n.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!l()&&o.canOpen("NameTypeMaintenance")&&D.save()}}),n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){o.canOpen("NameTypeMaintenance")&&D.dismissAll()}})}var D=this;D.entity=r.entity,D.cancel=d,D.save=m,D.dismissAll=h,D.isClassifiedChange=y,D.toggleSelection=b,D.afterSave=v,D.afterSaveError=g,D.onPathNameTypeChanged=w,D.onPathRelationshipChanged=k,D.initShortcuts=C,D.disable=l,D.onChange=p,D.launchNameTypesPriorityOrder=u,D.options=r,D.errors={},D.getError=f,D.clearNameTypeCode=c,D._isSaving=!1,c()}function NameTypesOrderController(e,t,a,i,n,o,r,s,l,c){"use strict";function d(){o.add({combo:"alt+shift+up",description:"nameType.moveUp",callback:function(){!k.disableUpButton&&r.canOpen("NameTypesOrder")&&k.moveUp()}}),o.add({combo:"alt+shift+down",description:"nameType.moveDown",callback:function(){!k.disableDownButton&&r.canOpen("NameTypesOrder")&&k.moveDown()}}),o.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){k.hasChanges&&r.canOpen("NameTypesOrder")&&k.save()}}),o.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){r.canOpen("NameTypesOrder")&&k.dismiss()}})}function p(){return t.buildOptions(a,{id:"validNameTypesResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved}"',serverFiltering:!1,selectable:"single, row",dragDropRows:!0,change:function(e){var t=e.sender;k.selectedDataItem=t.dataItem(this.select());var i=t.dataSource.indexOf(k.selectedDataItem),n=t.dataSource._data.length-1;b(i,n),s.safeApply(a)},dataBound:function(e){c(u,1,!0,e)},onDataCreated:function(){i.persistSavedNameTypes(k.gridOptions.data())},autoBind:!0,read:f,onDropCompleted:function(e){k.selectedDataItem=e.selectedDataItem,k.hasChanges=e.hasSelectedRowChanges,u(e),b(e.currentTarget,e.maxIndex),s.safeApply(a)},columns:[{title:"Code",field:"code",width:"10%",sortable:!1,oneTimeBinding:!0},{title:"Description",field:"description",width:"20%",sortable:!1,oneTimeBinding:!0}]})}function u(e){if(angular.isObject(k.selectedDataItem)){var t=e.sender;t.items().each(function(a,i){var n=t.dataItem(i);if(n.id===k.selectedDataItem.id){e.sender.select(i);var o=e.sender.tbody.find("[data-uid='"+n.uid+"']");return o.addClass("k-state-selected"),m(i),!0}})}else if("maintenance"===l.launchSrc){var a=k.gridOptions.data().length-1;k.gridOptions.selectRowByIndex(a),m(v(a))}}function m(e){var t=$("#modal-content"),a=e?e.offsetTop:t.position().top,i=$("thead").height()||0;"maintenance"===l.launchSrc&&(l.launchSrc=null),t.scrollTop(a-i)}function v(e){return $("tbody tr.k-master-row:eq("+e+")")[0]}function g(){var e=k.gridOptions.$widget.element.data("kendoGrid"),t=e.dataItem(e.select());if(t){var a=e.dataSource.indexOf(t);if(a>0){var i=a-1;e.dataSource.remove(t),e.dataSource.insert(i,t),k.hasChanges=!0}}}function f(){return i.search()}function h(){var e=k.gridOptions.$widget.element.data("kendoGrid"),t=e.dataItem(e.select());if(t){var a=e.dataSource.indexOf(t),i=e.dataSource._data.length-1;if(a<i){var n=a+1;e.dataSource.remove(t),e.dataSource.insert(n,t),k.hasChanges=!0}}}function y(){e.close()}function b(e,t){e>0&&e<t?(k.disableUpButton=!1,k.disableDownButton=!1):0===e&&e<t?(k.disableUpButton=!0,k.disableDownButton=!1):e===t&&0!==t?(k.disableUpButton=!1,k.disableDownButton=!0):e===t&&(k.disableUpButton=!0,k.disableDownButton=!0)}function w(){var e=[];_.each(k.gridOptions.data(),function(t,a){e.push({id:t.id,priorityOrder:a})}),i.updateNameTypesSequence(e).then(function(e){"success"===e.data.result.result&&(i.savedNameTypeIds.push(e.data.result.updatedId),n.success(),k.selectedDataItem=null,k.hasChanges=!1,b(0,0))},function(e){n.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.errors,{field:null})})})}var k=this;k.dismiss=y,k.save=w,k.gridOptions=p(),k.moveUp=g,k.moveDown=h,k.disableUpButton=!0,k.search=f,k.disableDownButton=!0,k.hasChanges=!1,k.initShortcuts=d,k.updateUpDownButtonState=b,d(),a.$watch(angular.bind(k,function(){return k.disableUpButton}),function(e){k.disableUpButton=e}),a.$watch(angular.bind(k,function(){return k.disableDownButton}),function(e){k.disableDownButton=e})}function NameTypesService(e){"use strict";function t(){return e.get(d+"viewdata").then(function(e){return e.data})}function a(t){return e.get(d+"search",{params:{q:JSON.stringify(t)}}).then(function(e){return e.data})}function i(t){return e.get(d+t).then(function(e){return e.data})}function n(t){return e.post(d,t)}function o(t){return e.put(d+t.id,t)}function r(t){return e.post(d+"delete",{ids:_.pluck(t,"id")})}function s(t){var a=d+"updatenametypessequence";return e.put(a,t)}function l(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})}function c(e){_.each(e,function(e){_.each(p.savedNameTypeIds,function(t){e.id===t&&(e.saved=!0)})})}var d="api/configuration/nametypes/",p={viewData:t,search:a,get:i,add:n,update:o,"delete":r,savedNameTypeIds:[],persistSavedNameTypes:c,markInUseNameTypes:l,updateNameTypesSequence:s};return p}function ChangeNumberTypeCodeController(e,t,a,i,n,o){"use strict";function r(){return g.changeCodeForm.newNumberTypeCode&&g.changeCodeForm.newNumberTypeCode.$dirty&&g.changeCodeForm.newNumberTypeCode.$valid}function s(){e.close()}function l(e){return g.errors={},e.$invalid?void t.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges"}):void a.changeNumberTypeCode(g.entity).then(c,d)}function c(i){"success"===i.data.result.result?(a.savedNumberTypeIds.push(i.data.result.updatedId),e.close(),t.success()):(g.errors=i.data.result.errors,t.alert({title:"modal.unableToComplete",message:g.getError("numberTypeCode").topic,errors:_.where(i.data.result.errors,{field:null})}))}function d(e){t.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function p(e){return _.find(g.errors,function(t){return t.field==e})}function u(){return g.changeCodeForm.$dirty}function m(e){return e.$dirty?void t.discard().then(function(){g.cancel()}):void g.cancel()}function v(e){i.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){r()&&n.canOpen("ChangeNumberTypeCode")&&g.save(e)}}),i.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){n.canOpen("ChangeNumberTypeCode")&&g.dismissAll(e)}})}var g=this;g.cancel=s,g.save=l,g.dismissAll=m,g.afterSave=c,g.afterSaveError=d,g.initShortcuts=v,g.errors={},g.getError=p,g.formValid=r,g.hasUnsavedChanges=u,g.entity=o.entity,g.options=o}function NumberTypesController(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){A.context="numbertypes",O=new c(A.context),A.add=D,A.edit=S,A.duplicate=$,A.viewData=s,A.deleteSelectedNumberTypes=b,A.search=v,A.launchNumberTypesPriorityOrder=g,A.numberTypes=y(),A.gridOptions=m(),A.searchCriteria={text:""},p(E,500)}function m(){return t.buildOptions(e,{id:"searchResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',autoBind:!0,serverFiltering:!0,onDataCreated:function(){a.persistSavedNumberTypes(A.gridOptions.data()),O.selectionChange(A.gridOptions.data())},read:v,columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.numberTypes" data-context="numbertypes" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"numberType.code",field:"code",width:"130px",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.code"></a>'},{title:"numberType.description",field:"description",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.description"></a>'},{title:"numberType.issuedByIpOffice",field:"issuedByIpOffice",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.issuedByIpOffice" disabled="disabled"></input>'},{title:"numberType.relatedEvent",field:"relatedEvent",sortable:!0},{title:"numberType.displayPriority",field:"displayPriority",sortable:!0}]})}function v(){return a.search(A.searchCriteria,A.gridOptions.getQueryParams())}function g(){var e=n.openModal({launchSrc:"search",id:"NumberTypesOrder",controllerAs:"vm"});e.then(function(){A.gridOptions.search()})}function f(){return O.anySelected(A.gridOptions.data())}function h(){if(!f())return!1;var e=O.selectedRecord(A.gridOptions.data());return null!=e&&!e.isProtected}function y(){return[{id:"edit",enabled:f,click:S,maxSelection:1},{id:"duplicate",enabled:f,click:$,maxSelection:1},{id:"delete",enabled:f,click:w},{id:"changeNumberTypeCode",text:"numberType.changeCode.changeNumberTypeCode",icon:"cpa-icon cpa-icon-pencil-square-o",enabled:h,click:I,maxSelection:1}]}function b(){a["delete"](O.selectedRecords(A.gridOptions.data())).then(function(e){if(e.data.hasError){var t=O.selectedRecords(A.gridOptions.data()).length===e.data.inUseIds.length,i=t?d.instant("modal.alert.alreadyInUse"):d.instant("modal.alert.partialComplete")+"<br/>"+d.instant("modal.alert.alreadyInUse"),n=t?"modal.unableToComplete":"modal.partialComplete";A.gridOptions.search().then(function(){o.alert({title:n,message:i}),a.markInUseNumberTypes(A.gridOptions.data(),e.data.inUseIds),O.selectionChange(A.gridOptions.data())})}else o.success(e.data.message),A.gridOptions.search()})}function w(){O.selectedRecords(A.gridOptions.data()).length<=0||o.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){b()})}function k(e,t){e.state=t;var a=n.openModal({id:"NumberTypeMaintenance",entity:e||{},dataItem:C(e.id),allItems:A.gridOptions.data(),controllerAs:"vm",searchCallbackFn:A.gridOptions.search,maxNumberTypeLength:A.viewData.maxNumberTypeLength});a.then(function(){A.gridOptions.search()})}function C(e){return _.find(A.gridOptions.data(),function(t){return t.id===e})}function D(){var e={};k(e,r.adding)}function x(e){return void 0!==e&&null!==e?e:O.selectedRecord(A.gridOptions.data()).id}function S(e){var t=x(e);a.get(t).then(function(e){k(e,r.updating)})}function I(){T(O.selectedRecord(A.gridOptions.data()))}function T(e){var t={id:e.id,numberTypeCode:e.code,newNumberTypeCode:null},a=n.openModal({id:"ChangeNumberTypeCode",entity:t,controllerAs:"vm",maxNumberTypeLength:A.viewData.maxNumberTypeLength});a.then(function(){A.gridOptions.search()})}function $(){var e=x();a.get(e).then(function(e){var t=angular.copy(e);t.id=null,k(t,r.duplicating)})}function E(){l.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){n.canOpen()&&A.add()}}),l.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){n.canOpen()&&w()}}),l.add({combo:"alt+shift+s",description:"shortcuts.save"}),l.add({combo:"alt+shift+z",description:"shortcuts.close"})}var O,A=this;A.$onInit=u,A.clearAll=function(){return O.clearAll(A.gridOptions.data())},A.selectAll=function(e){return O.selectAll(A.gridOptions.data(),e)},A.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),O.selectionChange(A.gridOptions.data())}}function NumberTypeMaintenanceController(e,t,a,i,n,o,r,s){"use strict";function l(){r.dataItem&&r.dataItem.id!==r.entity.id?a.get(r.dataItem.id).then(function(e){k.entity=e,k.entity.state=i.updating}):k.entity=r.entity}function c(){k.entity.state===i.duplicating&&(k.options.entity.numberTypeCode=null)}function d(){return k.entity.state===i.updating}function p(){return!(k.form.maintenance.$dirty&&k.form.maintenance.$valid)}function u(){e.close()}function m(){var e=o.openModal({launchSrc:"maintenance",id:"NumberTypesOrder",controllerAs:"vm"});e.then(function(){k.options.searchCallbackFn()})}function v(){k._isSaving||(k.errors={},k.form.maintenance&&k.form.maintenance.$validate&&k.form.maintenance.$validate(),k.form.maintenance.$invalid||(k._isSaving=!0,k.entity.state===i.adding||k.entity.state===i.duplicating?a.add(k.entity).then(g,f):a.update(k.entity).then(g,f)))}function g(n){"success"===n.data.result.result?(a.savedNumberTypeIds.push(n.data.result.updatedId),k.entity.state===i.updating?(k._isSaving=!1,k.form.maintenance.$setPristine()):(e.close(),s(m,500)),t.success()):(k._isSaving=!1,k.errors=n.data.result.errors,t.alert({title:"modal.unableToComplete",message:k.getError("numberTypeCode").topic,errors:_.where(n.data.result.errors,{field:null})}))}function f(e){k._isSaving=!1,k.errors=e.data.result.errors,t.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function h(e){return _.find(k.errors,function(t){return t.field===e})}function y(){return k.form.maintenance.$dirty}function b(){return k.form.maintenance.$dirty?void t.discard().then(function(){k.cancel()}):void k.cancel()}function w(){n.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!p()&&o.canOpen("NumberTypeMaintenance")&&k.save()}}),n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){o.canOpen("NumberTypeMaintenance")&&k.dismissAll()}})}var k=this;k.entity={state:r.entity.state},k.cancel=u,k.save=v,k.dismissAll=b,k.afterSave=g,k.afterSaveError=f,k.initShortcuts=w,k.form={},k.disable=p,k.options=r,k.errors={},k.launchNumberTypesPriorityOrder=m,k.getError=h,k.hasUnsavedChanges=y,k.isEditState=d,k.clearNumberTypeCode=c,k._isSaving=!1,c(),l()}function NumberTypesOrderController(e,t,a,i,n,o,r,s,l,c){"use strict";function d(){o.add({combo:"alt+shift+up",description:"shortcuts.numberTypesOrderRow.moveUp",callback:function(){!k.disableUpButton&&r.canOpen("NumberTypesOrder")&&k.moveUp()}}),o.add({combo:"alt+shift+down",description:"shortcuts.numberTypesOrderRow.moveDown",callback:function(){!k.disableDownButton&&r.canOpen("NumberTypesOrder")&&k.moveDown()}}),o.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){k.hasChanges&&r.canOpen("NumberTypesOrder")&&k.save()}}),o.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){r.canOpen("NumberTypesOrder")&&k.dismiss()}})}function p(){return t.buildOptions(a,{id:"validNumberTypesResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved}"',serverFiltering:!1,selectable:"single, row",dragDropRows:!0,change:function(e){var t=e.sender;k.selectedDataItem=t.dataItem(this.select());var i=t.dataSource.indexOf(k.selectedDataItem),n=t.dataSource._data.length-1;b(i,n),s.safeApply(a)},dataBound:function(e){c(u,1,!0,e)},onDataCreated:function(){i.persistSavedNumberTypes(k.gridOptions.data())},autoBind:!0,read:f,onDropCompleted:function(e){k.selectedDataItem=e.selectedDataItem,k.hasChanges=e.hasSelectedRowChanges,u(e),b(e.currentTarget,e.maxIndex),s.safeApply(a)},columns:[{title:"numberType.code",field:"code",width:"10%",sortable:!1,oneTimeBinding:!0},{title:"numberType.description",field:"description",width:"20%",sortable:!1,oneTimeBinding:!0},{title:"numberType.issuedByIpOffice",field:"issuedByIpOffice",width:"15%",sortable:!1,oneTimeBinding:!0,template:'<input type="checkbox" ng-model="dataItem.issuedByIpOffice" disabled="disabled"></input>'}]})}function u(e){if(angular.isObject(k.selectedDataItem)){var t=e.sender;t.items().each(function(a,i){var n=t.dataItem(i);if(n.id===k.selectedDataItem.id){e.sender.select(i);var o=e.sender.tbody.find("[data-uid='"+n.uid+"']");o.addClass("k-state-selected"),m(i)}return!0})}else if("maintenance"===l.launchSrc){var a=k.gridOptions.data().length-1;k.gridOptions.selectRowByIndex(a),m(v(a))}}function m(e){if(angular.isDefined(e)||"maintenance"===l.launchSrc){var t=$("#modal-content"),a=e?e.offsetTop:t.position().top,i=e?e.offsetHeight:t.height();"maintenance"===l.launchSrc&&(l.launchSrc=null),t.scrollTop(a+i)}}function v(e){return $("tbody tr.k-master-row:eq("+e+")")[0]}function g(){var e=k.gridOptions.$widget.element.data("kendoGrid"),t=e.dataItem(e.select());if(t){var a=e.dataSource.indexOf(t);if(a>0){var i=a-1;e.dataSource.remove(t),e.dataSource.insert(i,t),k.hasChanges=!0}}}function f(){return i.search()}function h(){var e=k.gridOptions.$widget.element.data("kendoGrid"),t=e.dataItem(e.select());if(t){var a=e.dataSource.indexOf(t),i=e.dataSource._data.length-1;if(a<i){var n=a+1;e.dataSource.remove(t),e.dataSource.insert(n,t),k.hasChanges=!0}}}function y(){e.close()}function b(e,t){e>0&&e<t?(k.disableUpButton=!1,k.disableDownButton=!1):0===e&&e<t?(k.disableUpButton=!0,k.disableDownButton=!1):e===t&&0!==t?(k.disableUpButton=!1,k.disableDownButton=!0):e===t&&(k.disableUpButton=!0,k.disableDownButton=!0)}function w(){var e=[];_.each(k.gridOptions.data(),function(t,a){e.push({id:t.id,displayPriority:a})}),i.updateNumberTypesSequence(e).then(function(e){"success"===e.data.result.result&&(i.savedNumberTypeIds.push(e.data.result.updatedId),n.success(),k.selectedDataItem=null,k.hasChanges=!1,b(0,0))},function(e){n.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.errors,{field:null})})})}var k=this;k.dismiss=y,k.save=w,k.gridOptions=p(),k.moveUp=g,k.moveDown=h,k.disableUpButton=!0,k.search=f,k.disableDownButton=!0,k.hasChanges=!1,k.initShortcuts=d,k.updateUpDownButtonState=b,d(),a.$watch(angular.bind(k,function(){return k.disableUpButton}),function(e){k.disableUpButton=e}),a.$watch(angular.bind(k,function(){return k.disableDownButton}),function(e){k.disableDownButton=e})}function NumberTypesService(e){"use strict";function t(){return e.get(p+"viewdata").then(function(e){return e.data})}function a(t,a){return e.get(p+"search",{params:{q:JSON.stringify(t),params:JSON.stringify(a)}}).then(function(e){return e.data})}function i(t){return e.get(p+t).then(function(e){return e.data})}function n(t){var a=p+"update-number-types-sequence";return e.put(a,t)}function o(t){return e.post(p,t)}function r(t){return e.put(p+t.id,t)}function s(t){return e.post(p+"delete",{ids:_.pluck(t,"id")})}function l(t){return e.put(p+t.id+"/numbertypecode",t)}function c(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})}function d(e){_.each(e,function(e){_.each(u.savedNumberTypeIds,function(t){e.id===t&&(e.saved=!0)})})}var p="api/configuration/numbertypes/",u={viewData:t,search:a,get:i,add:o,update:r,"delete":s,savedNumberTypeIds:[],persistSavedNumberTypes:d,markInUseNumberTypes:c,updateNumberTypesSequence:n,changeNumberTypeCode:l};return u}function StatusController(e,t,a,i,n,o,r,s,l,c,d,p,u,m){"use strict";function v(){q.context="status",F=new p(q.context),q.resetSearchCriteria=E,q.resetFilterCriteria=O,q.toggleFilterOption=A,q.addStatus=M,q.actions=C(),q.edit=I,q.maintainValidCombination=R,q.duplicate=T,q.deleteSelectedStatus=D,q.gridOptions=g(),E(),O(),m(P,500),q.supportData={stopPayReasons:i.stopPayReasons,permissions:i.permissions}}function g(){return a.buildOptions(t,{id:"searchResults",scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',serverFiltering:!1,onDataCreated:function(){o.persistSavedStatuses(q.gridOptions.data()),F.selectionChange(q.gridOptions.data())},autoBind:!0,read:f,columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.actions" data-context="status" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"status.internalDesc",field:"name",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.name"></a>'},{title:"status.externalDesc",field:"externalName",sortable:!0},{title:"Code",field:"id",sortable:!0},{title:"status.noOfCases",field:"noOfCases",sortable:!0},{title:"status.pending",field:"isPending",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isPending" disabled="disabled"></input>'},{title:"status.registered",field:"isRegistered",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isRegistered" disabled="disabled"></input>'},{title:"status.dead",field:"isDead",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isDead" disabled="disabled"></input>'},{title:"status.stopPayReason",field:"stopPayReasonDesc",sortable:!0}]})}function f(){return q.searchCriteria.isRenewal=q.filterCriteria.forRenewal,document.body.scrollTop=document.documentElement.scrollTop=0,o.search(q.searchCriteria)}function h(){return F.anySelected(q.gridOptions.data())}function y(){return q.supportData.permissions.canUpdate&&h()}function b(){return q.supportData.permissions.canCreate&&h()}function w(){return q.supportData.permissions.canDelete&&h()}function k(){return q.supportData.permissions.canMaintainValidCombination&&h()}function C(){return[{id:"edit",enabled:y,click:I,maxSelection:1},{id:"duplicate",enabled:b,click:T,maxSelection:1},{id:"delete",enabled:w,click:x},{id:"maintainValidCombination",text:"Valid Status",icon:"cpa-icon cpa-icon-pencil-square-o",enabled:k,maxSelection:1,click:R}]}function D(){o["delete"](F.selectedRecords(q.gridOptions.data())).then(function(e){if(e.data.hasError){var t=F.selectedRecords(q.gridOptions.data()).length===e.data.inUseIds.length;u(["modal.alert.partialComplete","modal.alert.alreadyInUse"]).then(function(a){var i=t?a["modal.alert.alreadyInUse"]:a["modal.alert.partialComplete"]+"<br/>"+a["modal.alert.alreadyInUse"],n=t?"modal.unableToComplete":"modal.partialComplete";q.gridOptions.search().then(function(){s.alert({title:n,message:i}),o.markInUseStatuses(q.gridOptions.data(),e.data.inUseIds)})})}else s.success(e.data.message),q.gridOptions.search(),n.reset("status")})}function x(){F.selectedRecords(q.gridOptions.data()).length<=0||s.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){D()})}function S(e){return void 0!==e&&null!==e?e:F.selectedRecord(q.gridOptions.data()).id}function I(e){var t=void 0===e||null===e?S():e;o.get(t).then(function(e){N(e,l.updating)})}function T(){var e=S();o.get(e).then(function(e){var t=angular.copy(e);t.id=null,t.name=$(e.name.trim()),N(t,l.duplicating)})}function $(e){var t=" - Copy",a=50-t.length;return e.length>a&&(e=e.substring(0,a)),e+t}function E(){q.searchCriteria={text:"",isRenewal:!1},O()}function O(){q.filterCriteria={forCase:!0,forRenewal:!1}}function A(e){"forCase"===e?(q.filterCriteria.forCase=!0,q.filterCriteria.forRenewal=!1):(q.filterCriteria.forRenewal=!0,q.filterCriteria.forCase=!1),q.gridOptions.search()}function N(e,t){e.state=t;var a=r.openModal({id:"StatusMaintenance",entity:e,supportData:q.supportData,controllerAs:"vm"});a.then(function(e){A(e?"forRenewal":"forCase"),s.success(),q.gridOptions.search()})}function M(){var e={statusType:q.filterCriteria.forRenewal?"renewal":"case",statusSummary:"pending"};N(e,l.adding)}function R(){var t=F.selectedRecord(q.gridOptions.data());e.go(d.baseStateName+"."+d.searchType.status,{status:t})}function P(){c.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){r.canOpen()&&q.addStatus()}}),c.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){x()}}),c.add({combo:"alt+shift+s",description:"shortcuts.save"}),c.add({combo:"alt+shift+z",description:"shortcuts.close"})}var F,q=this;q.$onInit=v,q.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),F.selectionChange(q.gridOptions.data())},q.clearAll=function(){return F.clearAll(q.gridOptions.data())},q.selectAll=function(e){return F.selectAll(q.gridOptions.data(),e)}}function StatusMaintenanceController(e,t,a,i,n,o,r){"use strict";function s(){return!(h.maintenance.$dirty&&h.maintenance.$valid)}function l(){e.dismiss("Cancel")}function c(){return h.maintenance.$dirty?void t.discard().then(function(){h.cancel()}):void h.cancel()}function d(e){_.each(e,function(e){h.entity[e]=!1})}function p(e){a.savedStatusIds.push(e)}function u(){h._isSaving||(h.errors={},h.maintenance&&h.maintenance.$validate&&h.maintenance.$validate(),h.maintenance.$invalid||(h._isSaving=!0,h.entity.state===i.adding||h.entity.state===i.duplicating?a.add(h.entity).then(m,v):a.update(h.entity).then(m,v)))}function m(a){"success"===a.data.result?(p(a.data.updatedId),e.close("renewal"===h.entity.statusType)):(h._isSaving=!1,h.errors=a.data.errors,t.alert({title:"modal.unableToComplete",message:h.getError("internalName").topic,errors:_.where(a.data.errors,{
field:null})}))}function v(e){h._isSaving=!1,h.errors=e.data.errors,t.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.errors,{field:null})})}function g(e){return _.find(h.errors,function(t){return t.field===e})}function f(){n.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!s()&&o.canOpen("StatusMaintenance")&&h.save()}}),n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){o.canOpen("StatusMaintenance")&&h.dismissAll()}})}var h=this;h.entity=r.entity,h.supportData=r.supportData,h.cancel=l,h.dismissAll=c,h.save=u,h.afterSave=m,h.afterSaveError=v,h.toggleSelections=d,h.initShortcuts=f,h.disable=s,h.errors={},h.getError=g,h._isSaving=!1}function StatusService(e){"use strict";function t(){return e.get("api/configuration/status/supportdata").then(function(e){return e.data})}function a(t){var a={text:t.text||"",isRenewal:t.isRenewal};return e.get("api/configuration/status",{params:{q:JSON.stringify(a)}}).then(function(e){return e.data})}function i(t){return e.get(c+t).then(function(e){return e.data})}function n(t){return e.post(c,t)}function o(t){return e.put(c+t.id,t)}function r(t){return e.post("api/configuration/status/delete",{ids:_.pluck(t,"id")})}function s(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})}function l(e){_.each(e,function(e){_.each(d.savedStatusIds,function(t){e.id===t&&(e.saved=!0)})})}var c="api/configuration/status/",d={search:a,supportData:t,get:i,add:n,update:o,"delete":r,markInUseStatuses:s,savedStatusIds:[],persistSavedStatuses:l};return d}function ChangeTextTypeCodeController(e,t,a,i,n,o){"use strict";function r(){return g.changeCodeForm.newTextTypeCode&&g.changeCodeForm.newTextTypeCode.$dirty&&g.changeCodeForm.newTextTypeCode.$valid}function s(){e.close()}function l(e){return g.errors={},e.$invalid?void t.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges"}):void a.changeTextTypeCode(g.entity).then(c,d)}function c(i){"success"===i.data.result.result?(a.savedTextTypeIds.push(i.data.result.updatedId),e.close(),t.success()):(g.errors=i.data.result.errors,t.alert({title:"modal.unableToComplete",message:g.getError("textTypeCode").topic,errors:_.where(i.data.result.errors,{field:null})}))}function d(e){t.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function p(e){return _.find(g.errors,function(t){return t.field==e})}function u(){return g.changeCodeForm.$dirty}function m(e){return e.$dirty?void t.discard().then(function(){g.cancel()}):void g.cancel()}function v(e){i.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){r()&&n.canOpen("ChangeTextTypeCode")&&g.save(e)}}),i.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){n.canOpen("ChangeTextTypeCode")&&g.dismissAll(e)}})}var g=this;g.cancel=s,g.save=l,g.dismissAll=m,g.afterSave=c,g.afterSaveError=d,g.initShortcuts=v,g.errors={},g.getError=p,g.formValid=r,g.hasUnsavedChanges=u,g.entity=o.entity}function textTypesController(e,t,a,i,n,o,r,s,l,c,d){"use strict";function p(){E.context="texttypes",E.search=m,E.add=h,E.duplicate=b,E.edit=w,E.changeTextTypeCode=D,E.viewData=l,$=new r(E.context),E.deleteSelectedTextTypes=I,E.gridOptions=u(),E.textTypes=C(),E.searchCriteria={text:""},T()}function u(){return t.buildOptions(e,{id:"searchResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',autoBind:!0,serverFiltering:!0,onDataCreated:function(){$.selectionChange(E.gridOptions.data())},read:m,columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.textTypes" data-context="texttypes" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"textType.code",field:"id",width:"130px",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.id"></a>'},{title:"textType.description",field:"description",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.description"></a>'},{title:"textType.onlyCases",field:"usedByCase",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.usedByCase" disabled="disabled"></input>'},{title:"textType.onlyName",field:"usedByName",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.usedByName" disabled="disabled"></input>'},{title:"textType.staff",field:"usedByEmployee",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.usedByEmployee" disabled="disabled"></input>'},{title:"textType.individual",field:"usedByIndividual",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.usedByIndividual" disabled="disabled"></input>'},{title:"textType.organisation",field:"usedByOrganisation",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.usedByOrganisation" disabled="disabled"></input>'}]})}function m(){return a.search(E.searchCriteria,E.gridOptions.getQueryParams()).then(function(e){return E.gridOptions.dataSource.data(e.data),a.searchResults=E.gridOptions.data(),$.selectionChange(E.gridOptions.data()),a.persistSavedTextTypes(),e.data})}function v(){return $.anySelected(E.gridOptions.data())}function g(t,a){e.entity=t,e.entity.state=a;var i=n.openModal({id:"TextTypeMaintenance",entity:t||{},dataItem:f(t.id),allItems:E.gridOptions.data(),controllerAs:"vm",searchCallbackFn:E.search});i.then(function(){E.search()})}function f(e){return _.find(E.gridOptions.data(),function(t){return t.id==e})}function h(){var e={};e.usedByName=!1,g(e,s.adding)}function y(e){return void 0!==e&&null!==e?e:$.selectedRecord(E.gridOptions.data()).id}function b(){var e=y();a.get(e).then(function(e){var t=angular.copy(e);t.id=null,g(t,s.duplicating)})}function w(e){var t=y(e);a.get(t).then(function(e){g(e,s.updating)})}function k(){if(!v())return!1;var e=$.selectedRecord(E.gridOptions.data());return null!=e&&!e.isProtected}function C(){return[{id:"edit",enabled:v,click:w,maxSelection:1},{id:"duplicate",enabled:v,click:b,maxSelection:1},{id:"delete",enabled:v,click:S},{id:"changeTextTypeCode",text:"textType.changeCode.changeTextTypeCode",icon:"cpa-icon cpa-icon-pencil-square-o",enabled:k,click:D,maxSelection:1}]}function D(){x($.selectedRecord(E.gridOptions.data()))}function x(e){var t={id:e.id,newTextTypeCode:null},a=n.openModal({id:"ChangeTextTypeCode",entity:t,controllerAs:"vm"});a.then(function(){E.search()})}function S(){$.selectedRecords(E.gridOptions.data()).length<=0||o.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){I()})}function I(){a["delete"]($.selectedRecords(E.gridOptions.data())).then(function(e){if(e.data.hasError){var t=$.selectedRecords(E.gridOptions.data()).length===e.data.inUseIds.length,i=t?d.instant("modal.alert.alreadyInUse"):d.instant("modal.alert.partialComplete")+"<br/>"+d.instant("modal.alert.alreadyInUse"),n=t?"modal.unableToComplete":"modal.partialComplete";E.search().then(function(){o.alert({title:n,message:i}),a.markInUseTextTypes(E.gridOptions.data(),e.data.inUseIds),$.selectionChange(E.gridOptions.data())})}else o.success(e.data.message),E.search()})}function T(){c.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){n.canOpen()&&E.add()}}),c.add({combo:"alt+shift+s",description:"shortcuts.save"}),c.add({combo:"alt+shift+z",description:"shortcuts.close"}),c.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){n.canOpen()&&S()}})}var $,E=this;E.$onInit=p,E.clearAll=function(){return $.clearAll(E.gridOptions.data())},E.selectAll=function(e){return $.selectAll(E.gridOptions.data(),e)},E.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),$.selectionChange(E.gridOptions.data())}}function TextTypeMaintenanceController(e,t,a,i,n,o,r,s){"use strict";function l(){null!=s.dataItem&&s.dataItem.id!=s.entity.id?i.get(s.dataItem.id).then(function(e){C.entity=e,C.entity.state=n.updating}):C.entity=s.entity}function c(){C.entity.state===n.duplicating&&(C.options.entity.id=null)}function d(){return null!=C.entity&&C.entity.state===n.updating}function p(){return!(C.form.maintenance.$dirty&&C.form.maintenance.$valid&&C.validateCheckboxes())}function u(){return!C.entity.usedByName||C.entity.usedByName&&(C.entity.usedByEmployee||C.entity.usedByIndividual||C.entity.usedByOrganisation)}function m(){C.entity.usedByName||(C.entity.usedByEmployee=!1,C.entity.usedByIndividual=!1,C.entity.usedByOrganisation=!1)}function v(){t.close()}function g(){C._isSaving||(C.errors={},C.form.maintenance&&C.form.maintenance.$validate&&C.form.maintenance.$validate(),C.form.maintenance.$invalid||(C._isSaving=!0,C.entity.state===n.adding||C.entity.state===n.duplicating?i.add(C.entity).then(f,h):i.update(C.entity).then(f,h)))}function f(e){"success"===e.data.result.result?(i.savedTextTypeIds.push(e.data.result.updatedId),C.entity.state===n.updating?(C._isSaving=!1,C.form.maintenance.$setPristine()):t.close(),a.success()):(C._isSaving=!1,C.errors=e.data.result.errors,a.alert({title:"modal.unableToComplete",message:C.getError("textTypeCode").topic,errors:_.where(e.data.result.errors,{field:null})}))}function h(e){C._isSaving=!1,C.errors=e.data.result.errors,a.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})}function y(e){return _.find(C.errors,function(t){return t.field==e})}function b(){return C.form.maintenance.$dirty}function w(){return C.form.maintenance.$dirty?void a.discard().then(function(){C.cancel()}):void C.cancel()}function k(){o.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!p()&&r.canOpen("TextTypeMaintenance")&&C.save()}}),o.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){r.canOpen("TextTypeMaintenance")&&C.dismissAll()}})}var C=this;C.entity={state:s.entity.state},C.cancel=v,C.save=g,C.dismissAll=w,C.afterSave=f,C.afterSaveError=h,C.initShortcuts=k,C.form={},C.disable=p,C.options=s,C.errors={},C.getError=y,C.hasUnsavedChanges=b,C.isEditState=d,C.onUsedByNameChange=m,C.validateCheckboxes=u,C.clearTextTypeCode=c,C._isSaving=!1,c(),l()}function textTypesService(e){"use strict";function t(){return e.get(u+"viewdata").then(function(e){return e.data})}function a(t,a){return e.get(u+"search",{params:{q:JSON.stringify(t),params:JSON.stringify(a)}})}function i(t){return e.post(u+"delete",{ids:_.pluck(t,"id")})}function n(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})}function o(e){return _.find(m.searchResults.data,function(t){return t.id===e})}function r(t){return e.get(u+t).then(function(e){return e.data})}function s(t){return e.post(u,t)}function l(t){return e.put(u+t.id,t)}function c(t){return e.put(u+t.id+"/texttypecode",t)}function d(e){_.each(m.searchResults,function(t){t.id===e&&(t.saved=!1)})}function p(){_.each(m.searchResults,function(e){_.each(m.savedTextTypeIds,function(t){e.id===t&&(e.saved=!0)})})}var u="api/configuration/texttypes/",m={viewData:t,search:a,searchResults:[],find:o,get:r,add:s,update:l,"delete":i,savedTextTypeIds:[],resetSavedValue:d,markInUseTextTypes:n,persistSavedTextTypes:p,changeTextTypeCode:c};return m}function ValidActionController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.caseType,{})||null===e.vm.searchCriteria.caseType)&&(angular.equals(e.vm.searchCriteria.action,{})||null===e.vm.searchCriteria.action)&&0===v.gridOptions.data().length}function s(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,navigatable:!0,reorderable:!1,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,v.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),i.persistSavedData(v.gridOptions.data())},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="action" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Case Type",field:"caseType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Jurisdiction",field:"country",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Action",field:"action",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Valid Description",field:"validDescription",sortable:!0,oneTimeBinding:!0,template:'<a ng-click="vc.launchEdit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.validDescription"></a>'}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),caseType:e.caseType?e.caseType.code:null,action:e.action?e.action.code:null}}function u(e){i.edit(e)}function m(){i.add()}var v=this;v.search=s,v.context="action",v.bulkMenuOperations=new n(v.context),v.actions=e.vm.actions,v.add=m,v.launchEdit=u,v.noResultsHint="",v.gridOptions=d(),o(),i.initialize(v,e),v.clearSelection=function(){i.bulkMenuClearSelection()},v.selectAll=function(e){return i.bulkMenuSelectAll(e)},v.selectPage=function(e){i.bulkMenuSelectPage(e)},v.selectionChange=function(e){i.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ActionOrderController(e,t,a,i,n,o,r,s,l){"use strict";function c(){O.filterCriteria={jurisdiction:angular.equals(i.dataItem.jurisdiction,void 0)?{}:p(i.dataItem.jurisdiction),propertyType:angular.equals(i.dataItem.propertyType,void 0)?{}:p(i.dataItem.propertyType),caseType:angular.equals(i.dataItem.caseType,void 0)?{}:p(i.dataItem.caseType)},O.picklistErrors={}}function d(){o.add({combo:"alt+shift+up",description:"shortcuts.actionOrderRow.moveUp",callback:function(){!O.disableUpButton&&r.isOpen("ActionOrder")&&O.moveUp()}}),o.add({combo:"alt+shift+down",description:"shortcuts.actionOrderRow.moveDown",callback:function(){!O.disableDownButton&&r.isOpen("ActionOrder")&&O.moveDown()}}),o.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){O.hasChanges&&r.isOpen("ActionOrder")&&O.save()}}),o.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){r.isOpen("ActionOrder")&&O.dismiss()}})}function p(e){return{key:e.key,value:e.value,code:e.code}}function u(){return e.buildOptions(t,{id:"validActionResults",scrollable:!1,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved}"',serverFiltering:!1,selectable:"single, row",dragDropRows:!0,change:function(e){var a=e.sender;O.selectedDataItem=a.dataItem(this.select());var i=a.dataSource.indexOf(O.selectedDataItem),n=a.dataSource._data.length-1;S(i,n),s.safeApply(t)},dataBound:function(e){m(e),v()},autoBind:!0,read:g,onDropCompleted:function(e){O.selectedDataItem=e.selectedDataItem,O.hasChanges=e.hasSelectedRowChanges,m(e),S(e.currentTarget,e.maxIndex),s.safeApply(t)},columns:[{title:"Code",field:"code",width:"10%",sortable:!1,oneTimeBinding:!0},{title:"Description",field:"description",width:"20%",sortable:!1,oneTimeBinding:!0},{title:"Cycles",field:"cycles",width:"15%",sortable:!1,oneTimeBinding:!0},{title:"Renewal",template:'<input type="checkbox" ng-model="dataItem.renewal" disabled="disabled"></input>',width:"15%",sortable:!1},{title:"Examination",template:'<input type="checkbox" ng-model="dataItem.examination" disabled="disabled"></input>',width:"15%",sortable:!1}]})}function m(e){var t=e.sender;t.items().each(function(a,i){var n=t.dataItem(i);if(n===O.selectedDataItem){e.sender.select(i);var o=e.sender.tbody.find("[data-uid='"+n.uid+"']");return o.addClass("k-state-selected"),v(i),!0}})}function v(e){if(angular.isDefined(e)||"maintenance"===O.launchSrc){var t=$("#modal-content"),a=e?e.offsetTop:t.position().top,i=e?e.offsetHeight:t.height();t.scrollTop(a+i)}}function g(){if(w()){var e=b(O.filterCriteria);a.validActions("action",e).then(function(e){O.actionOrderCriteria=e.data.orderCriteria,h(e.data.validActions),O.gridOptions.dataSource.data(e.data.validActions),y()})}else O.hint="validcombinations.actionSearchHint",O.displayNoItems=!1,O.gridOptions.data()&&O.gridOptions.data().length>0&&O.gridOptions.clear(),O.disableUpButton=!0,O.disableDownButton=!0;O.hasChanges=!1}function f(){O.currentItem.jurisdiction=O.filterCriteria.jurisdiction,O.currentItem.propertyType=O.filterCriteria.propertyType,O.currentItem.caseType=O.filterCriteria.caseType}function h(e){if("maintenance"===O.launchSrc){var t={countryId:O.filterCriteria.jurisdiction.code,actionId:i.action.code,propertyTypeId:O.filterCriteria.propertyType.code,caseTypeId:O.filterCriteria.caseType.code};_.each(e,function(e){JSON.stringify(t)===JSON.stringify(e.id)&&(e.saved=!0)})}}function y(){O.gridOptions.data().length>1?(O.displayNoItems=!1,O.hint="validcombinations.actionOrderHint"):(O.hint="",0===O.gridOptions.data().length&&(O.displayNoItems=!0))}function b(e){return{propertyType:e.propertyType.code,jurisdiction:e.jurisdiction.key,caseType:e.caseType.code}}function w(){return!!(k(O.filterCriteria.jurisdiction)&&k(O.filterCriteria.propertyType)&&k(O.filterCriteria.caseType))}function k(e){return null!==e&&angular.isDefined(e.key)&&angular.isDefined(e.value)}function C(){var e=O.gridOptions.$widget.element.data("kendoGrid"),t=e.dataItem(e.select());if(t){var a=e.dataSource.indexOf(t);if(a>0){var i=a-1;e.dataSource.remove(t),e.dataSource.insert(i,t),O.hasChanges=!0}}}function D(){var e=O.gridOptions.$widget.element.data("kendoGrid"),t=e.dataItem(e.select());if(t){var a=e.dataSource.indexOf(t),i=e.dataSource._data.length-1;if(a<i){var n=a+1;e.dataSource.remove(t),e.dataSource.insert(n,t),O.hasChanges=!0}}}function x(){O.hasChanges?n.discard().then(function(){r.close("ActionOrder")}):r.close("ActionOrder")}function S(e,t){e>0&&e<t?(O.disableUpButton=!1,O.disableDownButton=!1):0===e&&e<t?(O.disableUpButton=!0,O.disableDownButton=!1):e===t&&0!==t?(O.disableUpButton=!1,O.disableDownButton=!0):e===t&&(O.disableUpButton=!0,O.disableDownButton=!0)}function I(){var e=[];_.each(O.gridOptions.data(),function(t,a){t.displaySequence=a,e.push(t)});var t={validActions:e,orderCriteria:O.actionOrderCriteria};a.updateActionSequence(t).then(function(e){"success"===e.data.result.result&&(n.success(),O.selectedDataItem=null,O.hasChanges=!1,g(),S(0,0),"maintenance"===O.launchSrc&&E())},function(e){n.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.errors,{field:null})})})}function T(){return O.hasChanges}function E(){var e=i.allItems,a=i.dataItem,n=_.indexOf(e,a);if(n<i.allItems.length-1){var o=O.allItems[n+1];t.$emit("modalChangeView",{dataItem:o})}}var O=this;O.dismiss=x,O.save=I,O.onFilterCriteriaChanged=g,O.hint="validcombinations.actionSearchHint",O.displayNoItems=!1,O.gridOptions=u(),O.moveUp=C,O.moveDown=D,O.disableUpButton=!0,O.disableDownButton=!0,O.hasChanges=!1,O.setHeader=f,O.navigate=E,O.initShortcuts=d,_.extend(O,{currentItem:i.dataItem,allItems:i.allItems,hasUnsavedChanges:T,launchSrc:i.launchSrc}),c(),l(d,500),t.$watch(angular.bind(O,function(){return O.disableUpButton}),function(e){O.disableUpButton=e}),t.$watch(angular.bind(O,function(){return O.disableDownButton}),function(e){O.disableDownButton=e})}function ValidBasisController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.caseType,{})||null===e.vm.searchCriteria.caseType)&&(angular.equals(e.vm.searchCriteria.caseCategory,{})||null===e.vm.searchCriteria.caseCategory)&&(angular.equals(e.vm.searchCriteria.basis,{})||null===e.vm.searchCriteria.basis)&&0===v.gridOptions.data().length}function s(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,v.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),i.persistSavedData(v.gridOptions.data())},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="basis" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Case Type",field:"caseType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Jurisdiction",field:"country",width:"25%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Case Category",field:"category",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Basis",field:"basis",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Valid Description",field:"validDescription",sortable:!0,oneTimeBinding:!0,template:'<a ng-click="vc.launchEdit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.validDescription"></a>'}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),caseType:e.caseType?e.caseType.code:null,basis:e.basis?e.basis.code:null,caseCategory:e.caseCategory?e.caseCategory.code:null}}function u(e){i.edit(e)}function m(){i.add()}var v=this;v.search=s,v.context="basis",v.bulkMenuOperations=new n(v.context),v.actions=e.vm.actions,v.add=m,v.launchEdit=u,v.noResultsHint="",v.gridOptions=d(),o(),i.initialize(v,e),v.clearSelection=function(){i.bulkMenuClearSelection()},v.selectAll=function(e){return i.bulkMenuSelectAll(e)},v.selectPage=function(e){i.bulkMenuSelectPage(e)},v.selectionChange=function(e){i.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ValidCategoryController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.caseType,{})||null===e.vm.searchCriteria.caseType)&&(angular.equals(e.vm.searchCriteria.caseCategory,{})||null===e.vm.searchCriteria.caseCategory)&&0===v.gridOptions.data().length}function s(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,v.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),i.persistSavedData(v.gridOptions.data())},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="category" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Case Type",field:"caseType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Jurisdiction",field:"country",width:"20%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Case Category",field:"caseCategory",width:"16%",sortable:!0,oneTimeBinding:!0},{title:"Valid Description",field:"validDescription",sortable:!0,oneTimeBinding:!0,template:'<a ng-click="vc.launchEdit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.validDescription"></a>'}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),caseType:e.caseType?e.caseType.code:null,caseCategory:e.caseCategory?e.caseCategory.code:null}}function u(e){i.edit(e)}function m(){i.add()}var v=this;v.search=s,v.context="category",v.bulkMenuOperations=new n(v.context),v.actions=e.vm.actions,v.add=m,v.launchEdit=u,v.noResultsHint="",v.gridOptions=d(),o(),i.initialize(v,e),v.clearSelection=function(){i.bulkMenuClearSelection()},v.selectAll=function(e){return i.bulkMenuSelectAll(e)},v.selectPage=function(e){i.bulkMenuSelectPage(e)},v.selectionChange=function(e){i.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ValidChecklistController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.caseType,{})||null===e.vm.searchCriteria.caseType)&&(angular.equals(e.vm.searchCriteria.checklist,{})||null===e.vm.searchCriteria.checklist)&&0===v.gridOptions.data().length}function s(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,v.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),i.persistSavedData(v.gridOptions.data()).then(function(e){return v.prepareDataSource(e)})},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="checklist" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Case Type",field:"caseType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Jurisdiction",field:"country",width:"20%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Checklist",field:"checklist",width:"16%",sortable:!0,oneTimeBinding:!0},{title:"Valid Description",field:"validDescription",sortable:!0,oneTimeBinding:!0,template:'<a ng-click="vc.launchEdit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.validDescription"></a>'}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),caseType:e.caseType?e.caseType.code:null,checklist:e.checklist?e.checklist.code:null}}function u(e){i.edit(e)}function m(){i.add()}var v=this;v.search=s,v.context="checklist",v.bulkMenuOperations=new n(v.context),v.actions=e.vm.actions,v.add=m,v.launchEdit=u,v.noResultsHint="",v.gridOptions=d(),o(),i.initialize(v,e),v.clearSelection=function(){i.bulkMenuClearSelection()},v.selectAll=function(e){return i.bulkMenuSelectAll(e)},v.selectPage=function(e){i.bulkMenuSelectPage(e)},v.selectionChange=function(e){i.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ValidJurisdictionController(e,t,a,i){"use strict";function n(){e.vm.refreshGrid=l,e.vm.search=r,e.vm.isResetDisabled=o,t.searchKey&&e.vm.searchCriteria.jurisdictions.push({key:t.searchKey,code:t.searchKey,value:t.searchName})}function o(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&0===p.gridOptions.data().length}function r(){p.gridOptions.search().then(function(){s()})}function s(){0===p.gridOptions.data().length&&(p.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function l(){p.gridOptions.data().length>0&&p.gridOptions.clear()}function c(){return a.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,navigatable:!0,selectable:"row",autoBind:t.searchKey,read:function(t){var a=d(e.vm.searchCriteria);return i.search(a,t,p.context)},columns:[{title:"Jurisdiction",field:"country",width:"10%",sortable:!0},{title:"Case Type",field:"caseType",width:"10%",sortable:!0},{title:"propertyType",field:"propertyType",width:"10%",sortable:!0},{title:"Action",field:"action",width:"10%",sortable:!0},{title:"Case Category",field:"category",width:"10%",sortable:!0},{title:"Sub Type",field:"subType",width:"10%",sortable:!0},{title:"Basis",field:"basis",width:"10%",sortable:!0},{title:"Status",field:"status",width:"9%",sortable:!0},{title:"Checklist",field:"checklist",width:"10%",sortable:!0},{title:"Case Relationship",field:"relationship",sortable:!0}]})}function d(e){
return{jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code})}}var p=this;p.search=r,p.context="jurisdiction",p.noResultsHint="",p.gridOptions=c(),n()}function validCombinationConfirmationService(e){"use strict";function t(t,a,i){var n=angular.copy(t.jurisdictions);_.each(a.countryKeys,function(e){n=_.without(n,_.findWhere(n,{key:e}))});var o=_.pluck(n,"value"),r={validationMessage:a.validationMessage,confirmationMessage:a.confirmationMessage,countries:a.countries,templateUrl:"condor/configuration/general/validcombination/validcombination-confirmation.html","continue":"modal.confirmation.save",cancel:"modal.confirmation.cancel",validCountries:o};e.confirm(r).then(function(){t.jurisdictions=angular.copy(n),i(t)})}var a={confirm:t};return a}function validPicklistService(e){"use strict";function t(t){return e.get("api/picklists/propertyTypes/retrieve/"+t.propertyTypeModel.code).then(function(e){return e.data})}function a(t){return e.get("api/picklists/caseCategories/"+t.caseCategoryModel.code+"/"+t.caseTypeModel.code).then(function(e){return e.data})}var i={getPropertyType:t,getCaseCategory:a};return i}function ValidPropertyTypeController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&0===v.gridOptions.data().length}function s(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,v.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),i.persistSavedData(v.gridOptions.data())},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="propertyType" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Jurisdiction",field:"country",width:"20%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"20%",sortable:!0,oneTimeBinding:!0},{title:"Valid Description",field:"validDescription",sortable:!0,oneTimeBinding:!0,template:'<a ng-click="vc.launchEdit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.validDescription"></a>'}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code})}}function u(e){i.edit(e)}function m(){i.add()}var v=this;v.search=s,v.context="propertyType",v.bulkMenuOperations=new n(v.context),v.actions=e.vm.actions,v.add=m,v.launchEdit=u,v.noResultsHint="",v.gridOptions=d(),o(),i.initialize(v,e),v.clearSelection=function(){i.bulkMenuClearSelection()},v.selectAll=function(e){return i.resetBulkMenu(),i.bulkMenuSelectAll(e)},v.selectPage=function(e){i.bulkMenuSelectPage(e)},v.selectionChange=function(e){i.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ValidRelationshipController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.relationship,{})||null===e.vm.searchCriteria.relationship)&&0===m.gridOptions.data().length}function s(e,t){return m.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===m.gridOptions.data().length&&(m.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){m.gridOptions.data().length>0&&(m.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,m.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){m.selectionChange(),i.persistSavedData(m.gridOptions.data())},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="relationship" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Jurisdiction",field:"country",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Case Relationship",field:"relationship",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Reciprocal Relationship",field:"recipRelationship",sortable:!0,oneTimeBinding:!0}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),relationship:e.relationship?e.relationship.code:null}}function u(){i.add()}var m=this;m.search=s,m.context="relationship",m.bulkMenuOperations=new n(m.context),m.actions=e.vm.actions,m.add=u,m.noResultsHint="",m.gridOptions=d(),o(),i.initialize(m,e),m.clearSelection=function(){i.bulkMenuClearSelection()},m.selectAll=function(e){return i.bulkMenuSelectAll(e)},m.selectPage=function(e){i.bulkMenuSelectPage(e)},m.selectionChange=function(e){i.bulkMenuSelectionChange(e)},m.menuInitialised=function(){m.bulkMenuOperations.initialiseMenuForPaging(m.gridOptions.pageable.pageSize)}}function ValidStatusController(e,t,a,i,n,o){"use strict";function r(){e.vm.refreshGrid=d,e.vm.search=l,e.vm.isResetDisabled=s,null!=t.status&&(e.vm.searchCriteria.status.key=t.status.id,e.vm.searchCriteria.status.value=t.status.name)}function s(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.caseType,{})||null===e.vm.searchCriteria.caseType)&&(angular.equals(e.vm.searchCriteria.status,{})||null===e.vm.searchCriteria.status)&&0===v.gridOptions.data().length}function l(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&n.clearSavedRows(),c()})}function c(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function d(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),n.resetBulkMenu())}function p(){return a.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoBind:t.status,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var a=u(e.vm.searchCriteria);return i.search(a,t,v.context).then(function(e){return n.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),n.persistSavedData(v.gridOptions.data())},columns:[{title:"",fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="status" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"validcombinations.caseType",field:"caseType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"validcombinations.jurisdiction",field:"country",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"validcombinations.propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"validcombinations.status",field:"status",sortable:!0,oneTimeBinding:!0},{title:"validcombinations.statusType",field:"statusType",sortable:!0,oneTimeBinding:!0}]})}function u(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),caseType:e.caseType?e.caseType.code:null,status:e.status?e.status.key:null}}function m(){n.add()}var v=this;v.search=l,v.context="status",v.bulkMenuOperations=new o(v.context),v.actions=e.vm.actions,v.add=m,v.noResultsHint="",v.gridOptions=p(),r(),n.initialize(v,e),v.actions=_.without(v.actions,_.findWhere(v.actions,{id:"edit"})),v.clearSelection=function(){n.bulkMenuClearSelection()},v.selectAll=function(e){return n.bulkMenuSelectAll(e)},v.selectPage=function(e){n.bulkMenuSelectPage(e)},v.selectionChange=function(e){n.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ValidSubTypeController(e,t,a,i,n){"use strict";function o(){e.vm.refreshGrid=c,e.vm.search=s,e.vm.isResetDisabled=r}function r(){return e.vm.form.$valid&&"default"===e.vm.selectedSearchOption.type&&(null===e.vm.searchCriteria.jurisdictions||0===e.vm.searchCriteria.jurisdictions.length)&&(angular.equals(e.vm.searchCriteria.propertyType,{})||null===e.vm.searchCriteria.propertyType)&&(angular.equals(e.vm.searchCriteria.caseType,{})||null===e.vm.searchCriteria.caseType)&&(angular.equals(e.vm.searchCriteria.caseCategory,{})||null===e.vm.searchCriteria.caseCategory)&&(angular.equals(e.vm.searchCriteria.subType,{})||null===e.vm.searchCriteria.subType)&&0===v.gridOptions.data().length}function s(e,t){return v.gridOptions.search({preventPageReset:t}).then(function(){e&&i.clearSavedRows(),l()})}function l(){0===v.gridOptions.data().length&&(v.noResultsHint=e.vm.containsDefault()?null:e.vm.noResultsHint())}function c(){v.gridOptions.data().length>0&&(v.gridOptions.clear(),i.resetBulkMenu())}function d(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',read:function(t){var n=p(e.vm.searchCriteria);return a.search(n,t,v.context).then(function(e){return i.prepareDataSource(e)})},onDataCreated:function(){v.selectionChange(),i.persistSavedData(v.gridOptions.data())},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vc.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vc.gridOptions.data()" data-actions="vc.actions" data-context="subtype" data-on-clear="vc.clearSelection();" is-full-selection-possible="false" data-on-select-this-page="vc.selectPage(val)" data-initialised="vc.menuInitialised()"></div>'},{title:"Case Type",field:"caseType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Jurisdiction",field:"country",width:"25%",sortable:!0,oneTimeBinding:!0},{title:"propertyType",field:"propertyType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Case Category",field:"validCategory",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Sub Type",field:"subType",width:"15%",sortable:!0,oneTimeBinding:!0},{title:"Valid Description",field:"validDescription",sortable:!0,oneTimeBinding:!0,template:'<a ng-click="vc.launchEdit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.validDescription"></a>'}]})}function p(e){return{propertyType:e.propertyType?e.propertyType.code:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.code}),caseType:e.caseType?e.caseType.code:null,subType:e.subType?e.subType.code:null,caseCategory:e.caseCategory?e.caseCategory.code:null}}function u(e){i.edit(e)}function m(){i.add()}var v=this;v.search=s,v.context="subtype",v.bulkMenuOperations=new n(v.context),v.actions=e.vm.actions,v.add=m,v.launchEdit=u,v.noResultsHint="",v.gridOptions=d(),o(),i.initialize(v,e),v.clearSelection=function(){i.bulkMenuClearSelection()},v.selectAll=function(e){return i.bulkMenuSelectAll(e)},v.selectPage=function(e){i.bulkMenuSelectPage(e)},v.selectionChange=function(e){i.bulkMenuSelectionChange(e)},v.menuInitialised=function(){v.bulkMenuOperations.initialiseMenuForPaging(v.gridOptions.pageable.pageSize)}}function ValidCombinationController(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){U.search=angular.noop,U.refreshGrid=angular.noop,U.isResetDisabled=w,U.searchOptions=i,U.onSearchbyChanged=I,U.reset=E,U.evalPicklistVisibility=A,U.isDefaultSelection=D,U.isCaseCategoryDisabled=T,U.caseTypeChanged=$,U.extendCaseCategoryPicklsit=q,U.hasErrors=k,U.gridOptions=C(),U.picklistErrors={},U.add=R,U.launchActionOrder=P,U.onViewDefaultChange=h,U.onCountryChange=b,U.containsDefault=y,U.noResultsHint=g,m(),v(),M(),x(),T(),r.initialize(U,e),f()}function m(){U.selectedSearchOption={type:n.searchType["default"],description:""},e.selectedCharacteristics=U.selectedSearchOption,e.viewData=i}function v(){U.searchCriteria={jurisdictions:[],propertyType:{},caseType:{},action:{},caseCategory:{},subType:{},basis:{},status:{},relationship:{},checklist:{},viewDefault:!1},U.typeaheadText={},U.typeaheadErrors={}}function g(){return c.instant("validcombinations.noResultsHint")}function f(){o.getDefaultCountry().then(function(e){d.set(e.value)})}function h(){U.searchCriteria.jurisdictions||(U.searchCriteria.jurisdictions=[]),U.searchCriteria.viewDefault?y()||U.searchCriteria.jurisdictions.push({key:"ZZZ",code:"ZZZ",value:d.get()}):y()&&(U.searchCriteria.jurisdictions=_.without(U.searchCriteria.jurisdictions,_.findWhere(U.searchCriteria.jurisdictions,{key:"ZZZ"})))}function y(){return _.any(_.filter(U.searchCriteria.jurisdictions,function(e){return"ZZZ"===e.key}))}function b(){U.searchCriteria.jurisdictions&&y()?y()&&(U.searchCriteria.viewDefault=!0):U.searchCriteria.viewDefault=!1}function w(){return!0}function k(){return!U.form.$valid}function C(){return t.buildOptions(e,{id:"searchResults",pageable:{pageSize:20},scrollable:!1,columns:[{title:"",width:"60px",headerTemplate:'<div data-bulk-actions-menu data-context="validcombinations"></div>'}]})}function D(){return U.selectedSearchOption&&(U.selectedSearchOption.type===n.searchType["default"]||""===U.selectedSearchOption.type)}function x(){U.selectedSearchOption=S(a.current.symbol),e.selectedCharacteristics=U.selectedSearchOption,p.onStart({},function(t){var a=t.to();angular.isDefined(U.selectedSearchOption)&&U.selectedSearchOption.type!==a.symbol&&(U.selectedSearchOption=S(a.symbol),U.reset(),e.selectedCharacteristics=U.selectedSearchOption,r.modalOptions.selectedCharacteristic=U.selectedSearchOption)})}function S(e){return _.first(_.filter(U.searchOptions,function(t){return t.type===e}))}function I(){U.selectedSearchOption.type===n.searchType["default"]?a.go(n.baseStateName,{},{reload:!0}):a.go(n.baseStateName+"."+U.selectedSearchOption.type),U.reset(),e.selectedCharacteristics=U.selectedSearchOption,M(),r.modalOptions.selectedCharacteristic=U.selectedSearchOption,U.queryBuilder=null}function T(){return null==U.searchCriteria.caseType||!angular.isDefined(U.searchCriteria.caseType.value)}function $(){null!==U.searchCriteria.caseType?l.set(U.searchCriteria.caseType):U.searchCriteria.caseCategory=null}function E(e){e&&(v(),r.resetSearchCriteria(U.searchCriteria),a.go(n.baseStateName,{},{reload:!0})),O(),U.refreshGrid()}function O(){var e=Object.keys(U.searchCriteria);_.each(e,function(e){angular.isDefined(U.form)&&U.form[e]&&U.form[e].$invalid&&U.form[e].$reset()})}function A(e){if(!U.selectedSearchOption||U.selectedSearchOption.type===n.searchType["default"])return!1;switch(e){case"jurisdiction":return!0;case"propertytype":return U.selectedSearchOption.type!==n.searchType.allCharacteristics||U.selectedSearchOption.type===n.searchType.checklist;case"casetype":return U.selectedSearchOption.type!==n.searchType.allCharacteristics&&U.selectedSearchOption.type!==n.searchType.propertyType&&U.selectedSearchOption.type!==n.searchType.relationship&&U.selectedSearchOption.type!==n.searchType.dateOfLaw;case"action":return U.selectedSearchOption.type===n.searchType.action;case"casecategory":return U.selectedSearchOption.type===n.searchType.category||U.selectedSearchOption.type===n.searchType.subType||U.selectedSearchOption.type===n.searchType.basis;case"subtype":return U.selectedSearchOption.type===n.searchType.subType;case"basis":return U.selectedSearchOption.type===n.searchType.basis;case"status":return U.selectedSearchOption.type===n.searchType.status;case"relationship":return U.selectedSearchOption.type===n.searchType.relationship;case"checklist":return U.selectedSearchOption.type===n.searchType.checklist}}function N(){return o.exportToExcel()}function M(){U.actions=[{id:"export-excel",enabled:function(){return!0},click:N},{id:"edit",icon:"cpa-icon cpa-icon-pencil-square-o",enabled:angular.noop,maxSelection:1,click:angular.noop},{id:"duplicate",maxSelection:1,enabled:angular.noop,click:angular.noop},{id:"delete",enabled:angular.noop,click:angular.noop}]}function R(){return r.handleAddFromMainController()}function P(){var e=F(),t=_.first(e);s.openModal({launchSrc:"search",id:"ActionOrder",dataItem:angular.isDefined(t)?t:{},allItems:e,controllerAs:"ctrl"})}function F(){var e=[];return _.each(U.searchCriteria.jurisdictions,function(t){e.push({jurisdiction:t,propertyType:null==U.searchCriteria.propertyType?{}:U.searchCriteria.propertyType,caseType:null==U.searchCriteria.caseType?{}:U.searchCriteria.caseType})}),0!==U.searchCriteria.jurisdictions.length&&null!==U.searchCriteria.jurisdictions&&void 0!==U.searchCriteria.jurisdictions||e.push({jurisdiction:{},propertyType:null==U.searchCriteria.propertyType?{}:U.searchCriteria.propertyType,caseType:null==U.searchCriteria.caseType?{}:U.searchCriteria.caseType}),e}function q(e){if(!T()){var t=angular.extend({},e,{caseType:U.searchCriteria.caseType.code,latency:888});return t}}var U=this;U.$onInit=u}function ValidCombinationMaintenanceController(e,t,a,i,n,o,r,s,l,c,d){"use strict";function p(e){var t="condor/configuration/general/validcombination/",a=D.selectedCharacteristic.type;a===r.searchType["default"]||a===r.searchType.allCharacteristics?(D.templateUrl="",D.controllerName=""):(D.templateUrl=t+a+"/"+a+".maintenance.html",D.controllerName=a+"MaintenanceController",e&&(e.$dirty=!1,e.$setPristine())),m()}function u(e){c.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!D.disable()&&s.canOpen("ValidCombinationMaintenance")&&D.save(e)}}),c.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){s.canOpen("ValidCombinationMaintenance")&&D.dismissAll(e)}})}function m(){"adding"===D.entityState&&(D.entity={state:D.entityState})}function v(e){m(),D.copyEntity={},e&&(e.$dirty=!1,e.$setPristine())}function g(){k("lg"),t.dismiss("Cancel")}function f(){return D.isCopy?!D.enableCopySave():!(D.maintenance&&(D.maintenance.$dirty||D.entity&&D.entity.prepopulated)&&D.maintenance.$valid)}function h(e){return D.isCopy?!e.$dirty&&"undefined"!=typeof D.copyEntity.picklistsDirty&&!D.copyEntity.picklistsDirty():D.selectedCharacteristic.type===r.searchType["default"]||!e.$dirty}function y(e){if(!D._isSaving&&(e&&e.$validate&&e.$validate(),!e.$invalid))if(D.isCopy)if(D.copyEntity.hasSameValue())k("md"),a.alert({title:"modal.unableToComplete",message:"validcombinations.alertSameJurisdiction"});else{var t=[{description:"validcombinations.propertyType",isSelected:D.copyEntity.propertyType},{description:"validcombinations.category",isSelected:D.copyEntity.category},{description:"validcombinations.subType",isSelected:D.copyEntity.subType},{description:"validcombinations.basis",isSelected:D.copyEntity.basis},{description:"validcombinations.action",isSelected:D.copyEntity.action},{description:"validcombinations.status",isSelected:D.copyEntity.status},{description:"validcombinations.checklist",isSelected:D.copyEntity.checklist},{description:"validcombinations.relationship",isSelected:D.copyEntity.relationship}],o=_.filter(t,function(e){return e.isSelected===!0}),r={confirmationMessage:"validcombinations.confirmSaveCopyValidCombination",templateUrl:"condor/configuration/general/validcombination/copyvalidcombination-confirmation.html","continue":"modal.confirmation.save",cancel:"modal.confirmation.cancel",selectedCharacterisics:o,fromJurisdiction:D.copyEntity.fromJurisdiction.value};a.confirm(r).then(function(){D._isSaving=!0,i.copy(D.copyEntity).then(b,C)})}else D._isSaving=!0,D.entityState===n.adding||D.entityState===n.duplicating?i.add(D.entity,D.selectedCharacteristic).then(b,C):i.update(D.entity,D.selectedCharacteristic).then(b,C)}function b(e){"success"===e.data.result.result?(k("lg"),t.close(),null!==e.data.result.updatedKeys&&o.addSavedKeys(e.data.result.updatedKeys),D.isCopy||D.selectedCharacteristic.type!==r.searchType.action||D.entity.state!==n.adding&&D.entity.state!==n.duplicating||D.launchActionOrder()):"confirmation"===e.data.result.result?(D._isSaving=!1,d.confirm(D.entity,e.data.result,w)):(D._isSaving=!1,k("md"),a.alert({title:"modal.unableToComplete",message:e.data.result.message}))}function w(e){i.add(e,D.selectedCharacteristic).then(b,C)}function k(e){var t=s.getRegistry();angular.isDefined(t.Alert)&&null!==t.Alert&&(t.Alert.options.size=e)}function C(e){D._isSaving=!1,k("md"),a.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.errors,{field:null})})}var D=this;D.onCharacteristicsChanged=p,D.cancel=g,D.save=y,D.afterSave=b,D.afterSaveError=C,D.entity=l.entity,D.viewData=l.viewData,D.selectedCharacteristic=l.selectedCharacteristic,D.entityState=l.state,D.entity.state=l.state,D.searchCriteria=l.searchCriteria,D.launchActionOrder=angular.noop,D.isCopy=!1,D.copyEntity={},D.isCopyChanged=v,D.enableCopySave=angular.noop,D.initShortcuts=u,D.disable=f,D._isSaving=!1,D.characteristics=_.filter(D.viewData,function(e){return e.type!==r.searchType.allCharacteristics}),p(),D.dismissAll=function(e){return h(e)?void g():void a.discard().then(function(){g()})}}function ValidCombinationMaintenanceService(e,t,a,i,n,o,r,s,l,c,d){"use strict";function p(){return U.vc.bulkMenuOperations.anySelected(U.vc.gridOptions.data())}function u(e,t){U.modalOptions={viewData:t.viewData,selectedCharacteristic:t.selectedCharacteristics,searchCriteria:e.searchCriteria||t.vm.searchCriteria},U.vc=e,v(),d(g,500)}function m(e){U.modalOptions.searchCriteria=e}function v(){_.each(U.vc.actions,function(e){e.enabled=p});var e=_.find(U.vc.actions,function(e){return"edit"===e.id});e&&(e.click=$);var t=_.find(U.vc.actions,function(e){return"duplicate"===e.id});t&&(t.click=T);var a=_.find(U.vc.actions,function(e){return"delete"===e.id});a&&(a.click=E)}function g(){s.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){e.canOpen()&&U.vc.add()}}),s.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){var t=D();t.length>0&&e.canOpen()&&E()}})}function f(e){return e||r.$new()}function h(){return U.vc.bulkMenuOperations.clearAll(U.vc.gridOptions.data())}function y(e){return U.vc.bulkMenuOperations.selectAll(U.vc.gridOptions.data(),e)}function b(e){U.vc.bulkMenuOperations.selectPage(U.vc.gridOptions.data(),e)}function w(e){return e?(e&&e.inUse&&e.selected&&(e.inUse=!1),U.vc.bulkMenuOperations.singleSelectionChange(U.vc.gridOptions.data(),e)):U.vc.bulkMenuOperations.selectionChange(U.vc.gridOptions.data())}function k(){h(),n.reset(U.vc.context),n.updateData(U.vc.context,null,0,0)}function C(){return U.vc.bulkMenuOperations.selectedRecord(U.vc.gridOptions.data()).id}function D(){var e=U.vc.bulkMenuOperations.selectedRecords(U.vc.gridOptions.data());return _.pluck(e,"id")}function x(t){e.open("ValidCombinationMaintenance",f(),{modalOptions:function(){return{entity:t,state:U.modalOptions.state,viewData:U.modalOptions.viewData,selectedCharacteristic:U.modalOptions.selectedCharacteristic,searchCriteria:U.modalOptions.searchCriteria}}},null,"vm").then(function(){i.success(),void 0!==U.vc&&U.vc.search()})}function S(){U.modalOptions.state=t.adding,x({})}function I(){U.modalOptions.state=t.adding,e.open("ValidCombinationMaintenance",f(),{modalOptions:function(){return{entity:{},state:U.modalOptions.state,viewData:U.modalOptions.viewData,selectedCharacteristic:U.modalOptions.selectedCharacteristic,searchCriteria:U.modalOptions.searchCriteria}}},null,"vm").then(function(){i.success()})}function T(){a.get(C(),U.modalOptions.selectedCharacteristic).then(function(e){var a=angular.copy(e);U.modalOptions.state=t.duplicating,x(a)})}function $(e){var i=e||C();a.get(i,U.modalOptions.selectedCharacteristic).then(function(e){U.modalOptions.state=t.updating,x(e)})}function E(){i.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){O()})}function O(){a["delete"](D(),U.modalOptions.selectedCharacteristic).then(function(e){if(e.data.hasError){var t=U.vc.bulkMenuOperations.selectedRecords(U.vc.gridOptions.data()).length===e.data.inUseIds.length,a=t?c.instant("modal.alert.alreadyInUse"):c.instant("modal.alert.partialComplete")+"<br/>"+c.instant("modal.alert.alreadyInUse"),n=t?"modal.unableToComplete":"modal.partialComplete";U.vc.search(!1,!0).then(function(){i.alert({title:n,message:a})}),U.vc.bulkMenuOperations.selectionChange(U.vc.gridOptions.data(),R(e.data.inUseIds))}else i.success(e.data.message),U.vc.bulkMenuOperations.clearSelectedItemsArray(),U.vc.search()})}function A(){U.savedKeys=[]}function N(e){e instanceof Array?U.savedKeys=_.union(U.savedKeys,e):U.savedKeys.push(e)}function M(e){_.each(e,function(e){_.each(U.savedKeys,function(t){JSON.stringify(e.id)===JSON.stringify(t)&&(e.saved=!0)})})}function R(e){var t=[];return e&&e.forEach(function(e){t.push(F(e))},this),t}function P(e){return e&&e.data.forEach(function(e){e.id&&!e.compositeId&&(e.compositeId=F(e.id))},this),e}function F(e){return q(e.actionId)+q(e.basisId)+q(e.categoryId)+q(e.checklistId)+q(e.statusCode)+q(e.relationshipCode)+q(e.caseCategoryId)+q(e.caseTypeId)+q(e.countryId)+q(e.propertyTypeId)+q(e.subTypeId)}function q(e){return e?e:"-"}var U={vc:{},modalOptions:{},add:S,handleAddFromMainController:I,savedKeys:[],addSavedKeys:N,clearSavedRows:A,persistSavedData:M,initialize:u,bulkMenuClearSelection:h,bulkMenuSelectAll:y,bulkMenuSelectionChange:w,bulkMenuSelectPage:b,resetBulkMenu:k,edit:$,resetSearchCriteria:m,prepareDataSource:P};return U}function ValidCombinationService(e,t,a){"use strict";function i(a,i,n){h=a,y=i,b=n;var o=g.baseUrl+n+"/search";return e.get(o,{params:{criteria:JSON.stringify(a),params:i}}).then(function(e){return t.update(n,e.data.data.length,0),e.data})}function n(){var e=g.baseUrl+b+"/exportToExcel";window.location=e+"?criteria="+JSON.stringify(h)+"&params="+JSON.stringify(y)}function o(t,a){var i=g.baseUrl+t+"/validactions";return e.get(i,{params:{criteria:JSON.stringify(a)}})}function r(e){return g.baseUrl+e.type}function s(t,a){var i=r(a);return e.post(i,t)}function l(t,a){var i=r(a);return e.put(i,t)}function c(t,a){var i=JSON.stringify(t);return e.post(r(a)+"/delete",i)}function d(t,a){return e.get(r(a),{params:{entitykey:JSON.stringify(t)}}).then(function(e){return e.data})}function p(t){return e.post(g.baseUrl+"copy",t)}function u(t){var a=g.baseUrl+"action/updateactionsequence";return e.post(a,t)}function m(t,a,i){return f.cancel(),e.get(g.baseUrl+i+"/validateCategory",{params:{caseType:t,caseCategory:a},timeout:f.promise}).then(function(e){return e.data.result})}function v(){return e.get("api/picklists/jurisdictions/ZZZ").then(function(e){return e.data.data})}var g={baseUrl:"api/configuration/validcombination/",search:i,exportToExcel:n,add:s,update:l,"delete":c,get:d,validActions:o,copy:p,updateActionSequence:u,validateCategory:m,getDefaultCountry:v},f=a.cancellable();return g;var h,y,b}function ScreenTranslationsController(e,t,a,i,n,o,r){"use strict";function s(){b=new o,e.service=b,w.resetOptions=c,w.search=u,w.save=v,w.discard=g,w.download=h,w.isSearchDisabled=f,w.languages=n,w.showNoResults=l,w.gridOptions=p(),w.resultLanguageCode=null,w.resultLanguageDescription=null,w.heading=function(){return w.resultLanguageCode?"screenlabels.heading-by-languageCode":"screenlabels.heading-default"},w.searchCriteria={text:""},d(),y()}function l(){return null!=w.searchResults&&0===w.searchResults.length}function c(){return b.isDirty()?void r.unsavedchanges().then(function(e){"Save"===e?v().then(d):(b.discard(),d())}):void d()}function d(){w.searchForm&&w.searchForm.$reset(),w.gridOptions.clear(),w.searchCriteria={text:"",language:null,isRequiredTranslationsOnly:!0},w.selectedLanguage=null,w.searchResults=null,w.resultLanguageCode=null,w.resultLanguageDescription=null}function p(){return i.buildOptions(e,{id:"searchResults",pageable:!0,reorderable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: $parent.service.find(dataItem.id).isSaved(), edited: $parent.service.find(dataItem.id).isDirty(), error: $parent.service.find(dataItem.id).hasError()}"',read:function(e){var t=angular.extend(angular.copy(w.searchCriteria),{language:w.resultLanguageCode||w.selectedLanguage.culture});return b.search(t,e)},columns:[{title:"screenlabels.areaHeading",field:"areaKey",width:"200px",template:"{{::dataItem.areaKey | translate}}"},{title:"screenlabels.resourceKey",field:"key",width:"250px",sortable:!0},{title:"screenlabels.original",field:"original",width:"300px",oneTimeBinding:!0},{title:"screenlabels.translation",field:"translation",width:"300px",sortable:!0,template:"<ip-editable-screen-label translation='dataItem'><ip-editable-screen-label>"}]})}function u(){return b.isDirty()?void r.unsavedchanges().then(function(e){"Save"===e?v().then(m):(b.discard(),m())}):void m()}function m(){b.reset(),w.gridOptions.search().then(function(){w.resultLanguageCode=w.selectedLanguage.culture,w.resultLanguageDescription=w.selectedLanguage.description})}function v(){return b.save(w.resultLanguageCode).then(function(){r.success()})}function g(){return r.discard().then(function(){b.discard()})}function f(){return w.searchForm.$loading||w.searchForm.$invalid||!w.selectedLanguage}function h(){b.download()}function y(){a.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){b.isDirty()&&w.save()}}),a.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){b.isDirty()&&w.discard()}})}var b,w=this;w.$onInit=s}function ipSavedRequestViewController(e,t,a,i,n,o,r,s){"use strict";function l(){f.context="policingRequest",v=new o(f.context),g=n,f.topic.initialised=!0,f.onClickAdd=m,g.savedRequestIds.splice(0,g.savedRequestIds.length),p()}function c(){return v.anySelected(f.gridOptions.data())}function d(e){return void 0!==e&&null!==e?e:v.selectedRecord(f.gridOptions.data()).id}function p(){f.actions=[{
id:"runNow",icon:"cpa-icon cpa-icon-gears",text:"policing.request.action.runNow",enabled:c,maxSelection:1,click:f.runNowSelected},{id:"edit",enabled:c,maxSelection:1,click:function(){f.openSelectedRequest()}},{id:"duplicate",enabled:c,click:b,maxSelection:1},{id:"delete",enabled:c,click:f.deleteSelected}]}function u(){return[{field:"bulkMenu",headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.actions" data-context="policingRequest" data-on-clear="vm.clearAll()" is-full-selection-possible="false" data-on-select-this-page="vm.selectPage(val)" data-initialised="vm.menuInitialised()"></div>',template:'<ip-checkbox ng-model="dataItem.selected" data-ng-id="{{dataItem.id}}" ng-change="vm.selectionChange(dataItem)">',sortable:!1,width:"20px",locked:!0},{title:"policing.management.savedrequests.request-title",field:"title",template:'<a ng-click="vm.openSelectedRequest(dataItem.id)">{{ dataItem.title }}</a>',sortable:!0},{title:"policing.management.savedrequests.notes",field:"notes",sortable:!0}]}function m(){y(null)}var v,g,f=this;f.$onInit=l;var h=function(e,t){return f.gridOptions.search().then(function(){t?v.selectionChange(f.gridOptions.data(),t):f.clearAll()})},y=function(t){i.open("PolicingRequestMaintain",e,{request:t,canCalculateAffectedCases:f.viewData.canCalculateAffectedCases}).then(function(e){"Success"===e&&h(f.gridOptions.data())})},b=function(){var e=d();g.getRequest(e).then(function(e){e.requestId=null,e.title=e.title+" - Copy",y(e)})};f.openSelectedRequest=function(e){e=d(e),y(g.getRequest(e))},f.deleteSelected=function(){r.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){g["delete"](_.pluck(v.selectedRecords(f.gridOptions.data()),"id")).then(function(a){if("success"==a.data.status)r.success(),v.clearSelectedItemsArray(),f.gridOptions.search();else if("partialSuccess"==a.data.status){var i=t.instant("modal.alert.partialComplete")+"<br/>"+t.instant("modal.alert.alreadyInUse");h(f.gridOptions.data(),a.data.notDeletedIds),r.alert({title:"modal.partialComplete",message:i},e)}else"error"==a.data.status&&(v.selectionChange(f.gridOptions.data(),a.data.notDeletedIds),r.alert({title:"modal.unableToComplete",message:"policing.request.maintenance.errors."+a.data.error},e))})})},f.selectPage=function(e){v.selectPage(f.gridOptions.data(),e)},f.clearAll=function(){return v.clearAll(f.gridOptions.data())},f.runNowSelected=function(){var t=d(),a=g.getRequest(t);i.open("PolicingRequestRunNowConfirmation",e,{request:a,canCalculateAffectedCases:f.viewData.canCalculateAffectedCases}).then(function(e){e.runType&&g.runNow(t,e.runType).then(function(){r.success("policing.request.runNow.success"),f.clearAll()})})},f.menuInitialised=function(){v.initialiseMenuForPaging(f.gridOptions.pageable.pageSize)},f.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),v.singleSelectionChange(f.gridOptions.data(),e)},f.gridOptions=a.buildOptions(e,{id:"savedRequestsGrid",pageable:{pageSize:s.Keys.policing.savedRequests.pageNumber.getLocal},onPageSizeChanged:function(e){s.Keys.policing.savedRequests.pageNumber.setLocal(e)},scrollable:!1,autoBind:!0,resizable:!0,reorderable:!1,navigatable:!0,selectable:"row",autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',onSelect:function(){f.gridOptions.clickHyperlinkedCell()},read:function(e){return g.getRequests(e)},onDataCreated:function(){g.uiPersistSavedRequests(f.gridOptions.data()),v.selectionChange(f.gridOptions.data())},columns:u()})}function DataItemMaintenance(){return{restrict:"E",templateUrl:"condor/configuration/general/dataitem/directives/dataitemmaintenance.html",scope:{model:"=",maintenance:"=",state:"=?",src:"@?",errors:"=?",saveCall:"=?"},controller:"ipDataItemMaintenanceController",controllerAs:"vm"}}ErrorDetailsController.$inject=["$uibModalInstance","modalService","options","hotkeys"],FailureSummaryController.$inject=["viewInitialiser"],NewScheduleController.$inject=["$scope","$http","knownValues","dataSourceMap","url","keyLinkMap","options","$uibModalInstance","notificationService","hotkeys","modalService","$translate"],RecoverableCasesController.$inject=["$scope","$uibModalInstance","modalService","options","hotkeys","kendoGridBuilder"],RecoverableDocumentsController.$inject=["$scope","$uibModalInstance","modalService","options","hotkeys","kendoGridBuilder"],ScheduleController.$inject=["viewInitialiser"],SchedulesController.$inject=["$scope","$http","$location","$rootScope","$translate","knownValues","url","dataSourceMap","modalService","kendoGridBuilder","notificationService"],DataItemController.$inject=["$scope","kendoGridBuilder","menuSelection","dataItemService","dateService","notificationService","$timeout","modalService","BulkMenuOperations","hotkeys","states","$translate","pagerHelperService"],DataItemMaintenanceConfigController.$inject=["hotkeys","modalService","dataItemService","notificationService","$uibModalInstance","options","states","$translate"],DataItemService.$inject=["$http","LastSearch"],ImportanceLevelController.$inject=["$scope","kendoGridBuilder","importanceLevelService","workflowsEntryControlService","notificationService","$translate","hotkeys","kendoGridService"],ImportanceLevelService.$inject=["$http"],NameRestrictionsController.$inject=["$scope","viewData","kendoGridBuilder","nameRestrictionsService","menuSelection","modalService","notificationService","states","hotkeys","BulkMenuOperations","$translate","$timeout"],NameRestrictionsMaintenanceController.$inject=["$uibModalInstance","notificationService","nameRestrictionsService","states","hotkeys","modalService","options","nameRestrictionActions"],NameRestrictionService.$inject=["$http"],NameTypesController.$inject=["$scope","kendoGridBuilder","nameTypesService","menuSelection","modalService","notificationService","states","viewData","hotkeys","BulkMenuOperations","$translate","$timeout"],NameTypeMaintenanceController.$inject=["$uibModalInstance","notificationService","nameTypesService","states","hotkeys","modalService","options","$timeout"],NameTypesOrderController.$inject=["$uibModalInstance","kendoGridBuilder","$scope","nameTypesService","notificationService","hotkeys","modalService","utils","options","$timeout"],NameTypesService.$inject=["$http"],ChangeNumberTypeCodeController.$inject=["$uibModalInstance","notificationService","numberTypesService","hotkeys","modalService","options"],NumberTypesController.$inject=["$scope","kendoGridBuilder","numberTypesService","menuSelection","modalService","notificationService","states","viewData","hotkeys","BulkMenuOperations","$translate","$timeout"],NumberTypeMaintenanceController.$inject=["$uibModalInstance","notificationService","numberTypesService","states","hotkeys","modalService","options","$timeout"],NumberTypesOrderController.$inject=["$uibModalInstance","kendoGridBuilder","$scope","numberTypesService","notificationService","hotkeys","modalService","utils","options","$timeout"],NumberTypesService.$inject=["$http"],StatusController.$inject=["$state","$scope","kendoGridBuilder","supportData","menuSelection","statusService","modalService","notificationService","states","hotkeys","validCombinationConfig","BulkMenuOperations","$translate","$timeout"],StatusMaintenanceController.$inject=["$uibModalInstance","notificationService","statusService","states","hotkeys","modalService","options"],StatusService.$inject=["$http"],ChangeTextTypeCodeController.$inject=["$uibModalInstance","notificationService","textTypesService","hotkeys","modalService","options"],textTypesController.$inject=["$scope","kendoGridBuilder","textTypesService","menuSelection","modalService","notificationService","BulkMenuOperations","states","viewData","hotkeys","$translate"],TextTypeMaintenanceController.$inject=["$scope","$uibModalInstance","notificationService","textTypesService","states","hotkeys","modalService","options"],textTypesService.$inject=["$http"],ValidActionController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ActionOrderController.$inject=["kendoGridBuilder","$scope","validCombinationService","options","notificationService","hotkeys","modalService","utils","$timeout"],ValidBasisController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidCategoryController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidChecklistController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidJurisdictionController.$inject=["$scope","$stateParams","kendoGridBuilder","validCombinationService"],validCombinationConfirmationService.$inject=["notificationService"],validPicklistService.$inject=["$http"],ValidPropertyTypeController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidRelationshipController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidStatusController.$inject=["$scope","$stateParams","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidSubTypeController.$inject=["$scope","kendoGridBuilder","validCombinationService","validCombinationMaintenanceService","BulkMenuOperations"],ValidCombinationController.$inject=["$scope","kendoGridBuilder","$state","viewData","validCombinationConfig","validCombinationService","validCombinationMaintenanceService","modalService","selectedCaseType","$translate","defaultCountry","$transitions"],ValidCombinationMaintenanceController.$inject=["$scope","$uibModalInstance","notificationService","validCombinationService","states","validCombinationMaintenanceService","validCombinationConfig","modalService","modalOptions","hotkeys","validCombinationConfirmationService"],ValidCombinationMaintenanceService.$inject=["modalService","states","validCombinationService","notificationService","menuSelection","filterFilter","$rootScope","hotkeys","BulkMenuOperations","$translate","$timeout"],ValidCombinationService.$inject=["$http","menuSelection","utils"],ScreenTranslationsController.$inject=["$scope","$http","hotkeys","kendoGridBuilder","viewData","ScreenTranslationsService","notificationService"],$(function(){"use strict";$(document).on("keydown",function(e){if(13===e.which){var t=$(".modal-dialog .modal-footer").eq(0);if(t.length){var a=t.find(".btn"),i=t.find(".btn-discard"),n=t.find(".btn-primary");1===a.size()?a.click():1===n.size()?n.click():1===i.size()&&i.click()}}})}),function(){"use strict";var e=["inprotech.api","inprotech.core","inprotech.http","inprotech.localisation","inprotech.components","inprotech.configuration","inprotech.dashboard","inprotech.processing","inprotech.names","cpa.ui.icon","angular-loading-bar","inprotech.classic","inprotech.portal","inprotech.portfolio.cases","ApplicationInsightsModule","inprotech.accounting","inprotech.filters","ui.codemirror"];window.INPRO_DEBUG&&e.push("inprotech.dev"),window.INPRO_INCLUDE_E2E_PAGES&&e.push("inprotech.deve2e");var t=angular.module("inprotech",e);t.config(["$urlRouterProvider","$httpProvider","cfpLoadingBarProvider","$locationProvider","$compileProvider","$qProvider","applicationInsightsServiceProvider",function(e,t,a,i,n,o,r){window.INPRO_DEBUG&&e.otherwise("/dashboard");var s=window.localStorage.getItem("statisticsConsented"),l=window.localStorage.getItem("firmConsentedToUserStatistics"),c={applicationName:"inprotech",key:null,autoPageViewTracking:!1,autoStateChangeTracking:!1,autoLogTracking:!1,autoExceptionTracking:!1,sessionInactivityTimeout:12e4,developerMode:!1};if(s){var d=window.localStorage.getItem("appInsightsSettings");if(d&&"NOT_AVAILABLE"!==d){var p=JSON.parse(d);c.key=p.key,c.autoPageViewTracking=p.sessionTracking,c.autoStateChangeTracking=p.sessionTracking,c.autoExceptionTracking=p.exceptionTracking}}l&&s&&window.inproInitGtag&&(inproInitGtag(),inproInitGtag=void 0),r.configure(c.key,c),t.interceptors.push("errorinterceptor"),t.useApplyAsync(!0),t.interceptors.push("blockUiInterceptor"),a.includeSpinner=!1,a.includeBar=!0,i.hashPrefix(""),n.aHrefSanitizationWhitelist(/^\s*(https?|mailto|ftp|inprotech-ext|iwl|file):/)}]),t.config(["$urlServiceProvider",function(e){e.deferIntercept()}]),t.run(["$rootScope","$transitions","$filter","$state",function(e,t,a,i){function n(e,t,a){var i=_.last(e.footprints);return!!i&&(_.isEqual(t,i.from)&&_.isEqual(a,i.fromParams))}function o(e,t){return 0===e.name.indexOf(t.name)&&e.name!==t.name}function r(e,t){var a=e.split(".")[0],i=t.split(".")[0];return a===i}var s=function(){var e="Inprotech",t=i.current;if(t.data){if(t.data.pageTitle){var n=a("translate"),o=n(t.data.pageTitle);o&&(e=o+" - "+e)}t.data.pageTitlePrefix&&(e=t.data.pageTitlePrefix+" - "+e)}document.title=e;var r=window.localStorage.getItem("statisticsConsented");r&&window.ga&&setTimeout(function(){window.ga.getAll().forEach(function(t){t.set("page",window.location.href),t.set("title",e),t.send("pageview")})},0)};e.setPageTitlePrefix=function(e,t){var a=t?i.get(t):i.current;a&&(a.data||(a.data={}),a.data.pageTitlePrefix=e),s()};var l=function(){s()},c=function(e){e.from().name!==e.to().name&&e.from().data&&(e.from().data.pageTitlePrefix=null)},d={to:function(e){return e.data&&e.data.pageTitle?e:null},testId:"titleListener"},p={from:function(e){return e.data&&e.data.pageTitlePrefix?e:null},testId:"titlePrefixCleaner"};t.onSuccess(d,l),t.onExit(p,c);var u=function(t){var a=t.to();e.pageCssClass=a.name.split(".").map(function(e){return e.split(/(?=[A-Z])/).join("-").toLowerCase()}).join(" ")};t.onSuccess({testId:"addPageCssClass"},u);var m=function(e,t){var a=e.to(),i=e.from(),s=e.params(),l=e.params("from");t.name===a.name&&(a.footprints=i.footprints||[],_.isEqual(i,a)||(a.footprints&&a.footprints.length>0&&(n(i,a,s)||o(i,a))?a.footprints.splice(-1,1):""!==i.name&&a.footprints.push({from:i,fromParams:l})),_.each(a.footprints,function(e){r(a.name,e.from.name)&&(e.fromParams=_.extend({},e.fromParams,_.pick(s,_.keys(e.fromParams))))}))},v=function(e,t){var a=e.to();if(t.name===a.name){var i=e.from(),r=e.params();a.footprints&&a.footprints.length>0&&(n(i,a,r)||o(i,a))&&a.footprints.splice(-1,1)}};t.onEnter({testId:"footprintsListenerOnEnter"},m),t.onRetain({testId:"footprintsListenerOnRetain"},v)}]),t.run(["localise","$window","$document","layout",function(e,t,a,i){$(t).on("resize",i.detectViewportChanges)}]),t.run(["$transitions","$rootScope","$window","$state",function(e,t,a,i){a.location.hash.indexOf("/hosted/")>-1&&(t.isHosted=!0,e.onBefore({},function(e){if(t.isHosted&&""!==e.from().name){var n=i.href(e.to().name,e.params(),{absolute:!0,inherit:!1});return a.open(n,"_blank"),!1}})),e.onError({},function(e){var a=e.from(),i=e.to();t.toState,t.params=null,e._error.detail&&401===e._error.detail.status&&a.name!==i.name&&(t.toState=i.name,t.params=e.params("to"))})}]),t.run(["$state","$transitions","store","appContext","applicationInsightsService",function(e,t,a,i,n){var o="portal2",r="homePageState";n.options&&n.options.instrumentationKey&&n.trackPageView(),t.onBefore({to:"home"},function(e){return i.then(function(t){var a=t.user.preferences.homePageState;return a?e.router.stateService.target(a.name,a.params):e.router.stateService.target(o)})}),t.onError({from:"home"},function(t){return i.then(function(i){var n=i.user.preferences.homePageState;if(n&&n.name===t.to().name){var s={name:o};a.local.set(r,s),e.go("home")}})})}])}(),angular.module("inprotech.core",["ui.router","ui.router.upgrade","pascalprecht.translate","tmh.dynamicLocale","restmod","cfp.hotkeys","ui.bootstrap","inprotech.core.extensible","ngSanitize","inprotech.downgrades"]),angular.module("inprotech.core").config(["$stateProvider","hotkeysProvider","tmhDynamicLocaleProvider",function(e,t,a){"use strict";var i=e.state;e.state=function(t,a){return a.resolve=angular.extend({},{appContext:"appContext"},a.resolve),i.apply(e,arguments)},a.localeLocationPattern("condor/i18n/angular-locale_{{locale}}.js"),t.includeCheatSheet=!1}]),angular.module("inprotech.core").run(["hotkeyService",function(e){"use strict";e.init()}]),angular.module("inprotech.core").provider("appContext",["$translateProvider",function(e){"use strict";this.$get=["$rootScope","$http","$q","$translate","tmhDynamicLocale",function(t,a,i,n,o){function r(t,i){var n=i||"condor/localisation/translations/translations_"+t+".json";return a.get(n+"?revalidate=yes",{handlesError:l}).then(function(a){e.translations(t,s(a.data))})["catch"](angular.noop)}function s(e){return _.each(e,function(t,a){null==t?e[a]=a:_.isObject(t)&&s(t)}),e}function l(e,t){return 404===t}var c,d=[];return d.push(r("en")),d.push(a.get("api/enrichment").then(function(e){var t=e.data;c={user:t.intendedFor,userAgent:t.userAgent,systemInfo:t.systemInfo,programs:t.programs,isWindowsAuthOnly:t.isWindowsAuthOnly,gaKey:(t.gaSettings||{}).key},c.user.preferences.culture||(c.user.preferences.culture="en");var a=c.user.preferences.culture,n=c.user.preferences.resources||[],s=[];return"en"!==a?(a&&a.length>=5&&s.push(o.set(a)),_.each(n,function(e){e.code&&s.push(r(e.code,e.path))}),i.all(s)):i.resolve()})),i.all(d).then(function(){var e=c.user.preferences.culture,a=[e];return e&&e.length>=5&&a.push(e.substr(0,2)),_.indexOf(a,"en")===-1&&a.push("en"),n.fallbackLanguage(a),n.use(e),t.appContext=c,t.appContext})}]}]),angular.module("inprotech.core").factory("comparer",function(){"use strict";return{comparePickList:function(e,t,a){return e=null==e||null==e[a]?null:e,t=null==t||null==t[a]?null:t,e===t||(null==e?null==t:null==t?null==e:e[a]===t[a])}}}),angular.module("inprotech.core").factory("dateHelper",function(){"use strict";return{addDays:function(e,t){return 0===t?e:t>0?moment.utc(e).add(t,"days").toDate():moment.utc(e).subtract(t*-1,"days").toDate()},setTime:function(e,t,a){return null==t&&null==a?e:(null==e&&(e=new Date),null!=t&&(e=moment.utc(e).set({h:t}).toDate()),null!=a&&(e=moment.utc(e).set({m:a}).toDate()),e)},getTime:function(e){if(null==e)return{hours:0,minutes:0};var t=moment.utc(e);return{hours:t.hours(),minutes:t.minutes()}},convertForDatePicker:function(e){return e instanceof Object&&e.getDate?e:e?moment.utc(e).toDate():null},areDatesEqual:function(e,t){return moment(e).isSame(moment(t))},toLocal:function(e){return moment(e).format("YYYY-MM-DD")},addMonths:function(e,t){return 0===t?e:t>0?moment.utc(e).add(t,"months").toDate():moment.utc(e).subtract(t*-1,"months").toDate()}}}),angular.module("inprotech.core.extensible",[]),angular.module("inprotech.core.extensible").factory("ExtObjContext",["ExtObject","pubsub",function(e,t){"use strict";function a(e){if(!Array.isArray(e))throw new Error("extensions must be an array.");var t=this;t.$ctx={listeners:{},extensions:e,items:[],map:{}},e.forEach(function(e){e.initContext&&e.initContext(t)})}return angular.extend(a.prototype,t,{find:function(e){return this.$ctx.map[e]},getItems:function(){return this.$ctx.items},attach:function(t,a){var i=this,n=t[a||"id"],o=new e(t,i.$ctx.extensions);return o.$ctx.parent=i,null!==n&&(i.$ctx.map[n]=o),i.$ctx.items.push(o),o},$broadcast:function(e){var t=Array.prototype.slice.call(arguments).slice(1);this.$ctx.items.forEach(function(a){angular.isFunction(a[e])&&a[e].apply(a,t)})}}),a}]),angular.module("inprotech.core.extensible.extensions",[]),angular.module("inprotech.core.extensible.extensions").factory("dirtyCheck",function(){"use strict";function e(e){var t=this;return e?!!t.$ctx.dirty[e]:Object.keys(t.$ctx.dirty).length>0}function t(e,t){if(e){var a=this.isDirty();if(t==a)return;t?this.$ctx.dirty[e]=!0:delete this.$ctx.dirty[e];var i=this.isDirty();a!==i&&this.$publish("onDirtyChanged",i)}}function a(){var e=this;return e.$ctx.dirty}function i(e,t){var a;if(this.$equals){var i=this.$equals(e,t,this.$ctx.copy[e]);null!=i&&(a=!i)}null==a&&(a=!angular.equals(t,this.$ctx.copy[e]));var n=this.isDirty();a?this.$ctx.dirty[e]=!0:delete this.$ctx.dirty[e];var o=this.isDirty();n!==o&&this.$publish("onDirtyChanged",o)}function n(){this.isDirty()&&(this.$ctx.dirty={},this.$publish("onDirtyChanged",!1))}return{dependsOn:["restorable"],initObject:function(o){o.$ctx.dirty={},o.isDirty=e,o.getDirtyItems=a,o.setDirty=t,o.$subscribe("onValueChanged",i),o.$subscribe("onRestored",n),o.$subscribe("onSaved",n),o.$subscribe("onDirtyChanged",function(e){var t=o.$ctx.parent;if(t){var a=t.isDirty();e?t.$ctx.dirtyCount++:t.$ctx.dirtyCount--;var i=t.isDirty();a!==i&&t.$publish("onDirtyChanged",i)}})},initContext:function(e){e.$ctx.dirtyCount=0,e.isDirty=function(){return e.$ctx.dirtyCount>0},e.getDirtyItems=function(){return e.getItems().filter(function(e){return e.isDirty()})}}}}),angular.module("inprotech.core.extensible.extensions").factory("observableArray",function(){"use strict";function e(e){Object.keys(e.$ctx.obj).forEach(function(a){var i=e.$ctx.obj[a];Array.isArray(i)&&t(i,function(){e.$publish("onValueChanged",a,e.$ctx.obj[a])})})}function t(e,t){a.forEach(function(a){e[a]=function(){Array.prototype[a].apply(e,arguments),t&&t()}})}var a=["push","pop","shift","unshift","splice"];return{dependsOn:["dirtyCheck"],initObject:function(t){e(t),t.$subscribe("onRestored",function(){e(t)})}}}),angular.module("inprotech.core.extensible.extensions").factory("restorable",function(){"use strict";function e(){var e=this;return e.$ctx.obj=angular.copy(e.$ctx.copy),e.$publish("onRestored"),e}function t(){this.$broadcast("restore")}function a(e){e.$ctx.copy=angular.copy(e.$ctx.obj)}return{initObject:function(t){a(t),t.restore=e,t.$subscribe("onSaved",function(){a(this)})},initContext:function(e){e.restore=t}}}),angular.module("inprotech.core.extensible.extensions").factory("savable",function(){"use strict";function e(e){return e?Boolean(this.$ctx.save[e]):Object.keys(this.$ctx.save).length>0}function t(){var e=this;e.isDirty()&&(Object.keys(e.$ctx.dirty).forEach(function(t){e.$ctx.save[t]=!0}),e.$publish("onSaved",e))}function a(){this.$broadcast("save",!0)}function i(e){delete this.$ctx.save[e]}return{dependsOn:["dirtyCheck"],initObject:function(a){a.$ctx.save={},a.isSaved=e,a.save=t,a.$subscribe("onValueChanged",i)},initContext:function(e){e.save=a}}}),angular.module("inprotech.core.extensible.extensions").factory("validatable",function(){"use strict";function e(e,t){var a=this;if(!angular.isUndefined(t)){var i=a.$ctx.error[e];t?a.$ctx.error[e]=t:delete a.$ctx.error[e];var n=a.$ctx.error[e];return i!==n&&a.$publish("onErrorChanged",n),a}return e?!!a.$ctx.error[e]:Object.keys(a.$ctx.error).length>0}function t(e){var t=this;return e?t.$ctx.error[e]:null}function a(){this.hasError()&&(this.$ctx.error={},this.$publish("onErrorChanged",!1))}return{initObject:function(i){i.$ctx.error={},i.hasError=e,i.getError=t,i.$subscribe("onRestored",a),i.$subscribe("onErrorChanged",function(e){var t=i.$ctx.parent;t&&(e?t.$ctx.errorCount++:t.$ctx.errorCount--)})},initContext:function(e){e.$ctx.errorCount=0,e.hasError=function(){return e.$ctx.errorCount>0},e.getInvalidItems=function(){return e.getItems().filter(function(e){return e.hasError()})}}}}),angular.module("inprotech.core.extensible").factory("ExtObjFactory",["ExtObjContext","ExtObject",function(e,t){"use strict";function a(){this.$extensions=[]}function i(e){e.forEach(function(t){return t.dependsOn?void t.dependsOn.forEach(function(t){var a=e.some(function(e){return e.name===t});if(!a)throw new Error("dependency not found: "+t)}):null})}function n(e,t){if(angular.isString(t)){var a=o.get(t);a.name=a.name||t,e.$extensions.push(a)}else Array.isArray(t)?t.forEach(function(t){n(e,t)}):e.$extensions.push(t)}var o=angular.injector(["inprotech.core.extensible.extensions"]),r=["restorable","dirtyCheck","savable","validatable"];return a.prototype={useDefaults:function(){return this.use.call(this,r),this},use:function(e){return n(this,e),i(this.$extensions),this},createObj:function(e){return new t(e,this.$extensions)},createContext:function(){return new e(this.$extensions)}},a}]),angular.module("inprotech.core.extensible").factory("ExtObject",["pubsub",function(e){"use strict";function t(e,t){if(!angular.isObject(e))throw new Error("obj must be an object.");if(!Array.isArray(t))throw new Error("extensions must be an array.");var a=this;a.$ctx={obj:e,listeners:{}},t.forEach(function(e){e.initObject&&e.initObject(a)}),Object.keys(e).filter(function(e){return/^[$_]/.test(e)===!1}).forEach(function(e){Object.defineProperty(a,e,{get:function(){return a.$ctx.obj[e]},set:function(t){var i=a.$ctx.obj[e];a.$ctx.obj[e]=t,a.$publish("onValueChanged",e,t,i)}})})}return angular.extend(t.prototype,e,{getRaw:function(){return this.$ctx.obj}}),t}]),angular.module("inprotech.core.extensible").factory("pubsub",function(){"use strict";return{$subscribe:function(e,t){if(!angular.isString(e))throw new Error("event must be a string.");if(!angular.isFunction(t))throw new Error("listener must be a function");var a=this,i=a.$ctx.listeners[e];i||(i=a.$ctx.listeners[e]=[]),i.push(t)},$publish:function(e){var t=this,a=t.$ctx.listeners[e];if(a){var i=Array.prototype.slice.call(arguments);i.shift(),a.forEach(function(e){e.apply(t,i)})}}}}),angular.module("inprotech.core").factory("hotkeyService",["$transitions","$translate","hotkeys",function(e,t,a){"use strict";var i=[],n={init:function(){var i=a.add;a.add=function(e){null==e.allowIn&&(e.allowIn=["INPUT","SELECT","TEXTAREA"]),null==e.persistent&&(e.persistent=!1),e.description=t.instant(e.description);var n=e.callback;return e.callback=function(e){n.apply(null,arguments)||e.preventDefault()},i.apply(a,arguments)},e.onSuccess({},n.reset)},reset:function(){i=[],a.purgeHotkeys()},push:function(){i.push(n.clone()),a.purgeHotkeys()},pop:function(){a.purgeHotkeys(),n.add(i.pop())},clone:function(){var e=_.chain(a.get()||[]).filter(function(e){return!e.persistent}).map(function(e){return{combo:e.combo[0],description:e.description,allowIn:e.allowIn,callback:e.callback}}).value();return e},add:function(e){e&&e.forEach(function(e){a.add(e)})},get:function(){return i}};return n}]),angular.module("inprotech.core").service("messageBroker",["utils","scheduler",function(e,t){"use strict";function a(){var e=$.hubConnection();i=e,e.url="signalr";var a=_.keys(o).join(",");e.qs={bindings:a};var r=e.createHubProxy("messageBroker");return r.on("receive",function(e,a){t.runOutsideZone(function(){n("RECEIVED. arguments=",JSON.stringify(arguments)),o[e]&&o[e](a)})}),n("CONNECTING. hub=messageBroker; bindings=",a),e.disconnected(function(){t.runOutsideZone(function(){e.lastError?n("DISCONNECTED. errors=",e.lastError.message):n("DISCONNECTED")})}),e.reconnecting(function(){t.runOutsideZone(function(){n("RECONNECTING")})}),e.reconnected(function(){t.runOutsideZone(function(){n("RECONNECTED")})}),e.start({transport:["webSockets","serverSentEvents","longPolling"]}).done(function(){t.runOutsideZone(function(){n("CONNECTED. connection_id=",e.id)})}).fail(function(){t.runOutsideZone(function(){n("CONNECTION FAILED")})})}var i,n=e.debug,o={};this.subscribe=function(e,t){if(!e)throw"binding cannot be null";o[e]=t},this.connect=function(){t.runOutsideZone(a)},this.disconnect=function(){i&&(n("DISCONNECTING"),i.stop(),o={},i=null)}}]),angular.module("inprotech.core").filter("moment",["$rootScope",function(e){"use strict";return function(t,a){if(!t)return"";var i,n,o=e.appContext.user,r=t.input&&t.inputFormat?moment(t.input,t.inputFormat):moment(t);return o&&(i=o.preferences.culture,n=o.preferences.dateFormat),i=i||e.appContext.userAgent.languages[0],i&&(r=r.locale(i)),n=n&&"d"!==n?n.toUpperCase():"ll",a&&(n=a),r.format(n)}}]),angular.module("inprotech.core").factory("store",["$rootScope",function(e){"use strict";function t(){return"inprotech[user="+e.appContext.user.name+"]."}function a(){this.items={}}function i(e,t){this._storage=e,this._defaults=t}_.extend(a.prototype,{setItem:function(e,t){this.items[e]=t},getItem:function(e){return this.items[e]},removeItem:function(e){delete this.items[e]}}),_.extend(i.prototype,{setWithoutPrefix:function(e,t){this._storage.setItem(e,JSON.stringify(t))},set:function(e,a){this._storage.setItem(t()+e,JSON.stringify(a))},get:function(e){var a=this._storage.getItem(t()+e);if(null!=a&&"undefined"!==a||(a=this._defaults.getItem(e)),null==a)return a;try{return JSON.parse(a)}catch(i){return this._defaults.getItem(e)}},remove:function(e){this._storage.removeItem(t()+e)},"default":function(e,t){this._defaults.setItem(e,JSON.stringify(t))}});var n="1"===localStorage.getItem("preferenceConsented");return{local:new i(n?window.localStorage:new a,new a),session:new i(n?window.sessionStorage:new a,new a)}}]),angular.module("inprotech.core").factory("utils",["$q","$log",function(e,t){"use strict";function a(){this.reset()}return a.prototype={cancel:function(){this.deferred&&this.deferred.resolve(),this.reset()},reset:function(){this.deferred=e.defer(),this.promise=this.deferred.promise}},{extendWithDefaults:function(e,t){_.each(t,function(t,a){"undefined"==typeof e[a]&&(e[a]=t)})},cancellable:function(){return new a},debug:function(){if(window.INPRO_DEBUG){var e=_.toArray(arguments);t.debug.apply(t,e)}},safeApply:function(e,t){var a=e.$root.$$phase;"$apply"===a||"$digest"===a?t&&e.$eval(t):t?e.$apply(t):e.$apply()},steps:function(){var e=_.toArray(arguments),t=function(a){return function(){a<e.length&&e[a+1](t(a+1))}};e[0](t(0))}}}]),angular.module("inprotech.http",["inprotech.core"]),angular.module("inprotech.http").factory("blockUiInterceptor",["$q","$injector",function(e,t){"use strict";function a(){o?setTimeout(function(){o&&o.close(),o=null},100):r=!0}function i(e){return"PUT"===e.method||"POST"===e.method||"DELETE"===e.method}function n(t){return r=!0,a(),e.reject(t)}var o,r;return{request:function(e){if(i(e)){var a=t.get("$uibModal");r=!1,setTimeout(function(){r||(o=a.open({templateUrl:"condor/http/block.html",windowClass:"block-modal-window",backdrop:"static",size:"s"}))},300)}return e},response:function(e){return r=!0,i(e.config)&&a(),e},requestError:n,responseError:n}}]),function(){"use strict";angular.module("inprotech.http").factory("errorinterceptor",["$q","$translate","$injector","$rootScope","$window",function(e,t,a,i,n){var o=function(e,i){var n,o="common.errors.status-",r=a.get("notificationService");n=500===e&&i?"500-with-token":_.contains([1,403,404,500],e)?e:"other",n=o+n,t(n,{correlationId:i}).then(function(e){r.alert({message:e})},function(){r.alert({title:"Error",message:"An unexpected error has occured. Please try again. If the problem persists, contact an Administrator",okButton:"Ok"})})};return{request:function(t){return t||e.when(t)},requestError:function(t){return o(1,null),e.reject(t)},responseError:function(t){var i=t.status===-1,r=t.config.handlesError,s=t.data||{};if(401===t.status){var l=a.get("modalService"),c=a.get("$rootScope");c.appContext?l.isOpen("Login")||l.open("Login")["catch"](function(){window.location.href="signin#/?goto="+encodeURIComponent(n.location)}):window.location.href="signin#/?goto="+encodeURIComponent(n.location)}else i||r===!0||_.isObject(r)&&r(s,t.status,t)||o(0===t.status?1:t.status,s.correlationId);return e.reject(t)}}}])}(),angular.module("inprotech.localisation",["inprotech.core","pascalprecht.translate"]).config(["$translateProvider",function(e){"use strict";e.useSanitizeValueStrategy("escape")}]),function(){"use strict";angular.module("inprotech.api",["inprotech.core","inprotech.api.extensions"]),angular.module("inprotech.api").config(["restmodProvider",function(e){e.rebase({$config:{style:"DotNetStyle",urlPrefix:"api",primaryKey:"id"},$extend:{Model:{encodeUrlName:function(e){return e.toLowerCase()}}}})}])}(),function(){"use strict";angular.module("inprotech.api.extensions",["restmod"])}(),function(e){"use strict";e.module("restmod").factory("DuplicateModel",["restmod",function(t){
return t.mixin(function(){this.define("$duplicate",function(t){var a={};return this.$action(function(){var i=this.$type;return this.$each(function(n,o){var r=i.$$getDescription(o),s=t&&t.indexOf(o)===-1||!t;r&&r.relation||!s||(a[o]=e.copy(n))}),a}),a})})}])}(angular),function(){"use strict";angular.module("inprotech.api.extensions").factory("dirtyCheck",["restmod",function(e){return e.mixin("DirtyModel",{$extend:{Resource:{$isDirty:function(){return this.$isCollection?_.any(this,function(e){return e.$dirty().length>0||e.$isNewOrDeleted()}):this.$dirty().length>0},$setPristine:function(){var e=this.$cmStatus={};this.$each(function(t,a){e[a]=t})}},Collection:{$filterOutUnchanged:function(){_.each(this,function(e){e.$dirty()});var e=_.filter(this,function(e){return"none"!==e.state&&!e.$isFakeDelete()});return this.$collection().$unwrap(e)}},Record:{$dirty:function(e){var t=this.$super(e);return angular.isArray(t)?_.difference(t,["state"]):t},$isNewOrDeleted:function(){return"added"===this.state||"deleted"===this.state},$isNew:function(){return null==this.id},$isFakeDelete:function(){return this.$isNew()&&"deleted"===this.state}}}})}])}(),function(){"use strict";angular.module("inprotech.api.extensions").factory("ignoreAttributes",["restmod",function(e){return e.mixin({error:{mask:!0},marked:{mask:!0}})}])}(),function(){"use strict";angular.module("inprotech.api.extensions").factory("stateFlag",["restmod",function(e){return e.mixin("dirtyCheck",{state:{init:"none"},$extend:{Resource:{$markDeleted:function(){this.$isCollection?_.each(this,function(e){e.marked&&(e.state="deleted")}):this.state="deleted"},$build:function(){var e=this.$super();return e.state="added",e}},Record:{$revertDelete:function(){this.state="none",this.error="",this.$dirty()},$dirty:function(e){var t=this.$super(e);return"none"===this.state||"saved"===this.state?this.$isNew()?this.state="added":angular.isArray(t)&&t.length>0&&(this.state="updated"):"updated"===this.state&&angular.isArray(t)&&0===t.length&&(this.state="none"),t}}}})}])}(),function(e){"use strict";e.module("restmod").factory("ValidationModel",["restmod",function(e){return e.mixin(function(){this.on("before-save",function(){this.$validationerrors=[]}).on("after-save",function(e){this.$validationerrors=e.data.errors||[]}).define("$error",function(e){return e?_.find(this.$validationerrors,{field:e}):(this.$validationerrors||[]).length})})}])}(angular),angular.module("Inprotech",["Inprotech.Infrastructure","Inprotech.Utilities","Inprotech.Localisation"]);var classic=angular.module("inprotech.classic",["ui.router","ui.router.upgrade","Inprotech","inprotech.financialReports","Inprotech.BulkCaseImport","Inprotech.Integration.PtoAccess","Inprotech.CaseDataComparison","Inprotech.Integration.ExternalApplication","Inprotech.SchemaMapping"]);classic.config(["$httpProvider",function(e){e.interceptors.push("localisedResourcesInterceptor")}]),angular.module("Inprotech.BulkCaseImport",["Inprotech","inprotech.components"]).config(["$stateProvider",function(e){e.state("classicBulkCaseImport",{url:"/bulkcaseimport/import",templateUrl:"condor/classic/bulkCaseImport/home.html",controller:"homeController",resolve:{viewInitialiser:["http",function(e){return e.get("api/bulkCaseImport/homeView").success(function(e){return e})}]},data:{pageTitle:"bulkCaseImport.pageTitle"}}).state("classicBulkCaseImportStatus",{url:"/bulkcaseimport",templateUrl:"condor/classic/bulkCaseImport/importStatus.html",controller:"importStatusController",controllerAs:"vm",resolve:{permissions:["http",function(e){return e.get("api/bulkCaseImport/permissions").success(function(e){return e})}]},data:{pageTitle:"bulkCaseImport.pageTitle"}}).state("classicBulkCaseIssuesName",{url:"/bulkcaseimport/issues/name/:batchId",templateUrl:"condor/classic/bulkCaseImport/nameIssues.html",controller:"nameIssuesController",resolve:{viewInitialiser:["http","$stateParams",function(e,t){return e.get("api/bulkCaseImport/nameIssuesView?batchId="+t.batchId).success(function(e){return e})}]},data:{pageTitle:"bulkCaseImport.pageTitle"}}).state("classicBulkCaseIssuesMapping",{url:"/bulkcaseimport/issues/mapping/:batchId",templateUrl:"condor/classic/bulkCaseImport/mappingIssues.html",controller:"mappingIssuesController",resolve:{viewInitialiser:["http","$stateParams",function(e,t){return e.get("api/bulkCaseImport/mappingIssuesView?batchId="+t.batchId).success(function(e){return e})}]},data:{pageTitle:"bulkCaseImport.pageTitle"}}).state("classicBulkCaseBatchSummary",{url:"/bulkcaseimport/batchSummary/:batchId",templateUrl:"condor/classic/bulkCaseImport/batchSummary.html",controller:"batchSummaryController",controllerAs:"vm",resolve:{batch:["http","$stateParams",function(e,t){return t.batchIdentifier?{id:t.batchId,name:t.batchIdentifier,transReturnCode:t.transReturnCode}:e.get("api/bulkCaseImport/batchsummary/batchidentifier?batchId="+t.batchId).success(function(e){return e})}]},data:{pageTitle:"bulkCaseImport.pageTitle"}}).state("classicBulkCaseBatchSummaryReturnCode",{url:"/bulkcaseimport/batchSummary/:batchId/:transReturnCode",templateUrl:"condor/classic/bulkCaseImport/batchSummary.html",controller:"batchSummaryController",controllerAs:"vm",resolve:{batch:["http","$stateParams",function(e,t){return t.batchIdentifier?{id:t.batchId,name:t.batchIdentifier,transReturnCode:t.transReturnCode}:e.get("api/bulkCaseImport/batchsummary/batchidentifier?batchId="+t.batchId+"&transReturnCode="+t.transReturnCode).success(function(e){return e})}]},data:{pageTitle:"bulkCaseImport.pageTitle"}})}]).run(["modalService",function(e){e.register("ImportStatusErrorPopup","ImportStatusErrorPopupController","condor/classic/bulkCaseImport/import-status-error-popup.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm"})}]),angular.module("Inprotech.BulkCaseImport").factory("bulkCaseImportService",["$http",function(e){"use strict";var t={getImportStatus:function(t){return e.get("api/bulkCaseImport/importStatus",{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},getImportStatusColumnFilterData:function(t){return e.get("api/bulkCaseImport/importStatus/filterData/"+t).then(function(e){return e.data})},getBatchSummary:function(t,a,i){return e.get("api/bulkCaseImport/batchSummary?batchId="+t+(a?"&transReturnCode="+a:""),{params:{params:JSON.stringify(i)}}).then(function(e){return e.data})},getBatchSummaryColumnFilterData:function(t,a,i){return e.get("api/bulkCaseImport/batchSummary/filterData/"+i+"?batchId="+t+(a?"&transReturnCode="+a:"")).then(function(e){return e.data})}};return t}]),angular.module("Inprotech.BulkCaseImport").controller("addCandidateController",["$scope","http","url",function(e,t,a){"use strict";e.status="idle",e.nameSelected=null,e.nameSourceList=function(e){return t.get(a.api("lists/names?type=all&"+a.query({q:encodeURIComponent(e)})))};var i=function(i){e.selectCandidateById(parseInt(i.key))||(e.status="busy",t.get(a.api("bulkcaseimport/unresolvedname/candidates?"+a.query({id:e.selectedUnresolved.id,candidateId:i.key}))).success(function(t){e.selectedUnresolved.mapCandidates.splice(0,0,t.mapCandidates[0]),e.onCandidateSelected(e.selectedUnresolved.mapCandidates[0]),e.selectedAutomatically=!0,e.status="idle"})["catch"](function(){e.status="idle"}))};e.$watch("nameSelected",function(t){t&&(i(t),e.nameSelected=null)})}]),angular.module("Inprotech.BulkCaseImport").controller("batchSummaryController",["$scope","kendoGridBuilder","bulkCaseImportService","url","localSettings","batch",function(e,t,a,i,n,o){"use strict";function r(){l.viewData={batchId:o.id,batchIdentifier:o.name,transReturnCode:o.transReturnCode},l.gridOptions=s()}function s(){return t.buildOptions(e,{id:"bulkImportSummary",autoBind:!0,navigatable:!0,sortable:!1,scrollable:!0,pageable:{pageSize:n.Keys.caseImport.batchSummary.pageNumber.getLocal},onPageSizeChanged:function(e){n.Keys.caseImport.batchSummary.pageNumber.setLocal(e)},selectable:"row",read:function(e){return a.getBatchSummary(l.viewData.batchId,l.viewData.transReturnCode,e)},readFilterMetadata:function(e){return a.getBatchSummaryColumnFilterData(l.viewData.batchId,l.viewData.transReturnCode,e.field)},filterOptions:{sendExplicitValues:!0},autoGenerateRowTemplate:!0,columns:[{title:"bulkCaseImport.bsLblTransId",field:"id",width:"78px"},{title:"bulkCaseImport.bsLblTransStatus",field:"status",width:"100px",filterable:!0},{title:"bulkCaseImport.bsLblResult",field:"result",width:"70px",fixed:!0},{title:"bulkCaseImport.bsLblCaseRef",field:"caseReference",width:"82px",template:'<ip-ie-only-url ng-if="::dataItem.caseReference" data-url="vm.gotoInprotech(dataItem.caseReference)" data-text="dataItem.caseReference"></ip-ie-only-url>',fixed:!0},{title:"bulkCaseImport.bsLblIssues",field:"issues",width:"190px",fixed:!0,template:'<ul ng-if="dataItem.issues!= null && dataItem.issues.length>0" style="margin-bottom: 0px"><li data-ng-repeat="i in ::dataItem.issues track by $index">{{i}}</li></ul>'},{title:"bulkCaseImport.bsLblPropertyType",field:"propertyType",width:"80px",fixed:!0},{title:"bulkCaseImport.bsLblCountry",field:"country",width:"70px",fixed:!0},{title:"bulkCaseImport.bsLblOfficialNumber",field:"officialNumber",width:"70px",fixed:!0},{title:"bulkCaseImport.bsLblCaseTitle",field:"caseTitle",width:"180px",fixed:!0}]})}var l=this;l.$onInit=r,l.gotoInprotech=function(e){return i.inprotech("default.aspx?caseref="+encodeURIComponent(e))}}]),angular.module("Inprotech.BulkCaseImport").controller("homeController",["$scope","http","notificationService","fileReader","csvParser","$translate","url","viewInitialiser",function(e,t,a,i,n,o,r,s){"use strict";var l=function(e,t){return _.map(e||[],function(e){return{link:"api/bulkcaseimport/template?type="+t+"&name="+encodeURIComponent(e),name:e}})};e.standardTemplates=l(s.viewData.standardTemplates,"standard"),e.customTemplates=l(s.viewData.customTemplates,"custom"),e.noTemplates=0===e.standardTemplates.length&&0===e.customTemplates.length,e.singleSetTemplates=0===e.standardTemplates.length&&e.customTemplates.length>0||e.standardTemplates.length>0&&0===e.customTemplates.length,e.status="idle",e.fileName="";var c=function(t){if(e.errors=[],!t.errors&&"exception"!==t.result)return a.success(o.instant("bulkCaseImport.bciSuccessMessage",{identifier:t.requestIdentifier})),void(e.status="success");switch(t.result){case"invalid-input":e.errorHeading=o.instant("bulkCaseImport.bciErrorHeadingInvalidInput",{fileName:e.fileName});break;case"blocked":e.errorHeading=o.instant("bulkCaseImport.bciErrorWaitExportInProgress");break;case"exception":e.errorHeading=o.instant("bulkCaseImport.bciErrorServersideException",{fileName:e.fileName})}e.status="error",e.errors=t.errors};e.onSelectFile=function(t){if(p(),!t||0===t.length)throw"at least one file should be specified";if(t.length>1)return void u(o.instant("bulkCaseImport.bciErrorMoreThanOneFileSelected"));var a=t[0];if(!m(a)&&!v(a))return void u(o.instant("bulkCaseImport.bciErrorInvalidFileType"));var r=1048576;return m(a)&&a.size>40*r?void u(o.instant("bulkCaseImport.bciErrorInvalidFileSizeXML")):v(a)&&a.size>5*r?void u(o.instant("bulkCaseImport.bciErrorInvalidFileSizeCSV")):void i.readAsText(a).then(function(t){v(a)?n.parse(t).then(function(e){d("csv",a.name,e)})["catch"](function(t){e.fileName=a.name,c({result:"invalid-input",errors:_.map(t,function(e){var t=e.message;return e.line&&e.index&&(t=o.instant("bulkCaseImport.bciErrorCsvParser",{fileName:e.message,line:e.line,index:e.index})),{errorMessage:t}})})}):d("cpaxml",a.name,t)})};var d=function(a,i,n){e.fileName=i,e.status="upload",t.post(r.api("bulkcaseimport/importcases"),{type:a,fileName:e.fileName,fileContent:n}).success(function(e){c(e)})["catch"](function(){c({result:"exception"})})},p=function(){e.errors=[],e.status="initialcheck"},u=function(t){a.alert({message:t}),e.status="idle"},m=function(e){return e.name.match(/.*\.xml/gi)},v=function(e){return e.name.match(/.*\.csv/gi)}}]),angular.module("Inprotech.BulkCaseImport").controller("importStatusController",["$scope","http","notificationService","localSettings","bulkCaseImportService","BulkMenuOperations","url","$translate","kendoGridBuilder","messageBroker","permissions","modalService","scheduler",function(e,t,a,i,n,o,r,s,l,c,d,p,u){"use strict";function m(){x.status="idle",x.gridOptions=k(),x.isServiceBrokerEnabled=!0,x.menu=g(),C=new o(x.menu.context)}function v(e){return angular.forEach(e,function(e){e.description&&(e.description=s.instant("bulkCaseImport."+e.description))}),e}function g(){return{context:"importStatus",items:[{id:"reverse",text:"bulkCaseImport.action.reverseBatch",enabled:function(){var e=C.selectedRecords(x.gridOptions.data());return 1===_.filter(e,function(e){return e.isReversible&&"SubmittedForReversal"!==e.statusType&&"Resubmitted"!==e.statusType}).length},click:h}],clearAll:function(){return C.clearAll(x.gridOptions.data())},selectAll:function(e){return C.selectAll(x.gridOptions.data(),e)},selectionChange:f,initialised:function(){x.gridOptions.data()&&C.selectionChange(x.gridOptions.data())}}}function f(){return C.selectionChange(x.gridOptions.data())}function h(){var t=C.selectedRecord(x.gridOptions.data());a.confirm({message:"bulkCaseImport.confirmReverseBatch",messageParams:{identifier:t.batchIdentifier}}).then(function(){y(t).then(function(t){"success"==t.data.status?a.success():"error"==t.data.status&&a.alert({title:"modal.unableToComplete",message:"bulkCaseImport.importStatus.errors."+t.data.error},e)})})}function y(e){return t.post(r.api("bulkcaseimport/reversebatch"),{batchId:e.id}).success(function(t){b(t,"Reverse","SubmittedForReversal",e)})}function b(e,t,i,n){return"success"===e.result&&n?(a.success("bulkCaseImport.is"+t+"SuccessMessage",{identifier:n.batchIdentifier}),x.status="success",n.statusType=i,void(n.statusMessage=s.instant("bulkCaseImport.is"+i))):"error"===e.result&&n?(a.alert({title:s.instant("bulkCaseImport.bciError"),errors:e.errorCode?s.instant("bulkCaseImport.errors."+e.errorCode):e.errorMessage}),void(x.status="idle")):void 0}function w(){var e=[{title:"bulkCaseImport.isLblSubmittedDate",field:"submittedDate",width:"200px",fixed:!0,locked:!0,template:function(){return'<ip-date-time model="dataItem.submittedDate"></ip-date-time>'}},{title:"bulkCaseImport.isLblStatus",field:"displayStatusType",width:"150px",fixed:!0,filterable:!0,locked:!0,template:function(){return'<div style="width:125px;"><span data-ng-if="dataItem.statusMessage">{{ dataItem.statusMessage | translate }}</span><span data-ng-if="dataItem.statusType === \'Error\'"><a id="error_{{dataItem.id}}" data-ng-if="dataItem.otherErrors" data-ng-click="vm.onViewDetails(dataItem.otherErrors)">{{ \'bulkCaseImport.\' + dataItem.displayStatusType | translate }}</a><span data-ng-if="!dataItem.otherErrors">{{ \'bulkCaseImport.\' + dataItem.displayStatusType | translate }}</span></span><span data-ng-if="dataItem.statusType === \'InProgress\'">{{\'bulkCaseImport.\' + dataItem.displayStatusType | translate }}</span><button id="resubmit_{{dataItem.id}}" type="button" class="btn btn-primary btn-xs pull-right" data-ng-if="dataItem.statusType === \'Error\' || dataItem.statusType === \'ResolutionRequired\'" ip-tooltip="{{ \'bulkCaseImport.isLblResubmitBatch\' | translate }}"  data-ng-click="vm.resubmitBatch(dataItem)"><span class="cpa-icon cpa-icon-repeat"></span></button></span></div>'}},{title:"bulkCaseImport.isLblBatchIdentifier",field:"batchIdentifier",width:"200px",wrapText:!0,locked:!0,fixed:!0,template:function(){return'<span style="word-break: break-word;">{{dataItem.batchIdentifier}}</span>'}},{title:"bulkCaseImport.isLblTotal",field:"total",fixed:!0,width:"100px",template:function(){return'<a id="total_{{dataItem.id}}" ui-sref="classicBulkCaseBatchSummary({batchId: {{dataItem.id}}, batchIdentifier:\'{{dataItem.batchIdentifier}}\' })">{{dataItem.total}}</a>'}},{title:"bulkCaseImport.isLblCompleted",fixed:!0,width:"280px",columns:[{title:"bulkCaseImport.isLblNewCases",field:"newCases",fixed:!0,width:"110px",template:function(){return'<a href="../{{dataItem.newCasesUrl}}" target="_blank">{{dataItem.newCases}}</a>'}},{title:"bulkCaseImport.isLblAmended",field:"amended",fixed:!0,width:"110px",template:function(){return"<a id=\"amended_{{dataItem.id}}\" ui-sref=\"classicBulkCaseBatchSummaryReturnCode({batchId: {{dataItem.id}}, transReturnCode:'amendedCases', batchIdentifier:'{{dataItem.batchIdentifier}}' })\">{{dataItem.amended}}</a>"}},{title:"bulkCaseImport.isLblNoChange",field:"noChange",fixed:!0,width:"130px",template:function(){return"<a id=\"unchanged_{{dataItem.id}}\" ui-sref=\"classicBulkCaseBatchSummaryReturnCode({batchId: {{dataItem.id}}, transReturnCode:'noChangeCases', batchIdentifier:'{{dataItem.batchIdentifier}}' })\">{{dataItem.noChange}}</a>"}}]},{title:"bulkCaseImport.isLblRejectedCases",field:"rejected",fixed:!0,width:"130px",template:function(){return"<a id=\"rejected_{{dataItem.id}}\" ui-sref=\"classicBulkCaseBatchSummaryReturnCode({batchId: {{dataItem.id}}, transReturnCode:'rejectedCases', batchIdentifier:'{{dataItem.batchIdentifier}}' })\">{{dataItem.rejected}}</a>"}},{title:"bulkCaseImport.isLblInError",fixed:!0,width:"320px",columns:[{title:"bulkCaseImport.isLblNotMapped",field:"notMapped",fixed:!0,width:"130px",template:function(){return"<a id=\"unmapped_{{dataItem.id}}\" href='#/bulkcaseimport/issues/mapping/{{dataItem.id}}'>{{dataItem.notMapped}}</a>"}},{title:"bulkCaseImport.isLblNameIssues",field:"nameIssues",fixed:!0,width:"130px",template:function(){return"<a id=\"nameIssues_{{dataItem.id}}\" href='#/bulkcaseimport/issues/name/{{dataItem.id}}'>{{dataItem.nameIssues}}</a>"}},{title:"bulkCaseImport.isLblUnresolved",field:"unresolved",fixed:!0,width:"120px",template:function(){return"<a id=\"incomplete_{{dataItem.id}}\" ui-sref=\"classicBulkCaseBatchSummaryReturnCode({batchId: {{dataItem.id}}, transReturnCode:'incomplete', batchIdentifier:'{{dataItem.batchIdentifier}}' })\">{{dataItem.unresolved}}</a>"}}]},{title:"bulkCaseImport.isLblSource",field:"isHomeName",fixed:!0,width:"270px",template:function(){return"{{dataItem.source}}<span data-ng-show=\"dataItem.isHomeName === true\">({{ 'bulkCaseImport.isLblIsHomeName' | translate}})</span>"}}];return D&&e.unshift({headerTemplate:'<div data-bulk-actions-menu data-context="importStatus" data-actions="vm.menu.items" data-on-select-all="vm.menu.selectAll(val)" data-on-clear="vm.menu.clearAll()" data-initialised="vm.menu.initialised()"></div>',template:function(){return'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)">'},width:"34px",fixed:!0,locked:!0}),e}function k(){var t={id:"importStatus",autoBind:!0,navigatable:!0,sortable:!1,scrollable:!0,selectable:"row",pageable:{pageSize:i.Keys.caseImport.status.pageNumber.getLocal},onDataCreated:f,onPageSizeChanged:function(e){i.Keys.caseImport.status.pageNumber.setLocal(e)},read:function(e){return n.getImportStatus(e)},readFilterMetadata:function(e){return n.getImportStatusColumnFilterData(e.field).then(function(e){return v(e)})},filterOptions:{keepFiltersAfterRead:!1,sendExplicitValues:!0},columns:w()};return l.buildOptions(e,t)}var C,D=d.canReverseBatch,x=this;x.$onInit=m,x.onViewDetails=function(e){p.openModal({id:"ImportStatusErrorPopup",details:e})},x.resubmitBatch=function(e){x.resubmittedBatch=e,t.post(r.api("bulkcaseimport/resubmitbatch"),{batchId:e.id}).success(function(e){b(e,"Resubmit","Resubmitted",x.resubmittedBatch)})};var S=function(){var t="processing.backgroundServices.status";c.disconnect(),c.subscribe(t,function(t){u.runOutsideZone(function(){e.$apply(function(){x.isServiceBrokerEnabled=t})})}),c.connect()};S(),e.$on("$destroy",function(){c.disconnect()})}]),angular.module("Inprotech.BulkCaseImport").controller("mappingIssuesController",["$scope","viewInitialiser",function(e,t){"use strict";e.data=t.viewData,e.status="idle"}]),angular.module("Inprotech.BulkCaseImport").controller("nameIssuesController",["$scope","http","url","viewInitialiser",function(e,t,a,i){"use strict";e.viewData=i.viewData,e.status="idle";var n=function(e,t){if(e&&e.length>0){var a=e.length-1,i=_.indexOf(e,t),n=i+1>a?a:i+1;return e[n]}return t},o=function(e,t){if(e&&e.length>0){var a=_.indexOf(e,t),i=a-1<0?0:a-1;return e[i]}return t},r=function(){e.selectedUnresolved&&e.selectedUnresolved.mapCandidates&&e.selectedUnresolved.mapCandidates.length>0&&e.onCandidateSelected(e.selectedUnresolved.mapCandidates[0])};e.hasNameIssues=function(){return e.viewData.nameIssues.length>0},e.onUnresolvedNameSelected=function(i){return i!==e.selectedUnresolved&&(e.selectedCandidate=null),e.selectedUnresolved=i,e.selectedUnresolved.mapCandidates?void r():(e.status="busy",void t.get(a.api("bulkcaseimport/unresolvedname/candidates?"+a.query({id:i.id}))).success(function(t){e.selectedUnresolved.mapCandidates=t.mapCandidates||[],r(),e.status="idle"})["catch"](function(){e.status="idle"}))},e.onCandidateSelected=function(t){e.selectedCandidate=t,e.selectedAutomatically=!1},e.selectCandidateById=function(t){var a=_.find(e.selectedUnresolved.mapCandidates,function(e){return e.id===t});return!!a&&(e.selectedCandidate=a,e.selectedAutomatically=!0,!0)},e.mapName=function(){e.selectedCandidate&&(e.status="mapping",t.post(a.api("bulkcaseimport/unresolvedname/mapname"),{batchId:e.viewData.batchId,unresolvedNameId:e.selectedUnresolved.id,mapNameId:e.selectedCandidate.id}).success(function(){var t=e.viewData.nameIssues.indexOf(e.selectedUnresolved),a=t===e.viewData.nameIssues.length-1?o(e.viewData.nameIssues,e.selectedUnresolved):n(e.viewData.nameIssues,e.selectedUnresolved);t>-1&&e.viewData.nameIssues.splice(t,1),e.viewData.nameIssues.length>0?(e.onUnresolvedNameSelected(a),e.status="idle"):e.status="complete"})["catch"](function(){e.status="idle"}))},e.hasNameIssues()&&(e.selectedUnresolved=i.viewData.nameIssues[0],r())}]),angular.module("Inprotech.BulkCaseImport").controller("resubmitController",["$scope","http","notificationService","url","$translate",function(e,t,a,i,n){"use strict";e.resubmitStatus="idle";var o=function(t){return"success"===t.result?(a.success(n.instant("bulkCaseImport.niResubmitSuccessMessage",{identifier:e.viewData.batchIdentifier})),void(e.resubmitStatus="success")):"error"===t.result?(a.alert({message:t.errorMessage}),void(e.resubmitStatus="idle")):void 0};e.resubmitBatch=function(){t.post(i.api("bulkcaseimport/resubmitbatch"),{batchId:e.viewData.batchId}).success(function(e){o(e)})}}]),function(){angular.module("Inprotech.CaseDataComparison",["inprotech.components","Inprotech"]).config(["$stateProvider",function(e){e.state("inbox",{url:"/casecomparison/inbox?:caselist&:ts&:se&:dataSource",templateUrl:"condor/classic/caseComparison/inbox.html",controller:"inboxController",params:{restore:{value:!1},se:{value:null},dataSource:{value:null}},resolve:{viewInitialiser:["http","url",function(e,t){return e.get(t.api("CaseComparison/inboxView")).success(function(e){return e})}]},data:{pageTitle:"caseComparison.pageTitle"}}).state("duplicates",{url:"/duplicates/:dataSource/:forId",templateUrl:"condor/classic/caseComparison/duplicate-view.html",controller:"duplicatesController",resolve:{viewInitialiser:["http","$stateParams","url",function(e,t,a){return e.get(a.api("CaseComparison/duplicatesView/"+t.dataSource+"/"+t.forId)).success(function(e){return e})}]},data:{pageTitle:"caseComparison.pageTitle"}})}]),angular.module("Inprotech.CaseDataComparison").run(["modalService",function(e){e.register("ImportDocument","importDocumentController","condor/classic/caseComparison/import-document.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("GoodsServicesComparison","goodsServicesComparisonPopupController","condor/classic/caseComparison/goods-services-comparison-popup.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("ComparisonErrorDetails","comparisonErrorDetailsController","condor/classic/caseComparison/error-details.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("ImageView","caseImageViewController","condor/classic/caseComparison/case-image-view.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(),angular.module("Inprotech.CaseDataComparison").directive("inAvailableHeight",["$timeout","layout",function(e,t){"use strict";return{restrict:"A",link:function(a){var i=angular.element("#inboxContainer"),n=function(e){var t=angular.element("#inboxHeader"),a=t.outerHeight(!0)+10,i=e.height-a,n=angular.element("#filterSelectionBar").height(),o=angular.element("#searchBar").height();return 0===n&&(n=angular.element("#noNotificationFoundBar").height()),{container:i,notificationContainer:i-n-o,comparisonContainer:i-n+4}},o=function(e){var t=angular.element("#notificationsList"),a=angular.element(".comparison-container");e.container<0||e.notificationContainer<0||e.comparisonContainer<0||(i.height(e.container),t.height(e.notificationContainer),a.height(e.comparisonContainer))},r=function(){return angular.element("#notificationsList > ul").height()};a.$watch(r,function(e,a){e!==a&&o(n(t.contentSize()))}),a.$on("viewportResize",function(e,t){o(n(t))});var s=e(function(){e.cancel(s),o(n(t.viewport))},500)}}}]),angular.module("Inprotech.CaseDataComparison").controller("availableDocumentsController",["$scope","comparisonDataSourceMap","modalService","notificationService",function(e,t,a,i){"use strict";e.documentToImport=null,e.importDocument=function(t){e.documentToImport={caseId:e.caseId,document:t},n({caseId:e.caseId,document:t})};var n=function(t){a.open("ImportDocument",e,{documentToImport:function(){return t}}).then(function(t){"success"===t&&(e.documentToImport.document.imported=!0,e.documentToImport=null,i.success("caseComparisonInbox.lblSuccessfulAttachment"))})};e.$watch("dataSource",function(){e.docTemplate=e.dataSource?t.template(e.dataSource):null})}]),angular.module("Inprotech.CaseDataComparison").controller("caseComparisonOtherToolbarController",["$rootScope","$scope","http","url","comparisonData","notificationService",function(e,t,a,i,n,o){"use strict";function r(e){t.saveState=null,n.setNotification(t.notification=e),t.isComparisonData=e&&"case-comparison"===e.type}t.notification=null,t.canUndoRejectMatch=function(){return!(!t.updateable()||!t.notification||"rejected"!==t.notification.type)},t.canRejectMatch=function(){return!!t.notification&&("rejected"!==t.notification.type&&("new-case"!==t.notification.type&&("error"!==t.notification.type&&(t.updateable()&&n.rejectable()))))},t.saveable=function(){return n.saveable()},t.updateable=function(){return n.updateable()},t.undoRejectCaseMatch=function(){"reset-reject"!==t.saveState&&t.canUndoRejectMatch()===!0&&(t.saveState="reset-reject",a.post(i.api("casecomparison/inbox/reverse-case-match-rejection?notificationId="+t.notification.notificationId)).success(function(t){o.success("caseComparisonInbox.caseMatchRejectUndone"),e.$broadcast("case-match-rejection-reversed",t)}))},t.rejectCaseMatch=function(){"rejecting"!==t.saveState&&t.canRejectMatch()===!0&&(t.saveState="rejecting",a.post(i.api("casecomparison/inbox/reject-case-match?notificationId="+t.notification.notificationId)).success(function(t){o.success("caseComparisonInbox.caseMatchReject"),e.$broadcast("case-match-rejection",t)}))};var s=function(e,t){r(t)};t.$on("rejected",s),t.$on("case-comparison",s),t.$on("error",s),t.$on("new-case",s),t.initialInit=function(e){e&&s(null,e)}}]),angular.module("Inprotech.CaseDataComparison").controller("caseComparisonToolbarController",["$scope","http","url","comparisonData","notificationService",function(e,t,a,i,n){"use strict";function o(t){e.saveState=null,i.setNotification(e.notification=t),e.isComparisonData=t&&"case-comparison"===t.type}e.notification=null,e.shouldHideToolbar=function(){return e.notification&&"rejected"===e.notification.type},e.canMarkReviewed=function(){return!!e.notification&&(!e.notification.isReviewed&&("rejected"!==e.notification.type&&("new-case"!==e.notification.type&&("error"===e.notification.type||e.updateable()))))},e.saveable=function(){return i.saveable()},e.updateable=function(){return i.updateable()},e.markReviewed=function(){e.notification.isReviewed!==!0&&e.notification.notificationId&&t.post(a.api("casecomparison/inbox/review?notificationId="+e.notification.notificationId+"&isReviewed="+!0)).success(function(){e.notification.isReviewed=!0,n.success("caseComparisonInbox.markedReviewed")})},e.saveChanges=function(){i.saveChanges(e)},e.quickMarkReviewed=function(){e.canMarkReviewed()&&!e.saveable()&&e.markReviewed()},e.quickSaveChanges=function(){e.saveable()&&e.saveChanges()},e.quickSelectAll=function(){i.selectAllDiffs()},e.$on("case-comparison-updated",function(){i.areAllDifferencesSelected()&&e.markReviewed()});var r=function(e,t){o(t)};e.$on("rejected",r),e.$on("case-comparison",r),e.$on("error",r),e.$on("new-case",r),e.initialInit=function(e){e&&r(null,e)}}]),angular.module("Inprotech.CaseDataComparison").controller("caseComparisonViewController",["$rootScope","$scope","http","url","comparisonDataSourceMap","legacyDataAdaptor","comparisonData","modalService","notificationService","comparisonConstantValues",function(e,t,a,i,n,o,r,s,l,c){"use strict";function d(a,s,l,c){t.refreshed=!1,r.initData(o.adapt(a),s),m(),t.viewData=angular.extend(r.getData(),{notificationId:l,systemCode:c}),t.externalSystem=n.name(t.dataSource),t.isTrademark=a["case"]&&"T"===a["case"].propertyTypeCode;var d=function(){return a["case"]&&a["case"].ref&&a["case"].ref.ourValue?i.inprotech("default.aspx?caseref="+encodeURIComponent(a["case"].ref.ourValue)):null};t.caseDetailsLink=d(),t.setMappingErrors(),focus("caseComparisonDetailView"),e.$broadcast("ComparisonDataLoaded")}function p(e,o){t.viewData=null,t.documentsViewData=null,t.dmsIntegrationEnabled=o.dmsIntegrationEnabled,t.dataSource=o.dataSource,t.caseId=o.caseId,r.reset();var s=n.systemCode(o.dataSource);a.get(i.api("casecomparison/n/"+o.notificationId+"/case/"+o.caseId+"/"+s)).success(function(e){d(e.viewData,e.source,o.notificationId,s)}),a.get(i.api("casecomparison/"+o.dataSource+"/documents?caseId="+o.caseId)).success(function(e){t.documentsViewData=e})}t.deCache="",t.currentItem=null,t.errorView="caseCompareErrorView",t.mappingErrors=null,t.caseDetailsBaseUrl=i.inprotech("default.aspx?caseref="),r.getLanguages().then(function(e){t.languages=e.data});var u=function(e){s.open("ImageView",t,{imageItem:e})};t.onRefresh=function(){t.refreshed=!1,setTimeout(function(){t.refreshed=!0,m()},10)},t.caseImage={viewCaseImage:function(){t.caseImage.detailUrl=t.caseImage.getCaseImageUrl(),u(t.caseImage)},viewDownloadedImage:function(){t.caseImage.detailUrl=i.api("img?source=filestore&id="+encodeURIComponent(t.viewData.caseImage.downloadedImageId)),u(t.caseImage)},getCaseImageUrl:function(){return t.viewData.caseImage&&t.viewData.caseImage.caseImageIds.length?i.api("img?source=inprotech.image&id="+encodeURIComponent(t.viewData.caseImage.caseImageIds[0])+t.deCache):null},getDownloadedImageUrl:function(){var e=n.systemCode(t.dataSource)===c.dataSources.IpOneData?t.viewData.caseImage.downloadedImageId:t.viewData.caseImage.downloadedThumbnailId;return t.viewData.caseImage&&e?i.api("img?source=filestore&id="+encodeURIComponent(e)+t.deCache):null},getRefreshImageUrl:function(){return i.api("img/refresh?notificationId="+t.viewData.notificationId+t.deCache)},getDetailUrl:function(){return t.caseImage.detailUrl}};var m=function(){t.deCache="&decache="+(new Date).getTime()};t.setMappingErrors=function(){return t.viewData&&t.viewData.errors?void(t.mappingErrors=_.where(t.viewData.errors,{type:"Mapping"})):null},t.setErrors=function(e){t.currentItem=e,v(e)};var v=function(e){s.open("ComparisonErrorDetails",t,{item:function(){return e},errorView:function(){return"caseCompareErrorView"}})};t.downloadLink=function(e){return i.api("casecomparison/download?id="+e.id)},t.showRefresh=function(){return n.systemCode(t.dataSource)===c.dataSources.IpOneData;
},t.documentStatus=function(e){return t.viewData&&"Pending"!==e.status?"Downloaded"!==e.status?e.status:e.imported?"Attached":t.dmsIntegrationEnabled?"NotSentToDms":t.viewData.updateable?"Attach":"NotAttached":""},t.sendAllToDms=function(){_.each(t.documentsViewData,function(e){"Downloaded"!==e.status&&"FailedToSendToDms"!==e.status||e.imported||(e.status="SendToDms")}),a.post(i.api("dms/send/"+t.dataSource+"/case/"+t.caseId))},t.canSendAllToDms=function(){return t.dmsIntegrationEnabled&&_.some(t.documentsViewData,function(e){return("Downloaded"===e.status||"FailedToSendToDms"===e.status)&&!e.imported})},t.documentHasErrors=function(e){return"Failed"===e.status||"FailedToSendToDms"===e.status},t.documentIsBeingSentToDms=function(e){return"SendToDms"===e.status||"SendingToDms"===e.status},t.documentCanBeDownloaded=function(e){return"Downloaded"===e.status||"FailedToSendToDms"===e.status},t.$on("case-comparison",p),t.$on("rejected",p),t.$on("case-comparison-updated",function(){l.success("caseComparisonInbox.caseSaved"),t.refreshed=!1,m(),t.viewData=r.getData(),t.$parent.detailViewTop=0}),t.$on("case-comparison-error",function(){t.$parent.detailViewTop=0}),t.initialInit=function(e){e&&p(null,e)}}]),angular.module("Inprotech.CaseDataComparison").controller("caseImageViewController",["$scope","imageItem","$uibModalInstance",function(e,t,a){"use strict";var i=function(){e.caseImage=t};e.dismiss=function(){a.close()},i()}]),angular.module("Inprotech.CaseDataComparison").controller("comparisonErrorDetailsController",["$scope","item","errorView","$uibModalInstance",function(e,t,a,i){"use strict";var n=function(){e.currentItem=t,e.errorView=a};e.dismiss=function(){i.close()},n()}]),angular.module("Inprotech.CaseDataComparison").controller("duplicatesController",["$scope","viewInitialiser","$stateParams","$state","inboxState",function(e,t,a,i,n){"use strict";e.showView=function(t){e.detailView=t,t?e.$broadcast(t.type,t):e.$broadcast("error",null)},e.init=function(){e.canUpdateCase=t.viewData.canUpdateCase;var i=t.viewData.duplicates,n=Number(a.forId);if(!isNaN(n)){var o=_.findWhere(i,{notificationId:n});o&&(i=_.without(i,o),i.splice(0,0,o))}e.duplicates=i,e.duplicates.length>0&&e.showView(_.first(e.duplicates))},e.$on("case-match-rejection",function(t,a){var i=_.findIndex(e.duplicates,e.detailView);e.duplicates[i]=a,e.showView(a)}),e.$on("case-match-rejection-reversed",function(t,a){var i=_.findIndex(e.duplicates,e.detailView);e.duplicates[i]=a,e.showView(a)}),e.navigateToInbox=function(){n.updateState(e.duplicates),i.go("inbox",{restore:!0})}}]),angular.module("Inprotech.CaseDataComparison").controller("errorViewController",["$scope","modalService",function(e,t){"use strict";e.errorView="errorView",e.details=[],e.$on("error",function(t,a){e.details=a?a.body:null}),e.showStackTrace=function(t){e.currentItem=t,a(t)};var a=function(a){t.open("ComparisonErrorDetails",e,{item:a,errorView:function(){return"errorView"}})}}]),angular.module("Inprotech.CaseDataComparison").controller("goodsServicesComparisonController",["$scope","modalService","comparisonData","comparisonDataSourceMap",function(e,t,a,i){"use strict";e.toggleGoodsServicesSelection=function(e){e.firstUsedDate&&e.firstUsedDate.updateable&&(e.firstUsedDate.updated=e["class"].updated),e.firstUsedDateInCommerce&&e.firstUsedDateInCommerce.updateable&&(e.firstUsedDateInCommerce.updated=e["class"].updated),e.text.updateable&&(e.text.updated=e["class"].updated)},e.showTextCompare=function(t){e.currentItem=t,o(t)},e.firstUsedDateFormat=function(e){switch(e){case"MonthYear":return"MMM-yyyy";case"Year":return"yyyy";case"P":return"d-MMM-yyyy"}},e.onOurLanguageChange=function(t){if(null!==t["class"].ourValue){var i=null==t.language||null===t.language.ourValue?"":t.language.ourValue.key;a.getGoodsServicesText(e.viewData["case"].caseId,t["class"].ourValue,i).then(function(e){t.text.ourValue=e,n(t)})}},e.onTheirLanguageChange=function(t){if(t.language.ourValue=t.language.theirValue,null!==t["class"].theirValue){var i=null==t.language||null===t.language.theirValue?"":t.language.theirValue.code;a.getImportedGoodsServicesText(e.viewData.notificationId,t["class"].theirValue,i).then(function(e){t.text.theirValue=e,n(t)})}};var n=function(e){e.text.different=e.text.ourValue!==e.text.theirValue,e.text.updateable=e.text.theirValue&&""!==e.text.theirValue.trim()&&e.text.ourValue!==e.text.theirValue,e["class"].updateable=e.text.updateable},o=function(a){t.open("GoodsServicesComparison",e,{item:a})};e.$watch("dataSource",function(){e.showLanguage=!!e.dataSource&&i.showLanguage(e.dataSource),e.showFirstUseDate=!!e.dataSource&&i.showFirstUseDate(e.dataSource)})}]),angular.module("Inprotech.CaseDataComparison").controller("goodsServicesComparisonPopupController",["$scope","item","$uibModalInstance",function(e,t,a){"use strict";var i=function(){e.currentItem=t};e.dismiss=function(){a.close()},i()}]),angular.module("Inprotech.CaseDataComparison").controller("importDocumentController",["$rootScope","$scope","http","$translate","url","documentToImport","notificationService","$uibModalInstance",function(e,t,a,i,n,o,r,s){"use strict";var l=function(e){t.imported=!1,t.error={},t.viewData=e,t.title=i.instant("caseComparison.idLblTitle",{caseRef:e.caseRef}),t.attachment={documentId:e.documentId,caseId:e.caseId,attachmentName:e.attachmentName,activityDate:e.activityDate},t.maxCycle=null,t.setCycle=function(e){e.caseEvent.$setValidity("eventError",!0),t.viewData.selectedEvent?(t.maxCycle=t.viewData.selectedEvent.cycle,t.attachment.cycle=t.maxCycle):t.attachment.cycle=null},t.cycleChanged=function(e){e.caseEvent.$setValidity("eventError",!0)},t.save=function(e){e.$validate(),e.$dirty&&e.$valid&&(t.errors={},t.attachment.eventId=t.viewData.selectedEvent?t.viewData.selectedEvent.eventId:null,t.attachment.cycle=t.attachment.eventId?t.attachment.cycle:null,t.attachment.activityTypeId=t.viewData.selectedActivity.id,t.attachment.categoryId=t.viewData.selectedCategory.id,t.attachment.attachmentTypeId=t.viewData.selectedAttachmentType.id,a.post(n.api("casecomparison/importDocument/save"),t.attachment).success(function(a){"success"===a.result&&(t.imported=!0,s.close("success")),"invalid-cycle"===a.result&&(c(),e.caseEvent.$setValidity("eventError",!1),e.$validate())}))},t.getEventError=function(e){return e&&!e.$valid&&e.$error&&e.$error.eventError?i.instant("caseComparison.idLblInvalidCycle",{maxCycle:t.maxCycle}):null},t.dismiss=function(e){return e.$dirty?void r.discard().then(function(){s.close()}):void s.close()}},c=function(){r.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges"})},d=function(){a.get(n.api("casecomparison/importDocument/"+o.caseId+"/"+o.document.id)).success(function(e){l(e)})};d()}]),angular.module("Inprotech.CaseDataComparison").controller("inboxController",["$scope","http","url","comparisonDataSourceMap","viewInitialiser","notificationsService","inboxState","$q","$stateParams","focus",function(e,t,a,i,n,o,r,s,l,c){"use strict";var d=!0,p=!1;e.reloadedData=!0,e.notifications=[],e.dataSources=[],e.hasMore=!0,e.filterParams={dataSources:{},searchText:"",since:""};var u=function(){if(e.canUpdateCase=n.viewData.canUpdateCase,e.isForSelectedCasesOnly=o.forSelectedCases(),e.isFilteredExecution=o.isFilteredExecution(),e.isForSelectedCasesOnly||e.isFilteredExecution?_.extend(e.filterParams,{includeReviewed:!0,includeErrors:!0,includeRejected:!0}):_.extend(e.filterParams,{includeReviewed:!1,includeErrors:!1,includeRejected:!1}),l.restore){var t=r.pop();if(t){e.notifications=t.notifications,g(t.dataSources),d=_.all(e.dataSources,{isSelected:!1}),e.hasMore=t.hasMore,_.extend(e.filterParams,t.filters);var a=_.findIndex(e.notifications,{notificationId:t.notificationIdToSelect});a>=0&&e.notifications.length>a&&(e.initialDetailView=e.notifications[a])}else e.loadData()}else e.loadData()};e.isSelected=function(t){var a=_.findWhere(e.dataSources,t);return a.isSelected},e.showView=function(t){if(e.detailView=t,t?(t.dmsIntegrationEnabled=y(t.dataSource),e.$broadcast(t.type,t)):e.$broadcast("error",null),t){var a=_.findIndex(e.notifications,e.detailView);e.hasMore&&a+2>e.notifications.length&&e.loadData()}},e.$on("case-match-rejection",function(t,a){var i=_.findIndex(e.notifications,e.detailView);e.notifications[i]=a,e.showView(null);var n=m(function(){return!e.filterParams.includeRejected});n||e.showView(a)}),e.$on("case-match-rejection-reversed",function(t,a){var i=_.findIndex(e.notifications,e.detailView);e.notifications[i]=a,e.showView(a)}),e.$watch("detailView.isReviewed",function(){return m(function(){return e.detailView&&e.detailView.isReviewed&&!e.filterParams.includeReviewed})});var m=function(t){var a=_.findIndex(e.notifications,e.detailView);if(t()){var i=null;return a+1<=e.notifications.length&&(i=e.notifications[a+1]),e.showView(i),e.notifications.splice(a,1),!0}return!1};e.filteringChanged=function(t){var a=_.findWhere(e.dataSources,t);a.isSelected=!a.isSelected;var i=_.countBy(e.dataSources,function(e){return e.isSelected===!0});d=i["true"]&&i["true"]===e.dataSources.length||i["false"]&&i["false"]===e.dataSources.length,b()},e.inclusionChanged=function(){b()},e.search=function(){e.filterParams.searchText&&(p=!0,b())},e.$on("ComparisonDataLoaded",function(){p&&v()});var v=function(){c("txtSearchText"),p=!1},g=function(t){return!!_.isEmpty(e.dataSources)&&(e.dataSources.push.apply(e.dataSources,t),!0)};e.cancelSearch=function(){""!==e.filterParams.searchText&&(e.filterParams.searchText=""),b()},e.loadData=function(){e.status="loading",e.filterParams.dataSources=h();var t=!e.filterParams.since;o.get(e.filterParams).then(function(a){if(!a)return void(t&&e.notifications.splice(0,e.notifications.length));if(g(a.dataSources)&&f(),t&&e.notifications.splice(0,e.notifications.length),e.notifications.push.apply(e.notifications,a.notifications),e.hasMore=a.hasMore,e.notifications.length>0&&(e.isForSelectedCasesOnly?e.filterParams.since=_.last(e.notifications).caseId:e.isFilteredExecution?e.filterParams.since=_.last(e.notifications).notificationId:e.filterParams.since=_.last(e.notifications).date),t&&!_.isEmpty(e.notifications)){var i=_.first(e.notifications);e.showView(i),"new-case"!==i.type&&"error"!==i.type||!p||v()}else t&&p&&v()})["finally"](function(){e.status="loaded"})},e.onNavigateToDuplicateView=function(){return s.when(r.save(e.notifications,e.dataSources,e.filterParams,e.detailView,e.hasMore))};var f=function(){e.dataSources&&_.each(e.dataSources,function(e){e.isSelected=!1})};e.getSourceName=function(e){return i.name(e)};var h=function(){return e.dataSources?d?_.pluck(e.dataSources,"id"):_.pluck(_.where(e.dataSources,{isSelected:!0}),"id"):null},y=function(t){var a=_.find(e.dataSources,function(e){return e.id===t});return a&&a.dmsIntegrationEnabled},b=function(){e.detailView&&e.showView(null),e.filterParams.since="",e.loadData()};e.status="loaded",u(),e.isLoaded=function(){return"loaded"===e.status}}]),angular.module("Inprotech").controller("mainController",[function(){}]),angular.module("Inprotech.CaseDataComparison").controller("officialNumbersComparisonController",["$scope",function(e){"use strict";e.toggleNumberSelection=function(e){e.id||e.number.updated||(e.eventDate.updated=!1)},e.toggleDateSelection=function(e){e.id||e.number.updated||(e.number.updated=!0)}}]),angular.module("Inprotech.CaseDataComparison").directive("detailView",["url",function(e){"use strict";return{restrict:"E",replace:!1,transclude:!1,scope:{notification:"=",scrollTo:"=?",canUpdateCase:"=",hideDuplicateWarning:"=",onNavigateToDuplicateView:"&"},templateUrl:e.of("caseComparison/detail-view.html"),controller:["$scope","$state",function(e,t){var a=function(){e.scrollTo=angular.isDefined(e.scrollTo)?e.scrollTo:0};e.navigateToDuplicateView=function(){e.onNavigateToDuplicateView?e.onNavigateToDuplicateView().then(function(){t.go("duplicates",{dataSource:e.notification.dataSource,forId:e.notification.notificationId})}):t.go("duplicates",{dataSource:e.notification.dataSource,forId:e.notification.notificationId})},a()}]}}]),angular.module("Inprotech.CaseDataComparison").directive("notificationsList",["url","comparisonDataSourceMap","$timeout",function(e,t,a){"use strict";return{restrict:"E",replace:!0,transclude:!0,scope:{notifications:"=",hasMore:"=?",isLoaded:"=?",currentSelection:"=?",initialSelection:"=?",showView:"&",loadMore:"&"},templateUrl:e.of("caseComparison/notifications-list.html"),link:function(e){a(function(){null!==(e.initialSelection||null)&&e.selectAndShowView(e.initialSelection)},1e3)},controller:["$scope",function(e){var a=function(){e.isLoaded=!angular.isDefined(e.isLoaded)||e.isLoaded,e.hasMore=!!angular.isDefined(e.hasMore)&&e.hasMore};e.getSourceName=function(e){return t.name(e)},e.selectAndShowView=function(t){e.currentSelection=t,e.showView({notification:t})},a()}]}}]),angular.module("Inprotech.CaseDataComparison").factory("comparisonConstantValues",function(){"use strict";return{dataSources:{UsptoPrivatePair:"UsptoPrivatePair",UsptoTsdr:"UsptoTsdr",Epo:"Epo",IpOneData:"IPOneData",File:"File"},systemCodes:{UsptoPrivatePair:"USPTO.PrivatePAIR",UsptoTsdr:"USPTO.TSDR",Epo:"EPO",IpOneData:"IPOneData",File:"FILE"}}}),angular.module("Inprotech.CaseDataComparison").factory("comparisonData",["$rootScope","http","comparisonDataSourceMap","url",function(e,t,a,i){"use strict";var n=null,o=null,r=null,s=!0,l=function(l){if("saving"!==l.saveState){s=!0;var c={"case":{},officialNumbers:[],events:[],goodsServices:[],caseNames:[],source:o,notificationId:r.notificationId,caseId:r.caseId,systemCode:a.systemCode(r.dataSource),importImage:!!n.caseImage&&n.caseImage.importImage};n["case"]&&(n["case"].title.updated||n["case"].typeOfMark&&n["case"].typeOfMark.updated)&&(c["case"]=n["case"]),n.officialNumbers&&n.officialNumbers.forEach(function(e){(e.number&&e.number.updated||e.eventDate&&e.eventDate.updated)&&c.officialNumbers.push(e)}),n.events&&n.events.forEach(function(e){e.eventDate.updated&&c.events.push(e)}),n.goodsServices&&n.goodsServices.forEach(function(e){(e["class"].updated||e.firstUsedDate&&e.firstUsedDate.updated||e.firstUsedDateInCommerce&&e.firstUsedDateInCommerce.updated||e.text.updated)&&c.goodsServices.push(e)}),n.caseNames&&n.caseNames.forEach(function(e){e.reference&&e.reference.updated&&c.caseNames.push(e)}),l.saveState="saving",t.post(i.api("casecomparison/saveChanges"),c).success(function(t){n.validationErrors=null,l.saveState=null,t.success?(d(),n=t.viewData,n.notificationId=c.notificationId,e.$broadcast("case-comparison-updated")):(n.validationErrors=t.messages,e.$broadcast("case-comparison-error"))})}},c=function(){n&&!n.errors&&(n["case"].title.updateable&&(n["case"].title.updated=!0),n.officialNumbers&&_.each(n.officialNumbers,function(e){e.number&&e.number.updateable&&(e.number.updated=!0),e.eventDate&&e.eventDate.updateable&&(e.eventDate.updated=!0)}),n.events&&_.each(n.events,function(e){e.eventDate&&e.eventDate.updateable&&(e.eventDate.updated=!0)}),n.goodsServices&&_.each(n.goodsServices,function(e){e["class"].updateable&&(e["class"].updated=!0),e.firstUsedDate&&e.firstUsedDate.updateable&&(e.firstUsedDate.updated=!0),e.firstUsedDateInCommerce&&e.firstUsedDateInCommerce.updateable&&(e.firstUsedDateInCommerce.updated=!0),e.text.updateable&&(e.text.updated=!0)}))},d=function(){return s=!0,!n||n.errors||n["case"].title.updateable&&!n["case"].title.updated?void(s=!1):n.officialNumbers&&_.find(n.officialNumbers,function(e){return e.number&&e.number.updateable&&!e.number.updated||(e.eventDate&&e.eventDate.updateable&&!e.eventDate.updated)===!0})||n.events&&_.find(n.events,function(e){return(e.eventDate&&e.eventDate.updateable&&!e.eventDate.updated)===!0})||n.goodsServices&&_.find(n.goodsServices,function(e){return p(e)===!0})?void(s=!1):void 0},p=function(e){return e["class"].updateable&&!e["class"].updated||e.firstUsedDate&&e.firstUsedDate.updateable&&!e.firstUsedDate.updated||e.firstUsedDateInCommerce&&e.firstUsedDateInCommerce.updateable&&!e.firstUsedDateInCommerce.updated||e.text.updateable&&!e.text.updated},u=function(e){return e["class"].updated||e.firstUsedDate&&e.firstUsedDate.updated||e.firstUsedDateInCommerce&&e.firstUsedDateInCommerce.updated||e.text.updated},m=function(){var e=n&&!n.errors&&(n["case"].title.updated||n["case"].typeOfMark&&n["case"].typeOfMark.updated||n.officialNumbers&&_.any(n.officialNumbers,function(e){return e.number&&e.number.updated||e.eventDate&&e.eventDate.updated})||n.events&&_.any(n.events,function(e){return e.eventDate&&e.eventDate.updated})||n.goodsServices&&_.any(n.goodsServices,function(e){return u(e)})||n.caseImage&&n.caseImage.importImage||n.caseNames&&_.any(n.caseNames,function(e){return e.reference&&e.reference.updated}));return e||!1},v=function(){return t.get("api/picklists/tablecodes?tableType=47").then(function(e){return e.data})},g=function(e,a,i){var n="api/case/"+e+"/goods-services-text/class/"+a+"/language/"+i;return t.get(n).then(function(e){return e.data})},f=function(e,a,i){var n="api/casecomparison/imported-goods-services-text/n/"+e+"/class/"+a+"/language/"+i;return t.get(n).then(function(e){return e.data})};return{reset:function(){n=o=null},initData:function(e,t){n=e,o=t},setNotification:function(e){r=e},getData:function(){return n},saveable:m,saveChanges:l,updateable:function(){return n&&n.updateable},rejectable:function(){return n&&n.rejectable},areAllDifferencesSelected:function(){return s},selectAllDiffs:c,getLanguages:v,getGoodsServicesText:g,getImportedGoodsServicesText:f}}]),angular.module("Inprotech.CaseDataComparison").factory("comparisonDataSourceMap",["comparisonConstantValues","$translate",function(e,t){"use strict";var a=[{name:"UsptoPrivatePair",docTemplate:"condor/classic/caseComparison/doctemplates/uspto-private-pair-documents.html",language:!1,showTooltipInScheduler:!1,firstUseDate:!1},{name:"UsptoTsdr",docTemplate:"condor/classic/caseComparison/doctemplates/uspto-tsdr-documents.html",language:!1,showTooltipInScheduler:!1,firstUseDate:!0},{name:"Epo",docTemplate:"condor/classic/caseComparison/doctemplates/epo-documents.html",language:!1,firstUseDate:!1},{name:"IpOneData",language:!0,showTooltipInScheduler:!0,firstUseDate:!1}];return{template:function(e){if(!e)return null;var t=_.find(a,function(t){return t.name===e});return t?t.docTemplate:null},showLanguage:function(e){if(!e)return!1;var t=_.find(a,function(t){return t.name===e});return!!t&&t.language},showFirstUseDate:function(e){if(!e)return!1;var t=_.find(a,function(t){return t.name===e});return!!t&&t.firstUseDate},showTooltip:function(e){if(!e)return!1;var t=_.find(a,function(t){return t.name===e});return!!t&&t.showTooltipInScheduler},systemCode:function(t){return e.systemCodes[t]},name:function(e){return t.instant("caseComparison.gLblDS"+e)}}}]),angular.module("Inprotech.CaseDataComparison").directive("focusNextDiff",["$rootScope","$timeout","hotkeys",function(e,t,a){"use strict";return{link:function(e,i,n){var o,r=[],s="d d",l=function(){a.del(s);var i=function(){o=$(this)[0]};if(r.length>0&&(r.off("focus",i),o=null),r=$(":visible.diff"),0!==r.length){var l=function(){t(function(){var e=_.findIndex(r,function(e){return e===o}),t=e===-1||e===r.length-1?r.first():$(r[e+1]);o=t[0],o.focus()},0)};a.bindTo(e).add({combo:s,description:n.focusNextDiffHint,callback:l,allowIn:["INPUT"]}),r.on("focus",i)}};e.$watch(n.focusNextDiff,function(){t(l,10)})}}}]),angular.module("Inprotech.CaseDataComparison").factory("inboxState",function(){"use strict";var e=null,t=null,a=null,i=null,n=!1,o=function(){e=null,t=null,a=null,i=null},r=function(){var t=angular.copy(e);if(t.splice(0,a),t=s(t),t.length>0)return _.first(t).notificationId},s=function(e){return t.includeReviewed||(e=_.reject(e,{isReviewed:!0})),t.includeRejected||(e=_.reject(e,{type:"rejected"})),e},l=function(o,r,s,l,c){e=o,t=s,a=_.indexOf(e,l),i=r,n=c},c=function(){if(!e)return null;var a=r();e=s(e);var l={notifications:e,filters:t,notificationIdToSelect:a||(e.length>0?_.last(e).notificationId:null),dataSources:i,hasMore:n};return o(),l},d=function(t){_.each(t,function(t){var a=_.findIndex(e,{notificationId:t.notificationId});a>=0&&(e[a]=t)})};return{save:l,pop:c,updateState:d}}),angular.module("Inprotech.CaseDataComparison").factory("legacyDataAdaptor",function(){"use strict";var e=function(e){return!!(e["case"]&&e["case"].ref&&e["case"].ref.uspto)},t=function(e,t){return e[t]&&(e[t].inprotech&&(e[t].ourValue=e[t].inprotech),e[t].uspto&&(e[t].theirValue=e[t].uspto)),e[t]},a=function(e){return e["case"]&&(e["case"].ref=t(e["case"],"ref"),e["case"].title=t(e["case"],"title"),e["case"].status=t(e["case"],"status"),e["case"].statusDate=t(e["case"],"statusDate"),e["case"].localClasses=t(e["case"],"localClasses")),e.caseNames&&(e.caseNames=_.map(e.caseNames,function(e){return{syncId:e.syncId,nameType:e.nameType,name:t(e,"name"),address:t(e,"address")}})),e.officialNumbers&&(e.officialNumbers=_.map(e.officialNumbers,function(e){return{syncId:e.syncId,numberType:e.numberType,number:t(e,"number"),event:e.event,eventDate:t(e,"eventDate")}})),e.events&&(e.events=_.map(e.events,function(e){return{syncId:e.syncId,eventType:e.eventType,cycle:e.cycle,eventDate:t(e,"eventDate")}})),e};return{adapt:function(t){return t.messages||!e(t)?t:a(t)}}}),angular.module("Inprotech.CaseDataComparison").factory("notificationsService",["$location","http","$q","url",function(e,t,a,i){"use strict";var n=function(){return e.search().caselist||e.search().ts},o=function(){return null!=e.search().se||null!=e.search().dataSource},r=function(e){var n=a.defer(),o={pageSize:50,since:e.since,dataSourceTypes:e.dataSources,includeReviewed:e.includeReviewed,includeErrors:e.includeErrors,includeRejected:e.includeRejected,searchText:e.searchText||""};return t.post(i.api("casecomparison/inbox/notifications"),o).success(function(e){n.resolve(e)})["catch"](function(){n.resolve()}),n.promise},s=function(n){var o=a.defer(),r={pageSize:50,since:n.since,caselist:e.search().caselist||"",ts:e.search().ts||"",dataSourceTypes:n.dataSources,includeReviewed:n.includeReviewed,includeErrors:n.includeErrors,includeRejected:n.includeRejected,searchText:n.searchText||""};return t.post(i.api("casecomparison/inbox/cases"),r).success(function(e){o.resolve(e)})["catch"](function(){o.resolve()}),o.promise},l=function(n){var o=a.defer(),r={pageSize:50,since:n.since,scheduleExecutionId:e.search().se||"",dataSource:e.search().dataSource||"",dataSourceTypes:n.dataSources,includeReviewed:n.includeReviewed,includeErrors:n.includeErrors,includeRejected:n.includeRejected,searchText:n.searchText||""};return t.post(i.api("casecomparison/inbox/executions"),r).success(function(e){o.resolve(e)})["catch"](function(){o.resolve()}),o.promise};return{get:function(e){return n()?s(e):o()?l(e):r(e)},forSelectedCases:n,isFilteredExecution:o}}]),angular.module("Inprotech.Integration.ExternalApplication",["Inprotech"]).config(["$stateProvider",function(e){e.state("externalApplication",{url:"/integration/externalapplication",templateUrl:"condor/classic/integration/externalApplication/external-application-token.html",controller:"externalApplicationTokenController",controllerAs:"vm",resolve:{viewInitialiser:["http",function(e){return e.get("api/externalApplication/externalApplicationTokenView").success(function(e){return e})}]},data:{pageTitle:"externalApplication.pageTitle"}})}]),angular.module("Inprotech.Integration.ExternalApplication").run(["modalService",function(e){e.register("ExternalApplicationEdit","externalApplicationTokenEditController","condor/classic/integration/externalApplication/external-application-token-edit.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("Inprotech.Integration.ExternalApplication").component("externalApplicationDescription",{templateUrl:"condor/classic/integration/externalApplication/external-application-description.html",bindings:{model:"<"},controllerAs:"vm",controller:function(){"use strict"}}),angular.module("Inprotech.Integration.ExternalApplication").controller("externalApplicationTokenController",["$scope","http","viewInitialiser","url","kendoGridBuilder","notificationService","modalService","$state","$translate",function(e,t,a,i,n,o,r,s,l){"use strict";function c(){m.externalApps=a.viewData.externalApps,m.generateToken=d,m.editExternalApp=p,m.gridOptions=u()}function d(e){t.post(i.api("externalApplication/externalApplicationToken/generateToken?externalApplicationId="+e)).success(function(t){var a=t.viewData;if("success"===a.result){var i=_.find(m.externalApps,function(t){return t.id===e});null!==i&&(i.token=a.token,i.isActive=a.isActive,i.expiryDate=a.expiryDate,m.gridOptions.search()),o.success()}else o.alert({message:l.instant("externalApplication.failTokenGeneration")})})}function p(e){v(e).then(function(e){r.openModal({id:"ExternalApplicationEdit",controllerAs:"vm",viewData:e}).then(function(e){e&&s.reload(s.current.name)})})}function u(){return n.buildOptions(e,{id:"searchResults",scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,read:function(){return m.externalApps},columns:[{title:l.instant("externalApplication.iealblTableTitle"),sortable:!1,template:'<external-application-description model="dataItem"></external-application-description>'},{sortable:!1,template:function(e){var t='<div class="pull-right"><button class="btn btn-prominent external-application-button" id="btnEdit_'+e.id+'" ng-click="vm.editExternalApp(dataItem.id)" ng-show="dataItem.token != null">'+l.instant("externalApplication.ieabtnEdit")+"</button>";return t+='<button id="btnGenerateToken_'+e.id+'" title="'+l.instant("externalApplication.tooltipGenerate")+'" ng-click="vm.generateToken(dataItem.id)" class="btn btn-prominent external-application-button">',t+=null==e.token?l.instant("externalApplication.ieabtnGenerateToken"):l.instant("externalApplication.ieabtnRegenerateToken"),t+="</button></div>"}}]})}var m=this;m.$onInit=c;var v=function(e){return t.get(i.api("externalApplication/externalApplicationTokenEditView?id="+e)).success(function(e){return e.viewData})}}]),angular.module("Inprotech.Integration.ExternalApplication").controller("externalApplicationTokenEditController",["http","options","url","$uibModalInstance","notificationService",function(e,t,a,i,n){"use strict";function o(){c.externalApp.expiryDate=c.selectedDate,e.post(a.api("externalApplication/externalApplicationToken/save"),c.externalApp).success(function(e){"success"===e.viewData.result&&(n.success(),i.close(!0))})}function r(){return!(c.form.$valid&&c.form.$dirty)}function s(){return c.form.$dirty?void n.discard().then(function(){l()}):void l()}function l(){i.close(!1)}var c=this;c.form={};var d=new Date;c.minStartDate=d.setDate(d.getDate()-1),c.disable=r,c.dismissAll=s,c.save=o,c.selectedDate=null,c.externalApp=t.viewData,c.externalApp.expiryDate&&(c.selectedDate=moment.utc(null!=c.externalApp.expiryDate?c.externalApp.expiryDate.replace(/-/g," "):"").toDate())}]),angular.module("Inprotech.Integration.PtoAccess",["Inprotech","inprotech.components"]).config(["$stateProvider",function(e){e.state("classicPtoAccess",{url:"/integration/ptoaccess",redirectTo:"classicPtoAccess.Schedules"}).state("classicPtoAccess.Sponsorships",{url:"/uspto-private-pair-sponsorships",component:"usptoPrivatePairSponsorshipsComponent",data:{pageTitle:"dataDownload.uspto.pageTitle"}}).state("classicPtoAccess.Sponsorships.New",{url:"/new-uspto-private-pair-sponsorships",templateUrl:"condor/classic/integration/ptoaccess/uspto/privatepair/new-sponsorship.html"}).state("classicPtoAccess.Schedules",{url:"/schedules",controller:"schedulesController",controllerAs:"vm",templateUrl:"condor/classic/integration/ptoaccess/schedules.html",data:{pageTitle:"dataDownload.pageTitle"}}).state("classicPtoAccess.SchedulesDetail",{url:"/schedule?:id",controller:"scheduleController",controllerAs:"vm",templateUrl:"condor/classic/integration/ptoaccess/schedule.html",resolve:{viewInitialiser:["$http","$stateParams","url",function(e,t,a){return e.get(a.api("ptoaccess/scheduleView?id="+t.id)).then(function(e){return e.data.result})}]},params:{id:null},data:{pageTitle:"dataDownload.pageTitle"}}).state("classicPtoAccess.FailureSummary",{url:"/failure-summary",controller:"failureSummaryController",controllerAs:"vm",templateUrl:"condor/classic/integration/ptoaccess/failure-summary.html",resolve:{viewInitialiser:["$http","url",function(e,t){return e.get(t.api("ptoaccess/failureSummaryView")).then(function(e){return e.data.result})}]},data:{pageTitle:"dataDownload.pageTitle"}})}]).run(["modalService",function(e){e.register("RecoverableCases","recoverableCasesController","condor/classic/integration/ptoaccess/recoverable-dialog.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("RecoverableDocuments","recoverableDocumentsController","condor/classic/integration/ptoaccess/recoverable-documents-dialog.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"xl"}),e.register("ErrorDetails","errorDetailsController","condor/classic/integration/ptoaccess/error-details-dialog.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("NewSchedule","newScheduleController","condor/classic/integration/ptoaccess/new-schedule.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("NewUsptoSponsorship","newUsptoPrivatePairSponsorshipController","condor/classic/integration/ptoaccess/uspto/privatepair/new-sponsorship.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("updateUsptoAccountDetails","updateUsptoAccountDetailsController","condor/classic/integration/ptoaccess/uspto/privatepair/update-account-details.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("Inprotech.Integration.PtoAccess").factory("dataSourceMap",["url",function(e){"use strict";var t={caseSource:{partial:"schedule-case-source.html"},downloadType:{partial:"schedule-download-type.html"},list:{partial:"schedule-item.html"},isContinuousAvailable:{partial:!1}},a=[{name:"UsptoPrivatePair",caseSource:{partial:null},downloadType:{partial:null},list:{partial:"uspto/privatepair/schedule-item.html"},isContinuousAvailable:{partial:!0}},{name:"UsptoTsdr",caseSource:{partial:t.caseSource.partial},downloadType:{partial:t.downloadType.partial,options:["All","Documents"]},list:{partial:t.list.partial},isContinuousAvailable:t.isContinuousAvailable},{name:"Epo",caseSource:{partial:t.caseSource.partial},downloadType:{partial:t.downloadType.partial,options:["All","Documents"]},list:{partial:t.list.partial},isContinuousAvailable:t.isContinuousAvailable},{name:"IpOneData",caseSource:{partial:t.caseSource.partial},downloadType:{partial:t.downloadType.partial,options:["All","OngoingVerification"]},list:{partial:t.list.partial},isContinuousAvailable:t.isContinuousAvailable},{name:"File",caseSource:{partial:t.caseSource.partial},downloadType:{partial:t.downloadType.partial,options:null},list:{partial:t.list.partial},isContinuousAvailable:t.isContinuousAvailable}];return{partial:function(i,n){if(!i)return null;var o=_.find(a,function(e){return e.name===i}),r=(o||t)[n].partial;return r?e.of("integration/ptoaccess/")+r:null},downloadTypes:function(e){if(!e)return null;var i=_.find(a,function(t){return t.name===e});return(i||t).downloadType.options}}}]),angular.module("Inprotech.Integration.PtoAccess").controller("errorDetailsController",ErrorDetailsController),angular.module("Inprotech.Integration.PtoAccess").controller("failureSummaryController",FailureSummaryController),angular.module("Inprotech.Integration.PtoAccess").component("ipFailureSummaryDiagnosticsTopic",{template:'<button id="failureSummary" class="btn btn-prominent clear"><span translate="dataDownload.failureSummary.diagnostics.collectDownload" data-ng-click="vm.download();"></span></button>',
bindings:{topic:"<"},controllerAs:"vm",controller:["url",function(e){"use strict";function t(){i.download=a}function a(){window.location=e.api("ptoaccess/diagnostics/download-logs")}var i=this;i.$onInit=t}]}),angular.module("Inprotech.Integration.PtoAccess").component("ipFailureSummarySourceTopic",{templateUrl:"condor/classic/integration/ptoaccess/failure-summary-source.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","$state","$http","notificationService","url","modalService","kendoGridBuilder",function(e,t,a,i,n,o,r){"use strict";function s(){_.extend(h,h.topic.params.viewData),h.recover=v,h.showRecoverableCases=m,h.showRecoverableCasesHint=u,h.showRecoverableDocumentsHint=d,h.showRecoverableDocuments=p,h.hasCorrelationId=g,h.details=f,h.gridOptions=h.failedCount>0?l():null}function l(){return r.buildOptions(e,{id:"searchResults",sortable:!0,scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,columns:c(),read:function(){return h.schedules}})}function c(){var e=[{title:"dataDownload.schedules.description",width:"40%",template:'<a data-ng-click="vm.details(dataItem.scheduleId)">{{dataItem.name}}</a>'},{title:"dataDownload.failureSummary.failedCases",template:'<span data-ng-if="dataItem.failedCasesCount==0">0</span><a data-ng-if="dataItem.failedCasesCount>0" data-ng-click="vm.showRecoverableCases(dataItem.scheduleId, dataItem.aggregateFailures)">{{dataItem.failedCasesCount}}</a>'},{title:"dataDownload.failureSummary.failedDocuments",template:'<span data-ng-if="dataItem.failedDocumentsCount===0">0</span><a data-ng-if="dataItem.failedDocumentsCount>0" data-ng-click="vm.showRecoverableDocuments(dataItem.scheduleId, dataItem.aggregateFailures)">{{dataItem.failedDocumentsCount}}</a>'}];return g()&&e.push({title:"dataDownload.schedule.correlation"+h.dataSource,field:"correlationIds"}),e}function d(){return h.failedDocumentCount>0}function p(e,t){var a=[];a=e?t?h.documents:_.where(h.documents,{scheduleId:e}):h.documents,o.openModal({id:"RecoverableDocuments",controllerAs:"vm",model:{recoverableDocuments:a,hasCorrelationId:h.hasCorrelationId(),dataSource:h.dataSource}})}function u(){return h.failedCount>0}function m(e,t){var a=[];if(e)a=t?_.map(_.groupBy(h.cases,function(e){return e.applicationNumber+"*"+e.publicationNumber+"*"+e.registrationNumber}),function(e){return e[0]}):_.where(h.cases,{scheduleId:e});else{var i=h.cases;_.each(i,function(e){var t=_.findWhere(a,{artifactId:e.artifactId,artifactType:e.artifactType});t?t.correlationIds=t.correlationIds+", "+e.correlationIds:a.push(angular.extend({},e))})}o.openModal({id:"RecoverableCases",controllerAs:"vm",model:{recoverableCases:a,hasCorrelationId:h.hasCorrelationId(),dataSource:h.dataSource}})}function v(){a.post(n.api("ptoaccess/failuresummary/retryall/"+h.dataSource)).then(function(){i.success("dataDownload.schedule.recoveryIssued"),h.recoverPossible=!1})}function g(){return h.failedCount>0&&_.any(h.cases,function(e){return e.correlationIds})}function f(e){t.go("classicPtoAccess.SchedulesDetail",{id:e})}var h=this;h.$onInit=s}]}),angular.module("Inprotech.Integration.PtoAccess").factory("keyLinkMap",[function(){"use strict";function e(e,a){if("DataSource"===a)return t[e]}var t={"epo-missing-keys":{text:"ConfigureEPOSetting",link:"../../#/pto-settings/epo"}};return{getLinkFor:e}}]),angular.module("Inprotech.Integration.PtoAccess").factory("knownValues",function(){"use strict";return{dataSources:{UsptoPrivatePair:"UsptoPrivatePair",UsptoTsdr:"UsptoTsdr",Epo:"Epo",Innography:"Innography"},schedulePresets:{Daily:"Daily",Weekly:"Weekly",OnSelectedDays:"OnSelectedDays"},recurrence:{recurring:"0",runOnce:"1",continuous:"2"},scheduleType:{scheduled:0,onDemand:1,retry:2,continuous:3},downloadTypes:{All:"All",ApplicationsWithStatusChanges:"StatusChange",ListOfOutgoingCorrespondence:"Documents",SavedQuery:"SavedQuery"},days:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}}),angular.module("Inprotech.Integration.PtoAccess").controller("newScheduleController",NewScheduleController),angular.module("Inprotech.Integration.PtoAccess").controller("recoverableCasesController",RecoverableCasesController),angular.module("Inprotech.Integration.PtoAccess").controller("recoverableDocumentsController",RecoverableDocumentsController),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleCaseSource",{templateUrl:"condor/classic/integration/ptoaccess/schedule-case-source-component.html",bindings:{schedule:"<",maintenance:"="},controllerAs:"vm",controller:function(){"use strict";function e(){a.savedQuerySelected=null,a.runAsUserSelected=null,a.onPicklistSelectionChanged=t}function t(e){switch(e){case"savedQuerySelected":a.schedule.savedQueryId=a.savedQuerySelected?a.savedQuerySelected.key:"",a.schedule.savedQueryName=a.savedQuerySelected?a.savedQuerySelected.name:"";break;case"runAsUserSelected":a.schedule.runAsUserId=a.runAsUserSelected?a.runAsUserSelected.key:"",a.schedule.runAsUserName=a.runAsUserSelected?a.runAsUserSelected.username:""}}var a=this;a.$onInit=e}}),angular.module("Inprotech.Integration.PtoAccess").controller("scheduleController",ScheduleController),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleDefinitionTopic",{templateUrl:"condor/classic/integration/ptoaccess/schedule-definition.html",bindings:{topic:"<"},controllerAs:"vm",controller:["dataSourceMap","knownValues",function(e,t){"use strict";function a(){_.extend(i,i.topic.params.viewData),_.extend(i,{continuousRecurrence:t.scheduleType.continuous,hideDetailsLabel:"UsptoPrivatePair"===i.topic.params.viewData.schedule.dataSource}),i.template=e.partial(i.schedule.dataSource,"list")}var i=this;i.$onInit=a}]}),angular.module("Inprotech.Integration.PtoAccess").component("scheduleDescription",{templateUrl:"condor/classic/integration/ptoaccess/schedule-description.html",bindings:{model:"<"},controllerAs:"vm",controller:["$state","knownValues",function(e,t){"use strict";function a(){n.continuousRecurrence=t.scheduleType.continuous,n.details=i,n.description=this.model.downloadDesc,n.model.type!=t.scheduleType.continuous?n.description+=" - "+this.model.presetDesc+".":n.description+=" -"}function i(t){e.go("classicPtoAccess.SchedulesDetail",{id:t})}var n=this;n.$onInit=a}]}),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleDownloadType",{templateUrl:"condor/classic/integration/ptoaccess/schedule-download-type-component.html",bindings:{schedule:"<",maintenance:"="},controllerAs:"vm",controller:["$scope","$translate","knownValues","dataSourceMap","comparisonDataSourceMap",function(e,t,a,i,n){"use strict";function o(){s.selectedDownloadType=null,s.isDataSourceIpOne=!1,s.downloadTypeChanged=r}function r(){s.schedule.downloadType=s.selectedDownloadType?s.selectedDownloadType.type:null;var e=i.downloadTypes(s.schedule.dataSource);e||(s.schedule.downloadType=a.downloadTypes.All)}var s=this;s.$onInit=o,e.$watch("vm.schedule.dataSource",function(e){var a=i.downloadTypes(e);return s.isDataSourceIpOne=n.showTooltip(e),a?void(s.downloadTypes=_.map(a,function(a){return{type:a,label:t.instant("dataDownload.downloadType."+e+"."+a)}})):(s.downloadTypes=null,void(s.selectedDownloadType=null))})}]}),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleFrequency",{templateUrl:"condor/classic/integration/ptoaccess/schedule-frequency-component.html",bindings:{schedule:"<",maintenance:"="},controllerAs:"vm",controller:["$scope","$translate","knownValues",function(e,t,a){"use strict";function i(){d.recurrence=a.recurrence,d.schedule.recurrence=d.recurrence.recurring,d.schedule.runNow=!0,d.schedule.expiresAfter=null,d.schedule.runOn=u,d.runOn=p,d.recurrenceChanged=r,d.runNowChanged=s,d.timeSelectionChanged=l,d.timeEdited=n,d.dateEdited=o,d.availableDays=_.map(a.days,function(e){return{day:e,selected:!0,name:t.instant("dataDownload.runOn."+e)}}),d.selectedHour=d.selectedMinutes="00"}function n(){return d.selectedHour+":"+d.selectedMinutes!="00:00"}function o(){return!d.runOn||c(d.runOn)!==u}function r(){d.schedule.continuousDuplicate=!1,s()}function s(){d.schedule.recurrence===a.recurrence.recurring&&(d.runOn=p,d.selectedHour=d.selectedMinutes="00",l())}function l(){d.schedule.startTime=d.selectedHour+":"+d.selectedMinutes}function c(e){return e?new moment(e).format("YYYY-MM-DD"):null}var d=this,p=new Date,u=c(p);d.$onInit=i,e.$watch("vm.availableDays|filter:{selected:true}",function(e){d.runOnDaysValid=d.schedule.recurrence===a.recurrence.recurring&&e.length>0||d.schedule.recurrence!==a.recurrence.recurring,d.schedule.runOnDays=e.map(function(e){return e.day}).join()},!0),e.$watch("vm.runOn",function(){d.schedule.runOn=c(d.runOn)}),e.$watch("vm.expiresAfter",function(){d.schedule.expiresAfter=c(d.expiresAfter)})}]}),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleMessageAlert",{templateUrl:"condor/classic/integration/ptoaccess/schedule-message-alert.html",bindings:{message:"<"},controllerAs:"vm",controller:function(){"use strict"}}),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleRecentHistoryTopic",{template:'<ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid>',bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","$http","url","notificationService","$translate","kendoGridBuilder","modalService",function(e,t,a,i,n,o,r){"use strict";function s(){_.extend(h,h.topic.params.viewData),h.downloadIndex=d,h.onShowOnlyFailedClicked=p,h.showErrorDetails=u,h.showCancellationInfo=m,h.gridOptions=l(),h.showHideCorrelationIdColumn=g,h.showHideIndexRetrievalColumn=f,h.isContinuousTypeSchedule=3===h.schedule.type}function l(){return o.buildOptions(e,{id:"searchResults",pageable:{pageSize:50},sortable:!1,scrollable:!1,reorderable:!1,navigatable:!0,autoBind:!0,columns:c(),read:function(e){return v(e).then(function(e){return h.showHideCorrelationIdColumn(e.data),h.showHideIndexRetrievalColumn(e.data),e})}})}function c(){var e=[{title:"dataDownload.schedule.status",width:"100px",fixed:!0,template:function(e){return"Failed"===e.status?'<span class="text-red"><a href="javascript:void(0)" ng-click="vm.showErrorDetails(dataItem.id)">{{dataItem.status}}</a>&nbsp;<i class="cpa-icon cpa-icon-exclamation-circle" aria-hidden="true" title="Error"></i><span class="sr-only">Error</span></span>':"Cancelled"===e.status?"<span title='{{ vm.showCancellationInfo(dataItem)'}}'>{{dataItem.status}}</span>":"<span>{{dataItem.status}}</span>"}},{title:"dataDownload.schedule.type",template:function(e){return"Retry"===e.type&&h.isContinuousTypeSchedule?"<span>"+n.instant("dataDownload.executionType."+e.type)+'</span><ip-inline-dialog data-content="'+n.instant("dataDownload.executionType.ContinuousRetryInfo")+'"></ip-inline-dialog>':"<span>"+n.instant("dataDownload.executionType."+e.type)+"</span>"}},{title:"dataDownload.schedule.started",template:'<ip-date-time model="dataItem.started"></ip-date-time>'},{title:"dataDownload.schedule.finished",template:'<ip-date-time model="dataItem.finished"></ip-date-time>'},{title:"dataDownload.schedule.cases",template:function(e){return"Cancelled"===e.status?"<span> ------ </span>":0===e.casesIncluded?"<span>0</span>":e.casesIncluded>0?"<a ui-sref=\"inbox({se: {{dataItem.id}}, dataSource:'{{vm.schedule.dataSource}}' })\">{{(dataItem.casesProcessed || 0)}}/{{dataItem.casesIncluded}} </a>":"<span />"}},{title:"dataDownload.schedule.documents",template:function(e){return"Cancelled"===e.status?"<span> ------ </span>":0===e.documentsIncluded?"<span>0</span>":e.documentsIncluded>0?"<span>"+(e.documentsProcessed||0)+"/"+e.documentsIncluded+"</span>":"<span />"}}];return e.push({title:"dataDownload.schedule.correlation"+h.schedule.dataSource,field:"correlationId",hidden:!0}),e.push({title:" ",hidden:!0,template:function(e){return e.allowsIndexRetrieval?'<div><a id="btnRunNow_{{dataItem.id}}" data-ng-click="vm.downloadIndex(dataItem.id); $event.stopPropagation();"><i class="fa fa-cloud-download" />&nbsp;<span translate="dataDownload.schedule.review"></a></div':"<div />"}}),e}function d(e){window.location=a.api("ptoaccess/schedules/"+h.schedule.id+"/scheduleExecutions/"+e+"/raw-index")}function p(e){var i=e?"Failed":"";t.get(a.api("ptoaccess/schedules/"+h.schedule.id+"/scheduleExecutions?status="+i)).success(function(e){h.scheduleExecutions=e})}function u(e){t.get(a.api("ptoaccess/scheduleExecutions/"+e+"/failures")).then(function(e){r.openModal({id:"ErrorDetails",errorDetails:e.data.result,controllerAs:"vm"})})}function m(e){return"Cancelled"!==e.status?"":n.instant("tooltipCancellationInfo",{user:e.cancellationInfo.byUserName,time:e.cancellationInfo.cancelledOn})}function v(e){return t.get("api/ptoaccess/schedules/"+h.schedule.id+"/scheduleExecutions/view",{params:{params:JSON.stringify(e)}}).then(function(e){return e.data})}function g(e){if(h.gridOptions.$widget){var t=_.any(e,function(e){return e.correlationId}),a=_.find(h.gridOptions.$widget.columns,function(e){return"correlationId"===e.field});t?h.gridOptions.$widget.showColumn(a):h.gridOptions.$widget.hideColumn(a)}}function f(e){if(h.gridOptions.$widget){var t=_.any(e,function(e){return e.allowsIndexRetrieval}),a=_.last(h.gridOptions.$widget.columns);t?h.gridOptions.$widget.showColumn(a):h.gridOptions.$widget.hideColumn(a)}}var h=this;h.$onInit=s}]}),angular.module("Inprotech.Integration.PtoAccess").component("ipScheduleRecoverableCasesAlert",{templateUrl:"condor/classic/integration/ptoaccess/schedule-recoverable-cases-alert.html",bindings:{model:"<"},controllerAs:"vm",controller:["$http","url","notificationService","modalService",function(e,t,a,i){"use strict";function n(){_.extend(d,d.model),d.showRecoverableCasesHint=o,d.showRecoverableCases=r,d.showRecoverableDocumentsHint=s,d.showRecoverableDocuments=l,d.recover=c,d.disabledSchedule="disabled"===d.schedule.state}function o(){return d.disabledSchedule!==!0&&("Idle"!==d.recoveryScheduleStatus||"Idle"===d.recoveryScheduleStatus&&d.recoverableCasesCount>0)}function r(){i.openModal({id:"RecoverableCases",controllerAs:"vm",model:{recoverableCases:d.recoverableCases,hasCorrelationId:d.hasCorrelationId,dataSource:d.schedule.dataSource}})}function s(){return d.disabledSchedule!==!0&&("Idle"!==d.recoveryScheduleStatus||"Idle"===d.recoveryScheduleStatus&&d.recoverableDocumentsCount>0)}function l(){i.openModal({id:"RecoverableDocuments",controllerAs:"vm",model:{recoverableDocuments:d.recoverableDocuments,hasCorrelationId:d.hasCorrelationId,dataSource:d.schedule.dataSource}})}function c(){e.post(t.api("ptoaccess/schedules/"+d.schedule.id+"/recovery")).then(function(){a.success("dataDownload.schedule.recoveryIssued"),d.recoveryScheduleStatus="Pending"})}var d=this;d.$onInit=n}]}),angular.module("Inprotech.Integration.PtoAccess").controller("schedulesController",SchedulesController),angular.module("Inprotech").directive("ipCustomerNumber",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,a,i){var n=t.find("input, textArea"),o=a.customerNumbers,r=function(t){i.$setViewValue(t),e.$apply(i.$render())};n.on("keydown",function(e){if((32==e.keyCode||188==e.keyCode)&&i.$viewValue&&this.selectionStart>=i.$viewValue.length){e.preventDefault();var t=i.$viewValue;if(t){if(t.trim().match(/.*,$/))return;r(t.trim()+", ")}}}),i.$validators.ipCustomerNumber=function(e,t){var a=/^(\d+(, )?)*$/;return!(!i.$isEmpty(t)||!i.$untouched)||(i.$validators.ipCustomerNumber.forced?a.test(t):i.$untouched||a.test(t))},i.$validators.ipDuplicateCustomerNumber=function(e,t){if(i.$isEmpty(t)&&i.$untouched)return!0;var a=s(o,t);return i.$validators.ipDuplicateCustomerNumber.forced?!a:i.$untouched||!a};var s=function(e,t){return!!l(t)||c(e,t)},l=function(e){if(!e)return!1;var t=_.filter(e.split(", "),function(e){return""!==e.trim()}),a=_.uniq(t);return a.length!==t.length},c=function(e,t){if(!e||!t)return!1;var a=_.filter(e.split(", "),function(e){return""!==e.trim()}),i=_.filter(t.split(", "),function(e){return""!==e.trim()}),n=_.intersection(a,i);return 0!==n.length};i.$validatorExtensions||(i.$validatorExtensions=[]),i.$validatorExtensions.push({reset:function(){i.$validators.ipCustomerNumber.forced=!1},force:function(){i.$validators.ipCustomerNumber.forced=!0}})}}}),angular.module("Inprotech.Integration.PtoAccess").controller("newUsptoPrivatePairSponsorshipController",["$uibModalInstance","hotkeys","notificationService","modalService","sponsorshipService","options",function(e,t,a,i,n,o){"use strict";function r(){return!(u.form.maintenance.$dirty&&u.form.maintenance.$valid)}function s(){e.close(!1)}function l(){return u.form.maintenance.$dirty?void a.discard().then(function(){s()}):void s()}function c(){if(!u._isSaving&&(u.errors={},u.form.maintenance&&u.form.maintenance.$validate&&u.form.maintenance.$validate(),!u.form.maintenance.$invalid)){u._isSaving=!0;var e=new FormData;Object.keys(u.sponsorship).forEach(function(t){e.append(t,u.sponsorship[t])}),n.addOrUpdate(u.sponsorship,u.isUpdateMode).then(d)["finally"](function(){u._isSaving=!1})}}function d(t){1==t.data.result.viewData.isSuccess?(e.close(!0),a.success()):a.alert({title:"modal.unableToComplete",message:t.data.result.viewData.error?"dataDownload.uspto.new.errors."+t.data.result.viewData.error:"dataDownload.uspto.new.errors.default"})}function p(){t.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!r()&&i.canOpen("NewUsptoSponsorship")&&u.save()}}),t.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){i.canOpen("NewUsptoSponsorship")&&u.dismissAll()}})}var u=this;u.isUpdateMode=!1,u.form={},u.sponsorship={id:null,name:null,email:null,password:null,authenticatorKey:null,customerNumbers:null,serviceId:null},o.item&&(u.isUpdateMode=!0,u.sponsorship.id=o.item.id,u.sponsorship.name=o.item.name,u.sponsorship.email=o.item.email,u.sponsorship.password=o.item.password,u.sponsorship.authenticatorKey=o.item.authenticatorKey,u.sponsorship.customerNumbers=o.item.customerNumbers,u.sponsorship.serviceId=o.item.serviceId),u.disable=r,u.dismissAll=l,u.save=c,u.afterSave=d,u.initShortcuts=p,u._isSaving=!1}]),angular.module("inprotech.financialReports",[]).config(["$stateProvider",function(e){e.state("financialReports",{url:"/reports",templateUrl:"condor/classic/reports/financial-reports.html",controller:"availableReportsController",resolve:{viewInitialiser:["http",function(e){return e.get("api/reports/availableReportsView").success(function(e){return e})}]},data:{pageTitle:"financialReports.pageTitle"}})}]),angular.module("inprotech.financialReports").controller("availableReportsController",["$scope","$http","viewInitialiser",function(e,t,a){e.categorisedReports=[],e.categorisedReports=a.viewData,e.downloadLink=function(e){return"api/reports/report/"+e}}]),angular.module("Inprotech.SchemaMapping",["inprotech.core","inprotech.api","inprotech.components","Inprotech"]),angular.module("Inprotech.SchemaMapping").run(["modalService",function(e){e.register("SchemaMappingEditor","SchemaEditorController","condor/classic/schemaMapping/lists/schema-editor.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"xl"}),e.register("AddMapping","AddMappingController","condor/classic/schemaMapping/lists/add-mapping.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("Inprotech.SchemaMapping").config(["$stateProvider",function(e){e.state("schemamapping",{url:"/schemamapping","abstract":!0,template:"<ui-view/>"}).state("schemamapping.list",{url:"/list",templateUrl:"condor/classic/schemaMapping/lists/upload.html",controller:"uploadController",controllerAs:"vm",data:{pageTitle:"schemaMapping.usLblTitle"}}).state("schemamapping.mapping",{url:"/mapping/:id",templateUrl:"condor/classic/schemaMapping/mapping/mapping.html",controller:"mappingController",cache:!1,resolve:{viewInitialiser:["http","url","$stateParams",function(e,t,a){return e.get(t.api("schemamappings/mappingView/"+a.id))}]}}).state("schemamapping.xml",{url:"/:id/xml",templateUrl:"condor/classic/schemaMapping/xmlgeneration/generateXml.html",controller:"xmlController",controllerAs:"vm",resolve:{viewInitialiser:["http","url","$stateParams",function(e,t,a){return e.get(t.api("schemamappings/xmlview/"+a.id))}]}})}]),angular.module("Inprotech.SchemaMapping").constant("dataTypeToInputMap",Object.freeze({String:"text",AnyUri:"text",QName:"text",NormalizedString:"text",Token:"text",Language:"text",NmToken:"text",Name:"text",NCName:"text",Id:"text",Idref:"text",Entity:"text",Notation:"text",Integer:"numeric",Long:"numeric",Int:"numeric",Short:"numeric",Byte:"numeric",Decimal:"numeric",Float:"numeric",Double:"numeric",Duration:"numeric",NonPositiveInteger:"numeric",NegativeInteger:"numeric",NonNegativeInteger:"numeric",UnsignedLong:"numeric",UnsignedInt:"numeric",UnsignedShort:"numeric",UnsignedByte:"numeric",PositiveInteger:"numeric",Date:"date",Time:"time",DateTime:"datetime",GYearMonth:"date",GYear:"date",GMonthDay:"date",GDay:"date",GMonth:"date",Boolean:"boolean",HexBinary:"notsupported",Base64Binary:"notsupported"})),angular.module("Inprotech.SchemaMapping").factory("docItemHelper",[function(){"use strict";return{initColumns:function(e,t){_.each(e.columns,function(a){a.nodeId=t.id,a.docItemId=e.id,a.group=t.name+" - "+e.code,a.label=a.name+" ("+a.type+")"})}}}]),angular.module("Inprotech.SchemaMapping").controller("mappingController",["$scope","$timeout","viewInitialiser","schemaHelper","schemaNode","persistence","notificationService","splitterBuilder","dateHelper",function(e,t,a,i,n,o,r,s,l){"use strict";var c=null,d=null;e.dateHelper=l,e.initData=function(){return d=a.data,d.missingDependencies?(e.editable=!1,void r.alert({message:"schemaMapping.mpLblMissingDependencies",messageParams:{name:d.name}})):(e.editable=!0,c=d.schema,i.init(c),o.init(e,c,d.mappingEntries,d.docItems),e.expandedNodes=[],e.current=null,e.structure=[c.structure],e.mappingInfo={oldName:d.name,name:d.name,id:d.id,visible:!0,isDtdFile:d.isDtdFile,shouldAddDocType:!(!d.fileRef||null===d.fileRef),fileRef:d.fileRef,rootNodeName:d.rootNodeName},e.mappingInfo.shouldAddDocType||(e.mappingInfo.fileRef=d.fileName),void t(e.expandAll))},e.datetime={opened:!1,open:function(t){t.preventDefault(),t.stopPropagation(),e.datetime.opened=!0}},e.filterParameters={name:"!gstrEntryPoint"},e.expandDetails=!1,e.opts={equality:function(e,t){return void 0!==e&&void 0!==t&&e.id===t.id},isSpecificNode:function(e){return"Choice"===e.nodeType||"Sequence"===e.nodeType},injectClasses:{iExpanded:"cpa-icon cpa-icon-minus",iCollapsed:"cpa-icon cpa-icon-plus",iSpecific:"lightBorder"}},e.showDetails=function(t){return t?void(e.current=n(e,c,t)):void(e.current=null)},e.isInputInvalid=function(e){return e.$error.numeric||e.$error.time||e.$error.date},e.isInputRequired=function(t){return!e.isInputInvalid(t)&&t.$error.required},e.setToNullIfBlank=function(e,t){""===e[t]&&(e[t]=null)},e.findElement=function(e){return _.find(c.nodes,function(t){return t.name===e})},e.findPath=function(t){var a=e.findElement(t);return c.path(a)},e.toggleAllNodes=function(){0===e.expandedNodes.length?e.expandAll():e.collapseAll()},e.collapseAll=function(){e.expandedNodes=[]};var p=!1;e.expandAll=function(){p=!0,t(function(){var a=[c.nodes[0]],i=_.union(_.keys(e.model.docItemColumns),_.keys(e.model.fixedValues)),n=_.pluck(_.where(c.nodes,{name:"Choice"}),"id");if(i.length>0){var o=_.filter(c.nodes,function(e){return _.contains(i,e.id)}),r=c.nodes[0].id;_.each(o,function(e){for(var t=e;t&&t.id!==r;)a.push(t),t=_.find(c.nodes,{id:t.parentId})});var s=_.reject(n,function(e){return _.findWhere(a,{id:e})}),l=_.reject(c.nodes,function(e){return _.contains(s,e.parentId)});a=l.length<=500?l:_.uniq(a)}else{var d=_.reject(c.nodes,function(e){return _.contains(n,e.parentId)});d.length<=500&&(a=d)}e.expandedNodes=a,t(function(){p=!1},100)})},e.isExpanding=function(){return p},e.expandToNode=function(t){e.expandedNodes=e.findPath(t),e.showDetails(e.findElement(t))},e.showDocItemPicklist=function(){e.$broadcast("docItemPicklist.show")},e.save=function(t){if(!t.$invalid){var a=e.mappingInfo.isDtdFile&&e.mappingInfo.shouldAddDocType?e.mappingInfo.fileRef:null;o.save(d.id,e.mappingInfo.name,{isDtdFile:e.mappingInfo.isDtdFile,fileRef:a}).then(function(a){a&&(d.fileRef=e.mappingInfo.shouldAddDocType?e.mappingInfo.fileRef:null,t.$setPristine())})}},e.hasChanges=function(){return c&&c.dirty},e.updateMappingName=function(t,a){return t?o.updateName(d.id,t).then(function(){},function(e){"DUPLICATE_NAME"===e?r.alert({message:"schemaMapping.usDuplicateMappingName"}):r.alert({message:"schemaMapping."+e})}):void(e.mappingInfo.name=a)},e.isRoot=function(e){return!e.parentId},e.isMapped=function(t){return!(!e.model||!e.model.docItemColumns[t.id]&&!e.model.fixedValues[t.id])},e.isDocItemSelected=function(t){return e.model&&e.model.docItems[t.id]&&!e.isMapped(t)},e.hasError=function(t){return e.model&&e.model.docItems[t.id]&&e.model.docItems[t.id].error},e.isSaveEnabled=function(t){return e.editable&&t.$valid&&(t.$dirty||e.hasChanges()||!1)},e.discard=function(t){e.initData(),t.$setPristine()},e.padZero=function(e){return e<10?"0"+e:e};var u=function(){var t={collapsible:!1,collapsed:!1,resizable:!0,size:"42%",min:"20%",max:"55%"},a={collapsible:!1,resizable:!0,min:"45%",max:"80%"};e.splitterDetails=s.BuildOptions("mainContent",{panes:[t,a]})};u(),e.initData()}]),angular.module("Inprotech.SchemaMapping").directive("inNumeric",function(){"use strict";return{scope:{numType:"&inNumeric"},require:"ngModel",link:function(e,t,a,i){i.$parsers.push(function(t){function a(e){var a=parseInt(t);return!isNaN(a)&&l[e](a)}function n(e,n){var o=!n||a(n);return e.test(t)&&o?t:void i.$setValidity("numeric",!1)}if(i.$setValidity("numeric",!0),void 0!==t&&null!==t){var o=t.replace(/[^\d-+.]/,"");if(o!==t&&(t=o,i.$setViewValue(t),i.$render()),i.$isEmpty(t))return t;var r=/^[+-]?\d+(\.\d*)?$/,s=/^[+-]?\d+$/,l={"<=":function(e){return e<=0},">=":function(e){return e>=0},"<":function(e){return e<0},">":function(e){return e>0}};switch(e.numType()){case"Double":case"Float":case"Decimal":return n(r);case"Long":case"Short":case"Byte":case"Int":case"Integer":return n(s);case"NonPositiveInteger":return n(s,"<=");case"NegativeInteger":return n(s,"<");case"PositiveInteger":return n(s,">");case"NonNegativeInteger":case"UnsignedLong":case"UnsignedShort":case"UnsignedByte":case"UnsignedInt":return n(s,">=")}}})}}}),angular.module("Inprotech.SchemaMapping").factory("persistence",["$http","url","notificationService","docItemHelper","dateHelper",function(e,t,a,i,n){"use strict";function o(e){function t(e){return"gstrEntryPoint"===e}function a(e){return i[e]||(i[e]={}),i[e]}var i={};return _.each(e.fixedValues,function(e,t){u.node(t)&&(a(t).fixedValue=e)}),_.each(e.docItemColumns,function(t,i){if(t){var n=u.node(i);if(n&&u.type(n.typeName).canHaveValue){var o=e.docItems[t.nodeId];o&&o.columns.indexOf(t)!==-1&&(a(i).docItemBinding={nodeId:t.nodeId,columnId:t.index,docItemId:o.id})}}}),_.each(e.docItems,function(e,i){e&&u.node(i)&&(a(i).docItem={id:e.id,parameters:_.map(e.parameters,function(e){var a=e.name;return t(a)?{id:a,type:"global"}:{id:a,type:"fixed",value:e.value||0===e.value?e.value:null}})})}),_.each(e.selectedUnionTypes,function(e,t){e&&u.node(t)&&(a(t).selectedUnionType=e)}),{mappingEntries:i}}function r(e,t){var a={};return _.each(e,function(e,i){if(e.fixedValue){var o={},r=t.node(i)||{};e.selectedUnionType&&(o=t.type(e.selectedUnionType)),"Date"==r.typeName||"DateTime"==r.typeName||"Time"==r.typeName||"date"==o.inputType?a[i]=n.convertForDatePicker(e.fixedValue):a[i]=e.fixedValue}}),a}function s(e,t,a){var n={};return _.each(t,function(t,o){if(t.docItem){var r=e.node(o);if(r){var s=angular.copy(a[t.docItem.id]);if(!s)return void(n[o]={id:t.docItem.id,error:"NotFound"});_.each(s.parameters,function(e){var a=_.find(t.docItem.parameters,function(t){return t.id===e.name});a&&(e.value=a.value)}),i.initColumns(s,r),n[o]=s}}}),n}function l(e,t){var a={};return _.each(e,function(e,i){if(e.docItemBinding){var n=t[e.docItemBinding.nodeId];if(n){var o=_.find(n.columns,function(t){var a=e.docItemBinding;return a.nodeId===t.nodeId&&a.docItemId===t.docItemId&&a.columnId===t.index});a[i]=o}}}),a}function c(e){var t={};return _.each(e,function(e,a){t[a]=e.selectedUnionType||null}),t}function d(e){e.$watch(function(){return e.current&&e.current.node?{nodeId:e.current.node.id,fixedValue:e.model.fixedValues[e.current.node.id],docItemColumn:e.model.docItemColumns[e.current.node.id],docItem:e.model.docItems[e.current.node.id]}:null},function(t,a){e.current&&a&&t&&t.nodeId===a.nodeId&&e.current.setDirty()},angular.equals)}var p,u;return{init:function(e,t,a,i){a=a||{},p=e,u=t;var n=s(t,a,i);e.model={fixedValues:r(a,t),docItems:n,docItemColumns:l(a,n),selectedUnionTypes:c(a)},d(e,a)},save:function(i,n,r){var s=o(p.model),l={mappings:s,name:n};return r.isDtdFile&&(l.fileRef=r.fileRef),e.put(t.api("schemamappings/"+i),l).then(function(){return u.dirty=!1,a.success(),!0},function(e){return e=e.data,"DUPLICATE_NAME"===e?a.alert({message:"schemaMapping.usDuplicateMappingName"}):a.alert({message:"schemaMapping."+e}),!1})},updateName:function(a,i){return e.put(t.api("schemamappings/"+a+"/name"),{name:i})}}}]),angular.module("Inprotech.SchemaMapping").factory("schemaHelper",["dataTypeToInputMap",function(e){"use strict";function t(e,a){if(e&&(a(e),e.children))for(var i=0;i<e.children.length;i++)t(e.children[i],a)}function a(e,t){for(var a=e,i=[];a;)i.unshift(a),a=a.parentId?t[a.parentId]:null;return i}function i(e){return"element"===e.nodeType?e.minOccurs&&"0"!==e.minOccurs:"attribute"===e.nodeType?"Required"===e.use:null}return{init:function(n){var o={},r=[],s={};n.dirty=!1,_.each(n.types,function(t){t.inputType=t.restrictions&&t.restrictions.enumerations?"list":e[t.dataType],o[t.name]=t,t.canHaveValue=t.dataType||t.unionTypes}),n.types=o,t(n.structure,function(e){r.push(e),s[e.id]=e,e.isRequired=i(e)}),n.nodes=r,n.node=function(e){return s[e]},n.path=function(e){return _.isObject(e)||(e=n.node(e)),a(e,s)},n.type=function(e){return n.types[e]}}}}]),angular.module("Inprotech.SchemaMapping").factory("schemaNode",["$http","url","docItemHelper","notificationService",function(e,t,a,i){"use strict";return function(n,o,r){return{node:r,type:o.type(r.typeName),isRequired:r.isRequired,underlyingType:function(){return this.type.unionTypes?o.type(n.model.selectedUnionTypes[r.id]):this.type},docItem:function(o,s){if(null==o){var l=Object.keys(n.model.docItemColumns);return void _.each(l,function(e){n.model.docItemColumns[e]&&n.model.docItemColumns[e].nodeId===r.id&&(n.model.docItemColumns[e]=null)})}var c=this;e.get(t.api("schemamapping/docItem?id="+o)).then(function(e){var t=e.data;n.model.docItems[r.id]=t,a.initColumns(t,r),c.type&&c.type.canHaveValue&&1===t.columns.length&&(n.model.docItemColumns[r.id]=t.columns[0])},function(e){return"FailedToReadDocItem"===e.data.status&&i.alert({message:"schemaMapping.mpLblFailedToReadDocItem",messageParams:{name:s,error:e.data.error}}),!0})},docItemColumns:function(){var e=o.path(r).reverse(),t=[];return _.each(e,function(e){var a=n.model.docItems[e.id];a&&_.each(a.columns,function(e){t.push(e)})}),t},setDirty:function(){o.dirty=!0}}}}]),angular.module("Inprotech.SchemaMapping").controller("xmlController",["$scope","$stateParams","$http","$location","$timeout","$window","url","viewInitialiser",function(e,t,a,i,n,o,r,s){"use strict";var l;e.id=t.id,e.mappingName=s.data.name,e.details={entryPoint:null},e.status="idle",e.generateXml=function(){l("xmlview",function(t){e.xml=t})},e.downloadXml=function(){l("xmldownload",function(e){o.location=r.api("storage/"+e)})},e.errorContainsTempNameSpace=function(){var t="http://tempuri.org/a";return e.error&&e.error.indexOf(t)>-1},l=function(i,n){var o=r.api("schemamappings/"+t.id+"/"+i+"?gstrEntryPoint="+e.details.entryPoint);e.status="generating",e.error=null,e.xml=null,a.get(o,{handlesError:function(e){return"FailedToGenerateXml"===e.status;
}}).then(function(t){var a=t.data;e.status="idle",n(a.result||a)},function(t){var a=t.data;e.status="idle",e.xml=a.xml,e.error=a.error})}}]),function(e){"use strict";e.module("Inprotech").directive("treecontrol",["$compile",function(t){function a(e,t){return e?t?'class="'+e+'"':e:""}function i(e,t,a){e.hasOwnProperty(t)||(e[t]=a)}return{restrict:"EA",require:"treecontrol",transclude:!0,scope:{treeModel:"=",selectedNode:"=?",selectedNodes:"=?",expandedNodes:"=?",onSelection:"&",onNodeToggle:"&",options:"=?",orderBy:"@",reverseOrder:"@",filterExpression:"=?",filterComparator:"=?"},controller:["$scope",function(n){function o(e){return!e[n.options.nodeChildren]||0===e[n.options.nodeChildren].length}function r(t,a){if(e.isArray(t)){a=a||[];for(var i=0;i<t.length;i++)a[i]=t[i]}else if(e.isObject(t)){a=a||{};for(var n in t)!hasOwnProperty.call(t,n)||"$"===n.charAt(0)&&"$"===n.charAt(1)||(a[n]=t[n])}return a||t}function s(t,a){return void 0!==t&&void 0!==a&&(t=r(t),t[n.options.nodeChildren]=[],a=r(a),a[n.options.nodeChildren]=[],e.equals(t,a))}function l(e){if(!n.options.multiSelection&&n.options.equality(e,n.selectedNode))return!0;if(n.options.multiSelection&&n.selectedNodes){for(var t=0;t<n.selectedNodes.length;t++)if(n.options.equality(e,n.selectedNodes[t]))return!0;return!1}}n.options=n.options||{},i(n.options,"multiSelection",!1),i(n.options,"nodeChildren","children"),i(n.options,"dirSelectable","true"),i(n.options,"injectClasses",{}),i(n.options.injectClasses,"ul",""),i(n.options.injectClasses,"li",""),i(n.options.injectClasses,"liSelected",""),i(n.options.injectClasses,"iExpanded",""),i(n.options.injectClasses,"iCollapsed",""),i(n.options.injectClasses,"iLeaf",""),i(n.options.injectClasses,"label",""),i(n.options.injectClasses,"labelSelected",""),i(n.options,"equality",s),i(n.options,"isLeaf",o),n.selectedNodes=n.selectedNodes||[],n.expandedNodes=n.expandedNodes||[],n.expandedNodesMap={};for(var c=0;c<n.expandedNodes.length;c++)n.expandedNodesMap["x"+c]=n.expandedNodes[c];n.parentScopeOfTree=n.$parent,n.headClass=function(e){var t=a(n.options.injectClasses.liSelected,!1),i="";return l(e)&&(i=t?" "+t:" ",n.options.isSpecificNode(e)&&(i=" "+a(n.options.injectClasses.iSpecific,!1))),n.options.isLeaf(e)?"tree-leaf"+i:n.expandedNodesMap[this.$id]?"tree-expanded"+i:"tree-collapsed"+i},n.iBranchClass=function(){return a(n.expandedNodesMap[this.$id]?n.options.injectClasses.iExpanded:n.options.injectClasses.iCollapsed)},n.nodeExpanded=function(){return!!n.expandedNodesMap[this.$id]},n.selectNodeHead=function(){var e=void 0===n.expandedNodesMap[this.$id];if(n.expandedNodesMap[this.$id]=e?this.node:void 0,e)n.expandedNodes.push(this.node);else{for(var t,a=0;a<n.expandedNodes.length&&!t;a++)n.options.equality(n.expandedNodes[a],this.node)&&(t=a);void 0!=t&&n.expandedNodes.splice(t,1)}n.onNodeToggle&&n.onNodeToggle({node:this.node,expanded:e})},n.selectNodeLabel=function(e){if(e[n.options.nodeChildren]&&e[n.options.nodeChildren].length>0&&!n.options.dirSelectable)this.selectNodeHead();else{var t=!1;if(n.options.multiSelection){for(var a=-1,i=0;i<n.selectedNodes.length;i++)if(n.options.equality(e,n.selectedNodes[i])){a=i;break}a===-1?(n.selectedNodes.push(e),t=!0):n.selectedNodes.splice(a,1)}else n.options.equality(e,n.selectedNode)?n.selectedNode=void 0:(n.selectedNode=e,t=!0);n.onSelection&&n.onSelection({node:e,selected:t})}},n.selectedClass=function(){var e=l(this.node),t=a(n.options.injectClasses.labelSelected,!1),i="";return t&&e&&(i=" "+t),e?"tree-selected"+i:""},n.ngClassIfDefined=function(e){return e?n.$parent.$eval(e):""},n.ulClass=n.options.injectClasses.ul?n.$eval(n.options.injectClasses.ul):"";var d=n.orderBy?" | orderBy:orderBy:reverseOrder":"",p='<ul  ng-class="options.injectClasses.ul"><li ng-repeat="node in node.'+n.options.nodeChildren+" | filter:filterExpression:filterComparator "+d+'" ng-class="headClass(node)" '+a(n.options.injectClasses.li,!0)+'><i class="tree-branch-head" ng-class="iBranchClass()" ng-click="selectNodeHead(node)"></i><i class="tree-leaf-head '+a(n.options.injectClasses.iLeaf,!1)+'"></i><div class="tree-label '+a(n.options.injectClasses.label,!1)+'" ng-class="selectedClass()" ng-click="selectNodeLabel(node)" tree-transclude></div><treeitem ng-if="nodeExpanded()"></treeitem></li></ul>';this.template=t(p)}],compile:function(t,a,i){return function(t,a,n,o){t.$watch("treeModel",function(a){if(e.isArray(a)){if(e.isDefined(t.node)&&e.equals(t.node[t.options.nodeChildren],a))return;t.node={},t.synteticRoot=t.node,t.node[t.options.nodeChildren]=a}else{if(e.equals(t.node,a))return;t.node=a}}),t.$watchCollection("expandedNodes",function(i){var n=0,o={},r=a.find("li"),s=[];e.forEach(r,function(t){var a=e.element(t),i=a.scope();s.push(i)}),e.forEach(i,function(e){for(var a=!1,i=0;i<s.length&&!a;i++){var r=s[i];t.options.equality(e,r.node)&&(o[r.$id]=r.node,a=!0)}a||(o["x"+n++]=e)}),t.expandedNodesMap=o}),o.template(t,function(e){a.html("").append(e)}),t.$treeTransclude=i}}}}]).directive("treeitem",function(){return{restrict:"E",require:"^treecontrol",link:function(e,t,a,i){i.template(e,function(e){t.html("").append(e)})}}}).directive("treeTransclude",function(){return{link:function(e,t){if(!e.options.isLeaf(e.node)){var a=function(t,a){e.expandedNodesMap[e.$id]=e.node,e.expandedNodesMap["x"+a]=void 0};for(var i in e.expandedNodesMap)if(e.expandedNodesMap.hasOwnProperty(i)){var n=e.expandedNodesMap[i];if(e.options.equality(n,e.node)){a(n,i);break}}}if(!e.options.multiSelection&&e.options.equality(e.node,e.selectedNode))e.selectedNode=e.node;else if(e.options.multiSelection){for(var o=[],r=0;r<e.selectedNodes.length;r++)e.options.equality(e.node,e.selectedNodes[r])&&o.push(e.node);e.selectedNodes=o}e.transcludeScope=e.parentScopeOfTree.$new(),e.transcludeScope.node=e.node,e.transcludeScope.$parentNode=e.$parent.node===e.synteticRoot?null:e.$parent.node,e.transcludeScope.$index=e.$index,e.transcludeScope.$first=e.$first,e.transcludeScope.$middle=e.$middle,e.transcludeScope.$last=e.$last,e.transcludeScope.$odd=e.$odd,e.transcludeScope.$even=e.$even,e.$on("$destroy",function(){e.transcludeScope.$destroy()}),e.$treeTransclude(e.transcludeScope,function(e){t.empty(),t.append(e)})}}})}(angular),angular.module("Inprotech").directive("inDatePicker",["url",function(e){"use strict";return{restrict:"E",templateUrl:e.of("scripts/controls/datePicker.html"),scope:{bindValue:"=",dateOnlyString:"=",minDate:"&",maxDate:"&",isRequired:"=",isDisabled:"="},link:function(e,t,a){e.open=function(t){t.preventDefault(),t.stopPropagation(),e.opened?e.opened=!1:e.opened=!0},void 0!==a.isfuturedate&&(e.minDate=new Date),void 0!==a.ispastdate&&(e.maxDate=new Date),e.$watch("bindValue",function(){e.bindValue&&e.bindValue instanceof Date&&(e.dateOnlyString=e.bindValue.getFullYear()+"/"+(e.bindValue.getMonth()+1)+"/"+e.bindValue.getDate())})}}}]),angular.module("Inprotech").directive("inDragAndDrop",function(){"use strict";return{restrict:"A",link:function(e,t,a){t.on("drop",function(i){if($(t).removeClass("dragover"),i.originalEvent.stopPropagation(),i.originalEvent.preventDefault(),e.$eval(a.ngDisabled)!==!0){var n=i.originalEvent.dataTransfer.files;if(0!==n.length){var o=e[a.inDragAndDrop];o&&e.$apply(o(n))}}}),t.on("dragover",function(e){$(t).addClass("dragover"),e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()}),t.on("dragenter",function(e){e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()}),t.on("dragleave",function(e){$(t).removeClass("dragover"),e.originalEvent.stopPropagation(),e.originalEvent.preventDefault()})}}}),angular.module("Inprotech").factory("focus",["$timeout",function(e){return function(t){e(function(){var e=document.getElementById(t);e&&e.focus()})}}]).directive("inFocusElement",["focus",function(e){return function(t,a,i){a.on(i.inFocusElement,function(){e(i.focusElementId)}),t.$on("$destroy",function(){a.off(i.inFocusElement)})}}]),angular.module("Inprotech").directive("inInputFile",function(){"use strict";return{restrict:"A",scope:{selected:"&",ngDisabled:"="},link:function(e,t,a){function i(){var e=$('<input type="file" class="internal-file-input" accept="'+a.accept+'" />');return $(t).append(e),e.on("change",n),e[0]}function n(){if(e.ngDisabled!==!0){var t=r.files;if(0!==t.length){var a=e.selected();a&&e.$apply(a(t)),o(),r=i()}}}function o(){$(r).unbind(),$(r).remove(),r=null}var r=i();e.$on("$destroy",function(){o()})}}}),angular.module("Inprotech").directive("ngEnter",function(){"use strict";return function(e,t,a){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(a.ngEnter)}),t.preventDefault())})}}),angular.module("Inprotech").directive("scrollIntoView",function(){"use strict";function e(e,t,a){function i(e){var t=e.offsetParent;t&&n(e,t)}function n(e,t){var a=t.offsetTop+t.offsetHeight,i=e.offsetTop,n=i+e.offsetHeight;if(!(i>t.scrollTop&&n<t.scrollTop+t.offsetHeight)){var o;return o=i<t.scrollTop?{scrollTop:i}:{scrollTop:t.scrollTop+(n-a)},$(t).animate(o,100),this}}e.$watch(a.scrollIntoView,function(e){e&&i(t[0])}),t.on("$destroy",function(){t.unbind()})}return{restrict:"A",link:e}}),angular.module("Inprotech").factory("safeApply",[function(){"use strict";return function(e,t){var a=(e.$root||{}).$$phase;return"$apply"===a||"$digest"===a?t():e.$apply(t)}}]),angular.module("Inprotech").directive("inBaseUrl",["url",function(e){"use strict";return{restrict:"E",scope:{path:"="},link:function(t){e.baseUrl=t.path}}}]).service("url",["$window",function(e){"use strict";var t=function(e){return!e||/^.*\/$/.test(e)?e:e+"/"},a={baseUrl:"",api:function(e){return"api/"+e},of:function(e){return"condor/classic/"+e},app:function(t){var i=t||e.location.pathname||"";if("/"!==i[0])return(i.match(/[^\/]+/)||[])[0];var n=(t||e.location.pathname).match(/[^\/]+/g)||[],o=("/"+a.baseUrl).match(/\//g).length-1,r=n.slice(n.length-o).join("/");return r||(r=""),r.toLowerCase()},query:function(e){return _.chain(e).map(function(e,t){return _.isArray(e)?_.map(e,function(e){return t+"="+e}):t+"="+e}).flatten().value().join("&")},inprotech:function(e){return"../"+t(a.baseUrl)+e}};return a}]),angular.module("Inprotech.Infrastructure",[]),angular.module("Inprotech.Infrastructure").service("fileReader",["$q",function(e){"use strict";return{readAsText:function(t,a){var i=new FileReader,n=e.defer();return i.onload=function(){n.resolve(i.result)},i.onerror=function(){n.reject(i.error)},i.readAsText(t,a),n.promise}}}]),angular.module("Inprotech.Infrastructure").factory("fileUtils",[function(){"use strict";return{isValidSchemaFileName:function(e){return/.*\.xsd|dtd$/gi.test(e)},isValidXsdFileName:function(e){return/.*\.xsd$/gi.test(e)},isValidXsdContent:function(e){var t=new DOMParser;try{var a=t.parseFromString(e,"application/xml"),i=":schema";return _.any(a.childNodes,function(e){return e.nodeName.indexOf(i,e.nodeName.length-i.length)!==-1})}catch(n){return!1}}}}]),angular.module("Inprotech.Infrastructure").service("http",["$http",function(e){"use strict";var t={get:function(t){var a=e.get(t);return a.success=function(e){return a.then(function(t){return t.data=t.data.result||t.data,e(t.data,t.status,t.headers)})},a},post:function(t,a){var i=e.post(t,a);return i.success=function(e){return i.then(function(t){return t.data&&(t.data=t.data.result||t.data),e(t.data,t.status,t.headers)})},i}};return t}]),angular.module("Inprotech.Infrastructure").service("layout",["$rootScope","$document",function(e,t){"use strict";var a=this,i=function(){return 0},n={outerWidth:i,outerHeight:i},o=function(){var e=(t.find("#topheader")||n).outerHeight(!0),a=n.outerHeight(!0),i=(t.find("#leftBar")||n).outerWidth(!0),o=a+e;return{top:o,left:i,width:t[0].documentElement.clientWidth-i,height:t[0].documentElement.clientHeight-o}};a.contentSize=function(){var e=t.find("#mainContent");return{width:e.outerWidth(!0),height:e.outerHeight(!0)}},a.detectViewportChanges=function(){var t=o();a.viewport.width===t.width&&a.viewport.height===t.height||(a.viewport.height!==t.height&&$("#mainPane").height(t.height),a.viewport=t,e.$broadcast("viewportResize",a.viewport))},a.viewport=o()}]),angular.module("Inprotech.Infrastructure").directive("inModelExtension",[function(){"use strict";return{restrict:"A",require:"?ngModel",link:function(e,t,a,i){if(i){var n;i.$formatters.push(function(e){return n||(i.$oldValue=e,n=!0),e});var o=i.$setPristine;i.$setPristine=function(){o.apply(i),i.$oldValue=i.$modelValue}}}}}]),angular.module("Inprotech.Localisation",[]),angular.module("Inprotech.Localisation").factory("globalResources",function(){"use strict";return{keyboardBindingNextItem:"Next {0}",keyboardBindingPreviousItem:"Previous {0}",keyboardBindingDefaultItemLiteral:"item",keyboardBindingShowMenu:"'?' to show keyboard shortcuts",_:null}}),angular.module("Inprotech.Localisation").factory("localise",["globalResources",function(e){"use strict";var t=e||{},a={initialize:function(e){t=_.extend(e,t)},getString:function(e){if(!e)throw"key is required";for(var a=t[e],i=1;i<arguments.length;i++)a=a.replace("{"+(i-1)+"}",arguments[i]);return a},replace:function(e){if(e)for(var a in e)t[a]=e[a]}};return a}]).filter("loc",["localise",function(e){"use strict";return function(t){if(!t)throw"key is required.";for(var a=e.getString(t),i=1;i<arguments.length;i++)a=a.replace("{"+(i-1)+"}",arguments[i]);return a||t}}]),angular.module("Inprotech.Localisation").factory("localisedResourcesInterceptor",["$q","localise","$rootScope",function(e,t,a){"use strict";return{response:function(i){return i.data&&i.data.__resources&&(t.replace(i.data.__resources),a.$broadcast("localise.resources.updated")),i||e.when(i)}}}]),angular.module("Inprotech.Utilities",[]),angular.module("Inprotech.Utilities").service("csvParser",["$q",function(e){"use strict";return{parse:function(t){var a=e.defer();return Papa.parse(t,{header:!0,worker:!0,skipEmptyLines:!0,complete:function(e){return e.errors.length>0?void a.reject(e.errors):void a.resolve(e)}}),a.promise}}}]),angular.module("Inprotech.Utilities").directive("inComparison",[function(){"use strict";return{restrict:"A",scope:{text:"="},link:function(e,t){var a=function(){$("span",t).remove()},i=function(){var a=JsDiff.diffWords(e.text.left,e.text.right);a.forEach(function(e){var a=e.added?"diff-added":e.removed?"diff-deleted":"diff-unchanged";t.append($("<span></span>").text(e.value).addClass(a))})};e.$watch("text",function(){a(),i()})}}}]),angular.module("Inprotech.Utilities").directive("inNavigateByKeyboard",["$rootScope","$timeout","hotkeys","localise",function(e,t,a,i){"use strict";return function(n,o,r){var s=r.selectedSelector,l=[{tagName:"TABLE",item:"tr"},{tagName:"UL",item:"li"}],c=_.find(l,function(e){return e.tagName===o[0].tagName});if(s&&c){e.$broadcast("keyboard-binding",!0);var d=function(e,t,a){var i=_.findIndex(t,function(e){return e===a||$(e).has(a).length>0});return"prev"===e?0===i?t[0]:t[i-1]:i===t.length-1?t[i]:t[i+1]},p=function(){var e=c.item;return e+s+", "+e+" "+s},u=function(e){var t=c.item,a=$(t,o),i=$(p(),o).first(),n=0===i.length?a.first():d(e,a,i[0]);return n.offsetParent&&m(n,n.offsetParent,e),$(n)},m=function(e,t,a){"TABLE"==t.tagName&&(t=t.parentElement);var i=t.offsetTop+t.offsetHeight,n=e.offsetTop,o=n+e.offsetHeight;if(!(n>t.scrollTop&&o<t.scrollTop+t.offsetHeight)){var r;return r="prev"===a?{scrollTop:n}:{scrollTop:t.scrollTop+(o-i)},$(t).animate(r,100),this}},v=function(){t(function(){u("next").click()},0)},g=function(){t(function(){u("prev").click()},0)},f=r.itemLiteral||i.getString("keyboardBindingDefaultItemLiteral"),h=i.getString("keyboardBindingNextItem",f),y=i.getString("keyboardBindingPreviousItem",f),b=r.keyModifier?r.keyModifier+"+":"",w=_.isUndefined(r.preventHotkeyInInput)||_.isNull(r.preventHotkeyInInput)?["INPUT"]:null;a.bindTo(n).add({combo:b+"up",description:y,allowIn:w,callback:g}).add({combo:b+"down",description:h,allowIn:w,callback:v})}}}]),angular.module("inprotech.components",["ui.bootstrap","inprotech.api","inprotech.components.buttons","inprotech.components.tooltip","inprotech.components.picklist","inprotech.components.bulkactions","inprotech.components.messaging","inprotech.components.typeahead","inprotech.components.searchOptions","inprotech.components.notification","inprotech.components.focus","inprotech.components.page","inprotech.components.kendo","inprotech.components.grid","inprotech.components.tree","inprotech.components.barchart","inprotech.components.sort","inprotech.components.keypressevent","inprotech.components.form","inprotech.components.topics","inprotech.components.login","inprotech.components.modal","inprotech.components.panel","inprotech.components.splitter","inprotech.components.menu","inprotech.components.stateContext","ngTagsInput","pascalprecht.translate","inprotech.components.multistepsearch"]).config(["$translateProvider",function(e){"use strict";e.useSanitizeValueStrategy("escapeParameters")}]),angular.module("inprotech.components.barchart",["kendo.directives"]),angular.module("inprotech.components.barchart").factory("kendoBarChartBuilder",["$q","$translate",function(e,t){"use strict";function a(t){t=angular.merge({},l,t);var a=o(t);return t.dataSource=new kendo.data.DataSource(a),r(t),s(t),e.when(i(t)).then(function(){return t})}function i(e){var t=[e.title,e.categoryAxis.title,e.valueAxis.title];return _.each(t,function(e){e.text&&n(e.text).then(function(t){e.text=t})}),_.each(e.series,function(e){e.name&&n(e.name).then(function(t){e.name=t})}),e.categoryAxis.translateCategories&&_.each(e.categoryAxis.categories,function(t,a){n(t).then(function(t){e.categoryAxis.categories[a]=t})}),null}function n(a){return e.when(t(a))}function o(t){return{transport:{read:function(a){return kendo.ui.progress($(".chart-loading"),!0),e.when(t.read()).then(function(e){e?a.success(e):(kendo.ui.progress($(".chart-loading"),!1),a.error())})}}}}function r(e){e.refreshData=function(){e.dataSource.read()}}function s(e){e.refreshChart=function(){$("#"+e.id).data("kendoChart").refresh()}}var l={id:null,title:{text:null},legend:{position:"top"},seriesDefaults:{type:"column"},valueAxis:{title:{text:null},labels:{format:"{0}"}},line:{visible:!1},categoryAxis:{title:{text:null},line:{visible:!1},labels:{padding:{top:5}}},tooltip:{visible:!0,format:"{0}",template:"#= value #: #= series.name #"},render:function(e){setTimeout(function(){var t=$(".chart-loading",e.sender.element.parent());kendo.ui.progress(t,!1)})},transitions:!0,refreshData:angular.noop,refreshChart:angular.noop};return{buildOptions:a}}]),angular.module("inprotech.components.barchart").directive("kendoChartResize",function(){"use strict";return{restrict:"A",link:function(){$(window).resize(function(){kendo.resize($("div.k-chart[data-role='chart']"))})}}}),angular.module("inprotech.components.bulkactions",[]),function(){"use strict";angular.module("inprotech.components.bulkactions").factory("commonActions",function(){var e=function(){throw new Error("action not defined!")};return{get:function(){return[{id:"edit",icon:"cpa-icon cpa-icon-pencil-square-o",text:"Edit",maxSelection:1,click:e},{id:"export-excel",icon:"file-excel-o",text:"bulkactionsmenu.ExportToExcel",click:e},{id:"export",icon:"file-word-o",text:"ExportHtml",click:e},{id:"delete",icon:"cpa-icon cpa-icon-trash-o",text:"Delete",click:e},{id:"move-right",icon:"arrow-right",text:"Move to Right",click:e},{id:"move-left",icon:"arrow-left",text:"Move to Left",click:e},{id:"duplicate",icon:"cpa-icon cpa-icon-file-stack-o",text:"Duplicate",maxSelection:1,click:e}]}}})}(),angular.module("inprotech.components.bulkactions").directive("bulkActionsMenu",["commonActions","bus",function(e,t){"use strict";return{restrict:"EA",replace:!0,scope:{actions:"=",initialised:"&",onClear:"&",onSelectAll:"&",onSelectThisPage:"&",onUpdateValues:"&"},templateUrl:"condor/components/bulkactions/directives/menu.html",link:function(a,i,n){function o(e){if(e.context===n.context)return"reset"===e.type?void c():"updatePaginationInfo"===e.type?void l(e):void r(e)}a.selectionOptions={all:"all",page:"page",manual:"manual",none:"none"},a.items={totalCount:0,currentCount:0,selected:0},a.paging={available:!1,size:0},a.selectedItems=[],a.isSelectPage=!1,a.currentMode=a.selectionOptions.none,a.tabIndex=100;var r=function(e){s(e.totalCount,"totalCount"),s(e.selected,"selected"),s(e.currentCount,"currentCount"),a.paging.available&&a.items.currentCount===a.items.selected&&a.items.selected>0&&e.pageSelected?a.currentMode=a.selectionOptions.page:a.items.totalCount===a.items.selected&&a.items.selected>0&&!a.isFullSelectionPossible?a.currentMode=a.selectionOptions.all:a.items.selected>0?a.currentMode=a.selectionOptions.manual:a.currentMode=a.selectionOptions.none,a.isSelectPage=e.pageSelected},s=function(e,t){angular.isUndefined(e)||(a.items[t]=e)},l=function(e){a.paging.available=e.paging,a.paging.size=e.pageSize},c=function(){a.currentMode=a.selectionOptions.none,a.doUpdateValues()};if(!n.context)throw"context is required for bulk action menu";t.channel("bulkactions-selection-service").subscribe(o),a.isManualSelection=function(){return a.currentMode===a.selectionOptions.manual||a.currentMode===a.selectionOptions.page},a.isAllSelected=function(){return a.currentMode===a.selectionOptions.all},a.isPageSelected=function(){return a.currentMode===a.selectionOptions.page},a.doClear=function(){a.items.selected=0,a.currentMode=a.selectionOptions.none,a.onClear()},a.isClearDisabled=function(){return 0===a.items.selected&&!a.isAllSelected()},a.doSelectAll=function(e){a.isSelectPage=!a.isSelectPage,a.isSelectPage&&(a.currentMode=a.selectionOptions.all),a.onSelectAll({val:a.isSelectPage})},a.doSelectThisPage=function(e){a.isSelectPage=!a.isSelectPage,a.isSelectPage&&(a.currentMode=a.selectionOptions.page),a.onSelectThisPage({val:a.isSelectPage})},a.doUpdateValues=function(){a.onUpdateValues()};var d=function(){var t=e.get(),i=function(e,t){return e.shouldDisable?e:(e.shouldDisable=t||function(){return 0===a.items.selected&&!a.isAllSelected()},e.invokeIfEnabled=function(){e.shouldDisable()||(e.click(),a.doUpdateValues())},e)};return _.map(a.actions||[],function(e){var n=_.find(t,function(t){return t.id===e.id});return n&&(e.click=e.click||n.click,e.text=e.text||n.text,e.icon=e.icon||n.icon),e.enabled=e.enabled||function(){return!0},i(e,function(){var t=function(){var t=n&&n.maxSelection,i=e.maxSelection||t;return i?0===a.items.count||a.items.selected>i:0===a.items.count};return angular.equals(e.id,"case-export-excel")&&(e.text=a.items.selected>0?"bulkactionsmenu.ExportSelectedToExcel":"bulkactionsmenu.ExportAllToExcel"),!e.enabled()||t()})})};a.context=n.context,a.actionItems=d(),a.isFullSelectionPossible=n.isFullSelectionPossible||!1,a.initialised&&a.initialised(),a.$on("$destroy",function(){t.channel("bulkactions-selection-service").unsubscribe(o)}),a.isEmptyList=function(){return 0===a.items.totalCount};var p=function(){return!i.find(".dd-dropdown").first().is(":hidden")};a.element=i,i.on("click",function(e){e.preventDefault(),a.isEmptyList()||p()?p()&&$(this).find(".dd-dropdown").first().trigger("focusout"):$(this).find(".dd-link").first().addClass("active").next(".dd-dropdown").fadeToggle(100,function(){$(this).find("ul li a:first").focus()})}).on("click",".dd-dropdown",function(e){e.stopPropagation()}).on("focusout",".dd-dropdown",function(){$(this).prev(".dd-link").removeClass("active"),$(this).fadeOut(100)})}}}]),angular.module("inprotech.components.bulkactions").factory("BulkMenuOperations",["menuSelection",function(e){"use strict";function t(e){this.context=e,this.selectedItems=[],this.isMultipagePageMode=!1,this.updateSelection=m,this.setSelectedItems=g,this.findInSelectedItems=v}function a(e){return this.isMultipagePageMode?this.selectedItems&&this.selectedItems.length>0:_.any(e,{selected:!0})}function i(t,a){var i=this,n=0;t&&(_.each(t,function(e){e.selected=a,p(e)}),n=a?t.length:0),e.updateData(i.context,null,t.length,n,a)}function n(e,t){var a=this;e&&_.each(e,function(e){e.selected=t,a.updateSelection(e)}),a.selectionChange(e)}function o(t){var a=this,i=0;t&&(_.each(t,function(e){e.selected=!1,p(e)}),i=t.length),a.clearSelectedItemsArray(),e.updateData(a.context,null,i,0,!1)}function r(){this.selectedItems.length=0}function s(t,a){var i=this;if(a)if(a.length>0)for(var n=i.selectedItems.length-1;n>=0;n--)i.selectedItems[n]&&(a.indexOf(i.selectedItems[n].id)<0&&a.indexOf(i.selectedItems[n].compositeId)<0?i.selectedItems.splice(n,1):i.selectedItems[n].inUse=!0);else 0===a.length&&i.clearSelectedItemsArray();var o=i.setSelectedItems(t),r=i.isMultipagePageMode?i.selectedItems.length:o;e.updateData(i.context,null,t.length,r,o===t.length)}function l(t,a){var i=this;this.updateSelection(a);var n=!0;if(i.selectedItems.length>=t.length&&a.selected===!0)for(var o=0;o<t.length;o++){var r=this.findInSelectedItems(t[o]);if(null==r){n=!1;break}}else n=!1;e.updateData(i.context,null,t.length,i.selectedItems.length,n)}function c(e){return this.isMultipagePageMode?this.selectedItems:_.filter(e,function(e){return e.selected===!0})}function d(e){var t=this;return _.first(t.selectedRecords(e))}function p(e){e.inUse&&(e.inUse=!1)}function u(t){var a=this;t&&(a.isMultipagePageMode=!0,e.updatePaginationInfo(a.context,!0,t))}function m(e){if(this.isMultipagePageMode&&e){var t=this.findInSelectedItems(e);e.selected&&null==t?this.selectedItems.push(e):e.selected||null==t||(this.selectedItems.splice(_.indexOf(this.selectedItems,t),1),p(e))}}function v(e){for(var t=null,a=0;a<this.selectedItems.length;a++)if(e.hasOwnProperty("compositeId")&&angular.equals(this.selectedItems[a].compositeId,e.compositeId)||e.hasOwnProperty("id")&&angular.equals(this.selectedItems[a].id,e.id)||e.hasOwnProperty("key")&&angular.equals(this.selectedItems[a].key,e.key)){t=this.selectedItems[a];break}return t}function g(e){var t=0;return this.isMultipagePageMode===!0?this.selectedItems&&this.selectedItems.length>0&&(this.selectedItems[0].id||this.selectedItems[0].key)&&_.each(this.selectedItems,function(a){var i=_.find(e,function(e){return null!=e.compositeId&&angular.equals(e.compositeId,a.compositeId)||e.id&&e.id===a.id||e.key&&e.key===a.key});i&&(i.selected=!0,i.inUse=a.inUse,t++)}):t=_.where(e,{selected:!0}).length,t}return t.prototype={selectAll:i,clearAll:o,clearSelectedItemsArray:r,selectionChange:s,anySelected:a,selectedRecords:c,selectedRecord:d,selectPage:n,initialiseMenuForPaging:u,singleSelectionChange:l},t}]),angular.module("inprotech.components.bulkactions").factory("menuSelection",["commonActions","bus",function(e,t){"use strict";return{updatePaginationInfo:function(e,a,i){t.channel("bulkactions-selection-service").broadcast({type:"updatePaginationInfo",context:e,paging:a,pageSize:i})},update:function(e,a,i,n){t.channel("bulkactions-selection-service").broadcast({type:"update",context:e,totalCount:a,selected:i,pageSelected:n})},updateData:function(e,a,i,n,o){t.channel("bulkactions-selection-service").broadcast({type:"update",context:e,totalCount:null!==a?a:i,currentCount:i,selected:n,pageSelected:o})},reset:function(e){t.channel("bulkactions-selection-service").broadcast({context:e,type:"reset"})}}}]),angular.module("inprotech.components.buttons",[]),angular.module("inprotech.components.buttons").directive("ipSaveButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/saveButton.html"}}).directive("ipCloseButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/closeButton.html"}}).directive("ipRevertButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/revertButton.html"}}).directive("ipIconButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,template:function(e,t){return'<button class="btn btn-icon"><icon name="'+t.buttonIcon+'"></icon></button>'}}}).directive("ipAddButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/addButton.html"}}).directive("ipStepButton",function(){"use strict";return{restrict:"E",scope:{stepNo:"="},replace:!0,templateUrl:"condor/components/buttons/stepButton.html"}}).directive("ipApplyButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/applyButton.html"}}).directive("ipAdvancedSearchButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/advancedSearchButton.html"}}).directive("ipClearButton",function(){"use strict";return{restrict:"E",scope:!1,replace:!0,templateUrl:"condor/components/buttons/clearButton.html"}}).directive("ipPreviewButton",function(){"use strict";return{restrict:"E",scope:{isPreviewActive:"="},replace:!0,templateUrl:"condor/components/buttons/previewButton.html"}}),angular.module("inprotech.components").directive("ipDynamicContent",["$templateRequest","$anchorScroll","$animate",function(e,t,a){"use strict";return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(i,n){var o=n.ngInclude||n.src,r=n.onload||"",s=n.autoscroll;return function(i,n,l,c,d){function p(o){var l=function(){!angular.isDefined(s)||s&&!i.$eval(s)||t()},p=++g;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&p===g){var t=i.$new();c.template=e;var s=d(t,function(e){f(),a.enter(e,null,n).then(l)});u=t,v=s,u.$emit("$includeContentLoaded",o),i.$eval(r)}},function(){i.$$destroyed||p===g&&(f(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(f(),c.template=null)}var u,m,v,g=0,f=function(){m&&(m.remove(),m=null),u&&(u.$destroy(),u=null),v&&(a.leave(v).then(function(){m=null}),m=v,v=null)};i.$watch(o,p),i.$on("dynamicContent.reload",function(){var e=i.$eval(o);p(e)})}}}}]),angular.module("inprotech.components").directive("ipDynamicContent",["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ipDynamicContent",link:function(t,a,i,n){a.html(n.template),e(a.contents())(t)}}}]),angular.module("inprotech.components.focus",[]),angular.module("inprotech.components.focus").directive("ipAutofocus",["$timeout",function(e){"use strict";return{restrict:"A",priority:100,link:function(t,a,i){var n=a.prop("tagName").toLowerCase();if(_.contains(["input","select","textarea"],n)){var o=0;a.closest(".modal-body").length>0&&(o=800),a.bind("setFocus",function(t){e(function(){t.target.focus()},o)}),a.on("$destroy",function(){a.unbind("setFocus")})}""!==i.ipAutofocus&&"true"!==i.ipAutofocus||a.trigger("setFocus")}}}]),angular.module("inprotech.components.focus").factory("focusService",function(){"use strict";return{autofocus:function(e,t){setTimeout(function(){e.find("*[ip-autofocus]:visible").filter(function(){return"false"!==$(this).attr("ip-autofocus")}).trigger("setFocus")},t||10)}}}),angular.module("inprotech.components.focus").directive("focusIf",["$timeout",function(e){"use strict";return{restrict:"A",link:function(t,a,i){t.$eval(i.focusIf)&&e(function(){a.focus()},0)}}}]),angular.module("inprotech.components.form",[]),angular.module("inprotech.components.form").config(["typeaheadConfigProvider",function(e){"use strict";e.config("dataItem",{label:"picklist.dataitem.Type",keyField:"key",textField:"code",codeField:"code",restmodApi:"dataItems",itemTemplateUrl:"condor/components/form/autocomplete-data-item.html",picklistDisplayName:"picklist.dataitem.Type"}),e.config("jurisdiction",{label:"picklist.jurisdiction.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"jurisdictions",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.jurisdiction.Type",editUriState:"jurisdictions.default"}),e.config("office",{label:"Office",keyField:"key",textField:"value",restmodApi:"offices",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistDisplayName:"Office"}),e.config("dataItemGroup",{label:"picklist.dataitem.Group",
keyField:"key",codeField:"code",textField:"value",restmodApi:"dataItemGroup",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistDisplayName:"picklist.dataitemgroup.Type"}),e.config("tags",{label:"picklist.tag.Type",keyField:"id",textField:"tagName",restmodApi:"tags",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.tags.Type"}),e.config("propertyType",{label:"picklist.propertytype.Type",keyField:"key",codeField:"code",textField:"value",restmodApi:"propertyTypes",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.propertytype.Type",picklistColumns:'[{title: "picklist.propertytype.Icon", field:"image", width:"10%", template:"<ip-property-type-icon data-ng-if=\'dataItem.image\' data-image-key=\'dataItem.image\'></ip-property-type-icon>", sortable: false}]'}),e.config("caseType",{label:"picklist.casetype.Type",keyField:"key",textField:"value",restmodApi:"caseTypes",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.casetype.Type"}),e.config("validPropertyType",{label:"picklist.propertytype.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"propertyTypes",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.propertytype.Type",picklistColumns:'[{title: "picklist.propertytype.Icon", field:"image", width:"10%", template:"<ip-property-type-icon data-ng-if=\'dataItem.image\' data-image-key=\'dataItem.image\'></ip-property-type-icon>", sortable: false}]'}),e.config("dateOfLaw",{label:"picklist.dateoflaw.Type",keyField:"key",textField:"value",restmodApi:"datesOfLaw",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.dateoflaw.Type"}),e.config("action",{label:"picklist.action.Type",keyField:"key",codeField:"code",textField:"value",restmodApi:"actions",apiUriName:"actions",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.action.Type"}),e.config("caseCategory",{label:"picklist.casecategory.Type",keyField:"key",codeField:"code",textField:"value",restmodApi:"caseCategories",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.casecategory.Type"}),e.config("validCaseCategory",{label:"picklist.casecategory.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"caseCategories",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.casecategory.Type"}),e.config("subType",{label:"picklist.subtype.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"subTypes",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.subtype.Type"}),e.config("validSubType",{label:"picklist.subtype.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"subTypes",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.subtype.Type"}),e.config("basis",{label:"picklist.basis.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"basis",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.basis.Type"}),e.config("validBasis",{label:"picklist.basis.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"basis",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.basis.Type"}),e.config("event",{label:"picklist.event.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"events",apiUriName:"events",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistColumns:"[{title:'picklist.event.Description', field:'value', width:'35%'}]",picklistDisplayName:"picklist.event.Type",size:"xl",columnMenu:!0}),e.config("case",{label:"picklist.case.Type",keyField:"key",codeField:"code",textField:"code",restmodApi:"cases",itemTemplateUrl:"condor/picklists/cases/cases-typeahead-template.html",picklistDisplayName:"picklist.case.Type"}),e.config("relationship",{label:"picklist.relationship.Type",keyField:"key",codeField:"code",textField:"value",restmodApi:"relationships",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.relationship.Type"}),e.config("nameRelationship",{label:"picklist.nameRelationship.type",keyField:"key",codeField:"code",textField:"value",apiUrl:"api/configuration/nameRelationships",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistColumns:"[{title:'picklist.nameRelationship.description', field:'relationDescription'}, {title:'picklist.nameRelationship.reverseDescription', field:'reverseDescription'}, {title:'picklist.nameRelationship.code', field:'code'}]",picklistDisplayName:"picklist.nameRelationship.type"}),e.config("reverseNameRelationship",{label:"namerelation.reverseNamerelationship",keyField:"key",textField:"reverseDescription",apiUrl:"api/configuration/nameRelationships",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistColumns:"[{title:'Description', field:'reverseDescription'}]",picklistDisplayName:"namerelation.reversenamerelationship"}),e.config("status",{label:"picklist.status.label",keyField:"key",codeField:"code",textField:"value",apiUrl:"api/picklists/status",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistColumns:"[{title:'picklist.status.Description', field:'value', width: '50%'}, {title:'picklist.status.Code', field:'code', width:'20%'},{title:'picklist.status.Type', field:'type', width:'30%'}]",picklistDisplayName:"picklist.status.label"}),e.config("validAction",{label:"picklist.action.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"actions",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-template.html",picklistDisplayName:"picklist.action.Type"}),e.config("checklist",{label:"picklist.checklist.type",keyField:"key",codeField:"code",textField:"value",restmodApi:"checklist",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.checklist.type"}),e.config("name",{label:"picklist.name.Name",keyField:"key",codeField:"code",textField:"displayName",apiUrl:"api/picklists/names",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.name.Name",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("instructor",{label:"picklist.instructor",keyField:"key",codeField:"code",textField:"displayName",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.instructor",apiUrl:"api/picklists/names?filterNameType=I",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("owner",{label:"picklist.owner",keyField:"key",codeField:"code",textField:"displayName",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.owner",apiUrl:"api/picklists/names?filterNameType=O",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("agent",{label:"picklist.agent",keyField:"key",codeField:"code",textField:"displayName",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.agent",apiUrl:"api/picklists/names?filterNameType=A",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("staff",{label:"picklist.staff",keyField:"key",codeField:"code",textField:"displayName",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.staff",apiUrl:"api/picklists/names?filterNameType=EMP",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("signatory",{label:"picklist.signatory",keyField:"key",codeField:"code",textField:"displayName",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.signatory",apiUrl:"api/picklists/names?filterNameType=SIG",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("nameFiltered",{size:"xl",previewable:!0,dimmedColumnName:"isGrayedRow",label:"picklist.name.Name",keyField:"key",codeField:"code",textField:"displayName",apiUrl:"api/picklists/names",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/search/case/casesearch/name-filtered-picklist-template.html",picklistDisplayName:"picklist.name.Name",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}, {title:'', field:'isGrayedRow', hidden:'true'}]"}),e.config("edeNames",{label:"picklist.name.Name",keyField:"key",codeField:"code",textField:"displayName",apiUrl:"api/picklists/names/aliastype/_E",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/search/case/casesearch/name-filtered-picklist-template.html",picklistDisplayName:"picklist.name.Name",picklistColumns:"[{title:'picklist.name.Name', field:'displayName'}, {title:'picklist.name.Code', field:'code'}, {title:'picklist.name.Remarks', field:'remarks'}]"}),e.config("document",{label:"picklist.document.label",keyField:"key",codeField:"code",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/documents",picklistDisplayName:"picklist.document.label",picklistColumns:'[{title: "picklist.document.description", field: "value"}, {title: "picklist.document.code", field: "code"}, {title: "picklist.document.template", field: "template"}, {title:"picklist.document.key", field:"key"}]'}),e.config("numberType",{label:"picklist.numberType.label",keyField:"key",codeField:"code",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",apiUrl:"api/picklists/numbertypes",picklistDisplayName:"picklist.numberType.label",picklistColumns:'[{title: "Description", field: "value"}, {title: "Code", field: "code"}, {title: "picklist.numberType.relatedEvent", field: "relatedEvent"}, {title: "picklist.numberType.issuedByIpOffice", field:"issuedByIpOffice", template: \'<ip-checkbox ng-model="dataItem.issuedByIpOffice" disabled><ip-checkbox>\'}]'}),e.config("chargeType",{label:"picklist.chargeType",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",apiUrl:"api/picklists/chargeTypes",picklistDisplayName:"picklist.chargeType",picklistColumns:'[{title: "Description", field: "value"}]'}),e.config("nameType",{label:"picklist.nameType.type",keyField:"key",codeField:"code",textField:"value",apiUrl:"api/configuration/nametypepicklist",picklistDisplayName:"picklist.nameType.type",picklistColumns:"[{title:'picklist.nameType.description', field:'value'}, {title:'picklist.nameType.code', field:'code'}]"}),e.config("nameTypeGroup",{label:"picklist.nameTypeGroup.label",keyField:"key",codeField:"code",textField:"value",restmodApi:"nametypegroup",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.nameTypeGroup.label",picklistColumns:"[{title:'picklist.nameTypeGroup.description', field:'value', width:'30%'}, {title:'picklist.nameTypeGroup.members', field:'nameTypes', sortable: false}]"}),e.config("instructionType",{label:"picklist.instructiontype.Type",keyField:"key",codeField:"code",textField:"value",restmodApi:"instructionTypes",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.instructiontype.Type"}),e.config("eventCategory",{label:"picklist.eventCategory.label",keyField:"key",textField:"name",restmodApi:"eventCategories",apiUriName:"eventCategories",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistColumns:'[{title:"picklist.eventCategory.name", field:"name"}, {title:"picklist.eventCategory.description", field:"description"}, {title: "picklist.eventCategory.image", field:"image", width:"10%", template:"<img ng-src=\'data:image/jpeg;base64, {{dataItem.image}}\' style=\'max-width: 32px\'>", sortable: false}, {title:"picklist.eventCategory.imageDescription", field:"imageDescription"}]',picklistDisplayName:"picklist.eventCategory.label"}),e.config("fileLocation",{label:"picklist.fileLocation.label",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/fileLocations",picklistDisplayName:"picklist.fileLocation.label",picklistColumns:'[{title: "Description", field: "value"}, {title:"Office", field:"office"}]'}),e.config("instruction",{label:"picklist.instruction.label",keyField:"id",textField:"description",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/instructions",picklistDisplayName:"picklist.instruction.label",picklistColumns:'[{title: "Description", field: "description"}]'}),e.config("characteristic",{label:"picklist.characteristic.label",keyField:"id",textField:"description",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/characteristics",picklistDisplayName:"picklist.characteristic.label",picklistColumns:'[{title: "Description", field: "description"}]'}),e.config("availableTopic",{label:"picklist.availableTopic.label",keyField:"key",textField:"defaultTitle",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/availableTopic",picklistDisplayName:"picklist.availableTopic.label",picklistColumns:'[{title: "picklist.availableTopic.step", field:"defaultTitle"}, {title: "picklist.availableTopic.category", field:"typeDescription"}, {title: "picklist.availableTopic.availableInWeb", field: "isWebEnabled", template: \'<ip-checkbox ng-model="dataItem.isWebEnabled" disabled><ip-checkbox>\'}]'}),e.config("textType",{label:"picklist.textType.label",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/texttypes",picklistDisplayName:"picklist.textType.label",picklistColumns:"[{title:'picklist.textType.description', field:'value'}, {title:'picklist.textType.code', field:'key'}]"}),e.config("eventNoteGroup",{label:"picklist.event.maintenance.eventNoteGroup",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"notesharinggroup"},extendQuery:function(e){return angular.extend({},e,{tableType:"notesharinggroup"})},picklistDisplayName:"picklist.event.maintenance.eventNoteGroup",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("eventNoteType",{label:"picklist.eventNoteType.type",keyField:"key",codeField:"code",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistDisplayName:"picklist.eventNoteType.type",apiUrl:"api/picklists/eventNoteType",picklistColumns:"[{title:'picklist.eventNoteType.description', field:'value'}, {title:'picklist.eventNoteType.isExternal', field:'IsExternal', template: '<ip-checkbox ng-model=\"dataItem.isExternal\" disabled><ip-checkbox>'}]"}),e.config("eventGroup",{label:"picklist.event.maintenance.group",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"eventgroup"},extendQuery:function(e){return angular.extend({},e,{tableType:"eventgroup"})},picklistDisplayName:"picklist.event.maintenance.group",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("language",{label:"picklist.classitem.Language",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"language"},extendQuery:function(e){return angular.extend({},e,{tableType:"language"})},picklistDisplayName:"picklist.classitem.Language",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("countryTexts",{label:"picklist.textType.label",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"countryTextType"},extendQuery:function(e){return angular.extend({},e,{tableType:"countryTextType"})},picklistDisplayName:"picklist.textType.label",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("additionalNumberValidation",{label:"picklist.additionalNumberPatternValidation.label",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",qualifiers:{type:"officialNumberAdditionalValidation"},extendQuery:function(e){return angular.extend({},e,{tableType:"officialNumberAdditionalValidation"})},picklistDisplayName:"picklist.additionalNumberPatternValidation.picklistDisplayName",picklistColumns:"[{title: 'picklist.additionalNumberPatternValidation.description', field:'value'}, {title: 'picklist.tableCode.code', field:'code'}]"}),e.config("designationStage",{label:"picklist.designationStage.label",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/designationstage",picklistDisplayName:"picklist.designationStage.label",picklistTemplateUrl:"condor/components/common-templates/designation-stage-picklist-template.html",picklistColumns:"[{title:'picklist.designationStage.description', field:'value'}]"}),e.config("images",{label:"picklist.image.label",keyField:"key",textField:"description",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/images",picklistDisplayName:"picklist.image.label",picklistColumns:'[{title: "picklist.image.description", field: "description", width: "60%"}, {title: "picklist.image.status", field: "imageStatus", width: "30%"}, {title: "picklist.image.image", field: "image", width: "10%", template: "<img ng-src=\'data:image/jpeg;base64,{{dataItem.image}}\' style=\'max-width: 32px\'>", sortable: false}]'}),e.config("dataDownloadCaseQueries",{label:"picklist.dataDownloadCaseQueries.label",keyField:"key",textField:"name",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",apiUrl:"api/picklists/dataDownloadCaseQueries",picklistDisplayName:"picklist.dataDownloadCaseQueries.label",picklistColumns:'[{title: "picklist.dataDownloadCaseQueries.name", field: "name", width: "50%"}, {title: "picklist.dataDownloadCaseQueries.description", field: "description"}]'}),e.config("internalUsers",{label:"picklist.internalUsers.label",keyField:"key",codeField:"name",textField:"username",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",apiUrl:"api/picklists/internalUsers",picklistDisplayName:"picklist.internalUsers.label",picklistColumns:'[{title:"picklist.internalUsers.username", field:\'username\'}, {title: "picklist.internalUsers.name", field: "name"}]'}),e.config("examinationType",{label:"picklist.examinationType",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",qualifiers:{type:"examinationtype"},extendQuery:function(e){return angular.extend({},e,{tableType:"examinationtype"})},picklistDisplayName:"picklist.examinationType",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("renewalType",{label:"picklist.renewalType",keyField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",qualifiers:{type:"renewaltype"},extendQuery:function(e){return angular.extend({},e,{tableType:"renewaltype"})},picklistDisplayName:"picklist.renewalType",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("caseFamily",{label:"picklist.casefamily.type",keyField:"key",textField:"value",restmodApi:"caseFamilies",apiUriName:"caseFamilies",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistDisplayName:"picklist.casefamily.type"}),e.config("caseList",{label:"picklist.caselist.type",keyField:"key",textField:"value",restmodApi:"caseLists",apiUriName:"caseLists",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistDisplayName:"picklist.caselist.type"}),e.config("typeOfMark",{label:"picklist.typeOfMark",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",qualifiers:{type:"typeOfMark"},extendQuery:function(e){return angular.extend({},e,{tableType:"typeOfMark"})},picklistDisplayName:"picklist.typeOfMark",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("keyword",{label:"picklist.keyword.type",keyField:"key",textField:"key",restmodApi:"keywords",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",picklistDisplayName:"picklist.keyword.type"}),e.config("tmClass",{label:"picklist.tmClass.label",keyField:"key",codeField:"code",textField:"code",itemTemplateUrl:"condor/components/form/autocomplete-tmclass-code-desc.html",apiUrl:"api/picklists/tmclass",picklistDisplayName:"picklist.tmClass.label",picklistColumns:'[{title: "picklist.tmClass.class", field: "code", width: "20%"}, {title: "picklist.tmClass.heading", field: "value"}]'}),e.config("nameStyle",{label:"jurisdictions.maintenance.addressSettings.nameStyle",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"nameStyle"},extendQuery:function(e){return angular.extend({},e,{tableType:"nameStyle"})},picklistDisplayName:"jurisdictions.maintenance.addressSettings.nameStyle",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("addressStyle",{label:"jurisdictions.maintenance.addressSettings.addressStyle",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"addressStyle"},extendQuery:function(e){return angular.extend({},e,{tableType:"addressStyle"})},picklistDisplayName:"jurisdictions.maintenance.addressSettings.addressStyle",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("postCodeSearch",{label:"jurisdictions.maintenance.addressSettings.populateCityFromPostcode",keyField:"key",textField:"value",codeField:"code",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",restmodApi:"tablecodes",apiUriName:"tablecodes",qualifiers:{type:"postCodeSearch"},extendQuery:function(e){return angular.extend({},e,{tableType:"postCodeSearch"})},picklistDisplayName:"jurisdictions.maintenance.addressSettings.populateCityFromPostcode",picklistColumns:'[{title: "picklist.tableCode.description", field: "value"}, {title: "picklist.tableCode.code", field: "code"}]'}),e.config("currency",{label:"picklist.currency.title",keyField:"id",codeField:"code",textField:"description",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",apiUrl:"api/picklists/currency",picklistDisplayName:"picklist.currency.title",picklistColumns:'[{title: "picklist.currency.title", field: "code", width: "20%"}, {title: "picklist.currency.description", field: "description"}]'}),e.config("wipTemplate",{label:"picklist.wipTemplate.label",keyField:"key",codeField:"key",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",apiUrl:"api/picklists/wiptemplates",picklistDisplayName:"picklist.wipTemplate.label",picklistColumns:"[{title:'picklist.wipTemplate.description', field:'value'}, {title:'picklist.wipTemplate.code', field:'key'}, {title:'picklist.wipTemplate.type', field:'type', filterable: true, filterApi:'api/picklists/wiptemplates'}]"}),e.config("narratives",{label:"picklist.narrative.label",keyField:"key",codeField:"code",textField:"value",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",apiUrl:"api/picklists/narratives",picklistDisplayName:"picklist.narrative.label",picklistColumns:'[{title: "picklist.narrative.code", field: "code"}, {title: "picklist.narrative.title", field: "value"}, {title: "picklist.narrative.text", field: "text"}]'})}]),angular.module("inprotech.components.form").directive("ipAutocomplete",function(){"use strict";return{scope:{items:"=",total:"=",searchValue:"=",onSelect:"&",onClick:"&",onClickOff:"&",onViewAll:"&"},templateUrl:"condor/components/form/autocomplete.html",link:function(e,t){function a(){var a=e.parentTextbox.offset(),i=e.parentTextbox.width(),n=e.parentTextbox.height();t.css({position:"absolute","z-index":1e4,top:a.top+n,left:a.left,width:i,overflow:"visible"})}function i(e){if(e&&e.length){var a=e.outerHeight(),i=e.offset().top-t.find(".suggestion-list").offset().top,n=t.find(".suggestion-list").scrollTop(),o=t.find(".suggestion-list").height(),r=i,s=r+a;s>o&&t.find(".suggestion-list").scrollTop(n+s-o),r<0&&t.find(".suggestion-list").scrollTop(n+r)}}function n(){return Boolean(e.items&&e.items.length)}e.itemTemplateUrl=e.$parent.itemTemplateUrl,e.keyField=e.$parent.keyField,e.codeField=e.$parent.codeField,e.textField=e.$parent.textField,e.parentTextbox=t.parent(),e.$parent.linkedAutocomplete=t,$("body").append(t),$(window).scroll(a),$(window).resize(a),$(e.parentTextbox).find("input").focus(a),window.setTimeout(a,500);for(var o=e.parentTextbox;o&&o.length;)o.get(0).scrollHeight>o.height()&&o.scroll(a),o=o.parent();t.on("mouseover",".autocomplete .suggestion-item:not(.highlighted)",function(e){n()&&(t.find(".autocomplete .suggestion-item.highlighted").removeClass("highlighted"),$(e.target).addClass("highlighted"))}),t.data("autocomplete",{next:function(){if(n()){var e=t.find(".autocomplete .suggestion-item.highlighted"),a=e.next();a.length||(a=t.find(".autocomplete .suggestion-item:first")),t.find(".autocomplete .suggestion-item.highlighted").removeClass("highlighted"),a.addClass("highlighted"),i(a)}},prev:function(){if(n()){var e=t.find(".autocomplete .suggestion-item.highlighted"),a=e.prev();a.length||(a=t.find(".autocomplete .suggestion-item:last")),t.find(".autocomplete .suggestion-item.highlighted").removeClass("highlighted"),a.addClass("highlighted"),i(a)}},select:function(){if(!n())return!1;var a=t.find(".autocomplete .suggestion-item.highlighted");if(a.length){var i=a.data("$scope");if(i)return e.onSelect({item:i.item}),!0}return!1},hasItems:n}),e.$on("$destroy",function(){t.off(),t.removeData("autocomplete")})}}}),angular.module("inprotech.components.form").component("ipCheckbox",{template:'<div class="input-wrap"><input type="checkbox"><label translate="{{vm.label}}" translate-values="{{vm.labelValues}}"></label><ip-inline-dialog ng-if="::vm.info" data-content="{{:: vm.info | translate:vm.infoData }}"></ip-inline-dialog></div>',bindings:{label:"@",labelValues:"@?",info:"@",infoData:"<?",focusWhen:"<?"},require:{ngModel:"?ngModel"},controllerAs:"vm",controller:["$element","$attrs",function(e,t){"use strict";function a(){o.ngModel&&(o.ngModel.$render=function(){var t=o.ngModel.$viewValue;e.find("input:checkbox").prop("checked",t)}),e.find("input:checkbox").on("change",function(){var e=$(this).prop("checked");o.ngModel&&o.ngModel.$setViewValue(e)}),e.find("label").on("click",function(t){e.find("input:checkbox").click(),t.stopPropagation()}),t.$observe("disabled",function(t){_.isString(t)&&(t="false"!==t),t?e.find("input:checkbox").attr("disabled","disabled"):e.find("input:checkbox").removeAttr("disabled")}),t.hasOwnProperty("disabled")&&e.find("input:checkbox").attr("disabled","disabled")}function i(t){t.focusWhen&&t.focusWhen.currentValue&&e.find("input:checkbox").focus()}function n(){e.find("label").off(),e.find("input:radio").off()}var o=this;o.$onDestroy=n,o.$onInit=a,o.$onChanges=i}]}),angular.module("inprotech.components.form").filter("localeDate",["$filter","dateService",function(e,t){return function(a){var i=a instanceof Date&&a.getTimezoneOffset()>0?new Date(a.getTime()+60*a.getTimezoneOffset()*1e3):a,n=t.useDefault()?"shortDate":t.dateFormat;return e("date")(i,n)}}]),angular.module("inprotech.components.form").component("ipDate",{template:'<span><span data-ng-if="vm.useDefault" class="nobr" data-ng-show="vm.model">{{ vm.model | localeDate }}</span><span data-ng-if="!vm.useDefault" class="nobr" data-ng-show="vm.model">{{ vm.model | localeDate }}</span></span>',bindings:{model:"<"},controllerAs:"vm",controller:["dateService",function(e){"use strict";function t(){a.useDefault=e.useDefault(),a.format=e.dateFormat}var a=this;a.$onInit=t}]}),angular.module("inprotech.components.form").service("dateParserService",["uibDateParser","$locale",function(e,t){"use strict";function a(t,a){if(_.indexOf(o,t)==-1){e.parse("01-Jan-1990",t);var n=t.split(".").join("\\."),r=e.parsers[n],s="("+[i(r.map[0]),i(r.map[1]),i(r.map[2])].join(")"+a+"(")+")";r.regex=new RegExp("^"+s+"$"),o.push(t)}}function i(e){if("MMM"!=e.key)return e.matcher;var t=e.matcher.split("|").map(function(e){var t="";return angular.forEach(e,function(e){t+="["+e.toLocaleUpperCase()+e.toLocaleLowerCase()+"]"}),t}).join("|"),a=e.apply;return e.apply=function(e){a.call(this,n(e))},t}function n(e){return _.find(t.DATETIME_FORMATS.SHORTMONTH,function(t){if(new RegExp(t,"i").test(e))return t;
})}var o=[];return{setParserFormat:a}}]),angular.module("inprotech.components.form").component("ipDatePickerWrapper",{controllerAs:"vm",bindings:{"class":"@,",label:"@?",isDisabled:"=?",readonly:"=?",onblur:"&?",onBlurNg:"&?",ngModel:"=",earlierThan:"=?",laterThan:"=?",includeSameDate:"@?",isSaved:"=?",inlineDataItemId:"@?",noEditState:"=?",isRequired:"@?",useLocalTimezone:"<"},template:'<ip-datepicker class="vm.class" ng-model="vm.ngModel" label="{{vm.label}}" is-disabled="vm.isDisabled" readonly="vm.readonly" on-blur-ng="vm.onblur" earlier-than="vm.earlierThan" later-than="vm.laterThan" include-same-date="{{vm.includeSameDate}}"is-saved="vm.isSaved" inline-data-item-id="{{vm.inlineDataItemId}}"no-edit-state="vm.noEditState" ng-required="vm.isRequired" use-local-timezone="vm.useLocalTimezone"></ip-datepicker>',controller:function(){}}),angular.module("inprotech.components.form").directive("ipDatepicker",["dateService","formControlHelper","$filter","$timeout",function(e,t,a,i){"use strict";return{require:["ngModel","?^ipForm"],restrict:"E",templateUrl:function(e,t){return t.columnFilter?"condor/components/form/grid-column-filter-datepicker.html":"condor/components/form/datepicker.html"},scope:{label:"@?",isDisabled:"=?",readonly:"=?",onBlur:"&?",onBlurNg:"&?",date:"=ngModel",earlierThan:"=?",laterThan:"=?",includeSameDate:"@?",isSaved:"=?",isDirty:"&?",inlineDataItemId:"@?",noEditState:"=?",useLocalTimezone:"<",onChange:"&?"},controller:["$scope",function(t){var a={picker:{opened:!1,options:{showWeeks:!1},dateFormat:e.dateFormat,parseFormats:e.getParseFormats()},isDisabled:t.isDisabled||!1,readonly:t.readonly||!1,date:t.date||null,earlierThan:t.earlierThan||null,laterThan:t.laterThan||null,includeSameDate:"true"===t.includeSameDate,isSaved:t.isSaved||!1,onBlur:t.onBlur||angular.noop,inlineDataItemId:t.inlineDataItem||null,onChange:t.onChange||angular.noop};angular.extend(t,a)}],link:function(n,o,r,s){function l(){return o.find("input.datepicker-input")}var c=s[0],d=s[1],p=!1;n.uid=n.$id,t.legacyInit({model:c,form:d,onReset:function(){n.date=null,n.form.datepicker.$setPristine()}}),(r.hasOwnProperty("ipRequired")||r.hasOwnProperty("required"))&&o.find(".input-wrap").addClass("required"),n.isDirty||(n.isDirty=function(){return n.form.datepicker.$dirty}),n.$watch("laterThan",function(){n.laterThan?n.date?c.$setValidity("minDateValidation",n.includeSameDate?n.laterThan<=n.date:n.laterThan<n.date):(c.$resetErrors(),n.form.datepicker.$setPristine()):c.$resetErrors()}),n.$watch("earlierThan",function(){n.earlierThan?n.date?c.$setValidity("maxDateValidation",n.includeSameDate?n.earlierThan>=n.date:n.earlierThan>n.date):(c.$resetErrors(),n.form.datepicker.$setPristine()):c.$resetErrors()}),n.open=function(){n.picker.opened=!n.picker.opened},n.blur=function(){i(function(){var t=moment.isDate(c.$viewValue);if(t){if(c.$viewValue=e.adjustTimezoneOffsetDiff(c.$viewValue),!n.picker.opened){var a=angular.copy(c.$viewValue);c.$setViewValue(a)}c.$setTouched(),n.laterThan&&(n.date?c.$setValidity("minDateValidation",n.includeSameDate?n.laterThan<=n.date:n.laterThan<n.date):(c.$resetErrors(),n.form.datepicker.$setPristine())),n.earlierThan&&(n.date?c.$setValidity("maxDateValidation",n.includeSameDate?n.earlierThan>=n.date:n.earlierThan>n.date):(c.$resetErrors(),n.form.datepicker.$setPristine())),n.onBlur&&n.onBlur!=angular.noop&&n.onBlur()(r.name,n.date,n.inlineDataItemId),n.onBlurNg&&n.onBlurNg!=angular.noop&&n.onBlurNg()({name:r.name,date:n.date,dataitem:n.inlineDataItemId})}})},n.showError=function(){return!(n.isDisabled||c.$error.required&&!c.$touched)&&(n.form.$invalid&&p||c.$invalid)};var u=["required","ipRequired","date","laterThanDate","equalLaterThanDate","equalEarlierThanDate","earlierThanDate"];n.getError=function(){if(!c.$error&&!n.form.$error)return null;var t=_.union(Object.keys(c.$error)||[],Object.keys(n.form.$error)||[]);return t.length?("minDateValidation"===t[0]&&(n.errorDate=a("date")(n.laterThan,e.dateFormat,"+0000"),t[0]=n.includeSameDate?"equalLaterThanDate":"laterThanDate"),"maxDateValidation"===t[0]&&(n.errorDate=a("date")(n.earlierThan,e.dateFormat,"+0000"),t[0]=n.includeSameDate?"equalEarlierThanDate":"earlierThanDate"),_.contains(u,t[0])?"field.errors."+t[0]:t[0]):null},l().on("keydown keypress",function(e){return[13,9,27].indexOf(e.which)>=0?void(p=!0):void(p=!1)}),l().on("focusout",function(){p=!0}),o.on("setFocus",function(){l().focus()}),n.$on("$destroy",function(){o.off()}),n.onChange({selectedDate:this.date})}}}]),angular.module("inprotech.components.form").directive("ipDatepickerLoader",["$compile","$parse",function(e,t){"use strict";function a(e){return _.any(i,function(t){return t===e})}var i=["idle","loading"];return{require:"^?ipDatepicker",link:function(i,n,o){i.state="idle";var r=t(o.ipDatepickerLoader),s=n.find("span.date-content-wrap"),l=e('<span data-ng-if="state===\'loading\'" class="input-action"><span class="cpa-icon loading-circle"></span></span>')(i);s.append(l),i.$watch(r,function(e,t){a(e)&&e!=t&&(i.state=e)})}}}]),angular.module("inprotech.components.form").service("dateService",["$rootScope","dateParserService","$locale",function(e,t,a){"use strict";function i(e){var t=e.replace(/\bd{1}\b/,"dd").replace(/\bM{1,2}\b/,"MMM").replace(/\by{1,2}\b/,"yyyy"),a=t.replace("MMM","M!").replace("dd","d!"),i=t.replace("yyyy","yy"),r=a.replace("yyyy","yy"),s=t.replace("dd","d!"),l=s.replace("yyyy","yy"),c=[],d=[t,a,i,r,s,l],p=[" ",".","/","-",""];return d.forEach(function(e){c.push(e),p.forEach(function(t){c.push(e.split("-").join(t))})}),c.push("yyyy-MM-dd"),c.push("shortDate"),c.push("longDate"),_.chain(c).filter(function(e){return e.indexOf("MMM")!=-1}).each(n),o(),_.unique(c)}function n(e){var a=[" ",".","/","-"],i=_.find(a,function(t){return e.indexOf(t)!=-1})||"";t.setParserFormat(e,i)}function o(){var e=a.DATETIME_FORMATS.shortDate;e&&e.indexOf("MMM")!=-1&&n(e)}function r(e){var t=e.getTimezoneOffset();if(t>0)return e;var a=e.getDate(),i=e.getMonth()+1,n=e.getFullYear()+" "+(i<10?"0"+i:i)+" "+(a<10?"0"+a:a),o=moment(n,"YYYY MM DD").toDate().getTimezoneOffset();if(t!==o){var r=o-t;return moment(e).add(r,"minutes").toDate()}return e}var s="en",l="dd-MMM-yyyy",c=e.appContext.user;return c&&(s=c.preferences.culture,l=c.preferences.dateFormat),s=s||e.appContext.userAgent.languages[0],l&&"d"!==l&&0!==s.indexOf("zh")||(l="shortDate"),{culture:s,dateFormat:l,useDefault:function(){return 0===s.indexOf("zh")||"shortDate"===l},getParseFormats:function(){return i(l)},getExpandedParseFormats:function(){var e=i(l);if("shortDate"==l){var t=a.DATETIME_FORMATS.shortDate;return _.unique(e.concat(i(t)).concat([t]))}return e},format:function(e){var t=e instanceof Date?new Date(e.getTime()+60*e.getTimezoneOffset()*1e3):e;return"shortDate"===l?moment(t).format(a.DATETIME_FORMATS.shortDate.toUpperCase()):moment(t).format(l.toUpperCase())},adjustTimezoneOffsetDiff:r,shortDateFormat:a.DATETIME_FORMATS.shortDate}}]),angular.module("inprotech.components.form").component("ipDateTime",{template:'<span><span data-ng-if="vm.useDefault" class="nobr" data-ng-show="vm.model">{{ vm.model | date:"medium" }}</span><span data-ng-if="!vm.useDefault" class="nobr" data-ng-show="vm.model">{{ vm.model | date:vm.format }} {{ vm.model | date:"mediumTime" }}</span></span>',bindings:{model:"<"},controllerAs:"vm",controller:["dateService",function(e){"use strict";function t(){a.useDefault=e.useDefault(),a.format=e.dateFormat}var a=this;a.$onInit=t}]}),angular.module("inprotech.components.form").component("ipDropdownOperators",{templateUrl:"condor/components/form/dropdown-operators.html",bindings:{label:"@",operatorsGroup:"@?",customOperators:"@?"},require:{ngModel:"?ngModel",formCtrl:"?^ipForm"},controllerAs:"vm",controller:["$element","$attrs","formControlHelper","$scope","$filter",function(e,t,a,i,n){"use strict";function o(){if(r.options=[],r.operatorsGroup&&(r.options=d[r.operatorsGroup]||d.Equal),r.customOperators){var i=r.customOperators.split(",");_.forEach(i,function(e){l[e]&&r.options.push(l[e])})}a.init({scope:r,className:"ip-dropdown",inputSelector:"select",element:e,attrs:t,ngModelCtrl:r.ngModel,formCtrl:r.formCtrl})}var r=this,s=n("translate"),l={equalTo:{key:"0",value:s("operators.equalTo")},notEqualTo:{key:"1",value:s("operators.notEqualTo")},startsWith:{key:"2",value:s("operators.startsWith")},endsWith:{key:"3",value:s("operators.endsWith")},contains:{key:"4",value:s("operators.contains")},exists:{key:"5",value:s("operators.exists")},notExists:{key:"6",value:s("operators.notExists")},between:{key:"7",value:s("operators.between")},notBetween:{key:"8",value:s("operators.notBetween")},soundsLike:{key:"9",value:s("operators.soundsLike")},lessThan:{key:"10",value:s("operators.lessThan")},lessEqual:{key:"11",value:s("operators.lessEqual")},greater:{key:"12",value:s("operators.greater")},greaterEqual:{key:"13",value:s("operators.greaterEqual")}},c={withinLast:{key:"L",value:s("operators.withinLast")},withinNext:{key:"N",value:s("operators.withinNext")},specificDate:{key:"sd",value:s("operators.SpecificDates")}},d={Full:[l.equalTo,l.notEqualTo,l.startsWith,l.endsWith,l.contains,l.exists,l.notExists],FullSoundsLike:[l.equalTo,l.notEqualTo,l.startsWith,l.endsWith,l.contains,l.exists,l.notExists,l.soundsLike],FullNoExist:[l.equalTo,l.notEqualTo,l.startsWith,l.endsWith,l.contains],Equal:[l.equalTo,l.notEqualTo],Between:[l.between,l.notBetween],EqualExist:[l.equalTo,l.notEqualTo,l.exists,l.notExists],DatesFull:[l.equalTo,l.notEqualTo,l.lessThan,l.lessEqual,l.greater,l.greaterEqual,l.exists,l.notExists,c.withinLast,c.withinNext,c.specificDate]};r.id=i.$id,r.$onInit=o}]}),angular.module("inprotech.components.form").component("ipDropdown",{templateUrl:"condor/components/form/dropdown.html",bindings:{label:"@",labelValue:"@?",options:"@",warningText:"&",optionalValue:"@?",errorText:"&?"},require:{ngModel:"?ngModel",formCtrl:"?^ipForm"},controllerAs:"vm",controller:["$element","$attrs","formControlHelper","$scope",function(e,t,a,i){"use strict";function n(){o.optional=null==t.required,o.id=i.$id,a.init({scope:o,className:"ip-dropdown",inputSelector:"select",element:e,attrs:t,ngModelCtrl:o.ngModel,formCtrl:o.formCtrl}),o.transform=a.transcludeNgOptions}var o=this;o.$onInit=n}]}),angular.module("inprotech.components.form").directive("ipUploadFile",function(){"use strict";return{restrict:"A",scope:{fileSelected:"&"},require:{ngModel:"?ngModel",formCtrl:"?^ipForm"},controllerAs:"vm",controller:["$element","$attrs","formControlHelper","$scope",function(e,t,a,i){var n=this;n.id=i.$id,n.formControlHelper=a}],link:function(e,t,a,i){function n(){var t=$(this)[0];if(e.ngDisabled!==!0){var a=t.files;if(0===a.length)return void e.$apply(i.ngModel.$setViewValue(""));e.$apply(i.ngModel.$setViewValue(a[0].name));var n=e.fileSelected();n&&e.$apply(n(a))}}function o(){r.formControlHelper.init({scope:r,element:t,attrs:a,ngModelCtrl:i.ngModel,formCtrl:i.formCtrl})}var r=e.vm;r.$onInit=o,t.on("change",n),o()}}}),angular.module("inprotech.components.form").directive("ipForm",function(){"use strict";return{restrict:"A",require:"form",scope:!0,controller:["$scope",function(e){e.controllers=[],this.$addController=function(t){_.contains(e.controllers,t)||e.controllers.push(t)},this.$update=function(){e.formCtrl.$loading=_.any(e.controllers,function(e){if(e)return e.$loading})}}],link:function(e,t,a,i){e.formCtrl=i,i.$reset=function(){_.each(e.controllers,function(e){e.$reset&&e.$reset()})},i.$resetErrors=function(){_.each(e.controllers,function(e){e.$resetErrors&&e.$resetErrors()})},i.$validate=function(){return _.each(e.controllers,function(e){_.each(e.$validatorExtensions,function(e){e.force()}),e.$validate()}),i.$valid}}}}),angular.module("inprotech.components.form").factory("formControlHelper",function(){"use strict";return{legacyInit:function(e){var t=e.model,a=e.form,i=e.onReset||angular.noop;t&&(t.$reset=function(){t.$setViewValue(null),t.$setPristine(),t.$setUntouched(),t.$resetErrors(),i()},t.$resetErrors=function(){_.each(t.$validatorExtensions,function(e){e.reset()}),_.each(Object.keys(t.$error),function(e){t.$setValidity(e,null)})}),a&&a.$addController(t)},reset:function(e){e.$setViewValue(null),e.$setUntouched(),e.$resetErrors()},getError:function(e){return function(){if(!e)return null;if(!e.$error)return null;var t=Object.keys(e.$error);return t.length?e.$fieldError?e.$fieldError:"field.errors."+t[0]:null}},init:function(e){var t=e.element,a=e.attrs,i=e.className,n=e.inputSelector||"input",o=e.scope,r=e.ngModelCtrl,s=e.formCtrl,l=e.onReset||angular.noop,c=e.onChange||function(){r&&r.$invalid&&r.$resetErrors()},d=e.onRender||angular.noop;i&&t.addClass(i),t.on("click","label",function(){t.find(n).focus()}),t.on("setFocus",function(){t.find(n).focus()}),a.$observe("disabled",function(e){_.isBoolean(e)?o.disabled=e:o.disabled="false"!==e}),a.hasOwnProperty("disabled")&&(o.disabled=!0),r&&(e.customRender||(r.$render=function(){o.model=r.$viewValue,d(o.model)}),e.customChange||(o.change=function(){c(),r.$setViewValue(o.model)}),r.$reset=function(){r.$setViewValue(null),r.$setPristine(),r.$setUntouched(),r.$resetErrors(),o.model=null,l()},r.$resetErrors=function(){_.each(r.$validatorExtensions,function(e){e.reset()}),_.each(Object.keys(r.$error),function(e){r.$setValidity(e,null)})}),o.getError=function(){if(!r)return null;if(!r.$error)return null;var e=Object.keys(r.$error);return e.length?r.$fieldError?r.$fieldError:"field.errors."+e[0]:null},s&&s.$addController(r),o.$on?o.$on("$destroy",function(){t.off()}):o.$onDestroy=function(){t.off()}},transcludeNgOptions:function(e){return e.replace(/\s+in\s+(\S+)/," in $parent.$1")}}}),angular.module("inprotech.components.form").filter("html",function(){return function(e){var t=new RegExp("(\r\n|\n\r|\n|\r)","g");return e&&e.match(t)&&(e=e.replace(t,"<br>")),e}}),angular.module("inprotech.components.form").directive("numbersOnly",function(){"use strict";return{restrict:"A",link:function(e,t){t.on("keydown blur",function(e){var t=$(this),a=t.val();return a=a.replace(/[^0-9]/g,""),t.val(a),!e.shiftKey&&(9==e.which||64!=e.which&&16!=e.which&&(e.which>=48&&e.which<=57||(e.which>=96&&e.which<=105||([8,13,27,37,38,39,40].indexOf(e.which)>-1||!(e.which>64&&e.which<91||e.which>96&&e.which<123||8==e.which||32==e.which||e.which>=48&&e.which<=57)&&(e.preventDefault(),!1)))))})}}}),angular.module("inprotech.components.form").component("ipRadioButton",{template:'<div class="input-wrap"><input type="radio"><label><span translate="{{::vm.label}}"></span></label></div>',bindings:{label:"@"},require:{ngModel:"?ngModel"},controllerAs:"vm",controller:["$element","$attrs",function(e,t){"use strict";function a(){n.ngModel&&(n.ngModel.$render=function(){var a=t.value===n.ngModel.$viewValue;e.find("input:radio").prop("checked",a)}),e.find("input:radio").on("change",function(){var e=$(this).prop("checked");e&&n.ngModel&&n.ngModel.$setViewValue(t.value)}),e.find("label").on("click",function(t){e.find("input:radio").click(),t.stopPropagation()}),t.$observe("disabled",function(t){"false"===t||t===!1?e.find("input:radio").removeAttr("disabled"):e.find("input:radio").attr("disabled","disabled")})}function i(){e.find("label").off(),e.find("input:radio").off()}var n=this;n.$onDestroy=i,n.$onInit=a}]}),angular.module("inprotech.components.form").directive("ipSearchField",["$timeout",function(e){"use strict";return{restrict:"E",templateUrl:"condor/components/form/searchField.html",scope:{value:"=?",search:"&"},link:function(t,a){t.clear=function(){t.value&&(t.value=null,e(function(){t.search({value:t.value})}))},a.find(".input-wrap").on("click",function(){a.find('input[type="text"]').focus()}),t.$on("$destroy",function(){a.find(".input-wrap").off("click")}),a.on("setFocus",function(){setTimeout(function(){a.find('input[type="text"]').focus()},300)})}}}]),angular.module("inprotech.components.form").component("ipTextDropdownGroup",{templateUrl:"condor/components/form/textDropdownGroup.html",bindings:{label:"@",textField:"@",optionField:"@",options:"@",isTextDisabled:"<",warningText:"&"},require:{ngModel:"?ngModel",formCtrl:"?^ipForm"},controllerAs:"vm",controller:["$element","$attrs","formControlHelper",function(e,t,a){"use strict";function i(){o.textField=o.textField||"text",o.optionField=o.optionField||"option",a.init({scope:o,className:"text-dropdown-group",element:e,attrs:t,ngModelCtrl:o.ngModel,formCtrl:o.formCtrl,onRender:function(e){null==e?(o.text=null,o.option=null):(o.text=e[o.textField],o.option=e[o.optionField],n(o.option))},onChange:function(){n(o.option),o.textDisabled&&!o.option?o.model=null:o.textDisabled||o.text&&o.option?(o.model={},o.model[o.textField]=o.text,o.model[o.optionField]=o.option):o.model=null}}),o.transform=a.transcludeNgOptions}function n(){if(o.isTextDisabled){var e=o.isTextDisabled.apply(this,arguments);o.textDisabled=e,e&&(o.text="")}}var o=this;o.$onInit=i}]}),angular.module("inprotech.components.form").component("ipTextField",{templateUrl:["$attrs",function(e){return null!=e.ipSqlHighlight?"condor/components/form/sqlTextArea.html":null!=e.multiline?"condor/components/form/textArea.html":"condor/components/form/textField.html"}],bindings:{label:"@",maxLength:"=ngMaxlength",rows:"@?",trim:"@ngTrim",warningText:"&",mask:"<?",placeholder:"@",errorParam:"@",ngBlur:"&?"},require:{ngModel:"?ngModel",formCtrl:"?^ipForm"},controllerAs:"vm",controller:["$element","$attrs","formControlHelper","$scope",function(e,t,a,i){"use strict";function n(){o.id=i.$id,o.sqlHighlight=null!=t.ipSqlHighlight,o.mask||(o.mask=!1),a.init({scope:o,className:"ip-textfield",element:e,attrs:t,ngModelCtrl:o.ngModel,formCtrl:o.formCtrl})}var o=this;o.$onInit=n,o.codeMirrorOptions={theme:"ssms",mode:"text/x-sqlite",readOnly:null!=t.disabled&&"nocursor",lineWrapping:!0,lineNumbers:!0,viewportMargin:1/0,lineSeparator:"\r\n"},e.on("setFocus",function(){var t=e.find("input, textArea");t&&t.focus()})}]}),angular.module("inprotech.components.form").directive("ipTypeahead",["$http","utils","picklistService","typeaheadConfig","formControlHelper",function(e,t,a,i,n){"use strict";var o=200;return{require:["ngModel","?^ipForm"],scope:{config:"@?",picklistTemplateUrl:"@?",editUriState:"@?",label:"@?",hideLabel:"@?",state:"=?",text:"=?",loading:"=?"},templateUrl:function(e,t){return null!=t.multiselect?"condor/components/form/typeahead-multiselect.html":"condor/components/form/typeahead.html"},controller:["$scope","$attrs",function(e,t){var a=i.resolve(t,e);angular.extend(e,a)}],link:function(i,r,s,l){function c(){if(P&&P.length>0)for(var e=P.length-1;e>=0;e--)P[e].isTagSelected=!1}function d(e,t){if(P&&P.length>0)if(1===P.length){if(t===!0&&P[0].isTagSelected===!0)return void P.splice(0,1);P[0].isTagSelected=!0}else 1===e?p(t):e===-1&&u(t)}function p(e){for(var t=0;t<P.length;t++)if(P[t].isTagSelected===!0)return e?(t===P.length-1?P[t-1].isTagSelected=!0:P[t+1].isTagSelected=!0,void P.splice(t,1)):(t===P.length-1?P[0].isTagSelected=!0:P[t+1].isTagSelected=!0,void(P[t].isTagSelected=!1));P[0].isTagSelected=!0}function u(e){for(var t=P.length-1;t>=0;t--)if(P[t].isTagSelected===!0)return e?(0===t?P[t+1].isTagSelected=!0:P[t-1].isTagSelected=!0,void P.splice(t,1)):(0===t?P[P.length-1].isTagSelected=!0:P[t-1].isTagSelected=!0,void(P[t].isTagSelected=!1));P[P.length-1].isTagSelected=!0}function m(e,t){return e&&y()&&"cancelled"===i.state?void f("idle"):e||t?(S(!0),f("loading"),void F(e)):(E.cancel(),void f("idle"))}function v(e){if(!i.disabled)switch(t.debug("state.transition",i.state,e.type,e),i.state){case"idle":switch(e.type){case"text.change":m(i.text);break;case"key.down":m(i.text,!0)}break;case"loading":switch(e.type){case"text.change":m(i.text);break;case"search.response":S(!1);var a=r.find(".typeahead").is(":focus"),n=e.value.data,o=e.value.total;a?(f("loaded"),i.results=n,i.total=o):g(n);break;case"key.esc":S(!1),f("cancelled");break;case"input.blur":S(!1),i.results=null}break;case"loaded":switch(e.type){case"text.change":m(i.text);break;case"item.select":h(e.value),f("idle");break;case"key.esc":f("cancelled");break;case"input.blur":i.text?g(i.results):f("idle")}break;case"cancelled":switch(e.type){case"text.change":case"key.down":case"input.blur":m(i.text)}break;case"invalid":switch(e.type){case"text.change":case"key.down":m(i.text)}break;case"modal":switch(e.type){case"modal.cancel":f("cancelled"),r.find("input.typeahead").focus();break;case"modal.select":h(e.value),r.find("input.typeahead").focus(),f("idle")}}}function g(e){e.length?(f("idle"),h(e[0])):(N.$setValidity("invalidentry",!1),f("invalid")),R=!1}function f(e){switch(e){case"idle":N.$setValidity("invalidentry",null),i.results=null,i.state=e,S(!1);break;case"cancelled":i.results=null,i.state=e,i.text||(i.state="idle");break;case"loading":i.state=e;break;case"loaded":i.state=e;break;case"invalid":i.results=null,i.state=e;break;case"modal":i.results=null,i.state=e}}function h(e){if(T)"[object Array]"===Object.prototype.toString.call(e)?N.$setViewValue(e):k(e),i.text="";else{var t=w(N.$viewValue),a=w(e);t!==a&&N.$setViewValue(e),i.text=b(e)}i.results=null}function y(){return T?_.any(i.getSelectedItems()):w(N.$viewValue)}function b(e){if(i.displayCodeWithText&&e){var t="";return null!=e[i.codeField]&&""!==e[i.codeField]&&(t="("+e[i.codeField]+") "),t+e[i.textField]||null}return e&&e[i.textField]||null}function w(e){var t=e&&e[i.keyField];return angular.isUndefined(t)?null:t}function k(e){var t=i.getSelectedItems()||[],a=_.some(t,function(t){return e[i.keyField]===t[i.keyField]});if(!a){var n=t.slice(0);n.push(e),N.$setViewValue(n)}}function C(e){R=e}function D(){if(!i.disabled){f("modal");var e;i.picklistColumns&&(e=i.$parent.$eval(i.picklistColumns)),a.openModal(i,{type:i.restmodApi||i.apiUriName,displayName:i.picklistDisplayName,apiUrl:i.apiUrl,apiUriName:i.apiUriName,templateUrl:i.picklistTemplateUrl,multipick:i.multipick,searchValue:i.text,selectedItems:i.getSelectedItems?i.getSelectedItems():null,canMaintain:i.$parent.$eval(i.picklistCanMaintain),size:i.size,columnMenu:i.columnMenu||!1,columns:e,extendQuery:O,externalScope:A,qualifiers:i.qualifiers,initFunction:i.initFunction,preSearch:i.preSearch,editUriState:i.editUriState,canAddAnother:i.canAddAnother||!1,previewable:i.previewable||!1,dimmedColumnName:i.dimmedColumnName}).then(function(e){v({type:"modal.select",value:e})})["catch"](function(){v({type:"modal.cancel"})})}}function x(e){var t,a;null!=N.$viewValue&&null!=e&&_.each(e,function(e){t=w(e);var i=_.any(N.$viewValue,function(e){return a=w(e),t===a});i&&(e.$selected=!0)})}function S(e){i.loading=N.$loading=Boolean(e),M&&M.$update()}function I(){var e=50,t=r.find("input.typeahead");t.width(e),setTimeout(function(){var a=r.find(".tags"),i=r.find(".label-tag:last");if(i.length){var n=a.width()-(i.offset().left-a.offset().left+i.innerWidth());t.width(n<e?"100%":n)}else t.width("100%")},10)}var T=s.hasOwnProperty("multiselect"),E=t.cancellable(),O=s.extendQuery&&i.$parent.$eval(s.extendQuery)||i.extendQuery||_.identity,A=s.externalScope&&i.$parent.$eval(s.externalScope)||null,N=l[0],M=l[1],R=!1,P=[];i.state="idle",i.results=null,i.openModal=D,i.onListClicked=C,i.multipick=s.hasOwnProperty("multipick"),i.uid=i.$id,N.$loading=!1,n.init({scope:i,className:"ip-typeahead",inputSelector:"input.typeahead",element:r,attrs:s,ngModelCtrl:N,formCtrl:M,customRender:!0,customChange:!0,onReset:function(){i.text="",f("idle")}}),N.$setText=function(e){i.text=e},T&&(i.getSelectedItems=function(){return P=_.isArray(N.$modelValue)?N.$modelValue:_.toArray(N.$modelValue)},i.$watch(function(){return N.$modelValue},function(){I()}),$(window).on("resize",I),i.$on("$destroy",function(){$(window).off("resize",I)})),T||N&&(N.$render=function(){var e=N.$viewValue;if(e&&e[i.textField]){var t="";i.displayCodeWithText&&null!=e[i.codeField]&&""!==e[i.codeField]&&(t="("+e[i.codeField]+") "),i.text=t+e[i.textField]}else i.text=""}),i.textChange=function(){i.text||T||N.$setViewValue(null),v({type:"text.change",value:i.text})},i.onTagsKeydown=function(e){if(T)switch(e.keyCode){case 37:d(-1,!1);break;case 39:d(1,!1);break;case 8:i.text||d(-1,!0);break;case 46:i.text||d(1,!0);break;default:c()}},i.keydown=function(e){switch(e.keyCode){case 40:v({type:"key.down"});break;case 27:v({type:"key.esc"});break;case 113:i.openModal()}},i.onSelected=function(e){if(P&&P.length>0)if(1===P.length)P[0].isTagSelected=!0;else for(var t=0;t<P.length;t++)P[t].isTagSelected=e===t},i.blur=function(e){R===!0?(R=!1,e.target.focus()):(N.$setTouched(),v({type:"input.blur"}))},i.select=function(e){v({type:"item.select",value:e})},i.removeItem=function(e){if(!i.disabled){var t=i.getSelectedItems(),a=_.without(t,e);N.$setViewValue(a)}},i.showError=function(){return"invalid"===i.state||"idle"===i.state&&(!(N.$error.required&&!N.$touched)&&N.$invalid)},r.on("keydown","input.typeahead",function(e){var t=i.linkedAutocomplete.data("autocomplete");if(40===e.keyCode)t&&t.next(),e.preventDefault();else if(38===e.keyCode)t&&t.prev(),e.preventDefault();else if(13===e.keyCode)t&&t.hasItems()&&(i.$apply(function(){t.select()}),e.preventDefault());else if(9===e.keyCode&&t){var a=i.$apply(function(){return t.select()});a&&e.preventDefault()}});var F=_.debounce(function(t){if(E.cancel(),t=null==t?"":t,"idle"!==i.state){var a=O({search:t,params:JSON.stringify({skip:0,take:i.maxResults})});!function(t){e.get(i.apiUrl,{params:a,timeout:E.promise}).then(function(e){if(t===(i.text||"")){var a=e.data.data||e.data||[],n=e.data.pagination?e.data.pagination.total:a.length;T?x(a):a.length&&(a[0].$selected=!0),T||N.$setViewValue(null),v({type:"search.response",value:{data:a,total:n}})}})["catch"](function(e){e.status!==-1&&(N.$setValidity("invalidentry",!1),f("invalid"))})}(t)}},o)}}}]),angular.module("inprotech.components.form").provider("typeaheadConfig",function(){"use strict";var e={},t=["label","placeholder","keyField","codeField","textField","tagField","maxResults","apiUrl","restmodApi","itemTemplateUrl","picklistTemplateUrl","picklistDisplayName","picklistCanMaintain","picklistColumns","size","columnMenu","initFunction","preSearch","previewable","dimmedColumnName","displayCodeWithText"],a={keyField:"id",codeField:"code",textField:"text",itemTemplateUrl:"condor/components/form/autocomplete-item-desc.html",maxResults:30};this.config=function(t,a){return e[t]=angular.copy(a),this},this.$get=["apiResolverService",function(i){return{resolve:function(n,o){var r=n.config&&e[n.config]||o&&e[o.config]||{},s=_.pick(n,t),l=angular.extend({},a,r,s);return l.restmodApi&&(l.apiUrl=i.resolve(l.restmodApi).$url()),l.tagField||(l.tagField=l.textField||l.keyField),l},$reveal:function(){return _.keys(e)}}}]}),angular.module("inprotech.components.form").filter("ipTypeaheadHighlight",["$sce","$injector","$log",function(e,t,a){"use strict";function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function n(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return t=null==t?null:t.toString(),!o&&n(t)&&a.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(i(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("inprotech.components.form").directive("ipDataType",function(){"use strict";var e=/^\-?\d+$/,t=/^\-?\d+(\.\d+)?$/,a=/^[1-9][0-9]*$/,i=/^[0-9]*$/;return{restrict:"A",require:"ngModel",link:function(n,o,r,s){function l(n){var o=c(n);if(s.$isEmpty(o))return!0;switch(u){case"integer":return e.test(o);case"decimal":return t.test(o);case"positiveinteger":return a.test(o);case"nonnegativeinteger":return i.test(o)}return!0}function c(e){return e?"ip-text-dropdown-group"===m?e[r.textField||"text"]:e:null}function d(e){if("ip-text-dropdown-group"===m){var t;switch(u){case"positiveinteger":case"integer":case"nonnegativeinteger":t=p(parseInt(c(e)));break;case"decimal":t=p(parseFloat(c(e)))}var a=angular.extend({},e);return a[r.textField||"text"]=t,a}switch(u){case"positiveinteger":case"integer":case"nonnegativeinteger":return p(parseInt(c(e)));case"decimal":return p(parseFloat(c(e)))}return e}function p(e){return null==e?null:isNaN(e)?null:e}var u=r.ipDataType.toLowerCase(),m=o.prop("tagName").toLowerCase();s.$validators[u]=function(e,t){return l(t)},s.$parsers.push(function(e){return l(e)?d(e):e})}}}),angular.module("inprotech.components.form").directive("ipEmail",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,a,i){var n=/^[_a-zA-Z0-9]+(\.[_a-zA-Z0-9]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/;i.$validators.ipEmail=function(e,t){return!(!i.$isEmpty(t)||!i.$untouched)||(i.$validators.ipEmail.forced?n.test(t):i.$untouched||n.test(t))},i.$validatorExtensions||(i.$validatorExtensions=[]),i.$validatorExtensions.push({reset:function(){i.$validators.ipEmail.forced=!1},force:function(){i.$validators.ipEmail.forced=!0}})}}}),angular.module("inprotech.components.form").directive("ipFieldError",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,a,i){function n(e){e?(i.$setValidity("fieldError",!1),i.$fieldError=a.ipFieldError):(i.$setValidity("fieldError",null),i.$fieldError=null)}n(a.ipFieldError),a.$observe("ipFieldError",n),i.$viewChangeListeners.push(function(){i.$fieldError&&(i.$setValidity("fieldError",null),i.$fieldError=null)})}}}),angular.module("inprotech.components.form").directive("ipRequired",function(){"use strict";return{restrict:"A",require:"ngModel",link:function(e,t,a,i){var n=""===a.ipRequired||e.$eval(a.ipRequired);n&&(t.attr("ip-required-flag",!0),i.$validators.ipRequired=function(e,t){return i.$validators.ipRequired.forced?!i.$isEmpty(t):i.$untouched||!i.$isEmpty(t)},i.$validatorExtensions||(i.$validatorExtensions=[]),i.$validatorExtensions.push({reset:function(){i.$validators.ipRequired.forced=!1},force:function(){i.$validators.ipRequired.forced=!0}}))}}}),angular.module("inprotech.components.grid",["inprotech.core","kendo.directives"]),angular.module("inprotech.components.grid").factory("columnFilterHelper",["$rootScope","$compile",function(e,t){"use strict";function a(e,t){return _.find(e.columns,function(e){return e.field===t})}function i(t,a,i){return{extra:!1,ui:function(n){var o=e.$new();o.column=a,t.$customFilterScopes.push(o);var r=i(o);n.before(r).hide(),o.$apply()}}}function n(e,t,i){var n=e||a(t,i);if(n.filter&&n.filter.$clear){n.filter.$clear();var o=$("th[data-field='"+n.field+"'] > a");o&&o.removeClass("k-state-active")}}function o(e,t,a,i,n){var o=e.dataSource.filter()||{filters:[]},r=_.findWhere(o.filters,{field:t});r||o.filters.push(r={field:t}),r.operator=a,r.value=i,r.type=n||null,e.dataSource._filter=o}function r(e,t){var a=e.dataSource.filter()||{filters:[]};a.filters=_.reject(a.filters,function(e){return e.field===t}),e.dataSource._filter=a}function s(e,t){e.preventDefault(),e.stopPropagation(),t(l(e)),$(e.target).data("kendoPopup").close()}function l(e){return e.target.getAttribute("field")}function c(e,t){return e.filters?(_.each(e.filters,function(e){c(e,t)}),t):(t[e.field]||(t[e.field]={values:[]}),t[e.field].operator=e.operator||t[e.field].operator,t[e.field].values.push(e.value),t)}return{init:function(c){return c.filterable&&c.serverFiltering?(c.$customFilterScopes=[],c.$setCustomFilter=function(e){s(e,function(e){var t=a(c,e);if(t.filter.operator){var i=(t.filter.$formattedValue||angular.noop)();i&&(o(c,e,t.filter.operator,i,t.filterable.type),c.$read())}})},c.$clearCustomFilter=function(e){var t=l(e);n(null,c,t),r(c,t)},c.getFiltersExcept=function(e){return _.filter(c.filterOptions.filters,function(t){return t.field!==e.field})},c.getFiltersCustom=function(){return _.filter(c.columns,function(e){return e.filterable&&_.has(e.filterable,"type")})},c.filterMenuInit=function(t){t.container.attr("id",c.$widget.wrapper.attr("id")+"_filter_"+t.field),t.container.find(".k-filter-help-text").hide(),t.container.data("kendoPopup").bind("open",function(){t.container.find(".k-textbox input").val(""),t.container.find("ul li").show();var i=t.container.find(".k-action-buttons");i.removeClass("k-action-buttons");
var n=a(c,t.field);c.filterable&&angular.element(document.querySelector(".main-content-scrollable")).on("scroll",function(){var e=document.querySelectorAll(".k-animation-container");_.each(e,function(e){angular.element(e).css("display","none")})}),n.filterable.$initialised&&n.filterable.$refreshDataSource&&n.filterable.dataSource.read(),n.filterable.$refreshDataSource=!1,n.filterable.$initialised=!0,_.has(n.filterable,"type")&&(n.filterable.dataSource=new kendo.data.DataSource,t.container.attr("field",t.field),t.container.find('[type="reset"]').attr("field",t.field).on("click",c.$clearCustomFilter),t.container.off("submit"),t.container.on("submit",c.$setCustomFilter)),e.$broadcast("FilterPopUp",!0)}),t.container.data("kendoPopup").bind("close",function(){t.container.find('[type="reset"]').off("click",c.$clearCustomFilter),t.container.off("submit",c.$setCustomFilter),e.$broadcast("FilterPopUp",!1)})},c.columns=_.map(c.columns,function(e){if(!e.filterable)return e;var a={multi:!0,search:!0,code:"code",description:"description"};if(e.filterable&&"date"===e.filterable.type){var n=i(c,e,function(e){return t("<ip-kendo-column-filter-date-picker></ip-kendo-column-filter-date-picker>")(e)});e.filterable=angular.extend(n,e.filterable)}else if("text"===e.filterable.type){var o=i(c,e,function(e){return t("<ip-kendo-column-filter-text-filter></ip-kendo-column-filter-text-filter>")(e)});e.filterable=angular.extend(o,e.filterable)}else"object"==typeof e.filterable?e.filterable=angular.extend(a,e.filterable):e.filterable=a;if(!e.filterable.dataSource){var r={transport:{read:function(t){return c.readFilterMetadata(e).then(function(e){t.success(new kendo.data.ObservableArray(e||[]))})["catch"](function(e){t.error(e)})}}};e.filterable.dataSource=new kendo.data.DataSource(r),e.filterable.code&&e.filterable.description&&(e.filterable.itemTemplate=function(t){return'#var filterValue = data["'+e.filterable.code+'"] || (data.all ? "all" : null);##var id="_kendo_col_filter_val" + Math.random()#<li class="k-item">   <input type="checkbox" name="'+t.field+'" id="#=id#" value="#=filterValue#" />   <label for="#=id#">   #if(data["'+e.filterable.description+"\"]) {#       #= $('<div/>').text(data[\""+e.filterable.description+'"]).html()#   #} else if(data.all) {#       #= data.all #   #} else {#       (empty)    #}#   </label></li>'})}return e.filterable&&e.defaultFilters&&(c.dataSource._filter||(c.dataSource._filter=[]),c.dataSource._filter.push({field:e.field,operator:"eq",value:e.defaultFilters.join(",")})),e}),c.$getAllColumnFilterValues=function(e){var t=_.find(c.columns,function(t){return t.field===e}),a=_.pluck(t.filterable.dataSource.data(),"code");return a=_.map(a,function(e){return e||"null"})},c):c},resetFilterSourceOnly:function(e){_.each(e.columns,function(e){e.filterable&&e.filterable.dataSource&&(e.filterable.$refreshDataSource=!0)})},reset:function(e){e.filterable&&(e.dataSource._filter&&e.dataSource._filter.filters&&(e.dataSource._filter.filters=[]),e.serverFiltering&&_.each(e.columns,function(e){e.filterable&&e.filterable.dataSource&&(e.filterable.dataSource.data([]),e.filterable.$refreshDataSource=!0,n(e))}))},buildQueryParams:function(e,t){var a={};if(e){var i=_.map(t.getFiltersCustom(),function(e){return{field:e.field,type:e.filterable.type}}),n=c(e,{}),o=_.map(_.pairs(n),function(e){var a=e[0],n=e[1].values,o=e[1].operator,r=_.findWhere(i,{field:a});if(r)return{field:a,value:n[0],operator:o,type:r.type};if(angular.isDefined(t.filterOptions.sendExplicitValues)&&t.filterOptions.sendExplicitValues)o="in";else{var s=t.$getAllColumnFilterValues(a);if(n.length===s.length)return null;n.length>s.length/2?(n=_.difference(s,n),o="notIn"):o="in"}return{field:a,value:n.join(","),operator:o}});a.filters=_.without(o,null),t.filterOptions.filters=a.filters}else t.filterOptions.filters=[];return _.each(t.columns,function(e){e.filterable.$initialised&&(e.filterable.$refreshDataSource=!0)}),a}}}]),angular.module("inprotech.components.grid").factory("commonQueryHelper",["columnFilterHelper",function(e){"use strict";function t(e){var t={};return e&&e.length&&(t.sortBy=e[0].field,t.sortDir=e[0].dir),t}function a(e){var t={};return null!=e.skip&&(t.skip=e.skip),null!=e.take&&(t.take=e.take),t}return{buildQueryParams:function(i,n){var o=i.data||{},r={};return angular.extend(r,t(o.sort)),angular.extend(r,a(o)),angular.extend(r,e.buildQueryParams(o.filter,n)),r}}}]),angular.module("inprotech.components.grid").directive("ipKendoColumnFilterDatePicker",function(){"use strict";function e(e){var t=$(e).find("[role=listbox]");$("span",t).hide(),t.unbind().hide()}function t(t,a){t.$on("FilterPopUp",function(i,n){n&&t===i.currentScope&&e(a)})}return{restrict:"E",templateUrl:"condor/components/grid/directives/kendoColumnFilterDatePicker.html",link:function(e,a){var i=e.column,n=i.filter=i.filter||{},o=$(a).parentsUntil("form.k-filter-menu").parent();o.find("[role=listbox]").unbind().hide(),t(e,o),n.$formattedValue=function(){return n.date?moment(n.date).format("YYYY-MM-DD"):null},n.$clear=function(){n.operator="gte",n.date=null},n.operator="gte"}}}),angular.module("inprotech.components.grid").directive("ipKendoColumnFilterTextFilter",function(){"use strict";function e(e){var t=$(e).find("[role=listbox]");$("span",t).hide(),t.unbind().hide()}function t(t,a){t.$on("FilterPopUp",function(i,n){n&&t===i.currentScope&&e(a)})}return{restrict:"E",templateUrl:"condor/components/grid/directives/kendoColumnFilterText.html",link:function(e,a){var i=e.column,n=i.filter=i.filter||{},o=$(a).parentsUntil("form.k-filter-menu").parent();o.find("[role=listbox]").unbind().hide(),t(e,o),n.$formattedValue=function(){return n.text?n.text:null},n.$clear=function(){n.operator="contains",n.date=null},n.operator="contains"}}}),angular.module("inprotech.components.grid").directive("ipKendoGrid",["$compile","$timeout","$translate","ipKendoGridKeyboardShortcuts","bus",function(e,t,a,i,n){"use strict";return{restrict:"E",scope:{id:"@",searchHint:"@",showAdd:"=?",addItemName:"@",onAddClick:"&",addDisabled:"<?",noResultsHint:"@"},templateUrl:function(e,t){return"search"==t.mode?"condor/components/grid/directives/kendoSearchGrid.html":"condor/components/grid/directives/kendoNormalGrid.html"},link:function(o,r,s){function l(e){var a=e.pageIndex,i={id:e.rowId,relativeIndex:e.relativeIndex};if("current"===a||null==a)return void t(function(){c(i,e.unselectRow)},0);var n=function(e){y=i,h.dataSource.page(e)};"last"!==a?n(a):h.pageable?h.dataSource.fetch().then(function(){n(h.dataSource.totalPages())}):n(h.dataSource.totalPages())}function c(e,t){h.onSelect&&(h.onSelect.disabled=!0),d(e),m(t),h.onSelect&&(h.onSelect.disabled=!1)}function d(e){var t=g();if(t.clearSelection(),e.relativeIndex){var a=e.relativeIndex;"last"===e.relativeIndex&&(a=h.data().length-1),h.selectRowByIndex(a)}else p(e.id)}function p(e){var t=g(),a=t.dataSource.get(e);a&&t.select("tr[data-uid='"+a.uid+"']")}function u(e,t){if(e)return window.pageYOffset<e&&e+t<window.pageYOffset+window.innerHeight}function m(e){var t=g(),a=t.select(),i=a.offset();if(!i)return void(y=null);var n=0;u(i.top,a.height())||(n=i.top+2*a.height()-window.innerHeight),n>0&&(e&&t.clearSelection(),$("#mainPane").animate({scrollTop:n},200)),y=null}function v(){var e=g();e.dataSource.read(),e.refresh()}function g(){return $("#"+o.id).data("kendoGrid")}function f(e){var t,a,i=e.find("table thead tr:first-child th"),n=0;for(n+=""===i.eq(0).text().trim()?i.eq(0).outerWidth():parseInt(i.eq(0).css("paddingLeft")),t=1;t<i.length&&(a=$(i[t]),""===a.text().trim());t++)n+=a.outerWidth();i.eq(t+1)&&i.eq(t+1).length>0&&(n+=parseInt(i.eq(t+1).css("paddingLeft"))),e.find('div[ng-hide="hideNoResults"]').css({paddingLeft:n+"px"})}angular.element(".main-content-scrollable").scroll(function(){angular.element(document.body).find("[data-role=popup]").kendoPopup("close")}),o.hideSearchHint=!1,o.hideNoResults=!0,o.addLabelParams={itemName:o.addItemName?o.addItemName:a.instant("grid.messages.defaultItemName")};var h=o.$parent.$eval(s.gridOptions),y=null;n.singleSubscribe("grid."+o.id,l),n.singleSubscribe("gridRefresh."+o.id,v),h.hidePagerWhenNoResults=!0,h.onDataBound=function(e,t){0===e.length?(o.hideSearchHint=t,o.hideNoResults=!t):(o.hideSearchHint=!0,o.hideNoResults=!0),"search"==s.mode&&setTimeout(function(){var e=r.find(".k-grid-content-locked tr");e.length>0&&(r.find(".k-grid-content tr").each(function(t,a){e.eq(t).height($(a).height())}),r.resize())},0),null==s.mode&&f(r),y&&c(y)},i.bindShortcuts(o.id,r,h);var b=$('<kendo-grid id="'+o.id+'" k-options="'+s.gridOptions+'"></kendo-grid>');r.find(".kendo-search-grid-placeholder").append(b),e(b)(o.$parent),o.$on("$destroy",function(){h.$destroy&&h.$destroy()})}}}]),angular.module("inprotech.components.grid").factory("ipKendoGridKeyboardShortcuts",function(){function e(e){var t=e.onDataBound;e.onDataBound=function(){e.onDataBound=t}}var t=function(t,a,i){a.on("setFocus",function(){var e=$("#"+t).data("kendoGrid");if(e.dataSource.total()>0){var a=e.tbody.find("tr:first td:first");e.current(a),e.table.focus();var i=e.table.closest("ip-kendo-grid, ip-kendo-search-grid").prev(".table-container");if(i.length>0){var n=$("ip-sticky-header:visible");document.body.scrollTop=i.offset().top-n.height()}}}),a.on("nextPage",function(){var t=i.dataSource.page();t<i.dataSource.totalPages()&&(e(i),i.dataSource.page(t+1))}),a.on("previousPage",function(){var t=i.dataSource.page();t>1&&(e(i),i.dataSource.page(t-1))}),a.on("firstPage",function(){var t=i.dataSource.page();t>1&&(e(i),i.dataSource.page(1))}),a.on("lastPage",function(){var t=i.dataSource.page();t<i.dataSource.totalPages()&&(e(i),i.dataSource.page(i.dataSource.totalPages()))}),a.on("select",function(){i.onSelect&&!i.onSelect.disabled&&i.onSelect()}),a.bind("keydown",function(e){var t;switch(e.keyCode){case 35:t="lastPage";break;case 36:t="firstPage";break;case 13:t="select"}t&&(a.trigger(t),e.preventDefault())})};return{bindShortcuts:t}}),angular.module("inprotech.components.grid").directive("ipKendoRowRef",function(){"use strict";return{restrict:"E",link:function(e,t){e.$watch(function(){return t.attr("class")},function(e,a){e!==a&&(a&&t.parents("tr").removeClass(a),e&&t.parents("tr").addClass(e))})}}}),angular.module("inprotech.components.grid").directive("ipKendoSearchGrid",["$compile","ipKendoGridKeyboardShortcuts",function(e,t){"use strict";return{restrict:"E",scope:{id:"@",searchHint:"@",noResultsHint:"@"},templateUrl:"condor/components/grid/directives/kendoSearchGrid.html",link:function(a,i,n){angular.element(".main-content-scrollable").scroll(function(){angular.element(document.body).find("[data-role=popup]").kendoPopup("close")}),a.hideSearchHint=!1,a.hideNoResults=!0;var o=a.$parent.$eval(n.gridOptions);o.hidePagerWhenNoResults=!0,o.onDataBound=function(e,t){0===e.length?(a.hideSearchHint=t,a.hideNoResults=!t):(a.hideSearchHint=!0,a.hideNoResults=!0);var n=i.find(".k-grid-content-locked tr");n.length>0&&i.find(".k-grid-content tr").each(function(e,t){n.eq(e).height($(t).height())})},t.bindShortcuts(a.id,i,o);var r=$('<kendo-grid id="'+a.id+'" k-options="'+n.gridOptions+'"></kendo-grid>');i.find(".kendo-search-grid-placeholder").append(r),e(r)(a.$parent),a.$on("$destroy",function(){o.$destroy&&o.$destroy()})}}}]),angular.module("inprotech.components.buttons").component("ipKendoToggleDeleteButton",{template:"<ip-icon-button ng-click=\"vm.model.deleted=!vm.model.deleted\" class=\"btn-no-bg\" button-icon=\"{{vm.model.deleted ? 'trash' : 'trash-o'}}\" ip-tooltip=\"{{ (vm.model.deleted ? 'Restore' : 'Delete') | translate }}\"></ip-icon-button>",bindings:{model:"<",hasDetail:"@"},controllerAs:"vm",controller:["$scope","$element",function(e,t){function a(){n="true"===o.hasDetail}function i(e){return e.stopPropagation(),e.preventDefault(),!1}var n,o=this;o.$onInit=a,e.$watch("vm.model.deleted",function(e,a){if(e!==a){var o=t.parents("tr");if(e){o.addClass("deleted");var r=t.parents("[kendo-grid]").data("kendoGrid");r.collapseRow(o),n&&o.find(".k-hierarchy-cell a").on("click",i)}else o.removeClass("deleted"),n&&o.find(".k-hierarchy-cell a").off("click",i)}})}]}),angular.module("inprotech.components.grid").factory("inlineEdit",function(){"use strict";function e(e){return e.added&&!e.deleted}function t(e){return e.deleted}function a(e){return!e.deleted&&!e.added&&e.isDirty()}return{hasError:function(e){return!(!e||!e.length)&&_.any(e,function(e){return e.hasError()})},canSave:function(e){return!(!e||!e.length)&&_.any(e,function(e){return e.added||e.deleted||e.isDirty()})},createDelta:function(i,n){return{added:_.chain(i).filter(e).map(n).value(),deleted:_.chain(i).filter(t).map(n).value(),updated:_.chain(i).filter(a).map(n).value()}},defineModel:function(e){function t(e,t,a){return null==t||null==a?t==a:null==t[e]||null==a[e]?t[e]==a[e]:i[e]&&i[e].equals?i[e].equals(t[e],a[e]):angular.equals(t[e],a[e])}var a=[],i={};return _.each(e,function(e){_.isString(e)?a.push(e):(a.push(e.name),i[e.name]=e)}),function(e){e=e||{added:!0};var i={},n=angular.extend({},e,{error:function(e,t){return null==t?i[e]:void(i[e]=t)},hasError:function(){return _.any(i,_.identity)},isDirty:function(i){var n=this;return null==i?_.any(a,function(a){return!t(a,n,e)}):!t(i,n,e)}});return n}}}}),angular.module("inprotech.components.grid").factory("kendoGridBuilder",["$compile","columnFilterHelper","commonQueryHelper","$q","$translate","columnPickerHelper",function(e,t,a,i,n,o){"use strict";function r(){var e=angular.extend({},E),t=[];return Object.defineProperty(e,"onDataBound",{get:function(){return t},set:function(e){t.push(e)}}),e}function s(e,a){if(a=angular.extend(r(),a),a=l(a),a=c(a),a.topicItemNumberKey&&("string"==typeof a.topicItemNumberKey&&(a.topicItemNumberKey={key:a.topicItemNumberKey}),a.topicItemNumberKey=angular.extend({isSubSection:!1},a.topicItemNumberKey)),a.pageable&&(a.pageable=angular.extend({pageSize:20,pageSizes:[10,20,50,100],messages:{itemsPerPage:""}},a.pageable)),a.actions){var i,o="",s=20;if(a.actions.edit&&(i="",s+=30,a.actions.edit.onClick&&(i=' data-ng-click="'+a.actions.edit.onClick+'"'),o+='<ip-icon-button class="btn-no-bg" ng-disabled="dataItem.deleted" button-icon="pencil-square-o" ip-tooltip="{{::\'Edit\' | translate }}" '+i+"></ip-icon-button>"),a.actions["delete"]){i="",s+=30;var u="kendoGridOnRowDelete_"+a.id;e[u]=function(e){(e.isAdded||e.added)&&a.dataSource.remove(e)},a.actions["delete"].onClick&&(i=a.actions["delete"].onClick),o+='<ip-kendo-toggle-delete-button data-model="dataItem" data-has-detail="'+Boolean(a.detailTemplate)+'" data-ng-click="'+u+"(dataItem);"+i+'"></ip-kendo-toggle-delete-button>'}a.actions.custom&&(s+=30,o+=a.actions.custom.template),a.columns.unshift({width:s+"px",template:o,fixed:!0,locked:!0})}var m=function(e){_.each(e,function(e){a.titlePrefix&&e.title&&"."===e.title[0]&&(e.title=a.titlePrefix+e.title),e.title=e.title?n.instant(e.title):" ",e.filterable?a.filterable=!0:e.filterable=!1,e.fixed&&(e.headerAttributes=angular.extend(e.headerAttributes||{},{"data-fixed":!0})),e.oneTimeBinding!==!0&&a.oneTimeBinding!==!0||e.template||(e.template='<span ng-bind="::dataItem.'+e.field+'">'),e.columns&&m(e.columns)})};m(a.columns),a.autoGenerateRowTemplate&&(a.reorderable===!0?(a.rowTemplate=function(){return g(a,!0)},a.altRowTemplate=function(){return v(a,!0)}):(a.rowTemplate=g(a),a.altRowTemplate=v(a)));var f=d(e,a);if(a.dataSource=new kendo.data.DataSource(f),a.onPageSizeChanged){var h=a.dataBinding;a.dataBinding=function(e){var t=e.sender.dataSource.pageSize();t!==a.pageable.pageSize&&(a.pageable.pageSize=t,a.onPageSizeChanged(t)),h&&_.isFunction(h)&&h.apply(this,arguments)}}return"row"===a.selectable&&a.navigatable&&a.selectOnNavigate&&!a.navigate&&(a.navigate=function(e){this.select(e.element.parent())}),a=t.init(a),a=p(a,e),a.$destroy=function(){var e=a.$customFilterScopes||[];e.forEach(function(e){e.$destroy()})},a}function l(e){var t=e.columnSelection;return t.localSetting?(t.helper=o.init(t.localSetting,t.localSettingSuffix),e.columns=t.helper.initColumnDisplay(e.columns)):t.helper={updateColumnOrder:angular.noop,reset:angular.noop},e}function c(e){var a=u(e);return e.search=function(t){return e.$setLoadingState("ip-data-pending"),a(t)},e.clear=function(){e.$didSearch=!1,e.$resetPage(),e.dataSource.data([]),e.$widget&&(e.$widget.dataSource._sort=null,e.$widget.element.find(".k-grid .k-header .k-i-arrow-s, .k-grid .k-header .k-i-arrow-n").remove(),e.$widget.pager&&e.$widget.pager.element.hide()),t.reset(e),e.$setLoadingState("ip-data-initial")},e.$resetPage=function(){e.$widget&&e.$widget.pager&&(e.$widget.pager.dataSource._page=1,e.$widget.pager.dataSource._skip=0)},e.$setLoadingState=function(e){m(this.id,e)},e.$read=function(){return e.$setLoadingState("ip-data-loading"),e.$widget.dataSource.read()},e.getCurrentFilters=function(){return t.buildQueryParams(e.$widget.dataSource.filter(),e)},e.selectRowByIndex=function(t){return e.$widget.select("tbody tr.k-master-row:eq("+t+")")},e.getSelectedRow=function(){return e.$widget.dataItem(e.$widget.select())},e.selectFocusedRow=function(){var t=e.$widget.element.find("#"+this.id+"_active_cell").parent("tr");return e.$widget.select(t),e.getSelectedRow()},e.clickHyperlinkedCell=function(){var t=$.map(e.$widget.element.find("#"+this.id+"_active_cell"),function(e){return $(e)});if(t.length>0){var a=$(t)[0].find("a").not(".k-grid-filter");a.length>0&&a[0].click()}},e.selectRowAndScrollByIndex=function(t,a){var i="tbody tr.k-master-row:eq("+a+")";e.$widget.select(i);var n=$(i).position().top;$("#mainPane").scrollTop(n)},e.removeDeletedRows=function(){for(var t=e.dataSource.data(),a=t.length-1;a>=0;a--){var i=t[a];i&&i.deleted&&e.dataSource.remove(i)}0===e.dataSource.data().length&&e.pageable&&e.dataSource.fetch()},e.insertAfterSelectedRow=function(t){var a=e.dataSource.data().length,i=e.getSelectedRow();null!==i&&(a=e.dataSource.indexOf(i)),e.dataSource.insert(a+1,t),e.selectRowByIndex(a+1)},e.getRelativeItemAbove=function(t){var a=_.indexOf(e.dataSource.data(),t);if(a>0){var i=_.chain(e.dataSource.data()).first(a).findLastIndex(function(e){return void 0===e.deleted||e.deleted===!1}).value();if(i>=0)return e.dataSource.data()[i]}return null},e.insertRow=function(t,a){e.dataSource.insert(t,a),setTimeout(function(){var a=e.$widget.element.find("tr.k-master-row").eq(t).find("*[focus-on-add]");a.find("input").length>0?a.find("input").focus():a.find("select").focus()},400)},e.getQueryParams=function(){return null===e.$widget||void 0===e.$widget||void 0===e.$widget.dataSource._sort||null===e.$widget.dataSource._sort?null:{sortBy:e.$widget.dataSource._sort[0].field,sortDir:e.$widget.dataSource._sort[0].dir}},e.highlightAfterEditing=function(t){var a=e.dataSource.get(t.key);if(a){var i=e.dataSource.indexOf(a);e.dataSource.remove(a),e.dataSource.insert(i,t)}else e.dataSource.insert(0,t);e.highlightSingleItem(t.key)},e.highlightSingleItem=function(t){var a=e.$widget.element.find("tr");_.each(a,function(e){$(e).removeClass("k-state-selected")});var i=e.dataSource.get(t);if(i){var n=e.$widget.element.find("tr[data-uid='"+i.uid+"']");n.length>0&&(n.addClass("k-state-selected"),n[0].scrollIntoView())}},e.selectLastNavigatedItem=function(t,a){var i=e.$widget;i.items().each(function(n,o){var r=i.dataItem(o);if(r.id===t){var s=i.element.find("tr");_.each(s,function(e){$(e).removeClass("k-state-selected")}),i.select(o);var l=e.$widget.element.find("#"+a).parent("td");l.length>0&&l[0].scrollIntoView(!1)}})},e.highlightItemByIndex=function(t){if(e.$widget.element){var a=e.$widget.element.find("tr");_.each(a,function(e){$(e).removeClass("k-state-selected")});var i=e.dataSource.data()[t];if(i){var n=e.$widget.element.find("tr[data-uid='"+i.uid+"']");n.length>0&&(n.addClass("k-state-selected"),n[0].scrollIntoView(),e.$widget.select(n[0]))}}},e.findAndHighlightItemByIndex=function(t){if(e.$widget&&e.$widget.element){var a=e.$widget.element.find("tr");_.each(a,function(e){$(e).removeClass("k-state-selected")});var i=Math.ceil((t+1)/e.dataSource.pageSize()),n=e.dataSource.page(),o=e.dataSource.data()[t];if(1!==n&&1===i&&(o=null),o){var r=e.$widget.element.find("tr[data-uid='"+o.uid+"']");r.length>0&&(r.addClass("k-state-selected"),r[0].scrollIntoView(),e.$widget.select(r[0]))}else e.page(i),e.dataSource.page(i)}},e.removeItem=function(t){var a=e.dataSource.get(t.key);e.dataSource.remove(a)},e}function d(e,t){var n,o={serverFiltering:t.serverFiltering,serverSorting:!!t.pageable||t.serverSorting,transport:{read:function(o){t.$didSearch=!0;var r=JSON.stringify(o.data.sort);"null"===r&&(r=null),n!=r&&(o.data.page=1,o.data.skip=0,n=r);var s=a.buildQueryParams(o,t);return i.when(t.read(s)).then(function(a){t.pageable?(a.data=new kendo.data.ObservableArray(a.data||[]),T(e,t,a.pagination?a.pagination.total:a.data.length)):(a=new kendo.data.ObservableArray(a||[]),T(e,t,a.length)),o.success(a),t.onDataCreated(),S(e,t.$widget.pager)},function(){o.error()})}}};return t.pageable&&(o=angular.merge({schema:{data:"data",total:function(e){return e.pagination?e.pagination.total:e.total},model:{id:"id"}},serverPaging:!0,pageSize:t.pageable.pageSize},o),t.schema&&(o=angular.merge(o,{schema:t.schema}))),o}function p(e,t){return t.$on("kendoWidgetCreated",function(a,i){if(e.id===i.options.id){var n=e.id;if(e.$setLoadingState("ip-data-initial"),e.$widget=i,i.element.attr("id")!==e.id&&i.element.attr("id",e.id),i.pager&&(i.pager.element.hide(),i.element.find("th.k-header:has(a.k-link)").on("click",function(){e.$resetPage(),i.pager.refresh()}),S(t,e.$widget.pager)),i.element.data("kendoGrid").bind("dataBound",function(){var t=i.element.data("kendoGrid").dataSource.data();if(i.pager)if(t.length>0)if($("#"+n).removeClass("ip-data-no-results"),i.element.data("kendoGrid").dataSource.total()>=5){var a=i.pager.element;a.find("select.k-dropdown")[0]&&a.find("select.k-dropdown")[0].remove(),a.find("ul.k-pager-numbers")&&a.find("ul.k-pager-numbers").css("list-style","none").css("padding-left","0"),a.find(".k-pager-first span.k-i-arrow-end-left")&&a.find(".k-pager-first span").addClass("k-i-seek-w !important"),a.find(".k-pager-first+.k-pager-nav span.k-i-arrow-60-left")&&a.find(".k-pager-first+.k-pager-nav span").addClass("k-i-arrow-w !important"),a.find(".k-pager-nav span.k-i-arrow-60-right")&&a.find(".k-pager-nav span").addClass("k-i-arrow-e !important"),a.find(".k-pager-last span.k-i-arrow-end-right")&&a.find(".k-pager-last span").addClass("k-i-seek-e !important"),i.pager.element.show()}else i.pager.element.hide();else $("#"+n).addClass("ip-data-no-results"),e.hidePagerWhenNoResults?i.pager.element.hide():i.pager.element.show();e.hideExpand?C(n,e.$widget.columns.length):f(n),e.showExpandAll&&y(),!e.autoGenerateRowTemplate&&e.rowAttributes&&"function"==typeof e.rowAttributes&&e.$widget.items().each(function(t,a){var i=e.$widget.dataItem(a);e.rowAttributes(i,a)}),e.$setLoadingState("ip-data-loaded"),_.each(e.onDataBound,function(a){_.isFunction(a)&&a(t,e.$didSearch)}),$("#"+n).find("table").on("keydown",function(t){13===t.keyCode&&(t.stopImmediatePropagation(),D(n)),40!==t.keyCode&&38!==t.keyCode||!e.navigatable||x(n,e)}),$("#"+n).find("table a").each(function(){$(this).on("keydown",function(e){13===e.keyCode&&(e.stopImmediatePropagation(),D(n))})})}),e.hideExpand&&b(n),i.element.find("th[data-role=columnsorter] a.k-link:not(:has(span.col-sortable))").append('<span class="k-icon col-sortable"></span>'),e.showExpandAll&&i.element.find("thead.k-grid-header tr th.k-hierarchy-cell.k-header").append('<a tabindex="-1" class="k-icon k-i-expand no-underline" href="javascript:void(0)" id="expandCollapseAll"></a>').on("click",function(e){h(n),e.stopImmediatePropagation()}),i.element.find(".k-header, .k-grid-header .k-link, .k-grid-header .k-filter").on("click",function(t){e.$didSearch||(t.stopPropagation(),t.preventDefault())}),i.element.on("click",".grid-actions",function(e){e.stopPropagation()}),i.element.find("th[data-fixed]").each(function(){var e=function(e){return e.preventDefault(),e.stopPropagation(),!1};$(this).on("mousedown mousemove mouseup pointerdown MSPointerDown",e)}),e.dragDropRows&&(i.element.data("kendoGrid").table.kendoDraggable({filter:"tbody > tr",group:"gridGroup",threshold:100,axis:"y",hint:function(e){return'<div class="k-grid k-widget"><table role="grid" class="k-selectable" width="100%"><tbody role="rowgroup"><tr class="k-master-row ng-scope k-state-selected" role="row">'+e.html()+"</tr></tbody></table></div>"}}),i.element.data("kendoGrid").table.kendoDropTargetArea({filter:"td",group:"gridGroup",drop:function(t){if(t.draggable.hint.hide(),!$(t.draggable.currentTarget).data().$$kendoScope&&!$(t.dropTarget).closest("tr").data().$$kendoScope)return!1;var a=i.element.data("kendoGrid"),n={};n.sender=a;var o=a.dataSource.getByUid($(t.draggable.currentTarget).data().$$kendoScope.dataItem.uid),r=$(t.dropTarget).closest("tr"),s=a.dataSource.getByUid(r.data().$$kendoScope.dataItem.uid),l=a.dataSource.indexOf(s);$(t.draggable.currentTarget).data().$$kendoScope.dataItem.uid!==r.data().$$kendoScope.dataItem.uid&&(n.selectedDataItem=$(t.draggable.currentTarget).data().$$kendoScope.dataItem,a.dataSource.remove(o),a.dataSource.insert(l,o),n.hasSelectedRowChanges=!0,n.maxIndex=a.dataSource._data.length-1,n.currentTarget=l,e.onDropCompleted(n))}})),i.autoFillGrid=function(){var e=i.thead.closest("table"),t=e.width(),a=e.closest(".k-grid-header-wrap").innerWidth();if(t<a){var n=e.find("colgroup > col"),o=i.table.find("colgroup > col"),r=a/t;n.add(o).not(".k-group-col").each(function(){var e=$(this).width(),t=e*r;$(this).css({width:t})})}},e.rowDraggable){var o=i.element.data("kendoGrid");o.table.find("tbody").addClass("draggable"),o.table.kendoSortable({filter:"tbody > tr:not(.deleted)",axis:"y",hint:function(e){for(var t=$('<table class="k-grid k-widget"></table>'),a=e.clone(),i=e.find("td"),n=a.find("td"),o=0;o<i.length;o++)$(n[o]).width($(i[o]).width());return a.addClass("k-state-selected"),t.append(a),t.width(e.width()),t},start:function(){$("body").addClass("dragging")},end:function(){$("body").removeClass("dragging")},change:function(a){var i=e.dataSource.data(),n=i[a.oldIndex],r=i[a.newIndex];I(o,function(){o.dataSource.remove(n),o.dataSource.insert(a.newIndex,n)}),e.onDropCompleted&&t.$evalAsync(function(){e.onDropCompleted({source:n,target:r,insertBefore:a.newIndex<a.oldIndex,evt:a})})}})}i.element.find(".k-grid-header th.k-header > bulk-actions-menu, .k-grid-header th.k-header > *[data-bulk-actions-menu]").each(function(){$(this).parent("th").css("overflow","visible")}),i.element.find(".k-grid-header > .k-grid-header-locked").each(function(){$(this).css("overflow","visible")}),e.onGridCreated()}}),e}function u(e){var a=function(a){return a=a||{},a.preventPageReset||e.$resetPage(),e.filterOptions.keepFiltersAfterRead?t.resetFilterSourceOnly(e):t.reset(e),e.$read()};return null!=e.debounce?_.debounce(a,e.debounce):a}function m(e,t){$("#"+e).removeClass("ip-data-initial").removeClass("ip-data-pending").removeClass("ip-data-loading").removeClass("ip-data-loaded").addClass(t)}function v(e,t){var a=g(e,t);return a.replace("k-master-row","k-master-row k-alt")}function g(e,t){var a='<tr class="k-master-row" role="row"';if(e.rowAttributes){if("string"!=typeof e.rowAttributes)throw"rowAttributes must be a string if autoGenerateRowTemplate=true";a+=" "+e.rowAttributes}a+=">",e.detailTemplate&&(a+=e.showExpandIfCondition?'<td class="k-hierarchy-cell"><a ng-if="'+e.showExpandIfCondition+'" class="k-icon k-i-expand no-underline" href="javascript:void(0)" aria-label="{{:: \'collapseExpand\' | translate}}" tabindex="-1"></a></td>':'<td class="k-hierarchy-cell"><a class="k-icon k-i-expand" href="javascript:void(0)" aria-label="{{:: \'collapseExpand\' | translate}}" tabindex="-1"></a></td>');var i=function(t){a+='<td role="gridCell"',t.hidden&&(a+=' style="display:none"'),t.wrapText&&(a+=' style="word-break:break-all"'),a+=">",t.template?a+=t.template:(a+=e.oneTimeBinding===!0?"{{::dataItem.":"{{dataItem.",a+=t.field,a+="}}"),a+="</td>"};return t===!0&&e.$widget?e.$widget.columns.forEach(function(e){_.isArray(e.columns)?e.columns.forEach(i):i(e)}):e.columns.forEach(function(e){_.isArray(e.columns)?e.columns.forEach(i):i(e)}),a+="</tr>"}function f(e){$("#"+e+" .k-hierarchy-cell a, #"+e+" .k-hierarchy-cell a").addClass("k-i-expand no-underline")}function h(e){var t=$("#"+e).data("kendoGrid");_.any(t.dataSource.data())&&y(t)}function y(e){var t=$("#expandCollapseAll"),a=t.hasClass("k-i-expand")&&void 0!==e;t.removeClass(a?"k-i-expand":"k-i-collapse").addClass(a?"k-i-collapse":"k-i-expand"),void 0!=e&&(a?e.expandRow(e.tbody.find("tr.k-master-row")):e.collapseRow(e.tbody.find(" > tr.k-master-row")))}function b(e){$("#"+e).on("click","tr",function(t){var a=$(t.target);if(a.hasClass("expand-btn-header")&&(w(e),t.stopPropagation()),a.hasClass("expand-btn")){var i=$(this),n=i.find("td.k-hierarchy-cell .k-icon");n.click(),i.next(".k-detail-row").find(".k-hierarchy-cell").addClass("hidden");var o=i.find(".expand-btn.error");o.length>0&&!i.hasClass("error")&&i.addClass("error")}})}function w(e){$("#"+e).find("td button .expand-btn").each(function(){$(this).click(),k($(this).closest("tr"))})}function k(e){e.removeClass("k-state-selected")}function C(e,t){var a=t-1;$("#"+e+" .k-hierarchy-cell").each(function(){$(this).insertAfter($(this).siblings().eq(a)),$(this).addClass("hidden"),$(this).click(function(t){0==$(this).parent().find(".expand-btn").length&&t.stopImmediatePropagation(),D(e)})}),$("#"+e+" .k-hierarchy-col").each(function(){$(this).insertAfter($(this).siblings().eq(a)),$(this).addClass("hidden")})}function D(e){var t=jQuery.Event("keydown");t.which=13,t.keyCode=13,t.target=$("#"+e+"_active_cell"),$("#"+e).trigger(t)}function x(e,t){var a=e+"_active_cell",i=t.$widget.element.find("td[id='"+a+"']");i.length>0&&i[0].scrollIntoView(!1)}function S(t,a){a&&a.element.find("a.k-link[title]").each(function(){var a=$(this);a.attr("ip-tooltip",'{{:: "'+a.attr("title")+'" | translate }}'),a.removeAttr("title"),e(a)(t)})}function I(e,t){var a=function(e){e.preventDefault()};e.bind("dataBinding",a),t(),e.unbind("dataBinding",a)}function T(e,t,a){if(t.topicItemNumberKey){t.topicItemNumberKey.total=a>0?a:null;var i=angular.extend({total:a>0?a:null},t.topicItemNumberKey);e.$emit("topicItemNumbers",i);var n=$('.topics.ipx-topics>.topic-menu .tab-content li[data-topic-ref="'+i.key+'"] #topicDataCount');n&&n.length>0&&(n[0].innerHTML=i.total?i.total:"");var o=$('.topics.ipx-topics .topics-container div[data-topic-key="'+i.key+'"] #topicDataCount');o&&o.length>0&&(o[0].innerHTML=i.total?i.total:"")}}var E={autoBind:!1,resizable:!0,reorderable:!0,editable:!1,groupable:!1,scrollable:!1,columnResizeHandleWidth:6,serverFiltering:!0,oneTimeBinding:!1,sortable:{allowUnsort:!1},data:function(){return this.dataSource.data()},detailExpand:function(e){if(e.detailRow){var t=e.detailRow.find("*[ip-autofocus]");t&&t.trigger("setFocus")}},onGridCreated:angular.noop,onDataCreated:angular.noop,onDropCompleted:angular.noop,columnReorder:function(e){var t=e.sender.wrapper.data("kendoGrid");if(e.sender.columns[e.newIndex].fixed){var a=e.sender.columns[e.newIndex],i=e.sender.columns[e.oldIndex];if(!a.fixed)return;setTimeout(function(){var a,n=t.columns;i===n[e.newIndex]?a=e.newIndex:i===n[e.newIndex+1]&&(a=e.newIndex+1);for(var o=a;o+1<n.length&&n[o+1].fixed;)o++;o!==a&&(t.options.columnSelection.helper.updateColumnOrder(e.oldIndex,o,e.column),t.reorderColumn(o,n[a]))},0)}else t.options.columnSelection.helper.updateColumnOrder(e.oldIndex,e.newIndex,e.column)},hideExpand:!1,showExpandAll:!1,getCurrentFilters:angular.noop,hidePagerWhenNoResults:!1,expandAll:w,filterOptions:{keepFiltersAfterRead:!1,sendExplicitValues:!1},columnSelection:{localSetting:null,localSettingSuffix:null},topicItemNumberKey:null,$destroy:angular.noop};return{buildOptions:s}}]),angular.module("inprotech.components.grid").service("kendoGridService",function(){"use strict";function e(e){var t=r.data(e);return t&&_.any(t,function(e){
return e.added||e.isAdded||e.isEdited||e.deleted})}function t(e,t,i){for(var n=r.data(e),o=n.length,s=0,l=0;n[l]&&s<o;){var c=n[l];c.isAdded||c.added?e.dataSource.remove(c):(c.deleted=!0,l++),s++}a(e,t,i)}function a(e,t,a){a=a||{key:"key",value:"value"};var i=r.data(e);_.each(t,function(t){var n=_.find(i,function(e){return e[a.key]===t[a.key]});if(n&&n.deleted&&(n.deleted=!1),!n){var o={};o[a.key]=t[a.key],o[a.value]=t[a.value],e.dataSource.add(_.extend({isAdded:!0,deleted:!1},o))}})}function i(e){return e.dataSource.data()}function n(e){return _.reject(r.data(e),function(e){return e.deleted})}function o(e){return r.activeData(e).length>0}var r={isGridDirty:e,sync:t,data:i,activeData:n,hasActiveItems:o};return r}),angular.module("inprotech.components").component("ipInheritanceIcon",{bindings:{inheritanceLevel:"@"},templateUrl:"condor/components/indicators/inheritanceIcon.html",controllerAs:"vm",controller:function(){"use strict";function e(){t.tooltip=null==t.inheritanceLevel?"Inheritance.inherits":a[t.inheritanceLevel]}var t=this,a={Full:"Inheritance.FullyInherited",Partial:"Inheritance.PartiallyInherited",InheritedOrDerived:"Inheritance.InheritedOrDerived"};t.$onInit=e}}),angular.module("inprotech.components.kendo",[]),angular.module("inprotech.components.kendo").factory("kendoWidgetHelper",function(){"use strict";function e(e,t){return e.dataItem(t)}function t(e,t){return e.dataItem(t).parent().parent()}function a(e){return e.parent().parent()}var i={getDataItem:e,getParentDataItem:t,getParentDataItemFromData:a};return i}),angular.module("inprotech.components.keypressevent",[]),function(){"use strict";angular.module("inprotech.components.keypressevent").directive("onEnter",function(){return function(e,t,a){t.bind("keydown keypress",function(t){13===t.which&&(e.$apply(function(){e.$eval(a.onEnter)}),t.preventDefault())})}})}(),angular.module("inprotech.components.login",[]).run(["modalService",function(e){"use strict";e.register("Login","LoginController","condor/components/login/login.html",{windowClass:"centered",backdropClass:"centered",animation:!1})}]),angular.module("inprotech.components.login").controller("LoginController",["$rootScope","$scope","$http","modalService","$state","$timeout","hotkeys",function(e,t,a,i,n,o,r){"use strict";function s(){a.post("../winAuth?extend=true",null,{handlesError:!0}).then(function(e){var a=e.data;if("success"===a.status)i.close("Login");else{var n=a.failReasonCode||a.status;t.error="authentication."+n,t.errorParam=a.parameter||""}},function(){t.error="authentication.server-error",t.errorParam="Windows Authentication"})}function l(){a.post("api/signin/extendsso",null,{handlesError:!0}).then(function(e){var a=e.data;if("success"===a.status)i.close("Login");else{var n=a.failReasonCode||a.status;t.error="authentication."+n,t.errorParam=a.parameter||""}},function(){var e="authentication.";p(u.adfs)&&(e+="adfs."),t.error=e+"sso-error"})}function c(){return p(u.windows)?(t.autoLogin=!0,void s()):p(u.sso)||p(u.adfs)?(t.autoLogin=!0,void l()):void o(d,500)}function d(){r.add({combo:"enter",description:"shortcuts.login",callback:function(){t.form.loginForm.$invalid||t.submit()}})}function p(e){var t=JSON.parse(window.localStorage.getItem("signin"))||{};return t.authMode===e}t.autoLogin=!1,t.error="",t.form={},t.credentials={username:e.appContext.user.name,password:"",invalidPassword:!1};var u={forms:1,windows:2,sso:3,adfs:4};t.submit=function(){a.post("api/signin",{username:t.credentials.username||"",password:t.credentials.password||"",sessionResume:!0}).then(function(a){"success"===a.data.status?(i.close("Login"),e.toState&&(n.go(e.toState,e.params,{location:"replace"}),e.toState=null)):a.data.requiresTwoFactorAuthentication&&"codeRequired"===a.data.status?i.cancel("Login"):t.credentials.invalidPassword=!0})},t.cancel=function(){i.cancel("Login")},c()}]),angular.module("inprotech.components.messaging",[]),function(){"use strict";angular.module("inprotech.components.messaging").service("bus",function(){return{channel:function(e){return radio(e)},singleSubscribe:function(e,t){radio().channels[e]=[],radio(e).subscribe(t)}}})}(),angular.module("inprotech.components.modal",["inprotech.core"]),angular.module("inprotech.components.modal").component("ipMaintenanceModalHeader",{templateUrl:"condor/components/modalservice/maintenance-modal-header.html",restrict:"E",bindings:{pageTitle:"@",isAddAnother:"=",isEditMode:"<",onApply:"&",dismiss:"&",isApplyEnabled:"&",hasUnsavedChanges:"&"},controllerAs:"vm",controller:["$scope","$attrs","notificationService","hotkeys",function(e,t,a,i){"use strict";var n=this;n.doClose=function(){return n.hasUnsavedChanges()?a.discard().then(function(){n.dismiss()}):void n.dismiss()},e.showSave=t.buttonMode&&"save"===t.buttonMode,e.showApply=!t.buttonMode||"apply"===t.buttonMode,e.$on("modal.closing",function(e,t){"escape key press"===t&&(e.preventDefault(),n.doClose())}),i.add({combo:"alt+shift+s",description:"shortcuts.apply",callback:function(){n.isApplyEnabled()&&n.onApply()}})}]}),angular.module("inprotech.components.modal").factory("maintenanceModalService",function(){"use strict";function e(e,a,i){return o.scope=e,o.uibModalInstance=a,o.addItemFunc=i,{applyChanges:t}}function t(e,t,o,r,s){o?a(e,t,s):r?i(e,t):n(e)}function a(e,t,a){angular.merge(t.dataItem,e),Object.keys(e).forEach(function(a){Array.isArray(e[a])&&(t.dataItem[a].length=e[a].length)}),a||o.uibModalInstance.close()}function i(e,t){var a=angular.extend({},t,{isAddAnother:!0});o.addItemFunc(e),o.scope.$emit("modalChangeView",a)}function n(e){o.uibModalInstance.close(e)}var o={};return e}),angular.module("inprotech.components.modal").controller("ModalContainerController",["$scope","$compile","$templateRequest","$uibModalInstance","$controller","options",function(e,t,a,i,n,o){"use strict";function r(r){var l=angular.extend({},o,r);a(l.templateUrl).then(function(a){var r=e.$new(),c=angular.element(a),d=n(l.controller,{$scope:r,$uibModalInstance:i,$element:c,options:l});i.rendered.then(function(){o.controllerAs&&(r[o.controllerAs]=d),$("#"+l.id+" .modal-content:last").append(c),t(c)(r)}),s=function(){r.$destroy(),c.remove()}})}var s=angular.noop;e.$on("modalChangeView",function(e,t){s(),r(t)}),r()}]),angular.module("inprotech.components.modal").component("ipModalNav",{templateUrl:"condor/components/modalservice/modal-nav.html",restrict:"E",bindings:{allItems:"<",currentItem:"<",hasUnsavedChanges:"<",onNavigate:"<",hasPagination:"<?"},controllerAs:"vm",controller:["notificationService","hotkeys",function(e,t){"use strict";function a(){c=u.hasPagination?_.indexOf(_.pluck(u.allItems,"id"),u.currentItem.id):_.indexOf(u.allItems,u.currentItem),d=u.allItems[c-1],p=u.allItems[c+1],_.extend(u,{isFirstDisabled:!d,isPrevDisabled:!d,isNextDisabled:!p,isLastDisabled:!p,totalCount:u.allItems.length,currentIndex:c+1,first:n,prev:o,next:r,last:s}),i()}function i(){t.add({combo:"alt+shift+up",description:"shortcuts.page.first",callback:n}),t.add({combo:"alt+shift+left",description:"shortcuts.page.prev",callback:o}),t.add({combo:"alt+shift+right",description:"shortcuts.page.next",callback:r}),t.add({combo:"alt+shift+down",description:"shortcuts.page.last",callback:s})}function n(){l(u.allItems[0])}function o(){d&&l(d)}function r(){p&&l(p)}function s(){l(u.allItems[u.allItems.length-1])}function l(t){return _.isFunction(u.hasUnsavedChanges)&&u.hasUnsavedChanges()||!_.isFunction(u.hasUnsavedChanges)&&u.hasUnsavedChanges?e.discard().then(function(){u.onNavigate(t)}):void u.onNavigate(t)}var c,d,p,u=this;u.$onInit=a}]}),angular.module("inprotech.components.modal").factory("modalService",["$uibModal","hotkeyService","$transitions","$uibModalStack",function(e,t,a,i){"use strict";function n(){return m}function o(e,t,a,i){return!!angular.isUndefined(m[e])&&(m[e]={controller:t,templateUrl:a,isOpen:!1,instance:null,options:angular.extend({},{backdrop:"static",backdropClass:"centered"},i)},!0)}function r(e){if(angular.isDefined(m[e]))return m[e].instance}function s(e){return Boolean(m[e]&&m[e].isOpen)}function l(i,n,o,r,s){if(1===arguments.length&&_.isObject(arguments[0])){var l=i;i=l.id,n=l.scope,r=l.templateUrl,s=l.controllerAs,o={options:function(){return l.options}}}if(i.indexOf(".")!==-1){var c=i.split(".")[0];angular.isDefined(m[c])&&!m[i]&&(m[i]=angular.copy(m[c]),o&&o.options&&o.options.size&&(m[i].options.size=o.options.size))}if(angular.isDefined(m[i])&&!m[i].isOpen){m[i].instance=e.open(angular.extend({controller:m[i].controller,templateUrl:r||m[i].templateUrl,scope:n,resolve:o,controllerAs:s},m[i].options)),m[i].isOpen=!0,m[i].instance.rendered.then(function(){$("div.modal-dialog").append('<a href=""></a>')}),m[i].instance.closed.then(function(){m[i].isOpen=!1,t.pop()}),m[i].instance.opened.then(function(){t.push()});var d=a.onStart({},function(){v.cancel(i),d()});return m[i].instance.result}}function c(n){if(n.id&&!m[n.id])throw new Error("cannot find modal registry");var o=n.id?m[n.id]:{};if(n=angular.extend({templateUrl:o.templateUrl,controller:o.controller,isSingleton:!0,resolve:{options:function(){return n}}},o.options,n),!n.isSingleton||!o.isOpen){var r=e.open(angular.extend({},n,{controller:"ModalContainerController",templateUrl:null,template:"<div>"}));n.isSingleton&&(o.instance=r,o.isOpen=!0),r.rendered.then(function(){i.getTop().value.modalDomEl.attr("id",n.id),$("div.modal-dialog").append('<a href=""></a>')}),r.closed.then(function(){n.isSingleton&&(o.isOpen=!1),t.pop(),s()}),r.opened.then(function(){t.push()});var s=a.onStart({},function(){r.dismiss(),s()});return r.result}}function d(e){angular.isDefined(m[e])&&m[e].isOpen&&m[e].instance.close()}function p(e){angular.isDefined(m[e])&&m[e].isOpen&&m[e].instance.dismiss()}function u(e){return _.filter(Object.keys(m),function(t){return e!==t&&m[t].isOpen}).length<1&&(angular.isUndefined(e)||angular.isDefined(e)&&this.isOpen(e))}var m={},v={getRegistry:n,register:o,getInstance:r,isOpen:s,open:l,openModal:c,close:d,cancel:p,canOpen:u};return v}]),angular.module("inprotech.components.multistepsearch",[]),angular.module("inprotech.components.notification",[]).run(["modalService",function(e){e.register("ieRequired","IeRequiredController","condor/components/notification/ieRequired.html",{windowClass:"centered",backdropClass:"centered",size:"lg"})}]),angular.module("inprotech.components.notification").directive("ipInlineAlert",function(){"use strict";return{restrict:"EA",transclude:!0,scope:{text:"@",type:"@",textParams:"<"},template:'<div class="alert alert-{{type}}"><icon name="info-circle"></icon><span translate="{{text}}" translate-values="textParams"></span><ng-transclude></ng-transclude></div>'}}),function(){"use strict";angular.module("inprotech.components.notification").run(["modalService",function(e){e.register("DiscardChanges","NotificationController","condor/components/notification/notificationservice/discardchanges.html",{windowClass:"centered",backdropClass:"centered"}),e.register("Confirm","NotificationController","condor/components/notification/notificationservice/confirm.html",{windowClass:"centered",backdropClass:"centered",size:"md"}),e.register("ConfirmDelete","NotificationController","condor/components/notification/notificationservice/confirmDelete.html",{windowClass:"centered",backdropClass:"centered",size:"md"}),e.register("Alert","NotificationController","condor/components/notification/notificationservice/alert.html",{windowClass:"centered modal-alert",backdropClass:"centered",size:"lg"}),e.register("Info","NotificationController","condor/components/notification/notificationservice/info.html",{windowClass:"centered",backdropClass:"centered"}),e.register("UnsavedChanges","NotificationController","condor/components/notification/notificationservice/unsavedchanges.html",{windowClass:"centered",backdropClass:"centered"})}]),angular.module("inprotech.components.notification").controller("NotificationController",["$scope","$uibModalInstance","options","$timeout",function(e,t,a,i){e.options=a,e.confirm=function(e){t.close(e||"Confirm")},e.cancel=function(){i(function(){t.dismiss("Cancel")},0)}}])}(),function(){"use strict";angular.module("inprotech.components.notification").factory("notificationService",["$rootScope","$translate","$q","modalService","scheduler",function(e,t,a,i,n){return{discard:function(e,t){var a=e||{};return i.open("DiscardChanges",t,{options:function(){return a}})},alert:function(e,t){return i.open("Alert",t,{options:function(){var t=e||{};return!t.message&&t.errors instanceof Array&&1===t.errors.length?{title:t.title||"modal.unableToComplete",message:t.errors[0].message,okButton:t.okButton||"button.ok"}:(t.errors&&(t.errors=t.errors.map(function(e){return angular.isString(e)?{message:e}:e})),{title:t.title||"modal.unableToComplete",errors:t.errors,message:t.message||"modal.alert.message",okButton:t.okButton||"button.ok",messageParams:t.messageParams,actionMessage:t.actionMessage})}})},confirm:function(e,t){var a=e||{};return a.title=a.title||"modal.confirmation.title",a.cancel=a.cancel||"modal.confirmation.no",a["continue"]=a["continue"]||"modal.confirmation.yes",i.open("Confirm",t,{options:function(){return a}},e.templateUrl)},confirmDelete:function(e,t){return i.open("ConfirmDelete",t,{options:function(){return e}},e.templateUrl)},unsavedchanges:function(e,t){return i.open("UnsavedChanges",t,{options:function(){return e}})},success:function(e,a,i){var o=e||"saveMessage";t(o,a).then(function(e){n.runOutsideZone(function(){$.cpaFlashAlert(e,i)})},function(e){n.runOutsideZone(function(){$.cpaFlashAlert(e,i)})})},info:function(e,t){var a=e||{};return i.open("Info",t,{options:function(){return{title:a.title||"modal.info.title",message:a.message,messageParams:a.messageParams,sessionChkBox:a.sessionChkBox,chkBoxLabel:a.chkBoxLabel}}})},ieRequired:function(e){return i.openModal({id:"ieRequired",controllerAs:"vm",url:e})},empty:function(){return a.resolve()}}}])}(),angular.module("inprotech.components.page",[]),angular.module("inprotech.components.page").directive("ipConfirmBeforePageChange",["$transitions",function(e){"use strict";return{restrict:"A",scope:{shouldShowConfirm:"&ipConfirmBeforePageChange",confirmMessage:"@"},link:function(t){function a(){if(t.shouldShowConfirm())return t.confirmMessage}var i=e.onStart({},function(){return!(t.shouldShowConfirm()&&!window.confirm(t.confirmMessage))&&void i()});$(window).bind("beforeunload",a),t.$on("$destroy",function(){$(window).unbind("beforeunload",a)})}}}]),angular.module("inprotech.components.page").component("ipDetailPageNav",{templateUrl:"condor/components/page/detail-page-nav.html",bindings:{routerState:"@",paramKey:"@",lastSearch:"<?",ids:"<?",totalRows:"<?",fetchNext:"&?"},controllerAs:"vm",controller:["$stateParams","$state","hotkeys","$scope",function(e,t,a,i){"use strict";function n(){l.paramKey=l.paramKey||"id",l.visible=!1,l.rowsPerRequest=200,l.ids?o(l.ids):l.lastSearch&&l.lastSearch.getAllIds().then(o),s()}function o(t){var a=r(e[l.paramKey],t);if(a!==-1){var n=null!=t[0].key;l.ids||(l.ids=t),l.current=n?+e[l.paramKey]:a+1,l.total=l.totalRows||t.length,l.prevId=1===l.current?null:n?(l.current-1).toString():t[a-1],l.nextId=l.current===l.total?null:n?(l.current+1).toString():t[a+1],l.canFetchNext=l.current<l.total&&t.length<l.total,l.available=t.length,l.firstId=n?"1":t[0],l.lastId=n?l.total.toString():t[t.length-1],l.visible=!0,i.$emit("detailNavigate",{currentPage:n?l.current-1:a})}}function r(e,t){var a=-1;if(t&&t.length>0&&null!=e)if(null!=t[0].key)a=_.findIndex(t,{key:e});else{var i=parseInt(e);isNaN(i)&&(i=e),a=_.indexOf(t,i)}return a}function s(){a.add({combo:"alt+shift+up",description:"shortcuts.page.first",callback:function(){l.navigate(l.firstId)}}),a.add({combo:"alt+shift+left",description:"shortcuts.page.prev",callback:function(){l.navigate(l.prevId)}}),a.add({combo:"alt+shift+right",description:"shortcuts.page.next",callback:function(){l.navigate(l.nextId)}}),a.add({combo:"alt+shift+down",description:"shortcuts.page.last",callback:function(){l.navigate(l.lastId)}})}var l=this;l.$onInit=n,l.navigate=function(e){var a=r(e,l.ids),i={};if(i[l.paramKey]=null!==e&&null!=e.key?e.key:e,a===-1){if(!l.canFetchNext)return;l.fetchNext({currentIndex:+e===+l.total?l.total-l.rowsPerRequest:e}).then(function(e){l.ids=e,t.go(l.routerState,i)})}else t.go(l.routerState,i)}}]}),angular.module("inprotech.components.page").factory("LastSearch",["$q","pagerHelperService",function(e,t){"use strict";function a(e){if(!e.method)throw new Error("method is required");this.method=e.method,this.methodName=e.methodName,Array.isArray(e.args)?this.args=angular.copy(e.args):this.args=angular.copy(Array.prototype.slice.call(e.args))}return a.prototype.getPageSize=function(){if(this.args&&this.args[1])return this.args[1].take},a.prototype.getPageForId=function(e){return t.getPageForId(this.ids,e,this.getPageSize())},a.prototype.setAllIds=function(e){this.ids=e.slice(0)},a.prototype.getAllIds=function(){var t,a=this;if(a.ids)t=e.when(a.ids);else{if(a.args&&a.args.length){var i=a.args[a.args.length-1];i.getAllIds=!0}t=a.method.apply(a,a.args).then(function(e){var t,i=e.data||e;return t=Array.isArray(i)?i:_.pluck(e.data||e,"id"),a.setAllIds(t),t})}return t},a}]),angular.module("inprotech.components.page").component("ipLevelUpButton",{template:'<a ui-sref="{{vm.toState}}(vm.stateParams)" ng-click="vm.levelUp()" class="no-underline"><span class="cpa-icon cpa-icon-arrow-circle-nw" ip-tooltip="{{::vm.tooltip}}"></span>',bindings:{toState:"@?",additionalStateParams:"<?",gridId:"@?",lastSearch:"<?",tooltip:"@"},controllerAs:"vm",controller:["$stateParams","$translate","bus","$state",function(e,t,a,i){function n(){var n=_.last(i.current.footprints);o.toState=o.toState||(n?n.from.name:"^"),o.stateParams=_.extend({},n?n.fromParams:{},o.additionalStateParams),o.tooltip||t("LevelUp").then(function(e){o.tooltip=e}),o.lastSearch&&(o.levelUp=function(){"^"!==o.toState&&0!==i.current.name.indexOf(o.toState)||a.channel("grid."+o.gridId).broadcast({rowId:e.id,pageIndex:o.lastSearch.getPageForId(e.id).page})})}var o=this;o.$onInit=n}]}),angular.module("inprotech.components.page").directive("ipMasterDetailView",function(){"use strict";return{scope:{},transclude:!0,restrict:"E",template:'<div><div ng-if="isMounted()" ng-show="visible()" ng-transclude></div> <div ng-if="showDetail" ui-view></div></div>',controller:["$scope","$attrs","$state","$timeout","hotkeyService","$transitions",function(e,t,a,i,n,o){function r(e,t){return!(e.name.length>=t.name.length)&&t.name.substring(0,e.name.length)===e.name}var s=t.state,l=!1;e.visible=function(){return a.current.name===s||a.current.name.split("-")[1]===s},e.isMounted=function(){return!!l||(l=a.current.name===s||a.current.name.split("-")[1]===s)},e.$watch(function(){return a.current.name},function(){e.visible()?e.showDetail=!1:i(function(){e.showDetail=!0},0)});var c;o.onStart({},function(t){var a=t.to(),i=t.from();a.name!==i.name&&r(i,a)&&e.visible()&&(c=n.clone())}),o.onStart({},function(e){var t=e.to(),a=e.from();t.name!==a.name&&t.name===s&&(n.add(c),c=null)})}]}}),angular.module("inprotech.components.page").service("pagerHelperService",function(){"use strict";function e(e,t,a){if(!a||!e||angular.isUndefined(t))return{page:-1,relativeRowIndex:-1};if(e.length>a){var i=0;return i=isNaN(t)||isNaN(e[0])?_.indexOf(e,t):_.indexOf(e,parseInt(t)),i!==-1?{page:Math.floor(i/a)+1,relativeRowIndex:i%a}:{page:-1,relativeRowIndex:-1}}var n=_.indexOf(e,t);return{page:n===-1?-1:1,relativeRowIndex:n}}return{getPageForId:e}}),angular.module("inprotech.components.page").directive("ipResizeHandler",["bus",function(e){"use strict";return{restrict:"EA",link:function(t,a,i){function n(e){return _.debounce(function(){d||(d=s());var t=o(e),a=r(e),i=l?t-40:Math.min(a,t);e.css("height",i)},50)}function o(e){var t=$("html").height(),a=e.position().top,i=e.offsetParent().position().top;return t-i-a-5}function r(e){var t=e[0].offsetHeight-e[0].clientHeight;return e[0].scrollHeight+t}function s(){var e=a.offsetParent();return e[0]==$("html")[0]?null:new window.ResizeSensor(e,c)}var l=i.resizeHandlerType&&"PANEL"===i.resizeHandlerType.toUpperCase();l&&i.$addClass("main-content-scrollable");var c=n(a);setTimeout(c,10),$(window).on("resize",c);var d=s();t.$on("$destroy",function(){d&&d.detach(),$(window).off("resize",c),e.channel("resize").unsubscribe(c)}),e.channel("resize").subscribe(c)}}}]),angular.module("inprotech.components.page").directive("ipStickyHeader",function(){"use strict";return{restrict:"AE",transclude:!0,template:"<div ng-transclude></div>",link:function(e,t){function a(){t.is(":visible")&&t.parent().css("paddingTop",t.height())}if(t.length){var i=new window.ResizeSensor(t.children()[0],function(){a()});e.$on("$destroy",function(){i.detach()});var n=_.debounce(a,100);$(window).on("resize",n),a()}}}}),angular.module("inprotech.components.page").directive("ipPageTitleSave",function(){"use strict";return{restrict:"EA",transclude:!0,scope:{pageTitle:"@",pageSubtitle:"@",onSave:"&",onDiscard:"&",onDelete:"&?",isSaveEnabled:"&",isDiscardEnabled:"&",isDeleteEnabled:"&?",isDiscardAvailable:"&?",isSaveAvailable:"&?"},templateUrl:"condor/components/page/title/page-title-save.html",controller:["$scope","hotkeys","notificationService",function(e,t,a){function i(){t.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){e.isSaveEnabled()&&e.onSave()}}),t.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){e.isDiscardEnabled()&&e.doDiscard()}})}e.doDiscard=function(){return a.discard().then(function(){e.onDiscard()})},e.isDeleteAvailable=_.isFunction(e.onDelete)&&_.isFunction(e.isDeleteEnabled),e.isDiscardAvailableInternal=!_.isFunction(e.isDiscardAvailable)||e.isDiscardAvailable(),e.isSaveAvailableInternal=!_.isFunction(e.isSaveAvailable)||e.isSaveAvailable(),i()}]}}),angular.module("inprotech.components.page").directive("ipPageTitle",function(){"use strict";return{restrict:"EA",transclude:{beforeTitle:"?beforeTitle",afterTitle:"?afterTitle",actionButtons:"?actionButtons"},scope:{pageTitle:"@",pageSubtitle:"@",pageSubtitleTranlslateValues:"@",pageDescription:"@"},templateUrl:"condor/components/page/title/page-title.html"}}),angular.module("inprotech.components.picklist",["inprotech.components","inprotech.picklists"]),function(){"use strict";angular.module("inprotech.components.picklist").service("apiResolverService",["$injector","$log",function(e,t){return{resolve:function(a){var i=a+"Api",n=e.has(i)?e.get(i):null;return n?n:(t.warn("Service "+i+" not found"),null)}}}])}(),function(){"use strict";angular.module("inprotech.components.picklist").service("dataunwrapperservice",[function(){return{unwrap:function(e){var t;if(e.$metadata){var a=e.$metadata.columns,i=_.find(a,function(e){return e.key===!0}).field,n=_.find(a,function(e){return e.description===!0}).field,o=_.find(a,function(e){return e.code===!0});t=[],_.each(e,function(e){t.push({key:e[i],code:o?e[o.field]:null,value:e[n],model:e})})}return t||e}}}])}(),angular.module("inprotech.components.picklist").directive("ipPicklistModalCustomizeColumns",function(){"use strict";return{restrict:"E",scope:!1,templateUrl:"condor/components/picklist/modals/directives/picklistModalCustomizeColumns.html",link:function(e,t,a){""==a.iconRight&&(e.iconRight=!0)}}}),angular.module("inprotech.components.picklist").directive("ipPicklistModalMaintenance",function(){"use strict";return{restrict:"E",scope:!1,templateUrl:"condor/components/picklist/modals/directives/picklistModalMaintenance.html",controller:["$scope","hotkeys",function(e,t){var a=e.vm;t.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){"maintenance"===a.currentView&&a.isSaveEnabled()&&a.save()}}),t.add({combo:"alt+shift+z",description:"shortcuts.discard",callback:function(){return"maintenance"!==a.currentView||(a.abandon(),!1)}})}]}}),angular.module("inprotech.components.picklist").directive("ipPicklistModalSearch",function(){"use strict";return{restrict:"E",transclude:!0,scope:!1,templateUrl:"condor/components/picklist/modals/directives/picklistModalSearch.html"}}),angular.module("inprotech.components.picklist").directive("ipPicklistModalSearchAdd",function(){"use strict";return{restrict:"E",transclude:!0,scope:!1,templateUrl:"condor/components/picklist/modals/directives/picklistModalSearchAdd.html"}}),angular.module("inprotech.components.picklist").directive("ipPicklistModalSearchField",function(){"use strict";return{restrict:"E",transclude:!0,scope:!1,templateUrl:"condor/components/picklist/modals/directives/picklistModalSearchField.html",link:function(e){e.keydown=function(e){var t;switch(e.keyCode){case 40:t="setFocus";break;case 34:t="nextPage";break;case 33:t="previousPage";break;case 35:t="lastPage";break;case 36:t="firstPage"}if(t){var a=$("ip-picklist-modal-search-results ip-kendo-grid");a.length>0&&a.trigger(t)}}}}}),angular.module("inprotech.components.picklist").directive("ipPicklistModalSearchResults",function(){"use strict";return{restrict:"E",transclude:!0,scope:!1,templateUrl:"condor/components/picklist/modals/directives/picklistModalSearchResults.html"}}),function(){"use strict";angular.module("inprotech.components.picklist").service("persistables",["apiResolverService","picklistMaintenanceService","templateResolver","states",function(e,t,a,i){var n=function(e,t,a,n,o,r){var s={};switch(t){case i.duplicating:o.push(n);var l={};for(var c in a){var d=a[c];o.indexOf(c)==-1&&(l[c]=angular.copy(d))}angular.extend(l,r),s=e.$build(l);break;case i.adding:s=e.$build(r);break;case i.updating:case i.deleting:case i.viewing:s=e.$find(encodeURIComponent(a[n]),r)}return s};return{prepare:function(i,o,r,s,l,c,d){var p,u,m;return d===!0?(p=e.resolve(i),u=a.resolve(i,o),m=n(p,o,r,s,l,c)):(p=t.resolve(i),u=a.resolve(i,o),m=n(p,o,r,s,l,c)),{state:o,template:u,entry:m,api:p}},resolve:function(a,i){return i===!0?e.resolve(a):t.resolve(a)}}}])}(),function(){"use strict";angular.module("inprotech.components.picklist").service("persistenceService",["$rootScope","$translate","states","notificationService",function(e,t,a,i){var n=function(){return i.discard()};return{save:function(e,a,n,o){if(e.$invalid)return void i.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges"});var r=n,s=function(a){var n="modal.alert.unsavedchanges";if("success"===a.data.result||"confirmation"===a.data.result)return void o(a.data);var s=this;n="",angular.forEach(a.data.errors,function(a){if("field.errors.notunique"===a.message)n+=t.instant("modal.alert.notUnique").replace("{value}",angular.element("<pre/>").text(s[a.field]).html())+"<br/>",e[a.field]&&e[a.field].$setValidity(a.field,!1);else if(a.displayMessage){n+=t.instant(a.message)+"<br/>";var i=r?e["vm.form"]:e;if(i[a.field]){var o=a.customValidationMessage?a.customValidationMessage:a.field;i[a.field].$setValidity(o,!1)}}else null!=a.message&&(n=null)}),i.alert({title:"modal.unableToComplete",message:n,errors:_.where(a.data.errors,{field:null})})};a.$on("after-save",s).$save()},"delete":function(e,t,a,n,o){i.confirmDelete({message:o}).then(function(){e.$on("after-destroy",function(n){if("success"===n.data.result){var o={};return e.rerunSearch&&n.data.rerunSearch&&(o.rerunSearch=!0),void t(o)}if("confirmation"===n.data.result){var r={message:n.data.message,cancel:e.confirmDeleteCancel,"continue":e.confirmDeleteContinue};return void i.confirm(r).then(function(){e.withParams({confirm:!0}).$destroy()},a)}i.alert({errors:n.data.errors,title:"modal.unableToComplete"}).then(null,a)}),n?e.withParams({deleteData:n}).$destroy():e.withParams({confirm:!1}).$destroy()},function(){a()})},abandon:function(e,t,i,o,r,s){var l=e.session?!i:e.$dirty().length||r||!i,c=t===a.adding||t===a.duplicating,d=e.rerunSearch;return i||!c&&!l?void o(d):void n().then(function(e){"Confirm"===e?o():"Save"===e&&s()})}}}])}(),angular.module("inprotech.components.picklist").run(["modalService","store",function(e,t){"use strict";e.register("Picklist","PicklistModalController","condor/components/picklist/modals/picklist.html",{windowClass:"centered picklist-window",backdropClass:"centered",size:"lg"}),t.local["default"]("picklist.pageSize",20)}]),angular.module("inprotech.components.picklist").controller("PicklistModalController",["$log","$scope","$uibModalInstance","$http","apiResolverService","persistables","persistenceService","states","notificationService","kendoGridBuilder","store","options","validCombinationConfirmationService","pagerHelperService","$state","splitterBuilder",function(e,t,a,i,n,o,r,s,l,c,d,p,u,m,v,g){"use strict";function f(){B.continueSave&&(B.isAddAnotherSaved=B.canAddAnother&&"adding"===B.maintenanceState,r.save(B.maintenance,B.entry,B.hasInlineGrid,x))}function h(e,a,i){var n=o.prepare(B.entity,s.updating,a,P.field,e,i,B.isRestMod);B.maintenanceState=s.duplicating,B.currentView="maintenance",B.maintenanceTemplate=n.template,n.entry.$then(function(a){e.push(P.field);var o=a.$duplicate(e);angular.extend(o,i),n.api.$build(o).$then(function(e){B.entry=e,t.$broadcast("dynamicContent.reload")})})}function y(t){var a,i=t.columns,n=L||!1,o=t.maintainability;if(V=t.duplicateFromServer,B.maintainability={canAdd:n&&o&&o.canAdd,canEdit:n&&o&&o.canEdit,canDelete:n&&o&&o.canDelete},t.maintainabilityActions&&(B.maintenanceActions={canAdd:t.maintainabilityActions.allowAdd,canEdit:t.maintainabilityActions.allowEdit,canDelete:t.maintainabilityActions.allowDelete,canDuplicate:t.maintainabilityActions.allowDuplicate,canView:t.maintainabilityActions.allowView}),a=_.filter(i||[],function(e){return!e.hidden}),P=_.find(i,function(e){return e.key===!0}),F=_.find(i,function(e){return e.description===!0}),P&&F||e.debug("keyColumn or valueColumn not found for picklist: "+B.entity),q=_.filter(i,function(e){return e.preventCopy===!0}),L&&(B.maintenanceActions&&B.maintenanceActions.canView||B.maintainability.canAdd||B.maintainability.canEdit||B.maintainability.canDelete)&&a.push({title:"picklistmodal.actions",template:k(B.maintainability,B.maintenanceActions),menu:!1}),p.columns)if(B.entity){var r=p.columns.filter(function(e){return a.some(function(t){return e.field===t.field})});r.forEach(function(e){var t=_.find(a,function(t){return t.field===e.field});angular.extend(t,e)})}else a=p.columns;var l=function(e){!B.externalScope||_.isUndefined(B.externalScope.picklistSearch)&&B.isRestMod||(B.externalScope.picklistSearch=!0);var t=A(B.searchValue,e,p.extendQuery);return B.picklistService.$search(t).$asPromise().then(function(e){return B.rawResults=e,O(e),B.externalScope&&!_.isUndefined(B.externalScope.picklistSearch||!B.isRestMod)&&(B.externalScope.picklistSearch=!1),{data:e.$encode(),pagination:e.$metadata.pagination}})};B.gridOptions=b(l,a,p.multipick),U=B.gridOptions.search,B.modalState=s.normal,B.showPreview&&M()}function b(e,a,i){if(B.entity){var n=d.local.get("picklist."+B.entity+".columns");n?_.each(a,function(e){e.hidden=!_.contains(n,e.field)&&e.menu}):_.each(a,function(e){e.hidden=e.hideByDefault&&e.menu})}i&&a.unshift({headerTemplate:'<ip-checkbox ng-model="vm.isSelectAll" ng-change="vm.toggleSelectAll()" ip-tooltip="{{:: \'grid.toggleAllNone\' | translate }}">',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.updateSelected(dataItem)">',width:"35px",fixed:!0,locked:!0}),a.forEach(function(e){e.dataType&&"boolean"===e.dataType.toLowerCase()&&(e.template=function(t){return"<input "+(t[e.field]===!0?"checked":"")+' type="checkbox" disabled="true">'})});var o=c.buildOptions(t,{id:"picklistResults"+(B.entity?"-"+B.entity:"")+(B.isValidCombinationPicklist()?"-valid":""),onSelect:function(){B.gridOptions.selectFocusedRow()},onGridCreated:function(){if(B.navigation){var e=parseInt(d.local.get("picklist.pageSize")),t=parseInt(B.navigation.currentIndex/e);B.gridOptions.dataSource.query({page:t+1,pageSize:d.local.get("picklist.pageSize")})}else B.gridOptions.dataSource.query({page:1,pageSize:d.local.get("picklist.pageSize")});var a=B.gridOptions.$widget,i=a.getOptions().columns,n=d.local.get("picklist."+B.entity+".columns");
n&&_.each(i,function(e){e.menu&&(_.contains(n,e.field)?a.showColumn(e.field):a.hideColumn(e.field))})},onDataBound:function(){if(B.navigation&&B.navigation.key){var e=B.navigation.key;setTimeout(function(){B.gridOptions.highlightSingleItem(e)},10)}B.showPreview&&R()},pageable:{pageSize:d.local.get("picklist.pageSize"),pageSizes:[5,10,15,20]},onPageSizeChanged:function(e){d.local.set("picklist.pageSize",e)},readFilterMetadata:function(e){return w(e)},autoBind:!1,navigatable:!0,read:e,columns:a,selectable:"row",change:E,columnHide:function(e){var t=d.local.get("picklist."+B.entity+".columns");d.local.set("picklist."+B.entity+".columns",_.reject(t,function(t){return t&&t===e.column.field}))},columnShow:function(e){var t=d.local.get("picklist."+B.entity+".columns");d.local.set("picklist."+B.entity+".columns",_.union(t,[e.column.field]))},schema:B.entity?{model:{id:P?P.field:"key"}}:null});return B.dimmedColumnName&&(o.rowAttributes=function(e,t){e[B.dimmedColumnName]===!0&&$(t).addClass("dim")}),o}function w(e){return i.get(e.filterApi+"/filterdata/"+e.field,{params:{search:B.searchValue||""}}).then(function(e){return e.data})}function k(e,t){var a='<div class="grid-actions">';return L&&t.canView&&!e.canEdit&&(a+='<ip-icon-button class="btn-no-bg" button-icon="info-circle" ip-tooltip="{{::\'View\' | translate }}" data-ng-click="vm.changeToDetailView(dataItem); $event.stopPropagation();"></ip-icon-button>'),e.canEdit&&t.canEdit&&(a+='<ip-icon-button class="btn-no-bg" button-icon="pencil-square-o" ip-tooltip="{{::\'Edit\' | translate }}" data-ng-click="vm.changeToEditView(dataItem); $event.stopPropagation();"></ip-icon-button>'),e.canAdd&&t.canDuplicate&&(a+='<ip-icon-button class="btn-no-bg" button-icon="files-o" ip-tooltip="{{::\'Duplicate\' | translate }}" data-ng-click="vm.changeToDuplicateView(dataItem); $event.stopPropagation();"></ip-icon-button>'),e.canDelete&&t.canDelete&&(a+='<ip-icon-button class="btn-no-bg" button-icon="trash" ip-tooltip="{{::\'Delete\' | translate }}" data-ng-click="vm.delete(dataItem);$event.stopPropagation();"></ip-icon-button>'),a+="</div>"}function C(e){var t=m.getPageForId(B.rawResults.$metadata.ids,e,d.local.get("picklist.pageSize"));t&&B.gridOptions.dataSource.page()!==t.page&&B.gridOptions.dataSource.page(t.page)}function D(e){if(B.currentView="search",B.navigation){C(B.entry.key);var t=B.entry.key;setTimeout(function(){B.gridOptions.highlightSingleItem(t)},10)}B.entry=null,"adding"!==B.maintenanceState&&"duplicating"!==B.maintenanceState||(B.navigation=null),B.maintenanceState=null,(e===!0||B.isAddAnotherSaved)&&U({preventPageReset:!0})}function x(e){return"confirmation"===e.result&&B.externalScope?void u.confirm(B.entry,e,I):void(B.confirmAfterSave&&e.result?B.confirmAfterSave(B.entry,e,S):S(B,e))}function S(e,a){function i(){B.navigation=null,e.maintenance.$setPristine(),t.$broadcast("dynamicContent.reload"),B.changeToMaintenanceView(s.adding,null)}if(l.success(),B.isValidCombinationPicklist())B.canAddAnother&&B.isAddAnother&&"adding"===B.maintenanceState?i():D(!0);else{var n=a.key,o=B.gridOptions.dataSource.get(n)||{};if(e.entry.key||(e.entry.key=n),o.key||(o.key=n),("adding"===e.maintenanceState||"duplicating"===e.maintenanceState)&&B.rawResults.$metadata&&B.rawResults.$metadata.ids){var r=e.navigation?e.navigation.currentIndex:0;B.rawResults.$metadata.ids.splice(r,0,n)}var c=e.entry;e.navigation?(e.maintenance.$setPristine(),e.onAfterSave&&e.onAfterSave()):B.canAddAnother&&B.isAddAnother&&"adding"===B.maintenanceState?i():D(a.rerunSearch),a.rerunSearch||(e.updateListItemFromMaintenance?e.updateListItemFromMaintenance(o,c):o=c,B.gridOptions.highlightAfterEditing(o))}}function I(e){B.entry=e,B.save()}function T(e){var t;return null!=e.id&&""!==e.id&&(t=_.findWhere(B.selectedItems,{id:e.id})),null==t&&null!=e.key&&""!==e.key&&(t=_.findWhere(B.selectedItems,{key:e.key})),t||null}function E(){if(p.multipick){var e=this.dataItem(this.select());B.isPreviewActive||(e.selected=!e.selected),B.updateSelected(e),t.$apply()}else{var i=this.dataItem(this.select()).toJSON();a.close(i)}}function O(e){B.selectedItems&&B.selectedItems.length>0&&(null!=B.selectedItems[0].id||null!=B.selectedItems[0].key)&&_.each(B.selectedItems,function(t){var a=_.find(e,function(e){return null!=e.id&&e.id===t.id||null!=e.key&&e.key===t.key});a&&(a.selected=!0)}),B.isSelectAll=_.every(e,function(e){return e.selected===!0})}function A(e,t,a){var i={search:e||"",params:JSON.stringify(t)};return(a=a||_.identity)(i)}function N(e){return{key:null,currentIndex:null,isFirstDisabled:null,isPrevDisabled:null,isNextDisabled:null,isLastDisabled:null,totalCount:e.allKeys.length,next:function(){this.isNextDisabled||this.navigate(this.currentIndex+1)},prev:function(){this.isPrevDisabled||this.navigate(this.currentIndex-1)},first:function(){this.isFirstDisabled||this.navigate(0)},last:function(){this.isLastDisabled||this.navigate(e.allKeys.length-1)},navigate:function(t){if(e.isFormDirty()){var a=this;l.discard().then(function(){a._navigate(t)})}else this._navigate(t)},navigateByKey:function(t){var a=e.allKeys.indexOf(t);this.navigate(a)},_navigate:function(t){this.currentIndex=t;var a=e.allKeys[t];this.key=a,e.onNavigation(a),this.isFirstDisabled=this.isPrevDisabled=0===this.currentIndex,this.isNextDisabled=this.isLastDisabled=this.currentIndex===e.allKeys.length-1,B.maintenance&&B.maintenance.$setPristine()}}}function M(){var e=kendo.ui.SplitterPane={collapsible:!1,collapsed:!1},t=kendo.ui.SplitterPane={collapsible:!0,collapsed:!0,size:"35%"};j=g.BuildOptions("picklistSearchResults",{panes:[e,t]}),B.splitterOptions=j.options}function R(){t.$watch("vm.isPreviewActive",function(){d.local.set("showPicklistPreview",B.isPreviewActive),j.resizePanesHeight("picklistPreviewPane"),j.togglePane("picklistPreviewPane",!B.isPreviewActive)})}var P,F,q,U,V,j,B=this,L=p.canMaintain;B.entity=p.entity,B.isRestMod=!0,B.windowLabel=p.windowLabel,B.fieldLabel=p.fieldLabel,B.externalScope=p.externalScope,B.searchValue=p.searchValue,B.selectedItems=null==p.selectedItems?[]:p.selectedItems.slice(0),B.modalState=s.initialising,B.size=p.size,B.currentView="search",B.hasColumnMenu=p.columnMenu,B.showApply=p.multipick,B.showPreview=p.previewable,B.isPreviewActive=B.isPreviewActive=p.previewable===!0&&d.local.get("showPicklistPreview")===!0,B.qualifiers=p.qualifiers,B.rawResults=[],B.hasInlineGrid=!1,B.initialViewData=p.initialViewData,B.canAddAnother=p.canAddAnother,B.isAddAnotherSaved=!1,B.dimmedColumnName=p.dimmedColumnName,p.initFunction&&p.initFunction(B),B.searchInWindow=function(e,t){B.modalState!==s.initialising&&(p.preSearch&&!e&&p.preSearch(B),B.externalScope&&!_.isUndefined(B.externalScope.picklistSearch)&&(B.externalScope.picklistSearch=!0),t&&(p.multipick&&B.selectedItems?B.selectedItems.splice(0,B.selectedItems.length):B.selectedItem=null),U().then(function(){B.externalScope.picklistSearch=!1}))},B.cancel=function(){a.dismiss("Cancel")},B.returnSelectedItems=function(){var e=_.map(B.selectedItems,function(e){return JSON.parse(JSON.stringify(e))});a.close(e)},B.save=function(){if(B.maintenance&&B.maintenance.$validate&&B.maintenance.$validate(),B.maintenance.$valid)if(B.onBeforeSave){if(B.onBeforeSave(B.entry,f),!B.continueSave)return}else B.isAddAnotherSaved=B.canAddAnother&&"adding"===B.maintenanceState,r.save(B.maintenance,B.entry,B.hasInlineGrid,x)},B.saveWithoutValidate=function(){B.isAddAnotherSaved=B.canAddAnother&&"adding"===B.maintenanceState,r.save(B.maintenance,B.entry,B.hasInlineGrid,x)},B.abandon=function(){var e=!B.maintenance.$dirty,t=B.hasInlineGrid&&B.isInlineGridDirty();B.isAddAnother=!1,r.abandon(B.entry,B.maintenanceState,e,D,t,function(){r.save(B.maintenance,B.entry,B.hasInlineGrid,x)})},B.isSaveEnabled=function(){var e=B.maintenance.$dirty&&B.maintenance.$valid;return B.hasInlineGrid?B.hasInlineGrid?(B.maintenance.$dirty||B.isInlineGridDirty())&&B.maintenance.$valid&&!B.hasInlineGridError():void 0:e},B.isSaveVisible=function(){return"viewing"!==B.maintenanceState},B["delete"]=function(e){var t=B.getValidCombinationIdentifier(e);o.prepare(B.entity,s.deleting,e,P.field,!1,t,B.isRestMod).entry.$then(function(a){var i="picklistmodal.confirm.delete";e.confirmDeleteMessage&&(i=e.confirmDeleteMessage),r["delete"](a,function(t){if(t&&t.rerunSearch)return void D(!0);B.gridOptions.removeItem(e);var a=B.rawResults.$metadata;B.rawResults.$metadata.ids=_.filter(a.ids,function(t){return t!=e.key})},angular.noop,t,i)})},B.getValidCombinationIdentifier=function(e){return B.isValidCombinationPicklist()?{validCombinationKeys:p.extendQuery(),isDefaultJurisdiction:e.isDefaultJurisdiction}:null},B.isValidCombinationPicklist=function(){return B.externalScope&&B.externalScope[B.entity||"combination"]&&!!B.externalScope[B.entity||"combination"]()},B.toggleSelectAll=function(){_.each(B.gridOptions.dataSource.data(),function(e){e.selected=B.isSelectAll,B.updateSelected(e)})},B.changeToAddView=function(e){B.changeToMaintenanceView(s.adding,e)},B.changeToEditView=function(e){B.changeToMaintenanceView(s.updating,e,p)},B.changeToDetailView=function(e){B.changeToMaintenanceView(s.viewing,e,p)},B.changeToDuplicateView=function(e){B.changeToMaintenanceView(s.duplicating,e)},B.changeToMaintenanceView=function(e,i,n){i||(i={});var r=B.getValidCombinationIdentifier(i),c=_.pluck(q,"field");if(n&&n.editUriState){var d=v.href(n.editUriState,{id:i.key,navigatedSource:"jurisdictionpicklist"});return window.open(d,"_blank"),!1}if(e===s.duplicating&&V)B.navigation=null,h(c,i,r);else{B.maintenanceState=e,B.currentView="maintenance";var p=B.rawResults.$metadata?B.rawResults.$metadata.ids:null;if(!p||e!==s.updating&&e!==s.viewing){B.navigation=null;var u=o.prepare(B.entity,e,i,P.field,c,r,B.isRestMod);B.maintenanceTemplate=u.template,u.entry.$then(function(e){B.entry=e,e.$response&&e.$response.data.data.error?l.alert({title:"modal.unableToComplete",message:e.$response.data.data.error.message}).then(null,function(){a.close()}):(B.qualifiers&&(B.entry=angular.extend(B.entry,B.qualifiers)),B.maintenanceState!==s.updating&&B.maintenanceState!==s.viewing||t.$broadcast("dynamicContent.reload"))})}else B.navigation=N({allKeys:p,isFormDirty:function(){return B.maintenance&&B.maintenance.$dirty},onNavigation:function(a){var i={};i[P.field]=a;var n=o.prepare(B.entity,e,i,P.field,c,r,B.isRestMod);n.entry.$then(function(e){B.entry=e,null==B.maintenanceTemplate?B.maintenanceTemplate=n.template:B.maintenanceTemplate===n.template&&t.$broadcast("dynamicContent.reload")})}}),B.navigation.navigateByKey(i[P.field])}},B.getMaintenanceTitle=function(){switch(B.maintenanceState){case"adding":case"duplicating":return"picklistmodal.add";case"updating":return"picklistmodal.edit";case"viewing":return"picklistmodal.view"}},p.apiUriName||!B.entity?(B.isRestMod=!1,B.picklistService=o.resolve(p.apiUriName,B.isRestMod),B.picklistService.init(y,!B.entity,p.apiUrl)):(B.isRestMod=!0,B.picklistService=o.resolve(B.entity,B.isRestMod),B.picklistService.init(y)),B.showColumns=function(){var e=B.gridOptions.$widget,t=e.getOptions(),a=t.columns,i=d.local.get("picklist."+B.entity+".columns");i||(i=_.pluck(_.filter(a,function(e){return!e.hideByDefault}),"field"),d.local.set("picklist."+B.entity+".columns",i)),a.forEach(function(e){e.isShown=_.contains(i,e.field)}),B.removableColumns=_.filter(a,function(e){return e.menu})},B.toggleColumn=function(e){var t=B.gridOptions.$widget;_.findWhere(B.removableColumns,{field:e.field}).isShown=!e.isShown,e.isShown?t.showColumn(e.field):t.hideColumn(e.field)},B.updateSelected=function(e){var t=T(e);e.selected&&null==t?B.selectedItems.push(e):e.selected||null==t||B.selectedItems.splice(_.indexOf(B.selectedItems,t),1)}}]),angular.module("inprotech.components.picklist").factory("picklistMaintenanceService",["$http",function(e){"use strict";var t={session:{},on:function(e,t){return this[e]=t,this},off:function(e){return delete this[e],this},"finally":function(e){return this["finally"]=e,null},duplicate:function(e){var t={};for(var a in this)if(this.hasOwnProperty(a)){var i=!angular.isFunction(this[a])&&"session"!==a,n=e&&e.indexOf(a)===-1||!e;i&&n&&(t[a]=angular.copy(this[a]))}return t},destroy:function(){var a=this;angular.isFunction(a["after-destroy"])||(a["after-destroy"]=function(e){return t.$extend(e,a.session)}),e["delete"](a.session.apiUrl+"/"+this.key,{params:this.$params}).then(function(e){return a["after-destroy"](e),e})},save:function(){var a=this,i=this.$duplicate();angular.isFunction(a["after-save"])||(a["after-save"]=function(e){return t.$extend(e,a.session)}),null==i.key?(delete i.key,e.post(a.session.apiUrl,i).then(function(e){return a["after-save"](e)})):e.put(a.session.apiUrl+"/"+i.key,i).then(function(e){return a["after-save"](e)})},withParams:function(e){return angular.extend(this,{$params:e})},$extend:function(e,t){return angular.extend(e,{session:t,$on:this.on,$off:this.off,$finally:this["finally"],$duplicate:this.duplicate,$destroy:this.destroy,$save:this.save,withParams:this.withParams})}};return{resolve:function(a){return{session:{apiUrl:"api/picklists/"+a},init:function(t,i,n){var o=this.session;if(i===!0){var r={columns:[],maintainability:{},maintainabilityActions:null,duplicateFromServer:!1};n&&(this.session.apiUrl=n),t(r)}else o.apiUrl="api/picklists/"+a,e.get(o.apiUrl+"/meta").then(function(e){t(angular.copy(e.data))})},$search:function(a){var i=this.session;return{$Params:a,$asPromise:function(){return e.get(i.apiUrl,{params:this.$Params}).then(function(e){var a=angular.copy(e.data);return angular.extend(t.$extend(e.data.data,i),{$metadata:a,$encode:function(){return this},$then:function(e){e(this.$metadata)}})})}}},$build:function(e){var a=this.session,i={};return angular.isObject(e)&&(i=e),{$metadata:i,$then:function(e){e(t.$extend(this.$metadata,a))}}},$find:function(a,i){var n=this.session;return{$then:function(o){return e.get(n.apiUrl+"/"+a,{params:i}).then(function(e){e.data.data&&!e.data.data.key&&(e.data.data.key=a),o(t.$extend(e.data.data,n))})}}}}}}}]),angular.module("inprotech.components.picklist").factory("picklistService",["modalService","$translate",function(e,t){return{openModal:function(a,i){var n=i.displayName||i.type.charAt(0).toUpperCase()+i.type.slice(1);return n=t.instant(n),e.open("Picklist."+i.type+(i.canMaintain?"_maintainable":""),a,{options:{entity:i.type,apiUrl:i.apiUrl,apiUriName:i.apiUriName,searchValue:i.searchValue,selectedItems:i.selectedItems,multipick:i.multipick,extendQuery:i.extendQuery,canMaintain:i.canMaintain,size:i.size,fieldLabel:i.fieldLabel||n,windowLabel:i.appendPicklistLabel?n+" Pick List":n,externalScope:i.externalScope,columns:i.columns,columnMenu:i.columnMenu,qualifiers:i.qualifiers,initFunction:i.initFunction,preSearch:i.preSearch,editUriState:i.editUriState,initialViewData:i.initialViewData,canAddAnother:!!i.canAddAnother,previewable:!!i.previewable,dimmedColumnName:i.dimmedColumnName}},i.templateUrl,"vm")}}}]),function(){"use strict";angular.module("inprotech.components.picklist").factory("states",function(){return{initialising:"initialising",normal:"normal",adding:"adding",duplicating:"duplicating",updating:"updating",deleting:"deleting",viewing:"viewing"}})}(),function(){"use strict";angular.module("inprotech.components.picklist").service("templateResolver",["$log",function(e){var t=function(t,a){if(!a||""===a)return null;var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n="condor/picklists/"+i+"/"+i+".html";return e.debug("resolved template for "+t+" and operation "+a+": "+n),n};return{resolve:t}}])}(),angular.module("inprotech.components.searchOptions",["inprotech.core"]),angular.module("inprotech.components.searchOptions").directive("ipSearchOptionsHeader",function(){"use strict";return{restrict:"E",scope:!0,templateUrl:"condor/components/searchoptions/header.html",link:function(e,t){e.toggleCollapse=function(){var e=$("#searchBody"),a=$(window).scrollTop();a>=e.height()+e.offset().top?(e.collapse("show"),t.find("a.btn").removeClass("collapsed"),$("#mainPane").animate({scrollTop:0},100)):(e.collapse("toggle"),t.find("a.btn").toggleClass("collapsed"))}}}}),angular.module("inprotech.components.searchOptions").directive("ipSearchOptions",["focusService",function(e){"use strict";return{restrict:"E",transclude:!0,scope:{onSearch:"&",onClear:"&",onValidate:"&",isSearchDisabled:"&",isResetDisabled:"&"},templateUrl:"condor/components/searchoptions/searchoptions.html",link:function(t,a){t.setFocus=function(){e.autofocus(a)},t.doSearch=_.debounce(function(){t.isSearchDisabled()||t.onSearch()},100,!0)}}}]),angular.module("inprotech.components.sort",[]),angular.module("inprotech.components.sort").directive("inSort",function(){"use strict";return{restrict:"A",transclude:!0,templateUrl:"condor/components/sort/sort.html",scope:{by:"@",inSort:"="},link:function(e,t,a){e.value=e.inSort?e.inSort:e.$parent;var i=function(t){e.value.order=e.by,e.value.reverse=t};void 0!==a.defaultsortasc&&i(!1),void 0!==a.defaultsortdesc&&i(!0),e.onClick=function(){e.by===e.value.order?e.value.reverse=!e.value.reverse:i(!1)}}}}),function(){"use strict";angular.module("inprotech.components.tooltip",["ui.bootstrap"]),angular.module("inprotech.components.tooltip").config(["$uibTooltipProvider",function(e){e.options({placement:"top auto",appendToBody:!0,trigger:"mouseenter"})}])}(),angular.module("inprotech.components.tooltip").directive("ipInlineDialog",function(){"use strict";return{restrict:"E",scope:{template:"@",title:"@",content:"@",placement:"@",popoverClass:"@"},replace:!0,templateUrl:"condor/components/tooltip/inlineDialog.html"}}),angular.module("inprotech.components.tooltip").directive("ipTooltip",["$compile",function(e){"use strict";return{restrict:"A",terminal:!0,priority:1e3,scope:!0,link:function(t,a,i){a.is("button, a")&&i.ngDisabled?(a.wrap('<div class="tooltip-wrap" ng-class="{disabled:'+i.ngDisabled+'}" uib-tooltip="'+i.ipTooltip+'"></div>'),i.tooltipPlacement&&a.parent().attr("data-tooltip-placement",i.tooltipPlacement),a.removeAttr("ip-tooltip"),e(a.parent())(t)):(i.$set("uib-tooltip",i.ipTooltip),i["class"]&&i["class"].indexOf("tooltip-error")!==-1&&i.$set("tooltip-class","tooltip-error"),a.removeAttr("ip-tooltip"),e(a)(t))}}}]),angular.module("inprotech.components.topics",[]),angular.module("inprotech.components.topics").directive("ipTopicContent",["$compile","utils",function(e,t){"use strict";return{restrict:"E",scope:!0,link:function(a,i){var n=a.subTopic||a.topic;if(n.template){var o=a.$new(!0);o.$topic=n;var r=e(n.template)(o);i.append(r)}setTimeout(function(){if(n){var e=i.find("input,textarea,select");e.focus(function(){t.safeApply(a),a.selectTopic(n,!1)})}},2e3)}}}]),angular.module("inprotech.components.topics").directive("ipTopics",["$timeout","$state","focusService","$transitions","StepsPersistenceService",function(e,t,a,i,n){"use strict";function o(e){return e=_.compact(e),_.each(e,function(e){e.topics&&(e.topics=o(e.topics))}),e}function r(e,t){_.each(e,function(e){t.push(e),e.topics&&r(e.topics,t)})}function s(e,t,i){var n=e.find('.topic-container[data-topic-key="'+t.key+'"]');if(n.length){var o=$("ip-sticky-header:visible").height()||0,r=n.position().top-5;i?$('ip-topics div[name="topics"].main-content-scrollable').stop().animate({scrollTop:r},100):setTimeout(function(){$('ip-topics div[name="topics"].main-content-scrollable').scrollTop(r-o)},100),a.autofocus(n)}}function l(e,t){return!(e.name.length>=t.name.length)&&t.name.substring(0,e.name.length)===e.name}var c={};return{restrict:"E",templateUrl:function(e,t){return!t||"simple"!==t.type&&"simpleRestrictWidth"!==t.type?"condor/components/topics/directives/topics.html":"condor/components/topics/directives/topics-simple.html"},transclude:{header:"?ipTopicsHeader"},scope:{options:"<",topicMenuItemTemplateUrl:"@?",onTopicSelected:"&",subTitleInfoTemplate:"@?",isMultiStepMode:"@?"},link:function(a,d,p){_.any(n.topicsFormData)||n.initTopicsFormData(),a.topicMenuItemTemplateUrl||(a.topicMenuItemTemplateUrl="condor/components/topics/directives/topic-menu-item.html"),p&&"simpleRestrictWidth"===p.type&&(a.restrictWidth=!0);var u=c[t.current.name],m=[];a.options.topics=o(a.options.topics),r(a.options.topics,m),_.each(m,function(e,t){e.index=t,null!=u&&(e.isActive=e.key===u.key),_.isFunction(e.initialise)&&e.initialise(),e.topics?e.isGroupSection=!0:e.isSubSection=!0}),_.each(m,function(e,t){var a=m[t+1];a&&!a.isGroupSection||(e.noSeparator=!0)});var v=_.any(m,function(e){return e.isActive});null==u||v||(m.length<=u.index?_.last(m).isActive=!0:m[u.index].isActive=!0),a.selectTopic=function(e,i){_.each(m,function(e){e.isActive=!1}),e.isActive=!0,i&&s(d,e,!0),c[t.current.name]={key:e.key,index:e.index},a.onTopicSelected({topicKey:e.key})},a.currentTab="topics",a.selectTab=function(e){a.currentTab=e},a.isActionsTabVisible=function(){return _.any(a.options.actions)},a.hasSubSections=function(){return _.any(a.options.topics,{isGroupSection:!0})},a.$on("stepChanged",function(e,t){var i=n.getStepTopicData(t.stepId);_.each(a.options.topics,function(e){if(i&&_.any(i)){var t=_.first(_.filter(i,function(t){return t.topicKey===e.key}));e.loadFormData(t.formData)}else{var a=n.defaultTopicsFormData(e.key);e.loadFormData(a)}e.isActive=!1,"References"===e.key&&(e.isActive=!0,s(d,e,!1))})}),a.$on("stepsLoaded",function(){_.each(n.steps,function(e){var t=n.getStepTopicData(e.id);_.each(a.options.topics,function(e){if(t&&_.any(t)){var a=_.first(_.filter(t,function(t){return t.topicKey===e.key})),i=e.getFormData(a.formData);a.filterData=i}})})}),a.$on("topicItemNumbers",function(e,t){if(t){var i;if(i=t.isSubSection?_.find(a.options.topics,function(e){return e.topics&&_.find(e.topics,function(e){return e.key===t.key})}):_.find(a.options.topics,function(e){return e.key===t.key}),i&&d){var n=d.find('.topics>.topic-menu .tab-content li[data-topic-ref="'+t.key+'"] #topicDataCount');n&&n.length>0&&(n[0].innerHTML=t.total?t.total:"");var o=d.find('.topics .topics-container div[data-topic-key="'+t.key+'"] #topicDataCount');o&&o.length>0&&(o[0].innerHTML=t.total?t.total:"")}}});var g,f=function(){var t=_.findWhere(m,{isActive:!0});t&&s(d,t,!1),e(g.detach,5e3)};g=new window.ResizeSensor(d.find(".topics-container"),f),i.onStart({},function(e){var t=e.to(),a=e.from();l(a,t)||t.name===a.name||delete c[a.name]}),a.$on("$destroy",function(){g.detach()})}}}]),angular.module("inprotech.components.tree",["inprotech.core","kendo.directives"]),angular.module("inprotech.components.tree").factory("kendoTreeBuilder",["utils",function(e){"use strict";function t(t,o){var r=!1;if(o=angular.extend({},n,o),o.expandedByDefault&&(o.loadOnDemand=!1,_.each(o.dataSource,a)),o.select){var s=o.select;o.select=function(){s.apply(this,arguments),t.$digest()}}o.expand||(o.expand=angular.noop);var l=o.expand;o.expand=function(){l.apply(this,arguments),r||e.safeApply(t)},o.collapse||(o.collapse=angular.noop);var c=o.collapse;if(o.collapse=function(){c.apply(this,arguments),r||e.safeApply(t)},o.drop){var d=o.drop;o.drop=function(){var e=arguments[0];e.complete=function(){i(e)},d.apply(this,arguments)}}return o.scrollToSelected=function(){if(o.$widget&&o.$widget.select().length){var e=$(o.$widget.element).offset().top,t=$(o.$widget.select()[0]),a=t.find("div").height(),i=t.offset().top+a;if(i>$(window).height()||i<$(window).scrollTop()+e){var n=o.$widget.element.offset().top||0;$("html,body").animate({scrollTop:i-n})}var r=window.pageXOffset,s=window.pageYOffset;o.$widget.wrapper.focus(),window.scrollTo(r,s)}},o.showLoading=function(){kendo.ui.progress(o.$widget.element,!0)},o.hideLoading=function(){kendo.ui.progress(o.$widget.element,!1)},t.$on("kendoWidgetCreated",function(e,t){o.id===t.options.id&&(o.$widget=t,o.scrollToSelected(),o.expandAll=function(){r=!0,t.expand(".k-item"),r=!1},o.collapseAll=function(){r=!0,t.collapse(".k-item"),r=!1},o.deselect=function(){t.select($())})}),o}function a(e){e.expanded=!0,e.items&&_.each(e.items,a)}function i(e){var t=e.sender;switch(e.dropPosition){case"before":t.insertBefore(e.sourceNode,$(e.destinationNode));break;case"after":t.insertAfter(e.sourceNode,$(e.destinationNode));break;case"over":t.append(e.sourceNode,$(e.destinationNode))}}var n={loadOnDemand:!0,animation:!1};return{buildOptions:t}}]),angular.module("inprotech.components.typeahead",[]),angular.module("inprotech.components.typeahead").directive("iptTypeaheadMultiSelect",["$http","$timeout","$q","utils","typeaheadService",function(e,t,a,i,n){"use strict";var o="condor/components/typeahead/multiselect-autocomplete-add.html",r={keyProperty:"id",displayProperty:"value",addTagLabel:"Add a New Tag",maxResultCount:20,tagTemplate:"condor/components/typeahead/multiselect-tag.html"};return{restrict:"EA",scope:{items:"=",sourceUrl:"@",source:"=?",displayProperty:"@",keyProperty:"@",addUrl:"@",addTagLabel:"@",placeholder:"@",autocompleteTemplate:"@",maxResultCount:"@",tagTemplate:"@",isEdited:"=?",isSaved:"=?",isLoading:"=?",text:"=?",hasError:"=?",onSelectionChanged:"&",disabled:"@",autofocus:"@",required:"@"},templateUrl:"condor/components/typeahead/multiselect.html",controller:["$scope","$element",function(t,s){function l(e){e(),c()}function c(){m?t.isLoading||!t.text?t.hasError=!1:t.hasError=!!t.text&&!g:t.isLoading?t.hasError=!1:t.hasError=!!t.text}function d(){var e=_.toArray(arguments);e.unshift("multi-typeahead"),i.debug.apply(i,e)}function p(e){var a;a=t.addUrl?n.findExactMatchItem(f,function(e){return null!=e.id}):n.findExactMatchItem(f),a&&(e(a),f=[])}var u,m=!1,v=i.cancellable(),g=!1,f=[];t.isLoading=!1,i.extendWithDefaults(t,r),t.autocompleteTemplate||t.addUrl&&(t.autocompleteTemplate=o),s.on("setFocus",function(){setTimeout(function(){s.find(".input").focus()},10)}),s.on("keypress",".input",function(e){if(13===e.keyCode){var t=$(e.target).val();t&&e.preventDefault()}}),t.loadItems=function(i){if(v.cancel(),l(function(){g=!1,f=[],t.isLoading=!0}),!t.sourceUrl&&t.source){var n=a.defer();return n.resolve(t.source),l(function(){t.isLoading=!1}),n.promise}return d("search.begin",i,t.sourceUrl),e.get(t.sourceUrl,{params:{q:i,take:t.maxResultCount},timeout:v.promise}).then(function(e){var a=e.data;if(t.addUrl&&i.length>0&&!_.find(_.union(e.data,t.items),function(e){return i.toUpperCase()===(e[t.displayProperty]||"").toUpperCase()})){var n={addTagLabel:t.addTagLabel};n[t.keyProperty]=Math.random(),n[t.displayProperty]=i,a.push(n)}return l(function(){t.isLoading=!1}),!t.text&&i&&(a=[]),d("search.response",a),l(function(){g=a.length>0}),f=a,a})["catch"](function(e){return e.status!==-1&&l(function(){t.isLoading=!1}),l(function(){g=!1}),f=[],[]})},t.addTag=function(a){if(a.addTagLabel){if(!a[t.displayProperty])return!1;e.post(t.addUrl,{newTag:a[t.displayProperty]}).then(function(e){a.id=e.data})}return!0},t.tagRemoved=function(){t.onSelectionChanged()},t.tagAdded=function(){t.onSelectionChanged()},t.showLoadingSpinner=function(){return t.isLoading},t.initInputEvents=function(e){e.on("input-focus",function(){d("input.focus"),l(function(){m=!0})}),e.on("input-blur",function(){d("input.blur"),p(u),l(function(){m=!1})})},t.initAutocompleteEvents=function(e){u=function(a){e.trigger("suggestion-add",a),t.text=""},e.on("input-preload",function(){d("input-preload"),l(function(){t.isLoading=!0})}),e.on("suggestion-show",function(e){m||(d("suggestion.show"),p(u),e.reset())}),e.on("suggestion-hide",function(){d("suggestion.hide"),c()})},t.$watch("text",function(e,t){e!==t&&(e||c())})}]}}]),angular.module("inprotech.components.typeahead").factory("typeaheadService",function(){"use strict";return{findExactMatchItem:function(e,t){if(!e)return null;t&&(e=_.filter(e,t));var a=e.length,i=null;return 1===a?i=e[0]:a>1&&(i=_.find(e,{exactMatch:!0})),i}}}),angular.module("inprotech.configuration",["inprotech.configuration.general.standinginstructions","inprotech.configuration.general.sitecontrols","inprotech.configuration.general.status","inprotech.configuration.rules.workflows","inprotech.configuration.general.nametypes","inprotech.configuration.general.numbertypes","inprotech.configuration.general.validcombination","inprotech.configuration.general.jurisdictions","inprotech.configuration.general.namerestrictions","inprotech.configuration.general.texttypes","inprotech.configuration.general.importancelevel","inprotech.configuration.general.ptosettings","inprotech.configuration.general.dataitem","inprotech.configuration.general.navmodal","inprotech.configuration.general.events.eventnotetypes","inprotech.configuration.general.names.locality","inprotech.configuration.general.names.namealiastype","inprotech.configuration.general.ede.datamapping","inprotech.configuration.general.names.namerelations","inprotech.configuration.system.mui","inprotech.configuration.search"]),function(){"use strict";angular.module("inprotech.configuration.general.dataitem",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.dataitem").config(["$stateProvider",function(e){e.state("dataitem",{url:"/configuration/general/dataitems",templateUrl:"condor/configuration/general/dataitem/dataitem.html",controller:"DataItemController",controllerAs:"vm",resolve:{viewData:["dataItemService",function(e){return e.viewData()}]},data:{pageTitle:"Data Item Maintenance"}})}]),angular.module("inprotech.configuration.general.dataitem").run(["modalService",function(e){e.register("DataItemMaintenanceConfig","DataItemMaintenanceConfigController","condor/configuration/general/dataitem/dataitem.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"xl"})}])}(),angular.module("inprotech.configuration.general.dataitem").controller("DataItemController",DataItemController),angular.module("inprotech.configuration.general.dataitem").controller("DataItemMaintenanceConfigController",DataItemMaintenanceConfigController),angular.module("inprotech.configuration.general.dataitem").factory("dataItemService",DataItemService),angular.module("inprotech.configuration.general.dataitem").directive("iptDataitemDetailView",function(){"use strict";return{restrict:"E",scope:{parent:"="},templateUrl:"condor/configuration/general/dataitem/directives/detailview.html",controller:["$scope",function(e){e.item=e.parent}]}}),function(){"use strict";angular.module("inprotech.configuration.general.importancelevel",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.importancelevel").config(["$stateProvider",function(e){e.state("importancelevel",{url:"/configuration/general/importancelevel",templateUrl:"condor/configuration/general/importancelevel/importancelevel.html",controller:"ImportanceLevelController",controllerAs:"vm",resolve:{viewData:["importanceLevelService",function(e){return e.viewData()}]},data:{pageTitle:"Importance Level Maintenance"}})}])}(),angular.module("inprotech.configuration.general.importancelevel").controller("ImportanceLevelController",ImportanceLevelController),angular.module("inprotech.configuration.general.importancelevel").factory("importanceLevelService",ImportanceLevelService),function(){"use strict";angular.module("inprotech.configuration.general.jurisdictions",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.jurisdictions").run(["modalService",function(e){e.register("CreateJurisdiction","CreateJurisdictionController","condor/configuration/general/jurisdictions/maintenance/create.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"}),e.register("GroupMembershipMaintenance","GroupMembershipMaintenanceController","condor/configuration/general/jurisdictions/maintenance/directives/groups.maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("ValidNumbersMaintenance","ValidNumbersMaintenanceController","condor/configuration/general/jurisdictions/maintenance/directives/validnumbers.maintenance.html",{windowClass:"centered picklist-window",
size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("BusinessdaysMaintenance","BusinessdaysMaintenanceController","condor/configuration/general/jurisdictions/maintenance/directives/businessdays.maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("ValidnumbersTestpattern","ValidNumbersTestPatternController","condor/configuration/general/jurisdictions/maintenance/directives/validnumbers.testpattern.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("ClassesMaintenance","ClassesMaintenanceController","condor/configuration/general/jurisdictions/maintenance/directives/classes.maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("ChangeJurisdictionCode","ChangeJurisdictionCodeController","condor/configuration/general/jurisdictions/search/jurisdiction.changecode.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]).config(["$stateProvider",function(e){e.state("jurisdictions",{url:"/configuration/general/jurisdictions",templateUrl:"condor/configuration/general/jurisdictions/search/index.html",controller:"JurisdictionsController",controllerAs:"vm",data:{pageTitle:"Jurisdictions"},resolve:{initialData:["jurisdictionsService",function(e){return e.initialData()}]}}).state("jurisdictions.detail",{url:"/maintenance/{id}",templateUrl:"condor/configuration/general/jurisdictions/maintenance/index.html",controller:"JurisdictionMaintenanceController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){return e.get("api/configuration/jurisdictions/maintenance/"+encodeURIComponent(t.id)).then(function(e){return e.data})}],appContext:"appContext"},data:{}}).state("jurisdictions.default",{url:"/maintenance/:id/:navigatedSource",params:{id:"ZZZ",navigatedSource:"classes"},templateUrl:"condor/configuration/general/jurisdictions/maintenance/index.html",controller:"JurisdictionMaintenanceController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){return e.get("api/configuration/jurisdictions/maintenance/"+encodeURIComponent(t.id)).then(function(e){return e.data})}],appContext:"appContext"},data:{}})}])}(),angular.module("inprotech.configuration.general.jurisdictions").controller("JurisdictionMaintenanceController",["viewData","jurisdictionsService","jurisdictionMaintenanceService","notificationService","$state","bus","$translate","store","LastSearch",function(e,t,a,i,n,o,r,s,l){"use strict";function c(){O.context="jurisdictions.detail",O.viewData=e,O.lastSearch=t.lastSearch,O.canEdit=e.canEdit,O.save=g,O["delete"]=b,O.discard=w,O.isSaveEnabled=x,O.isDiscardEnabled=S,O.onTopicSelected=v,O.isNavigated=!1,O.defaultJurisdiction=p(),O.setInUse=f,d(),u()}function d(){var e=s.local.get("lastSearch");!O.lastSearch&&e&&(O.lastSearch=new l({method:t.search,methodName:"search",args:[e[0],e[1]]}))}function p(){return n.params&&"jurisdictionpicklist"===n.params.navigatedSource?(O.isNavigated=!0,!0):!(!n.params.navigatedSource||"classes"!==n.params.navigatedSource)}function u(){E={overview:{key:"overview",title:"jurisdictions.maintenance.sections.overview",template:'<ip-jurisdiction-overview view-data="$topic.viewData" data-topic="$topic">',viewData:O.viewData},groups:{key:"groups",title:"jurisdictions.maintenance.sections.groups",template:'<ip-jurisdiction-groups parent-id="$topic.parentId" type="$topic.type" data-topic="$topic">',parentId:O.viewData.id,jurisdiction:O.viewData.name,type:O.viewData.type,canUpdate:O.canEdit&&"2"!==O.viewData.type,allMembersFlag:O.viewData.allMembersFlag},attributes:{key:"attributes",title:"jurisdictions.maintenance.sections.attributes",template:'<ip-jurisdiction-attributes parent-id="$topic.parentId" data-topic="$topic">',parentId:O.viewData.id,canUpdate:O.canEdit,type:O.viewData.type,reportPriorArt:O.viewData.reportPriorArt},texts:{key:"texts",title:"jurisdictions.maintenance.sections.texts",template:'<ip-jurisdiction-texts parent-id="$topic.parentId" data-topic="$topic">',parentId:O.viewData.id,canUpdate:O.canEdit}},O.options={topics:[E.overview,E.groups,E.attributes,E.texts],actions:[]},"1"===O.viewData.type&&O.options.topics.push({key:"statusflags",title:"jurisdictions.maintenance.sections.designationStages",template:'<ip-jurisdiction-status-flags parent-id="$topic.parentId" data-topic="$topic">',canUpdate:O.canEdit,parentId:O.viewData.id}),O.options.topics.push({key:"classes",title:"jurisdictions.maintenance.sections.classes",template:'<ip-jurisdiction-classes parent-id="$topic.parentId" data-topic="$topic">',parentId:O.viewData.id,jurisdiction:O.viewData.name,canUpdate:O.canEdit,activeTopic:n.params.navigatedSource}),"0"===O.viewData.type&&O.options.topics.push({key:"states",title:"jurisdictions.maintenance.sections.states",template:'<ip-jurisdiction-states parent-id="$topic.parentId" state-label="$topic.stateLabel" data-topic="$topic">',parentId:O.viewData.id,canUpdate:O.canEdit,stateLabel:O.viewData.stateLabel}),O.options.topics.push({key:"businessDays",title:"jurisdictions.maintenance.sections.businessDays",template:'<ip-jurisdiction-business-days parent-id="$topic.parentId" work-day-flag="$topic.workDayFlag" data-topic="$topic">',parentId:O.viewData.id,workDayFlag:O.viewData.workDayFlag,canUpdate:O.canEdit}),"0"===O.viewData.type&&O.options.topics.push({key:"addressSettings",title:"jurisdictions.maintenance.sections.addressSettings",template:'<ip-jurisdiction-address-settings view-Data="$topic.viewData" data-topic="$topic">',viewData:O.viewData,canUpdate:O.canEdit}),O.options.topics=O.options.topics.concat([{key:"defaults",title:"jurisdictions.maintenance.sections.billingdefaults",template:'<ip-jurisdiction-defaults view-Data="$topic.viewData" data-topic="$topic">',viewData:O.viewData,canUpdate:O.canEdit},{key:"validNumbers",title:"jurisdictions.maintenance.sections.numberPatterns",template:'<ip-jurisdiction-valid-numbers parent-id="$topic.parentId" data-topic="$topic">',parentId:O.viewData.id,jurisdiction:O.viewData.name,canUpdate:O.canEdit},{key:"validCombinations",title:"jurisdictions.maintenance.sections.validCombinations",template:'<ip-jurisdiction-valid-combinations parent-id="$topic.parentId" parent-name="$topic.parentName" data-topic="$topic">',parentId:O.viewData.id,parentName:O.viewData.name}])}function m(e,t){_.each(e,function(e){t.push(e),e.topics&&m(e.topics,t)})}function v(e){var t=[];m(I(),t),_.each(t,function(t){t.key===e&&_.isFunction(t.initializeShortcuts)&&t.initializeShortcuts()})}function g(){var t,n=[];if(_.each(I(),function(e){_.isFunction(e.validate)&&!e.validate()&&(n.push({message:e.title}),t=!0)}),t)return void h(n);var o=y();return a.save(e.id,o).then(function(e){if(a.saveResponse=null,"success"==e.data.result)e.data.hasInUseItems?(f(e.data.saveResponse),i.alert({title:"modal.unableToComplete",message:"modal.alert.alreadyInUse"}).then(function(){},function(){a.saveResponse=e.data.saveResponse,k()})):(k(),i.success());else if(e.data.result.errors&&e.data.result.errors.length){var t=e.data.result.errors.map(function(e){var t=T(e.topic,I());return r.instant(t.title)+" - "+r.instant(e.message)});h(t)}})}function f(e){null!=e&&_.each(O.options.topics,function(t){if(t.setInUseError){var a=_.first(_.where(e,{topicName:t.key}));null!==a&&t.setInUseError(a.inUseItems)}})}function h(e){i.alert({title:"modal.unableToComplete",message:"sections.errors.errorInSection",errors:e,actionMessage:"sections.errors.actionMessage"})}function y(){var e={};return _.each(I(),function(t){e=angular.extend(e,t.getFormData())}),e}function b(){i.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){a["delete"]([e.id]).then(function(e){"success"===e.data.result?(i.success(),$()):i.alert({title:"modal.unableToComplete",message:"modal.alert.alreadyInUseDelFromMaint"})})})}function w(){k()}function k(){O.isSaveEnabled=_.constant(!1),n.reload(n.current.name)}function C(){return _.any(I(),function(e){return e.isDirty()})}function D(){return!!_.all(I(),function(e){if(e)return e.initialised})}function x(){return!!D()&&(C()&&_.all(I(),function(e){return!e.hasError()}))}function S(){return!!D()&&C()}function I(){var e=[E.overview,E.groups,E.attributes,E.texts],t=T("statusflags",O.options.topics);t&&e.push(t);var a=T("classes",O.options.topics);a&&e.push(a);var i=T("defaults",O.options.topics);i&&e.push(i);var n=T("states",O.options.topics);n&&e.push(n);var o=T("addressSettings",O.options.topics);o&&e.push(o);var r=T("validNumbers",O.options.topics);r&&e.push(r);var s=T("businessDays",O.options.topics);return s&&e.push(s),e}function T(e,t){return _.first(_.filter(t,function(t){return t.key===e}))}function $(){O.isSaveEnabled=_.constant(!1);var t=O.lastSearch.ids,a=_.indexOf(t,e.id),i=t?t.length:0,r={id:e.id};return o.channel("gridRefresh.searchResults").broadcast(),i<=1?void n.go("^",null,{location:"replace"}):(a<i-1?r.id=t[a+1]:a===i-1&&(r.id=t[a-1]),t.splice(a,1),void n.go("jurisdictions.detail",r,{location:"replace"}))}var E,O=this;O.$onInit=c}]),angular.module("inprotech.configuration.general.jurisdictions").controller("CreateJurisdictionController",["$uibModalInstance","notificationService","jurisdictionMaintenanceService","jurisdictionsService","hotkeys",function(e,t,a,i,n){"use strict";function o(){e.dismiss("Cancel")}function r(){return!(u.maintenance.$dirty&&u.maintenance.$valid)}function s(){return u.maintenance.$dirty?void t.discard().then(function(){u.cancel()}):void u.cancel()}function l(){u.maintenance&&u.maintenance.$validate&&u.maintenance.$validate(),u.maintenance.$invalid||a.create(u.formData).then(c)}function c(a){"success"===a.data.result?(i.newId=a.data.id,e.close()):(u.errors=a.data.result.errors,t.alert({title:"modal.unableToComplete",message:u.getError("code").topic,messageParams:{id:u.getError("code").id},errors:_.where(a.data.result.errors,{field:null})}))}function d(e){return _.find(u.errors,function(t){return t.field===e})}function p(){n.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){r()||u.save()}}),n.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){u.dismissAll()}})}var u=this;u.cancel=o,u.disable=r,u.dismissAll=s,u.save=l,u.getError=d,u.maintenance={},u.formData={type:"0"},p()}]),angular.module("inprotech.configuration.general.jurisdictions").controller("AddressSettingsController",["$scope","ExtObjFactory",function(e,t){"use strict";function a(){d.form={},d.formData={},d.topic.isDirty=r,d.topic.discard=s,d.topic.getFormData=angular.noop,d.topic.afterSave=l,d.topic.hasError=c,d.topic.validate=n,d.onPicklistChange=o,i()}function i(){var t=e.viewData;d.formData=u.attach(t),d.topic.initialised=!0}function n(){return d.form.$validate()}function o(){d.form.$validate()}function r(){return u.isDirty()}function s(){d.form.$reset(),u.restore()}function l(){u.save()}function c(){return d.form.$invalid&&d.form.$dirty}var d=this,p=(new t).useDefaults(),u=p.createContext();d.$onInit=a}]).directive("ipJurisdictionAddressSettings",function(){"use strict";return{restrict:"E",scope:{viewData:"="},controller:"AddressSettingsController",controllerAs:"vm",bindToController:{topic:"="},templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/addresssettings.html"}}),angular.module("inprotech.configuration.general.jurisdictions").controller("AttributesController",["$scope","kendoGridBuilder","jurisdictionAttributesService","jurisdictionMaintenanceService","inlineEdit","hotkeys",function(e,t,a,i,n,o){"use strict";function r(){w.formData={},w.formData.reportPriorArt=e.vm.topic.reportPriorArt,w.parentId=e.parentId,w.initialize=s,w.initialize(),w.gridOptions=l(),w.attributesTypeChange=c,w.attributesChange=d,w.onAddClick=m,w.checkDuplicateError=p,_.extend(w.topic,{getFormData:y,hasError:g,isDirty:f,validate:h,initializeShortcuts:v}),w.topic.initialised=!0}function s(){a.getAttributeTypes().then(function(e){w.attributeTypes=e.data})}function l(){return t.buildOptions(e,{id:"attributesList",topicItemNumberKey:w.topic.key,autoBind:!0,pageable:!1,sortable:!1,read:function(e){return a.listAttributes(e,w.parentId).then(function(e){return _.map(e,k)})},autoGenerateRowTemplate:w.topic.canUpdate,actions:w.topic.canUpdate?{"delete":{onClick:"vm.checkDuplicateError(dataItem)"}}:null,rowAttributes:'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted}"uib-tooltip="{{\'jurisdictions.maintenance.attributes.duplicate\' | translate}}" tooltip-enable="dataItem.error(\'duplicate\')" tooltip-class="tooltip-error" data-tooltip-placement="left"',columns:[{width:"30%",title:"jurisdictions.maintenance.attributes.type",template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.typeName"></span><ip-dropdown ng-if="!dataItem.deleted" label="" focus-on-add ip-required name="jurisdictionAttributeType" ng-model="dataItem.typeId"  options="option.key as option.value for option in vm.attributeTypes" ng-change="vm.attributesTypeChange(dataItem)"></ip-dropdown>':'<span ng-bind="dataItem.typeName"></span>'},{title:"jurisdictions.maintenance.attributes.value",template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.value"></span><ip-dropdown ng-if="!dataItem.deleted" label="" ip-required name="jurisdictionAttribute" ng-model="dataItem.valueId"  options="option.key as option.value for option in dataItem.attributes" ng-change="vm.attributesChange(dataItem)"></ip-dropdown>':'<span ng-bind="dataItem.value"></span>'}]})}function c(e){return e.typeId?void a.getAttributes(e.typeId).then(function(t){e.attributes=t.data}):(e.attributes={},void(e.valueId=null))}function d(e){w.checkDuplicateError(e)}function p(e){var t=_.filter(w.gridOptions.dataSource.data(),function(e){return!e.deleted});u(t,e)&&!e.deleted?e.error("duplicate",!0):e.error("duplicate",!1);var a=_.without(t,e);_.each(a,function(e){e.hasError()&&(u(a,e)||e.error("duplicate",!1))})}function u(e,t){return i.isDuplicated(e,t,["typeId","valueId"])}function m(){var e=w.gridOptions.dataSource.total(),t=k();t.countryCode=w.parentId,t.id=-1,w.gridOptions.insertRow(e,t)}function v(){w.topic.canUpdate&&o.add({combo:"alt+shift+i",description:"shortcuts.add",callback:m})}function g(){return w.form.$invalid||n.hasError(w.gridOptions.dataSource.data())}function f(){return n.canSave(w.gridOptions.dataSource.data())||w.form.reportPriorArt.$dirty}function h(){return w.form.$validate()}function y(){var e=n.createDelta(w.gridOptions.dataSource.data(),b);return{attributesDelta:e,attributes:w.gridOptions.dataSource.data(),reportPriorArt:w.formData.reportPriorArt}}function b(e){var t={id:e.id,countryCode:e.countryCode,typeId:e.typeId,valueId:e.valueId};return t}var w=this;w.$onInit=r;var k=n.defineModel(["id","typeId","valueId","countryCode","typeName","value"])}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionAttributes",function(){"use strict";return{restrict:"E",scope:{parentId:"=",reportPriorArt:"="},controller:"AttributesController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/attributes.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionAttributesService",["$http",function(e){"use strict";function t(){return e.get("api/picklists/JurisdictionAttributeTypes").then(function(e){return e.data})}function a(t){return e.get("api/picklists/tablecodes?tableType="+t).then(function(e){return e.data})}var i="api/configuration/jurisdictions/maintenance/",n={listAttributes:function(t,a){return e.get(i+"attributes/"+encodeURIComponent(a),{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},getAttributeTypes:t,getAttributes:a};return n}]),angular.module("inprotech.configuration.general.jurisdictions").controller("BusinessDaysController",["$scope","kendoGridBuilder","jurisdictionBusinessDaysService","dateService","hotkeys","dateHelper","modalService","BulkMenuOperations","notificationService","$translate","states",function(e,t,a,i,n,o,r,s,l,c,d){"use strict";function p(){N.context="countryholidays",E=e.parentId,O=e.workDayFlag,N.gridOptions=v(),N.formData={},N.onAddClick=h,N.onEditClick=y,N.OnDeleteClick=f,N.hasWorkDay=m,N.topic.isDirty=S,N.topic.hasError=angular.noop,N.topic.getFormData=I,N.topic.initializeShortcuts=$,N.menu=g(),N.allIds=[],N.getSelectedItems=w,A=new s(N.menu.context),u(),N.topic.initialised=!0}function u(){N.holidays=[{day:"Saturday",flag:1,selected:m(1)},{day:"Sunday",flag:2,selected:m(2)},{day:"Monday",flag:4,selected:m(4)},{day:"Tuesday",flag:8,selected:m(8)},{day:"Wednesday",flag:16,selected:m(16)},{day:"Thursday",flag:32,selected:m(32)},{day:"Friday",flag:64,selected:m(64)}]}function m(e){return Boolean(O&e)}function v(){var i=[{title:"jurisdictions.maintenance.businessDays.date",field:"holidayDate",template:'<ip-date model="dataItem.holidayDate"></ip-date>',sortable:!0,oneTimeBinding:!0},{title:"jurisdictions.maintenance.businessDays.dayOfWeek.title",field:"dayOfWeek",sortable:!0,oneTimeBinding:!0},{title:"jurisdictions.maintenance.businessDays.holidayName",field:"holiday",sortable:!0,oneTimeBinding:!0}];return N.topic.canUpdate&&i.unshift({headerTemplate:'<bulk-actions-menu data-context="'+N.context+'" data-actions="vm.menu.items" is-full-selection-possible="false" data-on-select-this-page="vm.menu.selectPage(val)" data-on-clear="vm.menu.clearAll()" data-initialised="vm.menu.initialised()">',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)">',width:"35px",fixed:!0,locked:!0}),t.buildOptions(e,{id:"holidaysGrid",autoBind:!0,pageable:{pageSize:10,pageSizes:[10,20,50,100,500]},read:function(e){return a.search(e,E).then(function(e){return _.each(e.data,function(e){e.holidayDate=o.convertForDatePicker(e.holidayDate)}),N.allIds=e.ids,e})},onDataCreated:function(){A.selectionChange(N.gridOptions.data())},selectable:!0,reorderable:!1,sortable:!0,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, error: dataItem.error}" uib-tooltip="{{dataItem.errorMessage}}" tooltip-class="tooltip-error" data-tooltip-placement="left"',columns:i})}function g(){return{context:N.context,items:[{id:"delete",text:"bulkactionsmenu.deleteAll",enabled:b,click:f},{id:"edit",enabled:b,click:y,maxSelection:1}],clearAll:function(){return C()},selectPage:function(e){return A.selectPage(N.gridOptions.data(),e)},selectionChange:k,initialised:function(){N.gridOptions.data()&&A.initialiseMenuForPaging(N.gridOptions.pageable.pageSize)}}}function f(){var e=N.getSelectedItems();e.length&&l.confirm({message:"jurisdictions.maintenance.businessDays.confirmationOndelete"}).then(function(){a.deleteCountryHolidays(e).then(function(){l.success(c.instant("jurisdictions.maintenance.businessDays.changesSavedSuccessfully")),N.gridOptions.search(),C()})})}function h(){N.modelInstance=D("add").then(function(){N.gridOptions.search()})}function y(){var e=N.getSelectedItems();1==e.length&&(N.modelInstance=D("edit",e[0].id).then(function(){N.gridOptions.search()}))}function b(){return A.anySelected(N.gridOptions.data())}function w(){return A.selectedRecords()}function k(e){return A.singleSelectionChange(N.gridOptions.data(),e)}function C(){return A.clearAll(N.gridOptions.data())}function D(e,t){return r.openModal({id:"BusinessdaysMaintenance",mode:e,isAddAnother:!1,controllerAs:"vm",addItem:angular.noop,dataItem:t,allItems:N.allIds,entityState:"add"===e?d.adding:d.updating,parentId:E,refreshGrid:x,jurisdiction:N.topic.jurisdiction})}function x(){N.gridOptions.search(),C()}function S(){return N.form.$dirty}function I(){return{workDayFlag:T(),countryHolidaysDelta:null}}function T(){var e=_.filter(N.holidays,function(e){return e.selected}),t=0;return _.each(e,function(e){t+=e.flag}),t}function $(){N.topic.canUpdate&&(n.add({combo:"alt+shift+i",description:"shortcuts.add",callback:h}),n.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:f}))}var E,O,A,N=this;N.$onInit=p}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionBusinessDays",function(){"use strict";return{restrict:"E",scope:{parentId:"=",workDayFlag:"="},controller:"BusinessDaysController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/businessdays.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionBusinessDaysService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/",a={search:function(a,i){return e.get(t+"maintenance/days/"+encodeURIComponent(i),{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})},getCountryHolidayById:function(a,i){return e.get(t+"maintenance/days/"+encodeURIComponent(a)+"/"+encodeURIComponent(i)).then(function(e){return e.data})},getDayOfWeek:function(a){var i=a.toDateString("yyyy-MM-dd");return e.get(t+"maintenance/dayofweek/"+i).then(function(e){return e.data})},deleteCountryHolidays:function(a){return e.post(t+"holidays/delete",a)},saveCountryHolidays:function(a){return e.post(t+"holidays/save",a)},isDuplicated:function(a){return e.get(t+"holidays/duplicate",{params:{params:a}})}};return a}]),angular.module("inprotech.configuration.general.jurisdictions").directive("iptJurisdictionClassDetail",function(){"use strict";return{restrict:"E",scope:{content:"=",hasIntClasses:"="},controller:"ClassDetailController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/classdetail.html"}}).controller("ClassDetailController",["$scope","kendoGridBuilder",function(e,t){"use string";function a(){n.hasIntClasses=e.hasIntClasses,n.notes=e.content.notes,n.hasIntClasses&&(n.gridOptions=i())}function i(){return t.buildOptions(e,{id:"internationalClasses",autoBind:!0,pageable:!1,read:function(){return e.content.internationalClasses},columns:[{title:"jurisdictions.maintenance.classes.classCode",field:"code",width:"10%",sortable:!0},{title:"jurisdictions.maintenance.classes.heading",field:"value",width:"50%",sortable:!0}]})}var n=this;n.$onInit=a}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionClasses",function(){"use strict";return{restrict:"E",scope:{parentId:"="},controller:"ClassesController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/classes.html",bindToController:{topic:"="}}}).controller("ClassesController",["$scope","kendoGridBuilder","jurisdictionClassesService","dateService","modalService","$translate","picklistService","notificationService",function(e,t,a,i,n,o,r,s){"use strict";function l(){T=e.parentId,$.onAddClick=u,$.onEditClick=m,$.onViewItemClick=v,$.allowSubClass=h,$.itemMaintenanceToolTip=b,$.shouldDisable=y,$.topic.isDirty=C,$.topic.getFormData=D,$.topic.hasError=angular.noop,$.gridOptions=d(),$.countryCode=e.parentId,$.topic.initialised=!0,c()}function c(){$.topic.activeTopic&&"classes"===$.topic.activeTopic&&($.topic.isActive=!0)}function d(){return t.buildOptions(e,{id:"localClasses",topicItemNumberKey:$.topic.key,scrollable:!1,reorderable:!1,navigatable:!0,selectable:"row",pageable:!1,serverSorting:!0,serverFiltering:!1,autoBind:!0,noRecords:{template:'<br><div align="left" style="margin-left: 2.7%">{{"jurisdictions.maintenance.classes.noLocalClasses" | translate}}</div>'},detailTemplate:"ZZZ"!==T?'<ipt-jurisdiction-class-detail data-content="dataItem" data-has-int-classes="true"></ipt-jurisdiction-class-detail>':'<ipt-jurisdiction-class-detail data-content="dataItem" data-has-int-classes="false"></ipt-jurisdiction-class-detail>',autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, error: dataItem.error}" uib-tooltip="{{dataItem.errorMessage}}" tooltip-class="tooltip-error" data-tooltip-placement="left"',actions:$.topic.canUpdate?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0,custom:{template:'<ip-icon-button ng-if="vm.allowSubClass(dataItem)" class="btn-no-bg" data-ng-click="vm.onViewItemClick(dataItem)" button-icon="cpa-icon cpa-icon-items-o" data-tooltip-placement="top" ip-tooltip="{{ vm.itemMaintenanceToolTip(dataItem) }}" ng-disabled = "vm.shouldDisable(dataItem)" >< /ip-icon-button>'}}:{custom:{template:'<ip-icon-button ng-if="vm.allowSubClass(dataItem)" class="btn-no-bg" data-ng-click="vm.onViewItemClick(dataItem)" button-icon="cpa-icon cpa-icon-items-o" data-tooltip-placement="top" ip-tooltip="{{ vm.itemMaintenanceToolTip(dataItem) }}" ng-disabled = "vm.shouldDisable(dataItem)" >< /ip-icon-button>'}},read:function(e){return null!==$.gridOptions.getQueryParams()&&(e=$.gridOptions.getQueryParams()),a.search(e,T)},columns:p("ZZZ"!==T)})}function p(e){var t=[{title:"jurisdictions.maintenance.classes.class",field:"class",sortable:!0},{title:"jurisdictions.maintenance.classes.heading",field:"description",sortable:!0},{title:"jurisdictions.maintenance.classes.internationalClasses.heading",field:"intClasses",sortable:!1},{title:"jurisdictions.maintenance.classes.subClass",field:"subClass",sortable:!0},{title:"jurisdictions.maintenance.classes.effectiveDate",field:"effectiveDate",sortable:!0,template:"<span>{{ dataItem.effectiveDate | localeDate }}</span>"},{title:"jurisdictions.maintenance.classes.propertyType",field:"propertyType",sortable:!0}];return e?t:_.reject(t,function(e){return"intClasses"===e.field})}function u(){k("add").then(function(e){w(e)})}function m(e){k("edit",e)}function v(t){$.currentFilter={"class":t["class"],subClass:t.subClass,propertyType:t.propertyTypeCode},r.openModal(e,{type:"classItems",canMaintain:!0,canAddAnother:!0,displayName:_.isEmpty($.currentFilter.subClass)?o.instant("jurisdictions.maintenance.classes.lblClassItemMaintenance",{"class":$.currentFilter["class"]}):o.instant("jurisdictions.maintenance.classes.lblSubClassItemMaintenance",{"class":$.currentFilter["class"],subclass:$.currentFilter.subClass}),fieldLabel:_.isEmpty($.currentFilter.subClass)?o.instant("jurisdictions.maintenance.classes.lblFieldClassItemMaintenance",{"class":$.currentFilter["class"]}):o.instant("jurisdictions.maintenance.classes.lblFieldSubClassItemMaintenance",{"class":$.currentFilter["class"],subclass:$.currentFilter.subClass}),appendPicklistLabel:!1,extendQuery:f,initialViewData:{"class":$.currentFilter["class"],subClass:$.currentFilter.subClass,countryCode:e.parentId,propertyType:$.currentFilter.propertyType}}).then(g,g)}function g(){C()?s.confirm({message:"modal.unsavedchanges.refreshConfirmation"}).then(function(){$.gridOptions.search()}):$.gridOptions.search()}function f(t){var a=angular.extend({},t,{"class":$.currentFilter["class"],subClass:$.currentFilter.subClass,country:e.parentId,propertyType:$.currentFilter.propertyType});return a}function h(e){return 2===e.allowSubClass}function y(e){return e.isAdded||e.deleted||e.isEdited}function b(e){return o.instant("jurisdictions.maintenance.classes.itemMaintenance")+" ("+e.itemsCount+")"}function w(e){$.gridOptions.insertAfterSelectedRow(e)}function k(e,t){return n.openModal({id:"ClassesMaintenance",mode:e,isAddAnother:!1,controllerAs:"vm",addItem:w,dataItem:t,allItems:$.gridOptions.dataSource.data(),parentId:T,jurisdiction:$.topic.jurisdiction})}function C(){var e=$.gridOptions&&$.gridOptions.dataSource&&$.gridOptions.dataSource.data(),t=e&&_.any(e,function(e){return e.isAdded||e.deleted||e.isEdited});return t}function D(){return{classesDelta:x()}}function x(){var e=S(function(e){return e.isAdded&&!e.deleted}),t=S(function(e){return e.isEdited&&!e.isAdded}),a=S(function(e){return e.deleted});return{added:e,updated:t,deleted:a}}function S(e){return _.chain($.gridOptions.dataSource.data()).filter(e).map(I).value()}function I(t){var a={id:t.id,"class":t["class"],countryId:e.parentId,description:t.description,sequenceNo:t.sequenceNo,subClass:t.subClass,propertyType:t.propertyTypeCode,notes:t.notes,allowSubClass:t.allowSubClass,effectiveDate:t.effectiveDate,intClasses:t.intClasses};return a}var T,$=this;$.$onInit=l}]),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionClassesService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/maintenance/",a={search:function(a,i){return e.get(t+"classes/"+encodeURIComponent(i),{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})}};return a}]),angular.module("inprotech.configuration.general.jurisdictions").controller("ValidCombinationsController",["$scope","$state","kendoGridBuilder","jurisdictionCombinationsService",function(e,t,a,i){"use strict";function n(){r.parentId=e.parentId,r.parentName=e.parentName,r.hasValidCombinations=!1,r.displayLink=!1,o()}function o(){i.hasCombinations(r.parentId).then(function(e){r.hasValidCombinations=e.hasCombinations,r.displayLink=e.canAccessValidCombinations})}var r=this;r.$onInit=n}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionValidCombinations",function(){"use strict";return{restrict:"E",scope:{parentId:"=",parentName:"=",displayLink:"="},controller:"ValidCombinationsController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/combinations.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionCombinationsService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/maintenance/",a={hasCombinations:function(a){return e.get(t+"combinations/"+encodeURIComponent(a)).then(function(e){return e.data})}};return a}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionDefaults",function(){"use strict";return{restrict:"E",scope:{viewData:"="},controller:"BillingDefaultsController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/defaults.html",bindToController:{topic:"="}}}).controller("BillingDefaultsController",["$scope","$http","ExtObjFactory",function(e,t,a){"use strict";function i(){c.formData={},c.topic.isDirty=r,c.topic.discard=s,c.topic.getFormData=angular.noop,c.topic.afterSave=l,c.topic.hasError=o,n()}function n(){var a=e.viewData;c.formData=p.attach(a),c.topic.initialised=!0,t.get("api/configuration/jurisdictions/taxexemptoptions").then(function(e){c.taxExemptOptions=e.data})}function o(){return c.form&&c.form.$dirty&&c.form.$invalid}function r(){return p.isDirty()}function s(){c.form.$reset(),p.restore()}function l(){p.save()}var c=this,d=(new a).useDefaults(),p=d.createContext();c.$onInit=i}]),angular.module("inprotech.configuration.general.jurisdictions").component("ipGroupModalSubheader",{bindings:{allItems:"<",currentItem:"<",isEditMode:"<",onNavigate:"<",hasUnsavedChanges:"<"},templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/group-modal-subheader.html",controllerAs:"vm",controller:["$scope",function(e){var t=this;t.onNavigateInteral=function(a){t.onNavigate()&&e.$emit("modalChangeView",{dataItem:a})}}]}),angular.module("inprotech.configuration.general.jurisdictions").controller("GroupsController",["$scope","kendoGridBuilder","jurisdictionGroupsService","jurisdictionMaintenanceService","dateService","modalService","hotkeys","$translate","notificationService","focus",function(e,t,a,i,n,o,r,s,l,c){"use strict";function d(){E=e.parentId,O.context="groups",O.gridOptions=m(),O.search=w,O.onAddClick=g,O.onEditClick=f,O.type=e.type,O.allMembersFlag=O.topic.allMembersFlag,O.displayGroups=!1,O.displayName=u,O.form={},O.topic.isDirty=C,O.topic.getFormData=x,O.topic.hasError=angular.noop,O.topic.initializeShortcuts=$,O.setFormDirty=D,a.lastSearchedOnGroups=!1,p(),O.topic.initialised=!0;
}function p(){"0"===O.type&&(O.displayGroups=!0)}function u(){return O.displayGroups?s.instant("jurisdictions.maintenance.groupMemberships.groupName"):s.instant("jurisdictions.maintenance.groupMemberships.memberName")}function m(){return t.buildOptions(e,{id:"groupMembers",topicItemNumberKey:O.topic.key,autoBind:!0,pageable:!1,selectable:!0,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, error: dataItem.error}" uib-tooltip="{{dataItem.errorMessage}}" tooltip-class="tooltip-error" data-tooltip-placement="left"',actions:O.topic.canUpdate?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0}:null,read:function(e){return null!==O.gridOptions.getQueryParams()&&(e=O.gridOptions.getQueryParams()),a.search(e,E,O.displayGroups?"groups":"members")},columns:v()})}function v(){var e=[{title:"jurisdictions.maintenance.groupMemberships.code",field:"id",sortable:!0},{title:"jurisdictions.maintenance.groupMemberships.memberName",field:"name",sortable:!0,headerTemplate:"{{vm.displayName()}}"},{title:"jurisdictions.maintenance.groupMemberships.dateCommenced",field:"dateCommenced",sortable:!0,template:"<span>{{ dataItem.dateCommenced | localeDate }}</span>"},{title:"jurisdictions.maintenance.groupMemberships.dateCeased",field:"dateCeased",sortable:!0,template:"<span>{{ dataItem.dateCeased | localeDate }}</span>"},{title:"jurisdictions.maintenance.groupMemberships.fullMembershipDate",field:"fullMembershipDate",sortable:!0,template:"<span>{{ dataItem.fullMembershipDate | localeDate }}</span>"},{title:"jurisdictions.maintenance.groupMemberships.associateMember",field:"isAssociateMember",sortable:!0,template:'<input ng-model="dataItem.isAssociateMember" type="checkbox" disabled="true" /><span style="margin-left:10%">{{ dataItem.associateMemberDate | localeDate }}</span>'},{title:"jurisdictions.maintenance.groupMemberships.groupDefault",field:"isGroupDefault",sortable:!0,template:'<input ng-model="dataItem.isGroupDefault" type="checkbox" disabled="true" />'},{title:"jurisdictions.maintenance.groupMemberships.propertyTypes",field:"propertyTypesName",sortable:!1}];return e}function g(){y("add").then(function(e){h(e)})}function f(e){y("edit",e)}function h(e){O.gridOptions.insertAfterSelectedRow(e)}function y(e,t){return o.openModal({id:"GroupMembershipMaintenance",mode:e,isAddAnother:!1,controllerAs:"vm",addItem:h,type:O.type,parentId:E,jurisdiction:O.topic.jurisdiction,allItems:O.gridOptions.dataSource.data(),dataItem:t,isGroup:O.displayGroups})}function b(e){O.displayGroups=e,a.lastSearchedOnGroups=e}function w(e){return k()?void l.confirm({title:"Warning",message:"jurisdictions.maintenance.groupMemberships.warningMessage",cancel:"Cancel","continue":"Proceed"}).then(function(){return b(e),O.gridOptions.search()},function(){a.lastSearchedOnGroups!==e?O.displayGroups=!e:O.displayGroups=e,c(O.displayGroups?"display-groups":"display-members")}):(b(e),O.gridOptions.search())}function k(){var e=O.gridOptions&&O.gridOptions.dataSource&&O.gridOptions.dataSource.data(),t=e&&_.any(e,function(e){return e.isAdded||e.deleted||e.isEdited});return t}function C(){return k()||O.form.$dirty}function D(){O.form.$dirty=!0}function x(){return{groupMembershipDelta:S(),allMembersFlag:O.allMembersFlag}}function S(){var e=I(function(e){return e.isAdded&&!e.deleted}),t=I(function(e){return e.isEdited&&!e.isAdded}),a=I(function(e){return e.deleted});return{added:e,updated:t,deleted:a}}function I(e){return _.chain(O.gridOptions.dataSource.data()).filter(e).map(T).value()}function T(t){var a={memberCode:O.displayGroups?e.parentId:t.id,groupCode:O.displayGroups?t.id:e.parentId,dateCommenced:t.dateCommenced,dateCeased:t.dateCeased,fullMembershipDate:t.fullMembershipDate,associateMemberDate:t.associateMemberDate,isGroupDefault:t.isGroupDefault,preventNationalPhase:t.preventNationalPhase,isAssociateMember:t.isAssociateMember,propertyTypes:t.propertyTypes};return a}function $(){O.topic.canUpdate&&r.add({combo:"alt+shift+i",description:"shortcuts.add",callback:g})}var E,O=this;O.$onInit=d}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionGroups",function(){"use strict";return{restrict:"E",scope:{parentId:"=",type:"="},controller:"GroupsController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/groups.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionGroupsService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/maintenance/",a={search:function(a,i,n){return e.get(t+n+"/"+encodeURIComponent(i),{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})},lastSearchedOnGroups:!1};return a}]),angular.module("inprotech.configuration.general.jurisdictions").controller("JurisdictionOverviewController",["$scope","ExtObjFactory","dateHelper",function(e,t,a){"use strict";function i(){d.form={},d.formData={},d.topic.isDirty=o,d.topic.discard=r,d.topic.getFormData=s,d.topic.afterSave=l,d.topic.hasError=c,n()}function n(){var t=e.viewData;t.dateCommenced=t.dateCommenced?new Date(a.convertForDatePicker(t.dateCommenced)):null,t.dateCeased=t.dateCeased?new Date(a.convertForDatePicker(t.dateCeased)):null,d.formData=u.attach(t),d.topic.initialised=!0}function o(){return u.isDirty()}function r(){d.form.$reset(),u.restore()}function s(){return d.formData.getRaw()}function l(){u.save()}function c(){return d.form.$invalid&&d.form.$dirty}var d=this,p=(new t).useDefaults(),u=p.createContext();d.$onInit=i}]).directive("ipJurisdictionOverview",function(){"use strict";return{restrict:"E",scope:{viewData:"="},controller:"JurisdictionOverviewController",controllerAs:"vm",bindToController:{topic:"="},templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/overview.html"}}),angular.module("inprotech.configuration.general.jurisdictions").controller("StatesController",["$scope","kendoGridBuilder","jurisdictionStatesService","jurisdictionMaintenanceService","inlineEdit","hotkeys","$translate",function(e,t,a,i,n,o,r){"use strict";function s(){D=e.parentId,x.stateLabel=e.stateLabel||"",x.gridOptions=c(),x.onAddClick=m,x.stateCodeChange=p,x.checkDuplicateError=C,x.getStateLabel=l,x.applyInUseError=k,x.getErrorType=d,_.extend(x.topic,{getFormData:h,hasError:v,isDirty:g,validate:f,initializeShortcuts:b,setInUseError:w}),x.topic.initialised=!0}function l(){return x.stateLabel.trim()?x.stateLabel:r.instant("jurisdictions.maintenance.states.state")}function c(){return t.buildOptions(e,{id:"statesGrid",topicItemNumberKey:x.topic.key,autoBind:!0,pageable:!1,sortable:!1,read:function(e){return a.search(e,D).then(function(e){return _.map(e,S)})},autoGenerateRowTemplate:x.topic.canUpdate,rowAttributes:'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError() || dataItem.inUse, edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted}"uib-tooltip="{{vm.getErrorType(dataItem) | translate}} {{vm.getStateLabel()}}" tooltip-enable="{{dataItem.inUse || dataItem.error(\'duplicate\')}}" tooltip-class="tooltip-error" data-tooltip-placement="left"',actions:x.topic.canUpdate?{"delete":{onClick:"vm.checkDuplicateError(dataItem)"}}:null,onDataCreated:function(){x.topic.setInUseError(i.getInUseItems("states"))},columns:[{title:x.stateLabel.trim()?x.stateLabel:"jurisdictions.maintenance.states.state",width:"10%",template:x.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.code"></span><ip-text-field ng-if="!dataItem.deleted" label="" focus-on-add ip-required name="stateCode" ng-maxlength="20" ng-model="dataItem.code" ng-change="vm.stateCodeChange(dataItem)" ng-disabled ="!dataItem.added && !dataItem.deleted "></ip-text-field>':'<span ng-bind="dataItem.code"></span>'},{title:(x.stateLabel.trim()?x.stateLabel:r.instant("jurisdictions.maintenance.states.state"))+" Name",template:x.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.name"></span><ip-text-field ng-if="!dataItem.deleted" label="" ip-required name="stateName" ng-maxlength="40" ng-model="dataItem.name" ng-change="vm.stateCodeChange(dataItem)"></ip-text-field>':'<span ng-bind="dataItem.translatedName"></span>'}]})}function d(e){return e.inUse===!1?"field.errors.duplicate":"field.errors.inUse"}function p(e){x.checkDuplicateError(e)}function u(e,t){return i.isDuplicated(e,t,["code"])}function m(){var e=x.gridOptions.dataSource.total(),t=S();t.countryCode=x.parentId,t.id=-1,x.gridOptions.insertRow(e,t)}function v(){return x.form.$invalid||n.hasError(x.gridOptions.dataSource.data())}function g(){return n.canSave(x.gridOptions.dataSource.data())}function f(){return x.form.$validate()}function h(){var e=n.createDelta(x.gridOptions.dataSource.data(),y);return{stateDelta:e}}function y(e){var t={id:e.id,countryId:D,code:e.code,name:e.name};return t}function b(){x.topic.canUpdate&&o.add({combo:"alt+shift+i",description:"shortcuts.add",callback:m})}function w(e){null!==e&&_.each(e,function(e){x.applyInUseError(e)})}function k(e){var t=_.find(x.gridOptions.dataSource.data(),function(t){return t.id===e.id});t?t.set("inUse",!0):t.set("inUse",!1)}function C(e){var t=_.filter(x.gridOptions.dataSource.data(),function(e){return!e.deleted});u(t,e)&&!e.deleted?(e.error("duplicate",!0),e.set("inUse",!1)):e.error("duplicate",!1);var a=_.without(t,e);_.each(a,function(e){e.hasError()&&(u(a,e)||e.error("duplicate",!1))})}var D,x=this;x.$onInit=s;var S=n.defineModel(["id","countryId","code","name","translatedName"])}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionStates",function(){"use strict";return{restrict:"E",scope:{parentId:"=",stateLabel:"="},controller:"StatesController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/states.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionStatesService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/maintenance/",a={search:function(a,i){return e.get(t+"states/"+encodeURIComponent(i),{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})}};return a}]),angular.module("inprotech.configuration.general.jurisdictions").controller("StatusFlagsController",["$scope","kendoGridBuilder","jurisdictionStatusFlagsService","jurisdictionMaintenanceService","inlineEdit","hotkeys",function(e,t,a,i,n,o){"use strict";function r(){b=e.parentId,w.gridOptions=l(),w.onAddClick=u,w.registrationStatus=a.registrationStatus,w.initialize=s,w.statusFlagChange=c,w.checkDuplicateError=d,w.initialize(),_.extend(w.topic,{getFormData:f,hasError:m,isDirty:v,validate:g,initializeShortcuts:y}),w.topic.initialised=!0}function s(){a.copyProfiles().then(function(e){w.copyProfiles=e.data})}function l(){return t.buildOptions(e,{id:"statusFlagsGrid",autoBind:!0,pageable:!1,sortable:!1,autoGenerateRowTemplate:w.topic.canUpdate,read:function(e){return a.search(e,b).then(function(e){return _.map(e,k)})},rowAttributes:'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted}"uib-tooltip="{{\'jurisdictions.maintenance.designationStages.duplicate\' | translate}}" tooltip-enable="dataItem.error(\'duplicate\')" tooltip-class="tooltip-error" data-tooltip-placement="left"',actions:w.topic.canUpdate?{"delete":{onClick:"vm.checkDuplicateError(dataItem)"}}:null,columns:[{title:"jurisdictions.maintenance.designationStages.designationStage",template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.name"></span><ip-text-field ng-if="!dataItem.deleted" label="" ip-required name="name" ng-maxlength="30" ng-model="dataItem.name" ng-change="vm.statusFlagChange(dataItem)"></ip-text-field>':'<span ng-bind="dataItem.nameTranslated"></span>'},{title:"jurisdictions.maintenance.designationStages.restrictRemoval",template:'<input ng-model="dataItem.restrictRemoval" type="checkbox" ng-disabled="!vm.topic.canUpdate || dataItem.deleted" />'},{title:"jurisdictions.maintenance.designationStages.allowNationalPhase",template:'<input ng-model="dataItem.allowNationalPhase" type="checkbox" ng-disabled="!vm.topic.canUpdate || dataItem.deleted" />'},{title:"jurisdictions.maintenance.designationStages.registrationStatus",template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.registrationStatus"></span><ip-dropdown ng-if="!dataItem.deleted" label="" ip-required name="registrationStatus" ng-model="dataItem.status"  options="option.key as option.value for option in vm.registrationStatus"></ip-dropdown>':'<span ng-bind="dataItem.registrationStatus"></span>'},{title:"jurisdictions.maintenance.designationStages.caseCreationCopyProfile",field:"profileName",template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.profileName"></span><ip-dropdown ng-if="!dataItem.deleted" label="" name="profileName" ng-model="dataItem.profileName"  options="option.key as option.value for option in vm.copyProfiles"></ip-dropdown>':'<span ng-bind="dataItem.profileName"></span>'}]})}function c(e){w.checkDuplicateError(e)}function d(e){var t=_.filter(w.gridOptions.dataSource.data(),function(e){return!e.deleted});p(t,e)&&!e.deleted?e.error("duplicate",!0):e.error("duplicate",!1);var a=_.without(t,e);_.each(a,function(e){e.hasError()&&(p(a,e)||e.error("duplicate",!1))})}function p(e,t){return i.isDuplicated(e,t,["name"])}function u(){var e=w.gridOptions.dataSource.total(),t=k();t.countryCode=w.parentId,t.id=-1,w.gridOptions.insertRow(e,t)}function m(){return w.form.$invalid||n.hasError(w.gridOptions.dataSource.data())}function v(){return n.canSave(w.gridOptions.dataSource.data())}function g(){return w.form.$validate()}function f(){var e=n.createDelta(w.gridOptions.dataSource.data(),h);return{statusFlagsDelta:e}}function h(e){var t={id:e.id,countryId:b,name:e.name,restrictRemoval:e.restrictRemoval,allowNationalPhase:e.allowNationalPhase,profileName:e.profileName,status:e.status};return t}function y(){w.topic.canUpdate&&o.add({combo:"alt+shift+i",description:"shortcuts.add",callback:u})}var b,w=this;w.$onInit=r;var k=n.defineModel(["id","countryId","name","restrictRemoval","allowNationalPhase","profileName","status","registrationStatus"])}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionStatusFlags",function(){"use strict";return{restrict:"E",scope:{parentId:"="},controller:"StatusFlagsController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/statusflags.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionStatusFlagsService",["$http","$translate",function(e,t){"use strict";function a(){return e.get("api/picklists/CopyProfiles").then(function(e){return e.data})}var i="api/configuration/jurisdictions/maintenance/",n=[{key:1,value:t.instant("status.pending")},{key:2,value:t.instant("status.registered")},{key:0,value:t.instant("status.dead")}],o={search:function(t,a){return e.get(i+"statusflags/"+encodeURIComponent(a),{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},copyProfiles:a,registrationStatus:n};return o}]),angular.module("inprotech.configuration.general.jurisdictions").controller("TextsController",["$scope","kendoGridBuilder","jurisdictionTextsService","jurisdictionMaintenanceService","inlineEdit","hotkeys",function(e,t,a,i,n,o){"use strict";function r(){w.formData={},b=e.parentId,w.gridOptions=y(),w.onAddClick=s,w.extendPropertyTypePicklist=h,w.checkDuplicateError=v,w.onPicklistValueChange=f,w.topic.isDirty=l,w.topic.hasError=d,w.topic.validate=m,w.topic.getFormData=c,w.topic.initializeShortcuts=u,w.topic.initialised=!0}function s(){var e=w.gridOptions.dataSource.total();w.gridOptions.insertRow(e,k())}function l(){return n.canSave(w.gridOptions.dataSource.data())}function c(){var e=n.createDelta(w.gridOptions.dataSource.data(),p);return{textsDelta:e}}function d(){return w.form.$invalid||n.hasError(w.gridOptions.dataSource.data())}function p(t){var a={countryCode:e.parentId,propertyType:t.propertyType,textType:t.textType,text:t.text,sequenceId:t.sequenceId};return a}function u(){w.topic.canUpdate&&o.add({combo:"alt+shift+i",description:"shortcuts.add",callback:s})}function m(){return w.form.$validate()}function v(e){var t=_.filter(w.gridOptions.dataSource.data(),function(e){return!e.deleted});g(t,e)&&!e.deleted?e.error("duplicate",!0):e.error("duplicate",!1);var a=_.without(t,e);_.each(a,function(e){e.hasError()&&(g(a,e)||e.error("duplicate",!1))})}function g(e,t){return i.isDuplicated(e,t,["textType","propertyType"])}function f(e){w.checkDuplicateError(e)}function h(t){var a=angular.extend({},t,{jurisdiction:e.parentId?e.parentId:"",latency:888});return a}function y(){return t.buildOptions(e,{id:"textsGrid",topicItemNumberKey:w.topic.key,autoBind:!0,pageable:!1,sortable:!1,read:function(e){return a.search(e,b).then(function(e){return _.map(e,k)})},autoGenerateRowTemplate:w.topic.canUpdate,actions:w.topic.canUpdate?{"delete":{onClick:"vm.checkDuplicateError(dataItem)"}}:null,rowAttributes:'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted}"uib-tooltip="{{\'jurisdictions.maintenance.texts.duplicate\' | translate}}" tooltip-enable="dataItem.error(\'duplicate\')" tooltip-class="tooltip-error" data-tooltip-placement="left"',columns:[{title:"jurisdictions.maintenance.texts.textType",width:"30%",fixed:!0,template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.textType.value"></span><span ng-if="!dataItem.deleted && !dataItem.added" ng-bind="dataItem.textType.value" ></span><ip-typeahead ng-if="!dataItem.deleted && dataItem.added" focus-on-add ip-required label="" name="textType" ng-class="{edited: vm.isDirty()}" ng-model="dataItem.textType" data-config="countryTexts" data-key-field="key" data-code-field="code" data-text-field="value" data-picklist-can-maintain="true" ng-change="vm.onPicklistValueChange(dataItem)"></ip-typeahead>':'<span ng-bind="dataItem.textType.value"></span>'},{title:"jurisdictions.maintenance.texts.propertyType",width:"25%",fixed:!0,template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.propertyType.value"></span><ip-typeahead ng-if="!dataItem.deleted" data-config="propertyType" label ="" name="propertyType" ng-model="dataItem.propertyType" ng-class="{edited: vm.isDirty()}" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value" data-extend-query="vm.extendPropertyTypePicklist" ng-change="vm.onPicklistValueChange(dataItem)"></ip-typeahead>':'<span ng-bind="dataItem.propertyType.value"></span>'},{title:"jurisdictions.maintenance.texts.text",width:"45%",fixed:!0,template:w.topic.canUpdate?'<span ng-if="dataItem.deleted" ng-bind="dataItem.text"></span><ip-text-field multiline rows="3" ng-if="!dataItem.deleted" label="" name="text" ng-model="dataItem.text"></ip-text-field>':'<span ng-bind="dataItem.text"></span>'}]})}var b,w=this,k=n.defineModel([{name:"textType",equals:function(e,t){return e.key===t.key}},{name:"propertyType",equals:function(e,t){return e.key===t.key}},"text","sequenceId"]);w.$onInit=r}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionTexts",function(){"use strict";return{restrict:"E",scope:{parentId:"="},controller:"TextsController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/texts.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionTextsService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/maintenance/",a={search:function(a,i){return e.get(t+"texts/"+encodeURIComponent(i),{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})}};return a}]),angular.module("inprotech.configuration.general.jurisdictions").controller("ValidNumbersController",["$scope","kendoGridBuilder","jurisdictionValidNumbersService","dateService","modalService","dateHelper",function(e,t,a,i,n,o){"use strict";function r(){h=e.parentId,y.onAddClick=l,y.onEditClick=c,y.topic.isDirty=u,y.topic.getFormData=m,y.topic.hasError=angular.noop,y.countryCode=e.parentId,y.gridOptions=s(),y.topic.initialised=!0}function s(){return t.buildOptions(e,{id:"validNumbersGrid",topicItemNumberKey:y.topic.key,autoBind:!0,pageable:!1,rowAttributes:'ng-class="{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, error: dataItem.error}" uib-tooltip="{{dataItem.errorMessage}}" tooltip-class="tooltip-error" data-tooltip-placement="left"',actions:y.topic.canUpdate?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0}:null,autoGenerateRowTemplate:!0,read:function(e){return null!==y.gridOptions.getQueryParams()&&(e=y.gridOptions.getQueryParams()),a.search(e,h).then(function(e){return _.each(e,function(e){e.validFrom=o.convertForDatePicker(e.validFrom)}),e})},columns:[{title:"jurisdictions.maintenance.validNumbers.propertyType",field:"propertyTypeName",sortable:!0},{title:"jurisdictions.maintenance.validNumbers.numberType",field:"numberTypeName",sortable:!0},{title:"jurisdictions.maintenance.validNumbers.caseType",field:"caseTypeName",sortable:!0},{title:"jurisdictions.maintenance.validNumbers.caseCategory",field:"caseCategoryName",sortable:!0},{title:"jurisdictions.maintenance.validNumbers.subType",field:"subTypeName",sortable:!0},{title:"jurisdictions.maintenance.validNumbers.validFrom",field:"validFrom",template:"<span>{{ dataItem.validFrom | localeDate }}</span>"},{title:"jurisdictions.maintenance.validNumbers.pattern",field:"pattern",sortable:!0},{title:"jurisdictions.maintenance.validNumbers.warningFlag",field:"warningFlag",sortable:!0,template:'<input ng-model="dataItem.warningFlag" type="checkbox" disabled="true" />'},{title:"jurisdictions.maintenance.validNumbers.errorMessage",field:"displayMessage",sortable:!0}]})}function l(){p("add").then(function(e){d(e)})}function c(e){p("edit",e)}function d(e){y.gridOptions.insertAfterSelectedRow(e)}function p(e,t){return n.openModal({id:"ValidNumbersMaintenance",mode:e,isAddAnother:!1,controllerAs:"vm",addItem:d,dataItem:t,allItems:y.gridOptions.dataSource.data(),parentId:h,jurisdiction:y.topic.jurisdiction})}function u(){var e=y.gridOptions&&y.gridOptions.dataSource&&y.gridOptions.dataSource.data(),t=e&&_.any(e,function(e){return e.isAdded||e.deleted||e.isEdited});return t}function m(){return{validNumbersDelta:v()}}function v(){var e=g(function(e){return e.isAdded&&!e.deleted}),t=g(function(e){return e.isEdited&&!e.isAdded}),a=g(function(e){return e.deleted});return{added:e,updated:t,deleted:a}}function g(e){return _.chain(y.gridOptions.dataSource.data()).filter(e).map(f).value()}function f(t){var a={id:t.id,propertyTypeCode:t.propertyTypeCode,caseTypeCode:t.caseTypeCode,subTypeCode:t.subTypeCode,caseCategoryCode:t.caseCategoryCode,numberTypeCode:t.numberTypeCode,countryCode:e.parentId,pattern:t.pattern,displayMessage:t.displayMessage,additionalValidationId:t.additionalValidationId,warningFlag:t.warningFlag,validFrom:t.validFrom};return a}var h,y=this;y.$onInit=r}]),angular.module("inprotech.configuration.general.jurisdictions").directive("ipJurisdictionValidNumbers",function(){"use strict";return{restrict:"E",scope:{parentId:"="},controller:"ValidNumbersController",controllerAs:"vm",templateUrl:"condor/configuration/general/jurisdictions/maintenance/directives/validnumbers.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionValidNumbersService",["$http",function(e){"use strict";var t="api/configuration/jurisdictions/maintenance/",a={search:function(a,i){return e.get(t+"validNumbers/"+encodeURIComponent(i),{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})},validateStoredProcedure:function(a){return e.get(t+"validnumbers/validatestoredproc/"+encodeURIComponent(a)).then(function(e){return e.data})}};return a}]),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionMaintenanceService",["$http",function(e){"use strict";function t(e,i){return e&&e.key&&i&&i.key?t(e.key,i.key):(i instanceof Date&&(e=new Date(e)),a(e)===a(i))}function a(e){return""===e||null==e?null:e instanceof Date?Number(e):e}function i(t){return e.post("api/configuration/jurisdictions/maintenance/changecode",t)}function n(e){if(null===r.saveResponse)return null;var t=_.first(_.where(r.saveResponse,{topicName:e}));return void 0!==t?t.inUseItems:null}var o="api/configuration/jurisdictions/maintenance/",r={save:function(t,a){return e.put(o+t,a)},create:function(t){return e.post(o,t)},"delete":function(t){return e.post(o+"delete/",t)},isDuplicated:function(e,a,i){var n=_.any(_.without(e,a),function(e){return _.all(i,function(i){return t(e[i],a[i])})});return n},saveResponse:null,getInUseItems:n,changeJurisdictionCode:i};return r}]),angular.module("inprotech.configuration.general.jurisdictions").controller("JurisdictionsController",["$scope","$state","initialData","kendoGridBuilder","jurisdictionsService","modalService","notificationService","hotkeys","BulkMenuOperations","jurisdictionMaintenanceService",function(e,t,a,i,n,o,r,s,l,c){"use strict";function d(){S.context="jurisdictions",S.search=m,S.reset=u,S.menuInitialised=x,S.maintain=v,S.openAddModal=f,S.initShortcuts=h,S.permissions={canMaintain:a.canMaintain,viewOnly:a.viewOnly},S.menu=w(),S.gridOptions=g(),p()}function p(){S.searchCriteria={},u()}function u(){S.gridOptions.clear(),S.searchCriteria.text="",S.menu.clearAll()}function m(){S.gridOptions.clear(),S.gridOptions.search(),S.menu.clearAll()}function v(e){t.go("jurisdictions.detail",{id:e}),c.saveResponse=null}function g(){return i.buildOptions(e,{id:"searchResults",pageable:!0,scrollable:!1,navigatable:!0,selectable:"row",selectOnNavigate:!0,filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},onSelect:function(){var e=S.gridOptions.selectFocusedRow();S.maintain(e.id)},read:function(e){return n.search(S.searchCriteria,e)},readFilterMetadata:function(e){return n.getColumnFilterData(e)},onDataCreated:function(){I.selectionChange(S.gridOptions.data())},autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{error: dataItem.inUse === true && dataItem.selected === true}"',columns:[{headerTemplate:'<div data-bulk-actions-menu data-context="jurisdictionMenu" data-actions="vm.menu.items" data-on-clear="vm.menu.clearAll()" data-on-select-this-page="vm.menu.selectPage(val)" data-items="vm.gridOptions.data()" data-initialised="vm.menuInitialised()" is-full-selection-possible="false"></div>',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)"></ip-checkbox>',width:"35px",fixed:!0},{title:"jurisdictions.search.code",field:"id",width:"10%",sortable:!0,template:'<a ng-click="vm.maintain(dataItem.id)">{{dataItem.id}}</a>'},{title:"jurisdictions.search.name",field:"name",sortable:!0,template:'<a ng-click="vm.maintain(dataItem.id)">{{dataItem.name}}</a>'},{title:"jurisdictions.search.type",field:"type",width:"10%",sortable:!0,filterable:!0}]})}function f(){var e=o.openModal({id:"CreateJurisdiction",controllerAs:"vm"});e.then(function(){r.success(),S.maintain(n.newId),S.search()})}function h(){S.permissions.canMaintain&&(s.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){o.canOpen()&&S.openAddModal()}}),s.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){o.canOpen()&&k()&&D()}}))}function y(){b(I.selectedRecord(S.gridOptions.data()))}function b(e){var t={jurisdictionCode:e.id,newJurisdictionCode:null},a=o.openModal({id:"ChangeJurisdictionCode",entity:t,controllerAs:"vm"});a.then(function(){S.gridOptions.search(),I.clearAll(S.gridOptions.data())})}function w(){return{context:"jurisdictionMenu",items:[{id:"edit",enabled:k,maxSelection:1,click:C},{id:"delete",enabled:k,click:D},{id:"changeCode",text:"jurisdictions.changeCode.changeJurisdictionCode",icon:"cpa-icon cpa-icon-pencil-square-o",enabled:k,click:y,maxSelection:1}],clearAll:function(){I.clearAll(S.gridOptions.data())},selectionChange:function(e){I.singleSelectionChange(S.gridOptions.data(),e)},selectPage:function(e){I.selectPage(S.gridOptions.data(),e)}}}function k(){return S.permissions.canMaintain&&I.anySelected(S.gridOptions.data())}function C(){var e=_.pluck(_.where(S.gridOptions.data(),{selected:!0}),"id");S.maintain(e)}function D(){r.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){var e=_.pluck(I.selectedRecords(),"id");c["delete"](e).then(function(e){"success"===e.data.result?(r.success(),I.clearSelectedItemsArray(),S.gridOptions.search(S.searchCriteria,S.gridOptions.queryParams)):(r.alert({title:"modal.unableToComplete",message:"modal.alert.alreadyInUse"}),S.gridOptions.search(S.searchCriteria,S.gridOptions.queryParams).then(function(){var t=_.pluck(e.data.errors,"id");I.selectionChange(S.gridOptions.data(),t)}))})})}function x(){I.initialiseMenuForPaging(S.gridOptions.pageable.pageSize)}var S=this,I=new l("jurisdictionMenu");S.$onInit=d}]),angular.module("inprotech.configuration.general.jurisdictions").factory("jurisdictionsService",["$http","LastSearch","store",function(e,t,a){"use strict";function i(e){return{text:e.text||""}}function n(t,a){r=angular.copy(t);var n=i(t);return e.get(s+"search",{params:{q:JSON.stringify(n),params:JSON.stringify(a)}}).then(function(e){return e.data})}function o(){return e.get("api/configuration/jurisdictions/view").then(function(e){return e.data})}var r,s="api/configuration/jurisdictions/",l={search:function(e,i){return l.lastSearch=new t({method:n,methodName:"search",args:arguments}),a.local.set("lastSearch",arguments),n(e,i)},getColumnFilterData:function(t){var a=i(r);return e.get(s+"filterdata/"+t.field,{params:{criteria:JSON.stringify(a)}}).then(function(e){return e.data})},initialData:o,newId:null};return l}]),function(){"use strict";angular.module("inprotech.configuration.general.namerestrictions",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.namerestrictions").run(["modalService",function(e){e.register("NameRestrictionsMaintenance","NameRestrictionsMaintenanceController","condor/configuration/general/namerestrictions/namerestrictions.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.namerestrictions").config(["$stateProvider",function(e){e.state("namerestrictions",{url:"/configuration/general/namerestrictions",templateUrl:"condor/configuration/general/namerestrictions/namerestrictions.html",controller:"NameRestrictionsController",controllerAs:"vm",resolve:{viewData:["nameRestrictionsService",function(e){return e.viewData()}]},data:{pageTitle:"Name Restriction Maintenance"}})}])}(),angular.module("inprotech.configuration.general.namerestrictions").controller("NameRestrictionsController",NameRestrictionsController),angular.module("inprotech.configuration.general.namerestrictions").controller("NameRestrictionsMaintenanceController",NameRestrictionsMaintenanceController).constant("nameRestrictionActions",{DisplayWarningWithPassword:2}),angular.module("inprotech.configuration.general.namerestrictions").factory("nameRestrictionsService",NameRestrictionService),function(){"use strict";angular.module("inprotech.configuration.general.nametypes",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.nametypes").run(["modalService",function(e){e.register("NameTypeMaintenance","NameTypeMaintenanceController","condor/configuration/general/nametypes/nametypes.maintenance.html",{
windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.nametypes").config(["$stateProvider",function(e){e.state("nametypes",{url:"/configuration/general/nametypes",templateUrl:"condor/configuration/general/nametypes/nametypes.html",controller:"NameTypesController",controllerAs:"vm",resolve:{viewData:["nameTypesService",function(e){return e.viewData()}]},data:{pageTitle:"Name Type Maintenance"}})}]),angular.module("inprotech.configuration.general.nametypes").run(["modalService",function(e){e.register("NameTypesOrder","NameTypesOrderController","condor/configuration/general/nametypes/nametypes.order.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(),angular.module("inprotech.configuration.general.nametypes").controller("NameTypesController",NameTypesController),angular.module("inprotech.configuration.general.nametypes").controller("NameTypeMaintenanceController",NameTypeMaintenanceController),angular.module("inprotech.configuration.general.nametypes").controller("NameTypesOrderController",NameTypesOrderController),angular.module("inprotech.configuration.general.nametypes").factory("nameTypesService",NameTypesService),function(){"use strict";angular.module("inprotech.configuration.general.numbertypes",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.numbertypes").run(["modalService",function(e){e.register("NumberTypeMaintenance","NumberTypeMaintenanceController","condor/configuration/general/numbertypes/numbertypes.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.numbertypes").run(["modalService",function(e){e.register("ChangeNumberTypeCode","ChangeNumberTypeCodeController","condor/configuration/general/numbertypes/numbertypes.changecode.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.numbertypes").config(["$stateProvider",function(e){e.state("numbertypes",{url:"/configuration/general/numbertypes",templateUrl:"condor/configuration/general/numbertypes/numbertypes.html",controller:"NumberTypesController",controllerAs:"vm",resolve:{viewData:["numberTypesService",function(e){return e.viewData()}]},data:{pageTitle:"Number Type Maintenance"}})}]),angular.module("inprotech.configuration.general.numbertypes").run(["modalService",function(e){e.register("NumberTypesOrder","NumberTypesOrderController","condor/configuration/general/numbertypes/numbertypes.order.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(),angular.module("inprotech.configuration.general.numbertypes").controller("ChangeNumberTypeCodeController",ChangeNumberTypeCodeController),angular.module("inprotech.configuration.general.numbertypes").controller("NumberTypesController",NumberTypesController),angular.module("inprotech.configuration.general.numbertypes").controller("NumberTypeMaintenanceController",NumberTypeMaintenanceController),angular.module("inprotech.configuration.general.numbertypes").controller("NumberTypesOrderController",NumberTypesOrderController),angular.module("inprotech.configuration.general.numbertypes").factory("numberTypesService",NumberTypesService),function(){"use strict";angular.module("inprotech.configuration.general.sitecontrols",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.sitecontrols").config(["$stateProvider",function(e){e.state("sitecontrols",{url:"/configuration/general/sitecontrols",templateUrl:"condor/configuration/general/sitecontrols/sitecontrols.html",controller:"SiteControlsController",controllerAs:"vm",resolve:{viewData:["$http",function(e){return e.get("api/configuration/sitecontrols/view").then(function(e){return e.data})}]},data:{pageTitle:"siteControls.summary"}})}])}(),angular.module("inprotech.configuration.general.sitecontrols").directive("iptDataType",function(){"use strict";var e=/^\-?\d+$/,t=/^\-?\d+(\.\d+)?$/;return{restrict:"A",require:"ngModel",scope:{dataType:"@iptDataType",parentModel:"="},link:function(a,i,n,o){function r(a){if(o.$isEmpty(a))return!0;switch(s){case"integer":return e.test(a);case"decimal":return t.test(a)}return!0}var s=a.dataType.toLowerCase(),l=n.name;o.$validators.dataType=function(e,t){return a.parentModel.hasError(l,!r(t)),!0},o.$parsers.push(function(e){if(o.$isEmpty(e))return null;if(r(e))switch(s){case"integer":return parseInt(e);case"decimal":return parseFloat(e)}return e})}}}),angular.module("inprotech.configuration.general.sitecontrols").directive("iptSitecontrolDetailView",function(){"use strict";return{restrict:"E",scope:{parent:"=",canUpdate:"="},templateUrl:"condor/configuration/general/sitecontrols/directives/detailView.html",controller:["$scope",function(e){e.$parent.service.get(e.parent.id).then(function(t){e.item=t,e.inputType="Integer"===t.dataType||"Decimal"===t.dataType?"number":"text"})}]}}),function(){"use strict";angular.module("inprotech.configuration.general.standinginstructions",["inprotech.configuration","inprotech.components"]),angular.module("inprotech.configuration.general.standinginstructions").config(["$stateProvider",function(e){e.state("standinginstructions",{url:"/configuration/general/standinginstructions",templateUrl:"condor/configuration/general/standinginstructions/standinginstructions.html",controller:"StandingInstructionsController",controllerAs:"si",data:{pageTitle:"Standing Instructions Maintenance"}})}])}(),angular.module("inprotech.configuration.general.standinginstructions").factory("ArrayExt",["ObjectExt",function(e){"use strict";function t(t){var a=this;t||(t=[]),a.items=t,angular.forEach(this.items,function(t,i){t instanceof e||(a.items[i]=new e(t))})}return t.prototype={length:function(){var e=this;return e.items.length},clear:function(){var e=this;_.each(_.range(e.items.length),function(t){delete e.items[t]})},addNew:function(t){var a=this,i=new e(t).setNew();return a.items.push(i),i},anyAdditions:function(){var e=this,t=0;return _.each(e.items,function(e){"added"!==e.status||e.isDeleted||t++}),t>0},setSavedState:function(e,t){if(e&&0!==e.length){var a=this;_.each(e.items,function(e){var i=_.find(a.items,function(a){return a.obj[t]===e.obj[t]});i&&(i.isSaved=e.isSaved)})}},setError:function(e){var t=this;_.each(e,function(e){var a;a=isNaN(e.id)?e.id:+e.id;var i=t.get("id",a);i&&i.setError(e.message)})},revertAll:function(){var e=this;_.each(e.items,function(e){e.changeStatus(!0)}),e.removeItems("added"),e.undoDelete()},removeItems:function(e){var t=this;t.items=_.filter(t.items,function(t){return t.status!==e})},undoDelete:function(){_.each(this.items,function(e){e.isDeleted=!1})},getChanges:function(){var e=this,t={added:[],updated:[],deleted:[]};return _.each(e.items,function(e){e.isDeleted&&"added"!==e.status?t.deleted.push(e.getObj()):"added"!==e.status||e.isDeleted?"updated"!==e.status||e.isDeleted||t.updated.push(e.getObj()):t.added.push(e.getObj())}),t},checkUniqueness:function(e,t){var a=this;if(!e)return!1;var i=_.filter(a.items,function(a){return a.obj[e]===t&&!a.isDeleted});return!(i&&i.length>1)},getValidIds:function(){var e=this,t=[];return _.each(e.items,function(e){e.isDeleted||t.push(e.obj.id)}),t},pushOrGet:function(e,t){var a=this,i=a.get(e,t);if(!i){var n={};n[e]=t,i=a.addNew(n)}return i},get:function(e,t){var a=this;return _.find(a.items,function(a){return a.obj[e]===t})}},t}]),angular.module("inprotech.configuration.general.standinginstructions").factory("AssignedArray",["ArrayExt","ObjectExt",function(e,t){"use strict";function a(e){var a=this;e||(e=[]),a.safeCopy=_.map(e,function(e){return _.extend({},e)}),a.items=e,angular.forEach(a.items,function(e,i){e instanceof t||(a.items[i]=new t(e))})}return a.prototype=new e,_.extend(a.prototype,{mergeByProperty:function(e){var t=this;_.each(e.items,function(e){var a=_.find(t.items,function(t){return e.obj.id===t.obj.id});if(a)_.extend(e.obj,a.obj);else{var i=t.addNew({id:e.obj.id,selected:!1});i.status="none",_.extend(e.obj,i.obj)}})},revert:function(){var e=this,t=new a(angular.copy(e.safeCopy)).items;_.each(t,function(t){t.isSaved=e.isSaved(t.obj.id)}),e.clear(),e.items=t},isDirty:function(){var e=this;return _.any(e.items,function(e){return e.status&&"none"!==e.status})},sanitize:function(e){var t=this;t.items=_.filter(t.items,function(t){return _.contains(e,t.obj.id)})},setValue:function(e,t,a){var i=this,n=i.pushOrGet("id",e);n.obj.selected=t,n.changeStatus(a)},isUpdated:function(e){var t=this,a=t.get("id",e);return!!a&&"none"!==a.status},isSaved:function(e){var t=this,a=t.get("id",e);return!!a&&a.isSaved}}),a}]),angular.module("inprotech.configuration.general.standinginstructions").directive("formExt",[function(){"use strict";return{restrict:"AE",require:"^form",link:function(e,t,a,i){i.reset=function(){_.each(i,function(e){e&&e.reset&&e.reset()}),i.$setPristine(),i.$setUntouched()},i.setSavedValues=function(){_.each(i,function(e){e&&e.setNewValue&&e.setNewValue()}),i.$setPristine(),i.$setUntouched()},i.savable=function(){return i.isDirty()&&i.$valid},i.isDirty=function(){var e=!1;return _.each(i,function(t){return!(!t||"si.form"===t.$name)&&void(t&&(e=e||!!t.$dirty&&t.$dirty))}),e}}}}]),angular.module("inprotech.configuration.general.standinginstructions").directive("inputExt",[function(){"use strict";return{restrict:"A",require:"?ngModel",scope:{onValueChange:"&",validatorFuncs:"="},link:function(e,t,a,i){function n(e){return i.$setPristine(),s=e,e}function o(){return i.$viewValue===s?(i.$setPristine(),void e.onValueChange({isReverted:!0})):void e.onValueChange({isReverted:!1})}if(i){var r=function(){angular.forEach(e.validatorFuncs,function(e,t){i.$validators[t]=e})},s="";i.reset=function(){i.$setViewValue(s),i.$commitViewValue(),i.$render()},i.setNewValue=function(){var e=this;n.call(e,i.$viewValue)},i.setIfDirty=function(){i.$viewValue===s?i.$setPristine():i.$setDirty(!0)},i.resetErrors=function(){_.each(_.keys(i.$error),function(e){i.$setValidity(e,!0)})},i.markDeleted=function(e){e?(i.$validate(),i.setIfDirty()):(i.resetErrors(),i.$setDirty())},i.$formatters.push(n),i.$viewChangeListeners.push(o),r()}}}}]),angular.module("inprotech.configuration.general.standinginstructions").factory("ObjectExt",function(){"use strict";function e(e){this.obj=e,this.status="none",this.isDeleted=!1,this.newlyAdded=!1,this.isSaved=!1,this.serverErrorMsg=""}return e.prototype={getErrorText:function(e){var t=this;return t.serverError?t.serverErrorMsg:!e||_.isEmpty(e)?"":e.required?"field.errors.required":e.maxlength?"field.errors.maxlength":e.isUnique?"field.errors.notunique":void 0},getObj:function(){var e=this;return _.clone(e.obj)},changeStatus:function(e){var t=this;e||(t.isSaved=!1),t.serverError=!1,"added"!==t.status&&(t.status=e?"none":"updated")},"delete":function(){var e=this;e.serverError=!1,e.isDeleted=!e.isDeleted},setNew:function(){var e=this;return e.status="added",e.newlyAdded=!0,this},resetNewlyAdded:function(){var e=this;e.newlyAdded&&(e.newlyAdded=!1)},setError:function(e){var t=this;t.serverError=!0,t.serverErrorMsg=e}},e}),angular.module("inprotech.configuration.general.standinginstructions").controller("StandingInstructionsController",["$scope","StandingInstructionsService","ArrayExt","AssignedArray","notificationService",function(e,t,a,i,n){"use strict";var o=this,r=new t;o.service=r,o.instrType={},o.selectedInstr={};var s=function(){o.instrType={id:null,instructions:new a([]),characteristics:new a([])}};e.$watch("si.instrTypeForm.$invalid",function(e){e?s():o.selectedInstrType&&l(o.selectedInstrType)}),o.typeChanged=function(){return o.selectedInstrType&&o.selectedInstrType.key||o.form.savable()?void(o.selectedInstrType.key!==o.instrType.id&&l(o.selectedInstrType)):void s()};var l=function(e){o.selectedInstr={},s(),o.instrType.id=e.key,o.instrType.id&&r.search(o.instrType.id).then(p)},c=function(e){o.selectedInstr=e,_.isEmpty(e)||o.selectedInstr.obj.characteristics.mergeByProperty(o.instrType.characteristics)};o.selectInstruction=function(e){o.selectedInstr!==e&&c(e)},o.addCharacteristics=function(){if(o.instrType.id){var e=o.instrType.characteristics.length()+1,t={id:"temp"+e,description:""};o.instrType.characteristics.addNew(t)}},o.addInstruction=function(){if(o.instrType.id){var e=o.instrType.instructions.length()+1,t={id:"temp"+e,description:"",characteristics:new i([])},a=o.instrType.instructions.addNew(t);c(a)}},o.valueChangedAssignedChar=function(e,t){o.selectedInstr.changeStatus(!1),o.selectedInstr.obj.characteristics.setValue(e.obj.id,e.obj.selected,t)},o.isUpdated=function(e){return!_.isEmpty(o.selectedInstr)&&o.selectedInstr.obj.characteristics.isUpdated(e)},o.isSaved=function(e){return!_.isEmpty(o.selectedInstr)&&o.selectedInstr.obj.characteristics.isSaved(e)},o.discard=function(){d()};var d=function(){o.form.reset(),o.instrType.characteristics.revertAll(),o.instrType.instructions.revertAll(),_.each(o.instrType.instructions.items,function(e){e.obj.characteristics.revert()}),c(o.selectedInstr)};o.save=function(){var e={id:o.instrType.id,characteristics:[],instructions:[]};e.characteristics=o.instrType.characteristics.getChanges(),e.instructions=o.instrType.instructions.getChanges();var t=o.instrType.characteristics.getValidIds();return _.each(e.instructions.added,function(e){e.characteristics.sanitize(t);var a=e.characteristics.getChanges();e.characteristics=_.union(a.updated,a.added)}),_.each(e.instructions.updated,function(e){e.characteristics.sanitize(t);var a=e.characteristics.getChanges();e.characteristics=_.union(a.updated,a.added)}),_.each(e.instructions.deleted,function(e){e.characteristics=[]}),o.service.saveChanges(e,p,u)};var p=function(e){if(o.instrType.characteristics.clear(),o.instrType.instructions.clear(),o.instrType.characteristics=e.characteristics,o.instrType.instructions=e.instructions,o.form.setSavedValues(),!_.isEmpty(o.selectedInstr)){var t=o.instrType.instructions.get("id",o.selectedInstr.obj.id);t||(t=o.instrType.instructions.get("correlationId",o.selectedInstr.obj.id)),c(t)}},u=function(e){n.alert(e),"I"===e.type?o.instrType.instructions.setError(e.errors):"C"===e.type&&o.instrType.characteristics.setError(e.errors)};o.resetUniquenessError=function(e,t){_.each(_.range(t),function(t){o.form[e+t].$error.isUnique&&o.form[e+t].$validate()})},o.UniqueInstruction=function(e,t){return o.instrType.instructions.checkUniqueness("description",t)},o.UniqueCharacteristic=function(e,t){return o.instrType.characteristics.checkUniqueness("description",t)},o.confirmDelete=function(e,t,a){e.isDeleted?(e["delete"](),o.form[t+a].markDeleted(!0)):n.confirm({title:"modal.markfordeletion.title",message:"modal.markfordeletion.message"}).then(function(){e["delete"](),o.form[t+a].markDeleted();var i=0;i="char"===t?o.instrType.characteristics.length():o.instrType.instructions.length(),o.resetUniquenessError(t,i)})},o.isDirty=function(){if(!o.form)return!1;var e=_.some(o.instrType.instructions.items,function(e){return e.obj.characteristics.isDirty()},!0);return o.form.isDirty()||e||o.instrType.instructions.anyAdditions()||o.instrType.characteristics.anyAdditions()},o.savable=function(){if(!o.form)return!1;var e=_.some(o.instrType.instructions.items,function(e){return e.obj.characteristics.isDirty()},!0),t=e&&o.form.$valid;return o.form.savable()||t},o.getErrorText=function(e,t,a){return o.form?e.getErrorText(o.form[t+a].$error):""},s()}]),angular.module("inprotech.configuration.general.standinginstructions").factory("StandingInstructionsService",["$http","ArrayExt","AssignedArray",function(e,t,a){"use strict";function i(){this.saved={characteristics:new t,instructions:new t}}function n(e,t){_.each(e,function(e){e.oldId=e.id;var a=_.find(t,{correlationId:e.id});e.id=a?a.id:e.oldId})}function o(e,t){return _.find(e,function(e){return e.id===t||e.correlationId===t})}function r(e,t){t&&0!==t.length&&_.each(e,function(e){var a=o(t,e.id);a&&(e.id=a.id)})}function s(e,t){n(e.characteristics.added,t.characteristics),n(e.instructions.added,t.instructions),_.each(e.instructions.added,function(e){r(e.characteristics,t.characteristics)}),_.each(e.instructions.updated,function(e){r(e.characteristics,t.characteristics)})}function l(e,t){_.each(e,function(e){t.pushOrGet("id",e.id).isSaved=!0})}function c(e){var a=this.saved.instructions.pushOrGet("id",e.id);a.isSaved=!0,a.characteristics||(a.characteristics=new t([])),_.each(e.characteristics,function(e){a.characteristics.pushOrGet("id",e.id).isSaved=!0})}function d(e){var t=this;l(e.characteristics.updated,t.saved.characteristics),l(e.characteristics.added,t.saved.characteristics),_.each(e.instructions.added,function(e){c.call(t,e)}),_.each(e.instructions.updated,function(e){c.call(t,e)})}function p(e){return e.characteristics=new t(e.characteristics),angular.forEach(e.instructions,function(e){e.characteristics=new a(e.characteristics)}),e.instructions=new t(e.instructions),e}function u(e){var t=this;return e.characteristics.setSavedState(t.saved.characteristics,"id"),e.instructions.setSavedState(t.saved.instructions,"id"),_.each(e.instructions.items,function(e){var a=_.find(t.saved.instructions.items,function(t){return t.obj.id===e.obj.id});a&&e.obj.characteristics.setSavedState(a.characteristics,"id")}),e}return i.prototype={search:function(a){return this.saved={characteristics:new t,instructions:new t},e.get("api/configuration/instructiontypedetails/"+a).then(function(e){return p(e.data)})},saveChanges:function(t,a,i){var n=this;return e.post("api/configuration/instructiontypedetails/save",{instrType:t}).then(function(e){return"success"===e.data.result?(a&&(s(t,e.data.data),d.call(n,t),a(u.call(n,p.call(n,e.data.data)))),!0):(i&&i(e.data),!1)})}},i}]),function(){"use strict";angular.module("inprotech.configuration.general.status",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.status").run(["modalService",function(e){e.register("StatusMaintenance","StatusMaintenanceController","condor/configuration/general/status/status.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]).config(["$stateProvider",function(e){e.state("status",{url:"/configuration/general/status",templateUrl:"condor/configuration/general/status/status.html",controller:"StatusController",controllerAs:"vm",resolve:{supportData:["statusService",function(e){return e.supportData()}]},data:{pageTitle:"status.statusMaintenance"}})}])}(),angular.module("inprotech.configuration.general.status").controller("StatusController",StatusController),angular.module("inprotech.configuration.general.status").controller("StatusMaintenanceController",StatusMaintenanceController),angular.module("inprotech.configuration.general.status").factory("statusService",StatusService),function(){"use strict";angular.module("inprotech.configuration.general.texttypes",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.texttypes").run(["modalService",function(e){e.register("TextTypeMaintenance","TextTypeMaintenanceController","condor/configuration/general/texttypes/texttypes.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.texttypes").run(["modalService",function(e){e.register("ChangeTextTypeCode","ChangeTextTypeCodeController","condor/configuration/general/texttypes/texttypes.changecode.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.texttypes").config(["$stateProvider",function(e){e.state("texttypes",{url:"/configuration/general/texttypes",templateUrl:"condor/configuration/general/texttypes/texttypes.html",controller:"textTypesController",controllerAs:"vm",resolve:{viewData:["textTypesService",function(e){return e.viewData()}]},data:{pageTitle:"Text Type Maintenance"}})}])}(),angular.module("inprotech.configuration.general.texttypes").controller("ChangeTextTypeCodeController",ChangeTextTypeCodeController),angular.module("inprotech.configuration.general.texttypes").controller("textTypesController",textTypesController),angular.module("inprotech.configuration.general.texttypes").controller("TextTypeMaintenanceController",TextTypeMaintenanceController),angular.module("inprotech.configuration.general.texttypes").factory("textTypesService",textTypesService),function(){"use strict";angular.module("inprotech.configuration.general.validcombination",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.validcombination").run(["modalService",function(e){e.register("ValidCombinationMaintenance","ValidCombinationMaintenanceController","condor/configuration/general/validcombination/validcombination.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.validcombination").run(["modalService",function(e){e.register("ActionOrder","ActionOrderController","condor/configuration/general/validcombination/action/action.order.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.validcombination").constant("validCombinationConfig",{searchType:{"default":"default",propertyType:"propertytype",allCharacteristics:"allcharacteristics",category:"category",action:"action",subType:"subtype",basis:"basis",status:"status",dateOfLaw:"dateoflaw",checklist:"checklist",relationship:"relationship"},baseStateName:"validcombination"}).config(["$stateProvider","validCombinationConfig",function(e,t){e.state(t.baseStateName,{url:"/configuration/general/validcombination",templateUrl:"condor/configuration/general/validcombination/validcombination.html",controller:"ValidCombinationController",controllerAs:"vm",symbol:t.searchType["default"],resolve:{viewData:["$http",function(e){return e.get("api/configuration/validcombination/viewData").then(function(e){return e.data})}]},data:{pageTitle:"Valid Combinations"}}).state(t.baseStateName+"."+t.searchType.allCharacteristics,{url:"/allcharacteristics/:searchKey/:searchName",params:{searchKey:null,searchName:null},templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidJurisdictionController",controllerAs:"vc",symbol:t.searchType.allCharacteristics}).state(t.baseStateName+"."+t.searchType.propertyType,{url:"/propertytype",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidPropertyTypeController",controllerAs:"vc",symbol:t.searchType.propertyType}).state(t.baseStateName+"."+t.searchType.action,{url:"/action",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidActionController",controllerAs:"vc",symbol:t.searchType.action}).state(t.baseStateName+"."+t.searchType.category,{url:"/category",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidCategoryController",controllerAs:"vc",symbol:t.searchType.category}).state(t.baseStateName+"."+t.searchType.subType,{url:"/subtype",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidSubTypeController",controllerAs:"vc",symbol:t.searchType.subType}).state(t.baseStateName+"."+t.searchType.basis,{url:"/basis",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidBasisController",controllerAs:"vc",symbol:t.searchType.basis}).state(t.baseStateName+"."+t.searchType.status,{url:"/status",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidStatusController",controllerAs:"vc",params:{status:null},symbol:t.searchType.status}).state(t.baseStateName+"."+t.searchType.relationship,{url:"/relationship",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidRelationshipController",controllerAs:"vc",symbol:t.searchType.relationship}).state(t.baseStateName+"."+t.searchType.checklist,{url:"/checklist",templateUrl:"condor/configuration/general/validcombination/validcombination-resultset.html",controller:"ValidChecklistController",controllerAs:"vc",symbol:t.searchType.checklist})}])}(),angular.module("inprotech.configuration.general.validcombination").component("ipActionOrderModalSubheader",{bindings:{allItems:"<",currentItem:"<",hasUnsavedChanges:"<",launchSrc:"<"},templateUrl:"condor/configuration/general/validcombination/action/action-order-modal-subheader.html",controllerAs:"vm",controller:["$scope",function(e){var t=this;t.onNavigate=function(t){e.$emit("modalChangeView",{dataItem:t})}}]}),angular.module("inprotech.configuration.general.validcombination").controller("ValidActionController",ValidActionController),angular.module("inprotech.configuration.general.validcombination").controller("actionMaintenanceController",["$rootScope","modalService",function(e,t){"use strict";function a(){u.entity.isValid=n,u.launchActionOrder=d,i()}function i(){"adding"===u.entity.state&&(!angular.equals(u.searchCriteria.caseType,{})&&u.searchCriteria.caseType&&(u.entity.caseType=u.searchCriteria.caseType,u.entity.prepopulated=!0),u.searchCriteria.jurisdictions&&u.searchCriteria.jurisdictions.length>0&&(u.entity.jurisdictions=u.searchCriteria.jurisdictions,u.entity.prepopulated=!0),!angular.equals(u.searchCriteria.propertyType,{})&&u.searchCriteria.propertyType&&(u.entity.propertyType=u.searchCriteria.propertyType,u.entity.prepopulated=!0),!angular.equals(u.searchCriteria.action,{})&&u.searchCriteria.action&&(u.entity.action=u.searchCriteria.action,u.entity.prepopulated=!0,u.entity.action.value&&(u.entity.validDescription=u.entity.action.value)))}function n(){return s()&&o()&&r()&&l()&&c()}function o(){return u.maintenance.propertyType&&(u.maintenance.propertyType.$dirty||u.entity.propertyType)&&u.maintenance.propertyType.$valid}function r(){return u.maintenance.caseType&&(u.maintenance.caseType.$dirty||u.entity.caseType)&&u.maintenance.caseType.$valid}function s(){return u.maintenance.jurisdiction&&(u.maintenance.jurisdiction.$dirty||u.entity.jurisdictions)&&u.maintenance.jurisdiction.$valid}function l(){return u.maintenance.action&&(u.maintenance.action.$dirty||u.entity.action)&&u.maintenance.action.$valid}function c(){return(u.maintenance.validDescription.$dirty||u.entity.validDescription)&&u.maintenance.validDescription.$valid}function d(){var e=p(),a=_.first(e);t.openModal({launchSrc:"maintenance",id:"ActionOrder",dataItem:a,allItems:e,action:u.entity.action,controllerAs:"ctrl"})}function p(){var e=[];return _.each(u.entity.jurisdictions,function(t){e.push({jurisdiction:t,propertyType:u.entity.propertyType,caseType:u.entity.caseType})}),e}var u=this;u.$onInit=a}]),angular.module("inprotech.configuration.general.validcombination").controller("ActionOrderController",ActionOrderController),angular.module("inprotech.configuration.general.validcombination").controller("ValidBasisController",ValidBasisController),angular.module("inprotech.configuration.general.validcombination").controller("basisMaintenanceController",function(){"use strict";function e(){s.entity.isValid=t,s.categoryPlaceholder="validcombinations.selectCaseTypeForCategory"}function t(){return i()&&a()&&n()&&o()&&r()}function a(){return s.maintenance.propertyType&&(s.maintenance.propertyType.$dirty||s.entity.propertyType)&&s.maintenance.propertyType.$valid}function i(){return s.maintenance.jurisdiction&&(s.maintenance.jurisdiction.$dirty||s.entity.jurisdictions)&&s.maintenance.jurisdiction.$valid}function n(){return s.maintenance.basis&&(s.maintenance.basis.$dirty||s.entity.basis)&&s.maintenance.basis.$valid}function o(){return s.maintenance.caseCategory&&s.maintenance.caseCategory.$valid}function r(){return(s.maintenance.validDescription.$dirty||s.entity.validDescription)&&s.maintenance.validDescription.$valid}var s=this;s.$onInit=e}),angular.module("inprotech.configuration.general.validcombination").controller("validBasisMaintenanceController",["$scope","selectedCaseType","validCombinationConfig","validCombinationService",function(e,t,a,i){"use strict";function n(){t.set(e.model.caseType),c(e.model.caseType)&&c(e.model.caseCategory)&&i.validateCategory(e.model.caseType.code,e.model.caseCategory.code,a.searchType.category).then(function(t){t.isValid?(e.maintenance.caseCategory.$setValidity("invalidcombination",!0),e.model.caseCategory.code===t.key&&(e.model.caseCategory.value=t.value)):e.maintenance.caseCategory.$setValidity("invalidcombination",!1)})}function o(){"adding"===e.state&&(!angular.equals(e.searchCriteria.caseType,{})&&e.searchCriteria.caseType&&(e.model.caseType=e.searchCriteria.caseType,e.model.prepopulated=!0),e.searchCriteria.jurisdictions&&e.searchCriteria.jurisdictions.length>0&&(e.model.jurisdictions=e.searchCriteria.jurisdictions,e.model.prepopulated=!0),!angular.equals(e.searchCriteria.propertyType,{})&&e.searchCriteria.propertyType&&(e.model.propertyType=e.searchCriteria.propertyType,e.model.prepopulated=!0),!angular.equals(e.searchCriteria.caseCategory,{})&&e.searchCriteria.caseCategory&&(e.model.caseCategory=e.searchCriteria.caseCategory,r(),e.model.prepopulated=!0),!angular.equals(e.searchCriteria.basis,{})&&e.searchCriteria.basis&&(e.model.basis=e.searchCriteria.basis,e.model.validDescription=e.model.basis.value,e.model.prepopulated=!0)),t.set(e.model.caseType)}function r(){angular.isDefined(e.maintenance)&&e.maintenance.caseCategory&&e.maintenance.caseCategory.$setValidity("invalidcombination",!0)}function s(t){!t.$dirty&&angular.isDefined(e.model.basis)&&null!==e.model.basis&&(e.model.validDescription=e.model.basis.value)}function l(){if(e.model){var t=!c(e.model.caseType)||d();return t&&c(e.model.caseCategory)&&(e.model.caseCategory=null,e.maintenance.caseCategory.$resetErrors()),t}return!0}function c(e){return angular.isDefined(e)&&null!==e}function d(){return angular.isDefined(e.maintenance.caseType)&&e.maintenance.caseType.$invalid}var p=this;p.onCaseCategorySelectionChanged=r,p.disableCategoryPicklist=l,p.onCaseTypeSelectionChanged=n,p.onBasisSelectionChanged=s,e.src&&"validcombination"===e.src&&o(),p.picklistCriteria={extendQuery:function(t){if(!l()){var a=angular.extend({},t,{caseType:e.model.caseType.code,latency:888});return a}}}}]),angular.module("inprotech.configuration.general.validcombination").controller("ValidCategoryController",ValidCategoryController),angular.module("inprotech.configuration.general.validcombination").controller("categoryMaintenanceController",function(){}),angular.module("inprotech.configuration.general.validcombination").controller("validCategoryMaintenanceController",["$scope","selectedCaseType","validCombinationConfig","validCombinationService","$http",function(e,t,a,i,n){"use strict";function o(){return n.get("api/picklists/caseCategories/multiclasscountries").then(function(e){m.multiClassJurisdictions=e.data})}function r(){if(e.model){var t=_.pluck(e.model.jurisdictions,"key"),a=t.every(function(e){if(m.multiClassJurisdictions)return m.multiClassJurisdictions.includes(e)});return a&&(e.model.multiClassPropertyApp=!1),a}}function s(){t.set(e.model.caseType),p(e.model.caseType)&&p(e.model.caseCategory)&&i.validateCategory(e.model.caseType.code,e.model.caseCategory.code,a.searchType.category).then(function(t){t.isValid?(e.maintenance.caseCategory.$setValidity("invalidcombination",!0),e.model.caseCategory.code===t.key&&(e.model.caseCategory.value=t.value)):e.maintenance.caseCategory.$setValidity("invalidcombination",!1);
})}function l(){"adding"===e.state&&(!angular.equals(e.searchCriteria.caseType,{})&&e.searchCriteria.caseType&&(e.model.caseType=e.searchCriteria.caseType,e.model.prepopulated=!0),e.searchCriteria.jurisdictions&&e.searchCriteria.jurisdictions.length>0&&(e.model.jurisdictions=e.searchCriteria.jurisdictions,e.model.prepopulated=!0),!angular.equals(e.searchCriteria.propertyType,{})&&e.searchCriteria.propertyType&&(e.model.propertyType=e.searchCriteria.propertyType,e.model.prepopulated=!0),!angular.equals(e.searchCriteria.caseCategory,{})&&e.searchCriteria.caseCategory&&(e.model.caseCategory=e.searchCriteria.caseCategory,c(!1),e.model.prepopulated=!0)),t.set(e.model.caseType)}function c(t){angular.isDefined(e.maintenance)&&e.maintenance.caseCategory&&e.maintenance.caseCategory.$setValidity("invalidcombination",!0),!t.$dirty&&e.model.caseCategory&&(e.model.validDescription=e.model.caseCategory.value)}function d(){var t=!p(e.model.caseType)||u();return t&&p(e.model.caseCategory)&&(e.model.caseCategory=null,e.model.validDescription=null,e.maintenance.caseCategory.$resetErrors()),t}function p(e){return angular.isDefined(e)&&null!==e}function u(){return angular.isDefined(e.maintenance.caseType)&&e.maintenance.caseType.$invalid}var m=this;m.onCaseCategorySelectionChanged=c,m.disableCategoryPicklist=d,m.onCaseTypeSelectionChanged=s,m.allJurisdictionsMultiClass=r,o(),e.src&&"validcombination"===e.src&&l(),m.picklistCriteria={extendQuery:function(t){if(!d()){var a=angular.extend({},t,{caseType:e.model.caseType.code,latency:888});return a}}}}]),angular.module("inprotech.configuration.general.validcombination").controller("ValidChecklistController",ValidChecklistController),angular.module("inprotech.configuration.general.validcombination").controller("checklistMaintenanceController",function(){"use strict";function e(){c.onChecklistSelectionChanged=a,c.entity.isValid=i,t()}function t(){"adding"===c.entity.state&&(!angular.equals(c.searchCriteria.caseType,{})&&c.searchCriteria.caseType&&(c.entity.caseType=c.searchCriteria.caseType,c.entity.prepopulated=!0),c.searchCriteria.jurisdictions&&c.searchCriteria.jurisdictions.length>0&&(c.entity.jurisdictions=c.searchCriteria.jurisdictions,c.entity.prepopulated=!0),!angular.equals(c.searchCriteria.propertyType,{})&&c.searchCriteria.propertyType&&(c.entity.propertyType=c.searchCriteria.propertyType,c.entity.prepopulated=!0),!angular.equals(c.searchCriteria.checklist,{})&&c.searchCriteria.checklist&&(c.entity.checklist=c.searchCriteria.checklist,a(!1),c.entity.prepopulated=!0))}function a(e){c.entity.checklistDirty=!0,!e.$dirty&&angular.isDefined(c.entity.checklist)&&(c.entity.validDescription=c.entity.checklist.value)}function i(){return n()&&o()&&r()&&s()&&l()}function n(){return c.maintenance.propertyType&&(c.maintenance.propertyType.$dirty||c.entity.propertyType)&&c.maintenance.propertyType.$valid}function o(){return c.maintenance.jurisdiction&&(c.maintenance.jurisdiction.$dirty||c.entity.jurisdictions)&&c.maintenance.jurisdiction.$valid}function r(){return c.maintenance.caseType&&(c.maintenance.caseType.$dirty||c.entity.caseType)&&c.maintenance.caseType.$valid}function s(){return(c.maintenance.checklist.$dirty||c.entity.checklist)&&c.maintenance.checklist.$valid}function l(){return(c.maintenance.validDescription.$dirty||c.entity.validDescription)&&c.maintenance.validDescription.$valid}var c=this;c.$onInit=e}),function(){"use strict";function e(e,t,a){function i(){e.vm.refreshGrid=s,e.vm.search=r,e.vm.isResetDisabled=o,e.vm.disableDateOfLawPicklist=l,e.vm.extendPicklistCriteria=n}function n(t){return t.propertyType=e.vm.searchCriteria.propertyType.key,t.jurisdiction=_.pluck(e.vm.searchCriteria.jurisdictions,"id").join(","),t}function o(){return!e.vm.typeaheadErrors.jurisdiction&&"default"===e.vm.selectedSearchOption.type&&0===e.vm.searchCriteria.jurisdictions.length&&(angular.equals(e.vm.searchCriteria.propertyType,{})||""===e.vm.searchCriteria.propertyType.value)&&(angular.equals(e.vm.searchCriteria.dateOfLaw,{})||""===e.vm.searchCriteria.dateOfLaw.value)&&0===p.gridOptions.data().length}function r(){p.gridOptions.search()}function s(){p.gridOptions.data().length>0&&p.gridOptions.clear()}function l(){return 0===e.vm.searchCriteria.jurisdictions.length||angular.equals(e.vm.searchCriteria.propertyType,{})||""===e.vm.searchCriteria.propertyType.value}function c(){return t.buildOptions(e,{id:"validCombinationSearchResults",pageable:!0,scrollable:!1,read:function(t){var i=d(e.vm.searchCriteria);return a.search(i,t,p.context)},columns:[{title:"Jurisdiction",field:"country",width:"16%",sortable:!0},{title:"propertyType",field:"propertyType",width:"16%",sortable:!0},{title:"Date of Law",field:"dateOfLaw",width:"10%",sortable:!0},{title:"Retrospective Action",field:"retrospectiveAction",width:"15%",sortable:!0},{title:"Default Event for Law",field:"defaultEventForLaw",width:"20%",sortable:!0},{title:"Default Retrospective Event",field:"defaultRetrospectiveEvent",sortable:!0}]})}function d(e){return{propertyType:e.propertyType?e.propertyType.key:null,dateOfLaw:e.dateOfLaw?e.dateOfLaw.key:null,jurisdictions:_.map(e.jurisdictions||[],function(e){return e.id})}}var p=this;p.search=r,p.context="dateoflaw",p.gridOptions=c(),i(),e.$watch(function(){return e.vm.disableDateOfLawPicklist()},function(t){t&&(e.vm.searchCriteria.dateOfLaw={})})}angular.module("inprotech.configuration.general.validcombination").controller("ValidDateOfLawController",e),e.$inject=["$scope","kendoGridBuilder","validCombinationService"]}(),angular.module("inprotech.configuration.general.validcombination").controller("ValidJurisdictionController",ValidJurisdictionController),angular.module("inprotech.configuration.general.validcombination").factory("validCombinationConfirmationService",validCombinationConfirmationService),angular.module("inprotech.configuration.general.validcombination").controller("validPicklistMaintenanceController",["$scope","states","validPicklistService",function(e,t,a){"use strict";function i(){if(e.state===t.adding&&e.model.validCombinationKeys){var i=e.model.validCombinationKeys;e.model.jurisdictions=[i.jurisdictionModel],i.caseTypeModel&&(e.model.caseType=i.caseTypeModel,e.model.caseType.key=0),i.propertyTypeModel&&"propertyType"!==e.entityType&&a.getPropertyType(i).then(function(t){e.model.propertyType=t.data}),i.caseCategoryModel&&"category"!==e.entityType&&null!==i.caseCategoryModel.code&&a.getCaseCategory(i).then(function(t){e.model.caseCategory=t.data})}}function n(t){var a=e.model[e.entityType];!t.$dirty&&a&&(e.model.validDescription=a.value)}var o=this;o.init=i,o.onPicklistSelectionChanged=n,o.init()}]),angular.module("inprotech.configuration.general.validcombination").directive("ipValidPicklistMaintenance",function(){"use strict";return{restrict:"E",templateUrl:function(e,t){return"condor/configuration/general/validcombination/"+t.entityType.toLowerCase()+"/valid"+t.entityType.toLowerCase()+".maintenance.html"},scope:{model:"=",maintenance:"=",state:"=",canMaintain:"@?",entityType:"@",searchCriteria:"=?",src:"@?"},bindToController:{onBeforeSave:"=?",saveWithoutValidate:"=?",hasInlineGridError:"=?",isInlineGridDirty:"=?"},controller:"validPicklistMaintenanceController",controllerAs:"vm"}}),angular.module("inprotech.configuration.general.validcombination").factory("validPicklistService",validPicklistService),angular.module("inprotech.configuration.general.validcombination").controller("ValidPropertyTypeController",ValidPropertyTypeController),angular.module("inprotech.configuration.general.validcombination").controller("propertytypeMaintenanceController",function(){"use strict";function e(){t()}function t(){"adding"===a.entity.state&&(a.searchCriteria.jurisdictions&&a.searchCriteria.jurisdictions.length>0&&(a.entity.jurisdictions=a.searchCriteria.jurisdictions,a.entity.prepopulated=!0),!angular.equals(a.searchCriteria.propertyType,{})&&a.searchCriteria.propertyType&&(a.entity.propertyType=a.searchCriteria.propertyType,a.entity.validDescription=a.entity.propertyType.value,a.entity.prepopulated=!0))}var a=this;a.$onInit=e}),angular.module("inprotech.configuration.general.validcombination").controller("validPropertyTypeMaintenanceController",["$scope",function(e){"use strict";function t(){e.model.offset&&e.model.offset>999999999?e.maintenance.annuityOffset.$setValidity("notSupportedValue",!1):e.maintenance.annuityOffset.$setValidity("notSupportedValue",!0),e.model.cycleOffset&&e.model.cycleOffset>99?e.maintenance.annuityCycleOffset.$setValidity("notSupportedValue",!1):e.maintenance.annuityCycleOffset.$setValidity("notSupportedValue",!0)}function a(){e.model.offset=null,e.model.cycleOffset=null}var i=this;i.onOffsetChange=t,i.clearAnnuityOptions=a}]),angular.module("inprotech.configuration.general.validcombination").controller("ValidRelationshipController",ValidRelationshipController),angular.module("inprotech.configuration.general.validcombination").controller("relationshipMaintenanceController",function(){"use strict";function e(){r.entity.isValid=a,t()}function t(){"adding"===r.entity.state&&(r.searchCriteria.jurisdictions&&r.searchCriteria.jurisdictions.length>0&&(r.entity.jurisdictions=r.searchCriteria.jurisdictions,r.entity.prepopulated=!0),!angular.equals(r.searchCriteria.propertyType,{})&&r.searchCriteria.propertyType&&(r.entity.propertyType=r.searchCriteria.propertyType,r.entity.prepopulated=!0),!angular.equals(r.searchCriteria.relationship,{})&&r.searchCriteria.relationship&&(r.entity.relationship=r.searchCriteria.relationship,r.entity.prepopulated=!0))}function a(){return n()&&i()&&o()}function i(){return r.maintenance.propertyType&&(r.maintenance.propertyType.$dirty||r.entity.propertyType)&&r.maintenance.propertyType.$valid}function n(){return r.maintenance.jurisdiction&&(r.maintenance.jurisdiction.$dirty||r.entity.jurisdictions)&&r.maintenance.jurisdiction.$valid}function o(){return r.maintenance.relationship&&(r.maintenance.relationship.$dirty||r.entity.relationship)&&r.maintenance.relationship.$valid}var r=this;r.$onInit=e}),angular.module("inprotech.configuration.general.validcombination").controller("ValidStatusController",ValidStatusController),angular.module("inprotech.configuration.general.validcombination").controller("statusMaintenanceController",function(){"use strict";function e(){s.entity.isValid=a,t()}function t(){"adding"===s.entity.state&&(!angular.equals(s.searchCriteria.caseType,{})&&s.searchCriteria.caseType&&(s.entity.caseType=s.searchCriteria.caseType,s.entity.prepopulated=!0),s.searchCriteria.jurisdictions&&s.searchCriteria.jurisdictions.length>0&&(s.entity.jurisdictions=s.searchCriteria.jurisdictions,s.entity.prepopulated=!0),!angular.equals(s.searchCriteria.propertyType,{})&&s.searchCriteria.caseType&&(s.entity.propertyType=s.searchCriteria.propertyType,s.entity.prepopulated=!0),!angular.equals(s.searchCriteria.status,{})&&s.searchCriteria.status&&(s.entity.status=s.searchCriteria.status,s.entity.prepopulated=!0))}function a(){return n()&&i()&&o()&&r()}function i(){return s.maintenance.propertyType&&(s.maintenance.propertyType.$dirty||s.entity.propertyType)&&s.maintenance.propertyType.$valid}function n(){return s.maintenance.jurisdiction&&(s.maintenance.jurisdiction.$dirty||s.entity.jurisdictions)&&s.maintenance.jurisdiction.$valid}function o(){return s.maintenance.caseType&&(s.maintenance.caseType.$dirty||s.entity.caseType)&&s.maintenance.caseType.$valid}function r(){return s.maintenance.status&&(s.maintenance.status.$dirty||s.entity.status)&&s.maintenance.status.$valid}var s=this;s.$onInit=e}),angular.module("inprotech.configuration.general.validcombination").controller("ValidSubTypeController",ValidSubTypeController),angular.module("inprotech.configuration.general.validcombination").controller("subtypeMaintenanceController",function(){"use strict";function e(){l.entity.isValid=t,l.categoryPlaceholder="validcombinations.selectCaseTypeForCategory"}function t(){return n()&&a()&&i()&&n()&&o()&&r()&&s()}function a(){return l.maintenance.propertyType&&(l.maintenance.propertyType.$dirty||l.entity.propertyType)&&l.maintenance.propertyType.$valid}function i(){return l.maintenance.jurisdiction&&(l.maintenance.jurisdiction.$dirty||l.entity.jurisdictions)&&l.maintenance.jurisdiction.$valid}function n(){return l.maintenance.caseType&&(l.maintenance.caseType.$dirty||l.entity.caseType)&&l.maintenance.caseType.$valid}function o(){return l.maintenance.caseCategory&&(l.maintenance.caseCategory.$dirty||l.entity.caseCategory)&&l.maintenance.caseCategory.$valid}function r(){return l.maintenance.subType&&(l.maintenance.subType.$dirty||l.entity.subType)&&l.maintenance.subType.$valid}function s(){return(l.maintenance.validDescription.$dirty||l.entity.validDescription)&&l.maintenance.validDescription.$valid}var l=this;l.$onInit=e}),angular.module("inprotech.configuration.general.validcombination").controller("validSubTypeMaintenanceController",["$scope","selectedCaseType","validCombinationConfig","validCombinationService",function(e,t,a,i){"use strict";function n(){u.onCaseCategorySelectionChanged=s,u.disableCategoryPicklist=c,u.onCaseTypeSelectionChanged=o,u.onSubTypeSelectionChanged=l,e.src&&"validcombination"===e.src&&r(),u.picklistCriteria={extendQuery:function(t){if(!c()){var a=angular.extend({},t,{caseType:e.model.caseType.code,latency:888});return a}}}}function o(){t.set(e.model.caseType),d(e.model.caseType)&&d(e.model.caseCategory)&&i.validateCategory(e.model.caseType.code,e.model.caseCategory.code,a.searchType.category).then(function(t){t.isValid?(e.maintenance.caseCategory.$setValidity("invalidcombination",!0),e.model.caseCategory.code===t.key&&(e.model.caseCategory.value=t.value)):e.maintenance.caseCategory.$setValidity("invalidcombination",!1)})}function r(){"adding"===e.state&&(!angular.equals(e.searchCriteria.caseType,{})&&e.searchCriteria.caseType&&(e.model.caseType=e.searchCriteria.caseType,e.model.prepopulated=!0),e.searchCriteria.jurisdictions&&e.searchCriteria.jurisdictions.length>0&&(e.model.jurisdictions=e.searchCriteria.jurisdictions,e.model.prepopulated=!0),!angular.equals(e.searchCriteria.propertyType,{})&&e.searchCriteria.propertyType&&(e.model.propertyType=e.searchCriteria.propertyType,e.model.prepopulated=!0),!angular.equals(e.searchCriteria.caseCategory,{})&&e.searchCriteria.caseCategory&&(e.model.caseCategory=e.searchCriteria.caseCategory,s(),e.model.prepopulated=!0),!angular.equals(e.searchCriteria.subType,{})&&e.searchCriteria.subType&&(e.model.subType=e.searchCriteria.subType,e.model.validDescription=e.model.subType.value,e.model.prepopulated=!0)),t.set(e.model.caseType)}function s(){angular.isDefined(e.maintenance)&&e.maintenance.caseCategory&&e.maintenance.caseCategory.$setValidity("invalidcombination",!0)}function l(t){!t.$dirty&&angular.isDefined(e.model.subType)&&null!==e.model.subType&&(e.model.validDescription=e.model.subType.value)}function c(){var t=!d(e.model.caseType)||p();return t&&d(e.model.caseCategory)&&(e.model.caseCategory=null,e.maintenance.caseCategory.$resetErrors()),t}function d(e){return angular.isDefined(e)&&null!==e}function p(){return angular.isDefined(e.maintenance.caseType)&&e.maintenance.caseType.$invalid}var u=this;u.$onInit=n}]),angular.module("inprotech.configuration.general.validcombination").directive("iptValidCombinationSummary",function(){"use strict";return{restrict:"E",transclude:!0,scope:{addValidCombination:"&",searchType:"@"},templateUrl:"condor/configuration/general/validcombination/validcombination-summary.html"}}),angular.module("inprotech.configuration.general.validcombination").factory("selectedCaseType",function(){"use strict";var e;return{set:function(t){e=t},get:function(){return e}}}).factory("defaultCountry",function(){"use strict";var e;return{set:function(t){e=t},get:function(){return e}}}).controller("ValidCombinationController",ValidCombinationController),angular.module("inprotech.configuration.general.validcombination").directive("ipControllerParser",["$compile","$parse",function(e,t){"use strict";return{restrict:"A",priority:1e3,terminal:!0,link:function(a,i){var n=t(i.attr("ip-controller-parser"))(a);i=i.removeAttr("ip-controller-parser"),i.attr("controller-name",n),e(i)(a)}}}]),angular.module("inprotech.configuration.general.validcombination").controller("CopyValidCombinationController",function(){"use strict";function e(){s.selectAll=a,s.enableCopySave=n,s.selectAnyCharacteristic=i,s.copyEntity.selectAll=!0,s.copyEntity.hasSameValue=r,s.copyEntity.picklistsDirty=t,s.selectAll()}function t(){return s.fromJurisdictionDirty||s.toJurisdictionDirty}function a(){var e=s.copyEntity.selectAll;s.copyEntity.propertyType=e,s.copyEntity.category=e,s.copyEntity.action=e,s.copyEntity.basis=e,s.copyEntity.checklist=e,s.copyEntity.relationship=e,s.copyEntity.subType=e,s.copyEntity.status=e}function i(e){e||(s.copyEntity.selectAll=!1)}function n(){return s.jurisdictions&&s.jurisdictions.$dirty&&s.jurisdictions.$valid}function o(e){return angular.isUndefined(e)||null===e}function r(){var e=_.find(s.copyEntity.toJurisdictions,function(e){return e.key===s.copyEntity.fromJurisdiction.key});return!o(e)}var s=this;s.$onInit=e}),angular.module("inprotech.configuration.general.validcombination").directive("ipCopyValidCombination",function(){"use strict";return{restrict:"E",template:'<ng-include src="vm.template"/>',scope:{},controller:"@",name:"controllerName",controllerAs:"vm",bindToController:{copyEntity:"=",maintenance:"=",enableCopySave:"=",template:"="}}}),angular.module("inprotech.configuration.general.validcombination").controller("ValidCombinationMaintenanceController",ValidCombinationMaintenanceController),angular.module("inprotech.configuration.general.validcombination").directive("ipValidCombinationMaintenance",function(){"use strict";return{restrict:"E",template:'<ng-include src="vm.templateUrl"/>',scope:{},controller:"@",name:"controllerName",controllerAs:"vm",bindToController:{entity:"=",maintenance:"=",searchCriteria:"=",templateUrl:"=",clearPicklistModel:"=",launchActionOrder:"="}}}),angular.module("inprotech.configuration.general.validcombination").factory("validCombinationMaintenanceService",ValidCombinationMaintenanceService),angular.module("inprotech.configuration.general.validcombination").factory("validCombinationService",ValidCombinationService),angular.module("inprotech.configuration.rules.workflows",["inprotech.core","inprotech.api","inprotech.components","inprotech.configuration.general.validcombination","inprotech.portfolio.cases"]),angular.module("inprotech.configuration.rules.workflows").run(["modalService",function(e){"use strict";e.register("InheritanceConfirmation","InheritanceConfirmationController","condor/configuration/rules/workflows/maintenance/inheritance-confirmation.html",{windowClass:"centered picklist-window",controllerAs:"vm",size:"lg"}),e.register("EventInheritanceConfirmation","EventInheritanceConfirmationController","condor/configuration/rules/workflows/eventcontrol/inheritance-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm"}),e.register("EntryInheritanceConfirmation","EntryInheritanceConfirmationController","condor/configuration/rules/workflows/entrycontrol/inheritance-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm"}),e.register("ChangeDueDateRespConfirm","ChangeDueDateRespConfirmController","condor/configuration/rules/workflows/eventcontrol/change-due-date-resp-confirm.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",controllerAs:"vm"}),e.register("InheritanceReorderConfirmation","InheritanceReorderConfirmationController","condor/configuration/rules/workflows/maintenance/inheritance-reorder-confirmation.html",{windowClass:"centered picklist-window",controllerAs:"vm"}),e.register("InheritanceDeleteConfirmation","InheritanceDeleteConfirmationController","condor/configuration/rules/workflows/maintenance/inheritance-delete-confirmation.html",{windowClass:"centered picklist-window",controllerAs:"vm",size:"lg"}),e.register("EntryInheritanceDeleteConfirmation","EntryInheritanceDeleteConfirmationController","condor/configuration/rules/workflows/entrycontrol/inheritance-delete-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm"}),e.register("InheritanceResetConfirmation","InheritanceResetConfirmationController","condor/configuration/rules/workflows/entrycontrol/inheritance-reset-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm",size:"lg"}),e.register("InheritanceBreakConfirmation","InheritanceBreakConfirmationController","condor/configuration/rules/workflows/entrycontrol/inheritance-break-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm"}),e.register("EventsForCaseConfirmation","EventsForCaseConfirmationController","condor/configuration/rules/workflows/maintenance/events-for-case-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm"}),e.register("InheritanceChangeConfirmation","InheritanceChangeConfirmationController","condor/configuration/rules/workflows/inheritance/inheritance-change-confirmation.html",{windowClass:"centered picklist-window",size:"lg",controllerAs:"vm"}),e.register("CriteriaUnableToDelete","NotificationController","condor/configuration/rules/workflows/inheritance/criteria-unable-to-delete.html",{windowClass:"centered picklist-window modal-alert",controllerAs:"vm"}),e.register("CreateCharacteristics","CreateCharacteristicsController","condor/configuration/rules/workflows/maintenance/create-characteristics.html",{windowClass:"centered picklist-window",size:"lg",controllerAs:"vm"}),e.register("DueDateCalcMaintenance","DueDateCalcMaintenanceController","condor/configuration/rules/workflows/eventcontrol/due-date-calc-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("DateComparisonMaintenance","DateComparisonMaintenanceController","condor/configuration/rules/workflows/eventcontrol/date-comparison-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("CreateEntries","CreateEntriesController","condor/configuration/rules/workflows/maintenance/create-entries.html",{windowClass:"centered picklist-window",size:"lg",controllerAs:"vm"}),e.register("EntryEventMaintenance","EntryEventMaintenanceController","condor/configuration/rules/workflows/entrycontrol/entry-event-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("EntryStepsMaintenance","EntryStepsMaintenanceController","condor/configuration/rules/workflows/entrycontrol/steps-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("RemindersMaintenance","RemindersMaintenanceController","condor/configuration/rules/workflows/eventcontrol/reminders-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("DateLogicMaintenance","DateLogicMaintenanceController","condor/configuration/rules/workflows/eventcontrol/date-logic-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("DocumentsMaintenance","DocumentsMaintenanceController","condor/configuration/rules/workflows/eventcontrol/documents-maintenance.html",{windowClass:"centered picklist-window",size:"lg",bindToController:!0,controllerAs:"vm"}),e.register("OverviewMaintenance","OverviewMaintenanceController","condor/configuration/rules/workflows/eventcontrol/overview-maintenance.html",{windowClass:"centered picklist-window",size:"lg",controllerAs:"vm"})}]),angular.module("inprotech.configuration.rules.workflows").config(["$stateProvider","typeaheadConfigProvider",function(e,t){"use strict";e.state("workflows",{url:"/configuration/rules/workflows",templateUrl:"condor/configuration/rules/workflows/search/search.html",controller:"WorkflowsSearchController",controllerAs:"vm",resolve:{viewData:["$http",function(e){return e.get("api/configuration/rules/workflows/view").then(function(e){return e.data})}]},data:{pageTitle:"workflows.title"},onRetain:["caseValidCombinationService",function(e){e.resetFormData()}]}).state("workflows.inheritance",{url:"/inheritance?criteriaIds&selectedNode",params:{selectedNode:{dynamic:!0}},templateUrl:"condor/configuration/rules/workflows/inheritance/inheritance.html",controller:"WorkflowsInheritanceController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){var a="api/configuration/rules/workflows/inheritance?criteriaIds="+encodeURI(t.criteriaIds);return t.selectedNode&&(a+="&selectedNode="+encodeURI(t.selectedNode)),e.get(a).then(function(e){return e.data})}]}}).state("workflows.details",{url:"/{id}",templateUrl:"condor/configuration/rules/workflows/maintenance/maintenance.html",controller:"WorkflowsMaintenanceController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){return e.get("api/configuration/rules/workflows/"+t.id).then(function(e){return e.data})}]}}).state("workflows.details.eventcontrol",{url:"/eventcontrol/{eventId}",templateUrl:"condor/configuration/rules/workflows/eventcontrol/event-control.html",controller:"WorkflowsEventControlController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){return e.get("api/configuration/rules/workflows/"+t.id+"/eventcontrol/"+t.eventId).then(function(e){return e.data})}]}}).state("workflows.details.entrycontrol",{url:"/entrycontrol/{entryId}",templateUrl:"condor/configuration/rules/workflows/entrycontrol/entry-control.html",controller:"WorkflowsEntryControlController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){return e.get("api/configuration/rules/workflows/"+t.id+"/entrycontrol/"+t.entryId).then(function(e){return""===e.data.description&&(e.data.description=" "),e.data})}]}}),t.config("eventsFilteredByCriteria",{label:"picklist.event.Type",keyField:"key",codeField:"key",textField:"value",restmodApi:"events",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/directives/criteria-event-picklist-template.html",picklistDisplayName:"picklist.event.Type",size:"xl",columnMenu:!0,displayCodeWithText:!0,initFunction:function(e){!e.searchValue&&_.isEmpty(e.searchValue)&&(e.externalScope.filterByCriteria=!0);var t=e.externalScope.criteriaId;_.extend(e.externalScope,{originalCriteriaId:t,picklistSearch:!0})},preSearch:function(e){var t=e.externalScope.originalCriteriaId;_.extend(e.externalScope,{criteriaId:e.externalScope.filterByCriteria?t:null,picklistSearch:!0})}}),t.config("statusFiltered",{label:"picklist.status.label",keyField:"key",codeField:"code",textField:"value",apiUrl:"api/picklists/status",itemTemplateUrl:"condor/components/form/autocomplete-item-code-desc.html",picklistTemplateUrl:"condor/configuration/rules/workflows/search/valid-picklist-filtered-template.html",picklistColumns:"[{title:'picklist.status.Description', field:'value', width: '50%'}, {title:'picklist.status.Code', field:'code', width:'20%'},{title:'picklist.status.Type', field:'type', width:'30%'}]",picklistDisplayName:"picklist.status.label",initFunction:function(e){e.externalScope.canAddValidCombinations&&(e.externalScope.filterByCriteria=!e.searchValue&&_.isEmpty(e.searchValue))},preSearch:function(e){e.externalScope.canAddValidCombinations&&(e.externalScope.filterByCriteria=!e.searchValue&&_.isEmpty(e.searchValue))}})}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntrycontrolModalSubheader",{bindings:{criteriaNumber:"<",entryDescription:"<",allItems:"<",currentItem:"<",isEditMode:"<",onNavigate:"<"},templateUrl:"condor/configuration/rules/workflows/directives/entrycontrol-modal-subheader.html",controllerAs:"vm",controller:["$scope",function(e){var t=this;t.onNavigateInternal=function(a){t.onNavigate()&&e.$emit("modalChangeView",{dataItem:a})}}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntrycontrolStepCategoryPicker",{bindings:{category:"=",stepType:"=",required:"=",name:"=",criteriaCharacteristics:"="},require:{form:"^form"},templateUrl:"condor/configuration/rules/workflows/directives/entrycontrol-step-category-picker.html",controllerAs:"vm",controller:["workflowsEntryControlStepsService",function(e){var t=this;t.isDirty=function(){return t.form[t.name].$dirty},t.translateCategory=function(){return e.translateStepCategory(t.category.categoryName)},t.extendTextTypeQuery=function(e){return angular.extend({},e,t.category.query)},t.getId=function(e){return t.criteriaCharacteristics&&t.criteriaCharacteristics[e]?t.criteriaCharacteristics[e].key:""},t.getName=function(e){return t.criteriaCharacteristics&&t.criteriaCharacteristics[e]?t.criteriaCharacteristics[e].value:""},t.designationStage={externalScope:function(){return{jurisdiction:t.getName("jurisdiction")}},extendQuery:function(e){var a=angular.extend({},e,{jurisdictionId:t.getId("jurisdiction")});return t.designationStage.outgoingRequest=a,a}}}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventcontrolModalSubheader",{bindings:{criteriaNumber:"<",eventNumber:"<",eventDescription:"<",allItems:"<",currentItem:"<",isEditMode:"<",onNavigate:"<"},templateUrl:"condor/configuration/rules/workflows/directives/eventcontrol-modal-subheader.html",controllerAs:"vm",controller:["$scope",function(e){var t=this;t.onNavigateInteral=function(a){t.onNavigate()&&e.$emit("modalChangeView",{dataItem:a})}}]}),angular.module("inprotech.configuration.rules.workflows").component("ipInlinePermissionAlert",{bindings:{options:"<",currentPage:"@"},templateUrl:"condor/configuration/rules/workflows/directives/inline-permission-alert.html",controllerAs:"vm",controller:function(){"use strict";function e(){t.message=t.options.isNonConfigurableEvent?"workflows.common.nonConfigurableEvent":t.options.editBlockedByDescendants?"workflows.common.hasProtectedDescendents":"workflows.common.noRight"}var t=this;t.$onInit=e}}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlChangeStatus",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/change-status.html",bindings:{topic:"<"},controllerAs:"vm",controller:["ExtObjFactory","workflowStatusService","notificationService","states","modalService","statusService",function(e,t,a,i,n,o){"use strict";function r(){D=x.topic.params.viewData,y=D.changeRenewalStatus,b=D.changeCaseStatus,x.fieldClasses=l,x.canEdit=D.canEdit,x.topic.hasError=c,x.topic.isDirty=d,x.topic.discard=p,x.topic.getFormData=s,x.topic.afterSave=u,w=(new e).useDefaults(),k=w.createContext(),C=t(D.characteristics),x.caseStatusScope={validCombination:C.validCombination,filterByCriteria:!0,extendQuery:m,canAddValidCombinations:D.canAddValidCombinations,add:f,type:"case"},x.renewalStatusScope={validCombination:C.validCombination,filterByCriteria:!0,extendQuery:v,canAddValidCombinations:D.canAddValidCombinations,add:f,type:"renewal"},x.formData=k.attach(D),x.changedStatus=g,x.parentData=D.isInherited===!0&&D.parent?{changeCaseStatus:D.parent.changeCaseStatus,changeRenewalStatus:D.parent.changeRenewalStatus}:{},x.topic.initialised=!0}function s(){return{caseStatusCodeId:x.formData.changeCaseStatus?x.formData.changeCaseStatus.key:null,renewalStatusId:x.formData.changeRenewalStatus?x.formData.changeRenewalStatus.key:null}}function l(e){return"{edited: vm.formData.isDirty('"+e+"')}"}function c(){return x.form.$invalid&&x.form.$dirty}function d(){return k.isDirty()}function p(){x.form.$reset(),k.restore()}function u(){k.save()}function m(e){return x.caseStatusScope.picklistSearch?x.caseStatusScope.filterByCriteria?C.caseStatusQuery(e):C.allCaseStatusQuery(e):_.isEmpty(e.search)||!x.caseStatusScope.canAddValidCombinations?C.caseStatusQuery(e):C.allCaseStatusQuery(e);
}function v(e){return x.renewalStatusScope.picklistSearch?x.renewalStatusScope.filterByCriteria?C.renewalStatusQuery(e):C.allRenewalStatusQuery(e):_.isEmpty(e.search)||!x.renewalStatusScope.canAddValidCombinations?C.renewalStatusQuery(e):C.allRenewalStatusQuery(e)}function g(e){e&&C.validCombination&&C.isStatusValid(e.key,"Renewal"===e.type).then(function(t){t.isValid===!1&&a.confirm({title:"modal.invalidStatus.title",messages:["modal.invalidStatus.message","modal.invalidStatus.proceed"],"continue":"Proceed",cancel:"Cancel"}).then(function(){C.addValidStatus(e,D.characteristics,t.isDefaultCountry)},function(){"Renewal"===e.type?x.formData.changeRenewalStatus=y:x.formData.changeCaseStatus=b})})}function f(e){var t={statusType:e.externalScope.type,statusSummary:"pending",state:i.adding};o.supportData().then(function(a){h(t,a,e)})}function h(e,t,i){n.openModal({id:"StatusMaintenance",entity:e,supportData:t,controllerAs:"vm"}).then(function(){a.success();var e=_.last(o.savedStatusIds);o.get(e).then(function(e){var t={code:e.id,value:e.name,type:e.statusType.charAt(0).toUpperCase()+e.statusType.slice(1),key:e.id,id:e.id};i.externalScope.type===e.statusType&&i.gridOptions.highlightAfterEditing(t)})})}var y,b,w,k,C,D,x=this;x.$onInit=r}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlDefinition",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/definition.html",bindings:{topic:"<"},controllerAs:"vm",controller:["ExtObjFactory",function(e){"use strict";function t(){l.topic.initialised=!0,a()}function a(){var e=l.topic.params.viewData;e.userInstruction||(e.userInstruction=""),l.formData=d.attach(e),l.entryId=e.entryId,l.canEdit=e.canEdit,l.fieldClasses=i,l.topic.hasError=n,l.topic.setError=s,l.topic.isDirty=o,l.topic.getFormData=r,l.parentData=e.isInherited===!0&&e.parent?{description:e.parent.description,userInstruction:e.parent.userInstruction}:{}}function i(e){return"{edited: vm.formData.isDirty('"+e+"')}"}function n(){return l.form.$invalid&&l.form.$dirty}function o(){return d.isDirty()}function r(){var e=l.formData.getRaw();return{description:e.description,userInstruction:e.userInstruction}}function s(e){var t=_.findWhere(e,{field:"description"});t&&l.formData.hasError("description",t.message)}var l=this;l.$onInit=t;var c=(new e).useDefaults(),d=c.createContext()}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlDetails",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/details.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","workflowsEntryControlService","ExtObjFactory","hotkeys","modalService",function(e,t,a,i,n,o){"use strict";function r(){O=T.topic.params.viewData,S=O.criteriaId,I=O.entryId,T.canEdit=O.canEdit,T.onAddClick=k,T.onEditClick=C,T.gridOptions=l(),T.translateDateOption=A.translateDateOption,T.translateControlOption=A.translateControlOption,T.formData=E.attach(O),T.fieldClasses=c,T.topic.hasError=p,T.topic.isDirty=u,T.topic.getFormData=w,T.topic.setError=m,T.combinedFieldTemplate=d,T.topic.initializeShortcuts=s,T.parentData=O.isInherited===!0&&O.parent?{atLeastOneEventFlag:O.parent.atLeastOneEventFlag,policeImmediately:O.parent.policeImmediately,officialNumberType:O.parent.officialNumberType,fileLocation:O.parent.fileLocation}:{},T.topic.initialised=!0}function s(){O.canEdit&&n.add({combo:"alt+shift+i",description:"shortcuts.add",callback:k})}function l(){return t.buildOptions(e,{id:"detailsGrid",topicItemNumberKey:T.topic.key,autoBind:!0,pageable:!1,sortable:!1,selectable:!0,titlePrefix:"workflows.entrycontrol.details",read:function(){return A.getDetails(S,I)},autoGenerateRowTemplate:!0,rowDraggable:T.canEdit,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted || dataItem.moved, error: dataItem.error, deleted: dataItem.deleted,'input-inherited': dataItem.isInherited&&!dataItem.isEdited}\"",actions:O.canEdit?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0}:null,onDropCompleted:function(e){e.source.moved=!0},columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:".event",template:"{{ vm.combinedFieldTemplate(dataItem.entryEvent.value,dataItem.entryEvent.key) }}"},{title:".eventDate",template:"{{ vm.translateDateOption(dataItem.eventDate) | translate}}"},{title:".dueDate",template:"{{ vm.translateDateOption(dataItem.dueDate) | translate}}"},{title:".alsoUpdates",template:"{{ vm.combinedFieldTemplate(dataItem.eventToUpdate.value,dataItem.eventToUpdate.key) }}"},{title:".period",template:"{{ vm.translateControlOption(dataItem.period) | translate}}",oneTimeBinding:!0},{title:".policing",template:"{{ vm.translateControlOption(dataItem.policing) | translate}}",oneTimeBinding:!0},{title:".dueDateResp",template:"{{ vm.translateControlOption(dataItem.dueDateResp) | translate}}",oneTimeBinding:!0},{title:".overridingEvent",template:"{{ vm.translateDateOption(dataItem.overrideEventDate) | translate}}",oneTimeBinding:!0},{title:".overridingDue",template:"{{ vm.translateDateOption(dataItem.overrideDueDate) | translate}}",oneTimeBinding:!0}]})}function c(e){return"{edited: vm.formData.isDirty('"+e+"')}"}function d(e,t){return e&&t?e+" ("+t+")":e?e:t?t:""}function p(){var e=_.countBy(T.gridOptions.dataSource.data(),function(e){return 1==e.error&&(0==e.deleted||void 0==e.deleted)})["true"]>0;return(T.form.$invalid||e)&&u()}function u(){var e=T.gridOptions&&T.gridOptions.dataSource&&T.gridOptions.dataSource.data(),t=e&&_.any(e,function(e){return e.isAdded||e.isEdited||e.deleted||e.moved});return E.isDirty()||t}function m(e){_.chain(e).where({field:"entryEvents"}).each(v)}function v(e){var t=_.find(T.gridOptions.dataSource.data(),function(t){return t.entryEvent.key===e.id});t&&(t.error=!0)}function g(e){return{eventId:e.entryEvent.key,alsoUpdateEventId:e.eventToUpdate?e.eventToUpdate.key:null,eventAttribute:e.eventDate,dueAttribute:e.dueDate,policingAttribute:e.policing,dueDateResponsibleNameAttribute:e.dueDateResp,overrideDueAttribute:e.overrideDueDate,overrideEventAttribute:e.overrideEventDate,periodAttribute:e.period,relativeEventId:e.relativeEventId,previousEventId:e.previousEventId}}function f(e){return _.chain(T.gridOptions.dataSource.data()).filter(e).map(g).value()}function h(e){var t=T.gridOptions.getRelativeItemAbove(e);null!=t&&(e.relativeEventId=t.entryEvent.key)}function y(){_.chain(T.gridOptions.dataSource.data()).filter(function(e){return e.isAdded||e.isEdited||e.deleted}).each(h);var e=f(function(e){return e.isAdded&&!e.deleted}),t=f(function(e){return e.isEdited&&!e.deleted&&!e.isAdded}),a=f(function(e){return e.deleted});return{added:e,updated:t,deleted:a}}function b(){return _.chain(T.gridOptions.dataSource.data()).filter(function(e){return e.moved}).map(function(e){var t=T.gridOptions.getRelativeItemAbove(e);return{eventId:e.entryEvent.key,prevEventId:t?t.entryEvent.key:null}}).value()}function w(){var e={officialNumberTypeId:T.formData.officialNumberType?T.formData.officialNumberType.key:null,fileLocationId:T.formData.fileLocation?T.formData.fileLocation.key:null,shouldPoliceImmediate:T.formData.policeImmediately,atLeastOneFlag:T.formData.atLeastOneEventFlag};return _.extend(e,{entryEventDelta:y(),entryEventsMoved:b()})}function k(){x("add").then(function(e){D(e)})}function C(e){x("edit",e)}function D(e){T.gridOptions.insertAfterSelectedRow(e)}function x(e,t){return o.openModal({id:"EntryEventMaintenance",mode:e,dataItem:t||{},criteriaId:O.criteriaId,entryId:O.entryId,entryDescription:O.description,all:T.gridOptions.dataSource.data(),isAddAnother:!1,addItem:D})}var S,I,T=this,$=(new i).useDefaults(),E=$.createContext();T.$onInit=r;var O,A=a}]}),angular.module("inprotech.configuration.rules.workflows").directive("ipWorkflowsEntryControlUserAccessUsers",function(){"use strict";return{restrict:"E",scope:{roleId:"@"},templateUrl:"condor/configuration/rules/workflows/entrycontrol/directives/roleUsers.html",controller:["$scope","workflowsEntryControlService",function(e,t){function a(){t.getUsers(e.roleId).then(function(e){i.users=e})}var i=this;i.$onInit=a}],controllerAs:"vm"}}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlDisplayConditions",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/display-conditions.html",bindings:{topic:"<"},controllerAs:"vm",controller:["ExtObjFactory","workflowsEventControlService",function(e,t){"use strict";function a(){p=u.topic.params.viewData,u.canEdit=p.canEdit,u.formData=v.attach(p),u.fieldClasses=i,u.validate=d,u.topic.isDirty=n,u.topic.getFormData=l,u.topic.hasError=o,u.topic.discard=r,u.topic.afterSave=c,u.eventPicklistScope=t.initEventPicklistScope({criteriaId:p.criteriaId,filterByCriteria:!0}),u.parentData=p.isInherited===!0&&p.parent?{displayEvent:p.parent.displayEvent,hideEvent:p.parent.hideEvent,dimEvent:p.parent.dimEvent}:{},u.isInherited=s,u.topic.initialised=!0}function i(e){return"{edited: vm.formData.isDirty('"+e+"')}"}function n(){return v.isDirty()}function o(){return u.form.$invalid&&u.form.$dirty}function r(){u.form.$reset(),v.restore()}function s(){return angular.equals(u.formData.displayEvent,u.parentData.displayEvent)&&angular.equals(u.formData.hideEvent,u.parentData.hideEvent)&&angular.equals(u.formData.dimEvent,u.parentData.dimEvent)}function l(){return{displayEventNo:u.formData.displayEvent?u.formData.displayEvent.key:null,hideEventNo:u.formData.hideEvent?u.formData.hideEvent.key:null,dimEventNo:u.formData.dimEvent?u.formData.dimEvent.key:null}}function c(){v.save()}function d(e){var t=l(),a="entrycontrol.displayConditions.invalidcombination";t[e]||u.form[e].$setValidity(a,null);var i=_.filter(_.values(t),function(e){return e});_.uniq(i).length===i.length?_.each(_.keys(t),function(e){u.form[e].$setValidity(a,null)}):_.filter(_.values(t),function(a){return t[e]===a}).length>1&&u.form[e].$setValidity(a,!1)}var p,u=this,m=(new e).useDefaults(),v=m.createContext();u.$onInit=a}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlDocuments",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/documents.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","workflowsEntryControlService","kendoGridService","hotkeys",function(e,t,a,i,n){"use strict";function o(){D=$.topic.params.viewData,x=D.criteriaId,S=D.entryId,I=a,T=D.canEdit,$.topic.initializeShortcuts=r,_.extend($.topic,{getFormData:s,hasError:l,isDirty:c,validate:d}),$.canEdit=T,$.gridOptions=f(),$.onAddClick=h,$.checkDuplicate=y,$.onDocumentChanged=b,$.topic.initializeShortcuts=r,$.topic.initialised=!0}function r(){D.canEdit&&n.add({combo:"alt+shift+i",description:"shortcuts.add",callback:h})}function s(){var e=u($.gridOptions.dataSource.data(),p);return{DocumentsDelta:e}}function l(){return $.form.$invalid}function c(){return $.form.$dirty||i.isGridDirty($.gridOptions)}function d(){return $.form.$validate()&&!k()}function p(e){return{documentId:e.document.key,mustProduce:e.mustProduce,previousDocumentId:e.previousDocumentId}}function u(e,t){return{added:_.chain(e).filter(m).map(t).value(),deleted:_.chain(e).filter(v).map(t).value(),updated:_.chain(e).filter(g).map(t).value()}}function m(e){return(e.added||e.isAdded)&&!e.deleted}function v(e){return e.deleted}function g(e){return(e.isEdited||e.isDirty&&e.isDirty())&&!e.deleted&&!(e.added||e.isAdded)}function f(){return t.buildOptions(e,{id:"documentsGrid",topicItemNumberKey:$.topic.key,autoBind:!0,pageable:!1,sortable:!1,titlePrefix:"workflows.entrycontrol.documents",actions:T?{"delete":!0}:null,read:function(){return I.getDocuments(x,S).then(function(e){return _.each(e,function(e){e.previousDocumentId=e.document.key})})},autoGenerateRowTemplate:T,rowAttributes:T?'ng-form="rowForm" ng-class="{error: rowForm.$invalid, edited: dataItem.isEdited || dataItem.added ||dataItem.deleted, deleted: dataItem.deleted,\'input-inherited\': dataItem.isInherited && !dataItem.isEdited}"':"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>',oneTimeBinding:!0},{title:".document",width:"75%",template:T?'<span ng-if="dataItem.deleted" ng-bind="dataItem.document.value"></span>{{vm.checkDuplicate(dataItem.isDuplicatedRecord, rowForm)}}<ip-typeahead data-picklist-can-maintain="true" ng-if="!dataItem.deleted" focus-on-add ip-required label="" name="document" ng-model="dataItem.document" ng-change="vm.onDocumentChanged(dataItem, rowForm)" data-config="document"></ip-typeahead>':'<span ng-bind="dataItem.document.value"></span>'},{title:".mustProduce",width:"20%",template:T?'<ip-checkbox ng-model="dataItem.mustProduce" ng-change="dataItem.isEdited = true"></ip-checkbox>':'<ip-checkbox ng-model="dataItem.mustProduce" disabled></ip-checkbox>'}]})}function h(){var e=$.gridOptions.dataSource.total();$.gridOptions.insertRow(e,{added:!0,mustProduce:!1})}function y(e,t){e&&t.document.$setValidity("duplicate",!1)}function b(e,t){e.isEdited=!0,t.document.$setValidity("duplicate",!0),e.isDuplicatedRecord=!1,w(e)&&t.document.$setValidity("duplicate",!1)}function w(e){var t=$.gridOptions.dataSource.data();return I.isDuplicated(_.without(t,e),e,["document"])}function k(){var e=$.gridOptions.dataSource.data();return C(e,["document"])}function C(e,t){e=_.filter(e,function(e){return!e.deleted});for(var a=e.length-1;a>=0;a--){var i=I.isDuplicated(_.without(e,e[a]),e[a],t);if(i)return e[a].isDuplicatedRecord=!0,!0}return!1}var D,x,S,I,T,$=this;$.$onInit=o}]}),angular.module("inprotech.configuration.rules.workflows").controller("WorkflowsEntryControlController",["$scope","$stateParams","viewData","workflowsMaintenanceService","workflowsMaintenanceEntriesService","workflowsEntryControlService","notificationService","modalService","utils","$state","bus","$rootScope",function(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){R=o,P=n,U.entryControl=a,U.workflowEntryIds=P.entryIds(),U.canEdit=a.canEdit,U.isSaveEnabled=y,U.isDiscardEnabled=b,U.save=D,U.discard=w,U["delete"]=C,U.isDeleteEnabled=k,U.onTopicSelected=g,p.setPageTitlePrefix(a.criteriaId+" ("+a.description+")","workflows.details.entrycontrol"),q={definition:{key:"definition",title:"workflows.entrycontrol.definition.title",template:'<ip-workflows-entry-control-definition data-topic="$topic" />',params:{viewData:a}},details:{key:"details",title:"workflows.entrycontrol.details.title",subTitle:"workflows.entrycontrol.details.blurb",template:'<ip-workflows-entry-control-details data-topic="$topic" />',params:{viewData:a}},steps:{key:"steps",title:"workflows.entrycontrol.steps.topicTitle",subTitle:"workflows.entrycontrol.steps.blurb",template:'<ip-workflows-entry-control-steps data-topic="$topic" />',params:{viewData:a}},displayConditions:{key:"displayConditions",title:"workflows.entrycontrol.displayConditions.title",subTitle:"workflows.entrycontrol.displayConditions.blurb",template:'<ip-workflows-entry-control-display-conditions data-topic="$topic" />',params:{viewData:a}},changeStatus:{key:"changeStatus",title:"workflows.entrycontrol.changeStatus.title",subTitle:"workflows.entrycontrol.changeStatus.blurb",template:'<ip-workflows-entry-control-change-status data-topic="$topic" />',params:{viewData:a}},documents:{key:"documents",title:"workflows.entrycontrol.documents.title",subTitle:"workflows.entrycontrol.documents.blurb",template:'<ip-workflows-entry-control-documents data-topic="$topic" />',params:{viewData:a}}},a.showUserAccess&&(q.userAccess={key:"userAccess",title:"workflows.entrycontrol.userAccess.topicTitle",subTitle:"workflows.entrycontrol.userAccess.blurb",template:'<ip-workflows-entry-control-user-access data-topic="$topic" />',params:{viewData:a}}),F={resetInheritance:{key:"resetInheritance",title:"workflows.actions.resetInheritance.title",action:A,disabled:!a.hasParentEntry,tooltip:a.hasParentEntry?null:"workflows.actions.resetInheritance.disabledEntryTooltip"},breakInheritance:{key:"breakInheritance",title:"workflows.actions.breakInheritance.title",action:M,disabled:!a.hasParentEntry||!a.isInherited,tooltip:a.hasParentEntry&&a.isInherited?null:"workflows.actions.breakInheritance.disabledEntryTooltip"}},m()}function m(){U.$topics=q;var e;U.entryControl.isSeparator?e=[q.definition]:(e=[q.definition,q.details,q.steps,q.displayConditions,q.changeStatus,q.documents],a.showUserAccess&&e.push(q.userAccess)),U.topicOptions={topics:e,actions:[]},a.canEdit&&(U.topicOptions.actions=[F.resetInheritance,F.breakInheritance])}function v(e,t){_.each(e,function(e){t.push(e),e.topics&&v(e.topics,t)})}function g(e){var t=[];v(q,t),_.each(t,function(t){t.key===e&&_.isFunction(t.initializeShortcuts)&&t.initializeShortcuts()})}function f(){return!!_.all(U.topicOptions.topics,function(e){return e.initialised})}function h(){return _.any(U.topicOptions.topics,function(e){return e.isDirty()})}function y(){return!!f()&&(h()&&_.all(U.topicOptions.topics,function(e){return!e.hasError()}))}function b(){return!!f()&&h()}function w(){T()}function k(){return!!f()}function C(){if(U.workflowEntryIds.length){var t=[a.entryId];P.confirmDeleteWorkflow(e,a.criteriaId,t).then(function(e){return P.deleteEntries(a.criteriaId,t,Boolean(e.applyToDescendants))}).then(function(){O()})}}function D(){if(E()){var e=a.hasParent,t=a.hasChildren,i=!1;l.steps(function(t){e?r.confirm({title:"Warning",messages:["workflows.entrycontrol.breakInheritanceConfirmation","workflows.entrycontrol.doYouWantToProceed"],cancel:"Cancel","continue":"Proceed"}).then(t):t()},function(e){t?R.getDescendants(a.criteriaId,a.entryId,$()).then(function(t){s.open("EntryInheritanceConfirmation",null,{viewData:{items:t.data.descendants,breakingItems:t.data.breaking}}).then(function(t){i=t,e()})}):e()},function(){x(i)})}}function x(e){var t=S(e);return R.updateDetail(a.criteriaId,a.entryId,t).then(function(e){"success"===e.data.status?(r.success(),T(),d.channel("gridRefresh.entriesResults").broadcast()):(I(e.data.errors),r.alert({title:"modal.unableToComplete",message:"workflows.entrycontrol.saveError"}))})}function S(e){var t={applyToDescendants:e};return _.each(U.topicOptions.topics,function(e){t=angular.extend(t,e.getFormData())}),t}function I(e){_.each(U.topicOptions.topics,function(t){t.setError&&t.setError(_.where(e,{topic:t.key}))})}function T(){U.isSaveEnabled=_.constant(!1),c.reload(c.current.name)}function $(){return q.definition.getFormData().description}function E(){var e,t=[];return _.each(q,function(a){_.isFunction(a.validate)&&!a.validate()&&(t.push({message:a.title}),e=!0)}),e&&r.alert({title:"modal.unableToComplete",message:"sections.errors.errorInSection",errors:t,actionMessage:"sections.errors.actionMessage"}),!e}function O(){U.isSaveEnabled=_.constant(!1);var e=_.indexOf(U.workflowEntryIds,a.entryId),t=U.workflowEntryIds?U.workflowEntryIds.length:0,i={entryId:a.entryId};return d.channel("gridRefresh.entriesResults").broadcast(),t<=1?void c.go("^",null,{location:"replace"}):(e<t-1?i.entryId=U.workflowEntryIds[e+1]:e===t-1&&(i.entryId=U.workflowEntryIds[e-1]),U.workflowEntryIds.splice(e,1),void c.go("workflows.details.entrycontrol",i,{location:"replace"}))}function A(){a.canEdit&&a.hasParentEntry&&N().then(function(e){R.resetEntry(a.criteriaId,a.entryId,e).then(function(){r.success(),T()})})}function N(){return R.getDescendantsAndParentWithInheritedEntry(a.criteriaId,a.entryId).then(function(e){return s.open("InheritanceResetConfirmation",null,{viewData:{criteriaId:a.criteriaId,items:e.descendants,parent:e.parent,context:"entrycontrol"}})})}function M(){if(a.canEdit&&a.hasParentEntry&&a.isInherited)return i.getParent(a.criteriaId).then(function(e){return s.openModal({id:"InheritanceBreakConfirmation",parent:e,context:"entrycontrol"})}).then(function(){R.breakEntryInheritance(a.criteriaId,a.entryId).then(function(){r.success(),T()})})}var R,P,F,q,U=this;U.$onInit=u}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsEntryControlService",["$http",function(e){"use strict";function t(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/details").then(function(e){return e.data})}function a(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/documents").then(function(e){return e.data})}function i(e){return null==e?"":w[e]}function n(e){return null==e?"":C[e]}function o(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/steps").then(function(e){return e.data})}function r(t,a,i){return e.put("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a),i)}function s(e,t,a){var i=_.any(e,function(e){return _.all(a,function(a){return l(e[a],t[a])})});return i}function l(e,t){return e&&e.key&&t&&t.key?l(e.key,t.key):(t instanceof Date&&(e=new Date(e)),c(e)===c(t))}function c(e){return""===e||null==e?null:e instanceof Date?Number(e):e}function d(e){return e.$pristine||e.$invalid}function p(e){return!e.$pristine&&!e.$invalid}function u(t,a,i){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/descendants?newEntryDescription="+encodeURIComponent(i))}function m(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/descendants/parent").then(function(e){return e.data})}function v(t,a,i){return e.post("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/reset?appliesToDescendants="+i)}function g(t,a){return e.post("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/break")}function f(e,t){t&&!e.isAdded?(e.isEdited=!0,e.inherited=!1):e.isAdded=!0}function h(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrycontrol/"+encodeURIComponent(a)+"/useraccess").then(function(e){return e.data})}function y(t){return e.get("api/configuration/roles/"+encodeURIComponent(t)+"/users").then(function(e){return e.data})}var b=[{key:0,value:"workflows.entrycontrol.dateOptions.displayOnly"},{key:1,value:"workflows.entrycontrol.dateOptions.entryMandatory"},{key:2,value:"workflows.entrycontrol.dateOptions.hide"},{key:3,value:"workflows.entrycontrol.dateOptions.entryOptional"},{key:4,value:"workflows.entrycontrol.dateOptions.defaultToSystemDate"}],w=_.object(_.map(b,function(e){return[e.key,e.value]})),k=[{key:0,value:"workflows.entrycontrol.controlOptions.displayOnly"},{key:1,value:"workflows.entrycontrol.controlOptions.entryMandatory"},{key:2,value:"workflows.entrycontrol.controlOptions.hide"},{key:3,value:"workflows.entrycontrol.controlOptions.entryOptional"}],C=_.object(_.map(k,function(e){return[e.key,e.value]})),D=function(){return _.filter(k,function(e){return 0==e.key||1==e.key||3==e.key})},x={getDetails:t,getDocuments:a,translateDateOption:i,translateControlOption:n,getSteps:o,updateDetail:r,dateOptions:b,controlOptions:k,dueDateRespOptions:D,isApplyDisabled:d,isApplyEnabled:p,isDuplicated:s,getDescendants:u,resetEntry:v,breakEntryInheritance:g,getDescendantsAndParentWithInheritedEntry:m,setEditedAddedFlags:f,getUserAccess:h,getUsers:y};return x}]),angular.module("inprotech.configuration.rules.workflows").controller("EntryEventMaintenanceController",["$uibModalInstance","$translate","notificationService","workflowsEntryControlService","options","$scope","maintenanceModalService",function(e,t,a,i,n,o,r){"use strict";function s(e){if(!y.form.$validate())return!1;var t=_.clone(y.formData);return!(!d(t)||c(t))&&(h&&!t.isAdded?(t.isEdited=!0,t.inherited=!1):t.isAdded=!0,h&&!n.dataItem.previousEventId&&(n.dataItem.previousEventId=n.dataItem.entryEvent.key),i.setEditedAddedFlags(t,h),g.applyChanges(t,n,h,y.isAddAnother,e),!0)}function l(){return!!y.form.$pristine||s(!0)}function c(e){var o=i.isDuplicated(_.without(n.all,n.dataItem),e,["entryEvent"]);return o&&a.alert({message:t.instant("workflows.entrycontrol.details.maintenance.duplicate"),title:t.instant("modal.unableToComplete")}),o}function d(e){var i=null==e.eventDate&&null==e.dueDate&&null==e.period;return i&&a.alert({message:t.instant("workflows.entrycontrol.details.maintenance.atleastOneCharacteristics"),title:t.instant("modal.unableToComplete")}),!i}function p(){return i.isApplyEnabled(y.form)}function u(e){return y.eventPicklistScope.filterByCriteria?angular.extend({},e,{criteriaId:f,picklistSearch:y.eventPicklistScope.picklistSearch}):angular.extend({},e,{criteriaId:y.eventPicklistScope.picklistSearch?null:f,picklistSearch:y.eventPicklistScope.picklistSearch})}function m(){return y.form&&y.form.$dirty}function v(){e.dismiss()}var g,f,h,y=this;f=n.criteriaId,h="edit"===n.mode,_.extend(y,{isAddAnother:n.isAddAnother,title:h?".editTitle":".addTitle",criteriaId:f,entryId:n.entryId,entryDescription:n.entryDescription,dateOptions:i.dateOptions,controlOptions:i.controlOptions,dueDateRespOptions:i.dueDateRespOptions(),formData:_.extend({eventDate:3},n.dataItem),eventPicklistScope:{criteriaId:f,filterByCriteria:!0,extendQuery:u},isApplyEnabled:p,apply:s,onNavigate:l,hasUnsavedChanges:m,dismiss:v,isEditMode:h,currentItem:n.dataItem,addItem:n.addItem,allItems:n.all}),g=r(o,e,y.addItem)}]),angular.module("inprotech.configuration.rules.workflows").controller("InheritanceBreakConfirmationController",["$uibModalInstance","options",function(e,t){"use strict";function a(){e.close()}function i(){e.dismiss("Cancel")}var n=this;n.parent=t.parent,n.criteriaId=t.criteriaId,n.context="workflows.inheritanceBreakConfirmation."+t.context,n.proceed=a,n.cancel=i}]),angular.module("inprotech.configuration.rules.workflows").controller("EntryInheritanceConfirmationController",["$uibModalInstance","store","viewData",function(e,t,a){"use strict";function i(){t.session.set(o,r.applyChangesToChildren),e.close(r.applyChangesToChildren)}function n(){e.dismiss("Cancel")}var o,r=this;r.items=a.items,r.breakingItems=a.breakingItems,o="workflows.entryControl.applyInheritance",t.session["default"](o,!0),r.proceed=i,r.cancel=n,r.applyChangesToChildren=t.session.get(o)}]),angular.module("inprotech.configuration.rules.workflows").controller("InheritanceResetConfirmationController",["$uibModalInstance","viewData",function(e,t){"use strict";function a(){e.close(n.applyChangesToChildren)}function i(){e.dismiss("Cancel")}var n=this;n.items=t.items||[],n.parent=t.parent,n.context="workflows.inheritanceResetConfirmation."+t.context,n.proceed=a,n.cancel=i,n.applyChangesToChildren=!0}]),angular.module("inprotech.configuration.rules.workflows").controller("EntryStepsMaintenanceController",["$uibModalInstance","$translate","notificationService","workflowsEntryControlService","workflowsEntryControlStepsService","options","$scope","maintenanceModalService",function(e,t,a,i,n,o,r,s){"use strict";function l(e){if(!b.form.$validate())return!1;if(d(b.formData))return!1;var t=_.clone(b.formData);return t.error=null,t.errorMessage=null,y&&b.editItem(o.dataItem,t),i.setEditedAddedFlags(t,y),g.applyChanges(t,o,y,b.isAddAnother,e),!0}function c(){return!!b.form.$pristine||l(!0)}function d(e){var i=y?_.without(o.all,o.dataItem):o.all,n=_.chain(i).filter(function(e){return f.areStepsSame(this.newStep,e)},{newStep:e}).value(),r=n.length>0;return r&&a.alert({message:t.instant("workflows.entrycontrol.steps.maintenance.duplicate"),title:t.instant("modal.unableToComplete")}),r}function p(){f.checkStepCategories(b.formData),b.formData.title=b.formData.step.value}function u(){return i.isApplyEnabled(b.form)}function m(){return b.form&&b.form.$dirty}function v(){e.dismiss()}var g,f,h,y,b=this;f=n,h=o.criteriaId,y="edit"===o.mode,_.extend(b,{isAddAnother:o.isAddAnother,editItem:o.editItem,title:y?".editTitle":".addTitle",criteriaId:h,criteriaCharacteristics:o.criteriaCharacteristics,entryId:o.entryId,entryDescription:o.entryDescription,formData:angular.copy(o.dataItem)||{},isApplyEnabled:u,apply:l,onNavigate:c,isEditMode:y,onStepTypeChanged:p,hasUnsavedChanges:m,currentItem:o.dataItem,addItem:o.addItem,allItems:o.all,dismiss:v}),g=s(r,e,b.addItem)}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsEntryControlStepsService",["workflowsEntryControlService",function(e){"use strict";function t(e){return l+e}function a(e){return e&&e.categoryValue?e.categoryValue.displayValue||e.categoryValue.value:null}function i(e){return null==e&&(e="G"),e=e.trim(),c[e].categories}function n(e){return _.any(e.categories,{isMandatory:!0})}function o(t,a){return e.getSteps(t,a).then(function(e){return _.each(e,function(e){r(e)}),e})}function r(e){var t=e.step?i(e.step.type):[],a=e.step?_.pluck(t,"categoryCode"):[];e.categories=_.filter(e.categories,function(e){return _.contains(a,e.categoryCode)}),_.each(t,function(t){var a=_.findWhere(e.categories,{categoryCode:t.categoryCode});a?_.extend(a,t):e.categories.push(angular.copy(t))})}function s(e,t){var a=!1;return e.step.value===t.step.value&&(!n(e)||(a=_.every(_.where(e.categories,{isMandatory:!0}),function(e){var a=_.findWhere(t.categories,{categoryCode:e.categoryCode});if(a)return e.categoryValue&&a.categoryValue?e.categoryValue.key===a.categoryValue.key:!(e.categoryValue||a.categoryValue)})))}var l="workflows.entrycontrol.steps.",c={A:{categories:[{categoryCode:"action",categoryName:"createAction",isMandatory:!0}]},C:{categories:[{categoryCode:"checklist",categoryName:"checklistTypes",isMandatory:!0}]},F:{categories:[{categoryCode:"designationStage",categoryName:"designationStage",isMandatory:!1}]},G:{categories:[]},M:{categories:[{categoryCode:"relationship",categoryName:"mandatoryRelationship",isMandatory:!1}]},N:{categories:[{categoryCode:"nameType",categoryName:"nameType",isMandatory:!0}]},O:{categories:[{categoryCode:"numberType",categoryName:"officialNumber",isMandatory:!1}]},P:{categories:[{categoryCode:"nameTypeGroup",categoryName:"nameTypeGroup",isMandatory:!0}]},R:{categories:[{categoryCode:"relationship",categoryName:"relationship",isMandatory:!0}]},T:{categories:[{categoryCode:"textType",categoryName:"textType",query:{mode:"case"},isMandatory:!0}]},X:{categories:[{categoryCode:"nameType",categoryName:"nameType",isMandatory:!0},{categoryCode:"textType",categoryName:"textType",query:{mode:"case"},isMandatory:!0}]}},d={translateStepCategory:t,categoryDisplay:a,getSteps:o,checkStepCategories:r,areStepsSame:s};return d}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlSteps",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/steps.html",controllerAs:"vm",bindings:{topic:"<"},controller:["$scope","kendoGridBuilder","modalService","workflowsEntryControlStepsService","$translate","hotkeys","notificationService",function(e,t,a,i,n,o,r){"use strict";function s(){$=i,N.stepService=$,E=N.topic.params.viewData,N.topic.isDirty=d,N.topic.hasError=p,N.topic.getFormData=b,N.topic.setError=w,O=E.criteriaId,A=E.entryId,N.canEdit=E.canEdit,N.gridOptions=c(),N.onAddClick=D,N.onEditClick=x,N.editItem=I,N.topic.initializeShortcuts=l,N.topic.initialised=!0}function l(){E.canEdit&&o.add({combo:"alt+shift+i",description:"shortcuts.add",callback:D})}function c(){return t.buildOptions(e,{id:"steps",topicItemNumberKey:N.topic.key,autoBind:!0,pageable:!1,sortable:!1,selectable:!0,titlePrefix:"workflows.entrycontrol.steps",autoGenerateRowTemplate:!0,rowDraggable:N.canEdit,rowAttributes:'ng-class="{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted || dataItem.moved, error: dataItem.error, deleted: dataItem.deleted, \'input-inherited\': dataItem.isInherited&&!dataItem.isEdited }" uib-tooltip="{{dataItem.errorMessage}}" tooltip-class="tooltip-error" data-tooltip-placement="left"',read:function(){return $.getSteps(O,A)},actions:N.canEdit?{edit:{onClick:"vm.onEditClick(dataItem)"
},"delete":!0}:null,onDropCompleted:function(e){e.source.moved=!0},columns:[{fixed:!0,template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>',width:"35px",oneTimeBinding:!0},{title:".defaultTitle",field:"step.value",oneTimeBinding:!0},{title:".title",field:"title",width:"15%"},{title:".screenTip",field:"screenTip",width:"30%"},{title:".mandatory",template:'<ip-checkbox ng-model="dataItem.isMandatory" disabled></ip-checkbox>'},{title:".category",template:'<div ng-repeat="category in dataItem.categories" ng-if="dataItem.categories && dataItem.categories.length>0"><span translate="{{vm.stepService.translateStepCategory(category.categoryName)}}"></span><span ng-if="vm.stepService.categoryDisplay(category)">:&nbsp;{{ vm.stepService.categoryDisplay(category) }}</span></div>'}]})}function d(){var e=N.gridOptions&&N.gridOptions.dataSource&&N.gridOptions.dataSource.data(),t=e&&_.any(e,function(e){return e.isAdded||e.isEdited||e.deleted||e.moved});return t}function p(){var e=_.countBy(N.gridOptions.dataSource.data(),function(e){return 1==e.error&&(0==e.deleted||void 0==e.deleted)})["true"]>0;return e&&d()}function u(e){var t={id:e.id,screenName:e.step.key,screenType:e.step.type,title:e.title,screenTip:e.screenTip,isMandatory:e.isMandatory,newItemId:e.newId,relativeId:e.relativeId};return t.categories=_.map(e.categories,function(e){return{categoryCode:e.categoryCode,categoryValue:e.categoryValue}})||[],t}function m(e){var t=N.gridOptions.getRelativeItemAbove(e);null!=t&&(e.relativeId=t.id?t.id:t.newId)}function v(e){return _.chain(N.gridOptions.dataSource.data()).filter(e).map(u).value()}function g(){var e=0;_.chain(N.gridOptions.dataSource.data()).filter(function(e){return e.isAdded&&!e.deleted}).each(function(t){t.newId=f(e++)})}function f(e){var t=65,a=t+e;if(a>126)throw r.alert({message:n.instant("workflows.entrycontrol.steps.tooManyAdditions"),title:n.instant("modal.unableToComplete")}),new Error("Too many new steps added. Rectify and try again.");return String.fromCharCode(a)}function h(){g(),_.chain(N.gridOptions.dataSource.data()).filter(function(e){return e.isAdded}).each(m);var e=v(function(e){return e.isAdded&&!e.deleted}),t=v(function(e){return e.isEdited&&!e.deleted&&!e.isAdded}),a=v(function(e){return e.deleted});return{added:e,updated:t,deleted:a}}function y(){return _.chain(N.gridOptions.dataSource.data()).filter(function(e){return!e.isAdded&&!e.deleted&&e.moved}).map(function(e){var t=N.gridOptions.getRelativeItemAbove(e);return{stepId:e.id,prevStepIdentifier:t?t.id?t.id:t.newId:null}}).value()}function b(){return{stepsDelta:h(),stepsMoved:y()}}function w(e){_.chain(e).where({field:"title"}).each(k),_.chain(e).where({field:"categoryValue"}).each(k)}function k(e){var t=_.find(N.gridOptions.dataSource.data(),function(t){return t.id===e.id||t.newId===e.id});t&&(t.error=!0,t.errorMessage=n.instant("row."+e.message))}function C(e,t){_.each(e.categories,function(e){var a=_.find(t.categories||[],function(t){return t.categoryCode===e.categoryCode});e.categoryValue&&a.categoryValue&&a.categoryValue.key!==e.categoryValue.key&&(e.categoryValue=null)})}function D(){T("add").then(function(e){S(e)})}function x(e){T("edit",e).then(function(t){I(e,t)})}function S(e){N.gridOptions.insertAfterSelectedRow(e)}function I(e,t){C(e,t),angular.merge(e,t)}function T(e,t){return a.openModal({id:"EntryStepsMaintenance",mode:e,dataItem:t||{},criteriaId:E.criteriaId,criteriaCharacteristics:E.characteristics,entryId:E.entryId,entryDescription:E.description,all:N.gridOptions.dataSource.data(),editItem:N.editItem,isAddAnother:!1,addItem:S})}var $,E,O,A,N=this;N.$onInit=s}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEntryControlUserAccess",{templateUrl:"condor/configuration/rules/workflows/entrycontrol/userAccess.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","workflowsEntryControlService","picklistService","kendoGridService","hotkeys",function(e,t,a,i,n,o){"use strict";function r(){g=h.topic.params.viewData,f=a,h.canEdit=g.canEdit,h.onAddClick=c,h.topic.getFormData=d,h.topic.isDirty=u,h.topic.hasError=function(){return!1},h.topic.initializeShortcuts=s,m=g.criteriaId,v=g.entryId,h.gridOptions=l(),h.topic.initialised=!0}function s(){g.canEdit&&o.add({combo:"alt+shift+i",description:"shortcuts.add",callback:c})}function l(){return t.buildOptions(e,{id:"userAccess",topicItemNumberKey:h.topic.key,autoBind:!0,pageable:!1,sortable:!1,titlePrefix:"workflows.entrycontrol.userAccess",autoGenerateRowTemplate:!0,actions:h.canEdit?{"delete":!0}:null,read:function(){return f.getUserAccess(m,v)},columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:".role",field:"value"}],detailTemplate:"<ip-workflows-entry-control-user-access-users data-role-id='{{::dataItem.key}}'></ip-workflows-entry-control-user-access-users>",rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.deleted, deleted: dataItem.deleted, 'input-inherited': dataItem.isInherited && !dataItem.isEdited}\""})}function c(){i.openModal(e,{displayName:"picklist.role.Type",multipick:!0,selectedItems:n.activeData(h.gridOptions),label:"picklist.role.Name",keyField:"key",textField:"value",apiUrl:"api/picklists/roles",picklistDisplayName:"picklist.role.Name",columns:[{title:"picklist.role.description",field:"value"}]}).then(function(e){n.sync(h.gridOptions,e)})}function d(){var e=p(function(e){return e.isAdded&&!e.deleted}),t=p(function(e){return e.deleted});return{userAccessDelta:{added:e,deleted:t}}}function p(e){return _.chain(h.gridOptions.dataSource.data()).filter(e).map(function(e){return e.key}).value()}function u(){var e=h.gridOptions&&h.gridOptions.dataSource&&h.gridOptions.dataSource.data(),t=e&&_.any(e,function(e){return e.isAdded||e.deleted});return t}var m,v,g,f,h=this;h.$onInit=r}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlChangeAction",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/change-action.html",bindings:{topic:"<"},controllerAs:"vm",controller:["workflowsEventControlService",function(e){"use strict";function t(){u=m.topic.params.viewData,m.changeAction=u.changeAction,m.parentData=u.isInherited===!0&&u.parent?u.parent.changeAction:{},m.canEdit=u.canEdit,m.relativeCycles=e.relativeCycles,m.isCloseActionEmpty=r,m.isReletiveCycleDisabled=o,m.onCloseActionChange=a,_.extend(m.topic,{hasError:s,isDirty:l,validate:c,getFormData:d}),m.isInherited=n,p()}function a(){m.form.relativeCycle.$setDirty(),m.isCloseActionEmpty()?m.changeAction.relativeCycle=null:i(m.changeAction.closeAction.cycles)}function i(e){1==e?m.changeAction.relativeCycle=3:m.changeAction.relativeCycle=0}function n(){return angular.equals(m.changeAction,m.parentData)}function o(){return!m.canEdit||m.isCloseActionEmpty()}function r(){return null==m.changeAction.closeAction||null==m.changeAction.closeAction.key}function s(){return m.form.$invalid}function l(){return m.form.$dirty}function c(){return m.form.$validate()}function d(){return{openActionId:m.changeAction.openAction&&(m.changeAction.openAction.code||m.changeAction.openAction.key),closeActionId:m.changeAction.closeAction&&(m.changeAction.closeAction.code||m.changeAction.closeAction.key),relativeCycle:m.changeAction.relativeCycle}}function p(){m.isCloseActionEmpty()&&(m.changeAction.relativeCycle=null)}var u,m=this;m.$onInit=t}]}),angular.module("inprotech.configuration.rules.workflows").controller("ChangeDueDateRespConfirmController",["$uibModalInstance","store","options",function(e,t,a){"use strict";function i(){t.session.set(o,r.changeDueDateResp),e.close(r.changeDueDateResp)}function n(){e.dismiss("Cancel")}var o,r=this;r.preSave=a.preSave||!1,o="workflows.eventControl.changeDueDateResp",t.session["default"](o,!0),r.proceed=i,r.cancel=n,r.changeDueDateResp=t.session.get(o)}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlChangeStatus",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/change-status.html",bindings:{topic:"<"},controllerAs:"vm",controller:["workflowStatusService","notificationService","states","modalService","statusService",function(e,t,a,i,n){"use strict";function o(){g=h.topic.params.viewData,f=e(g.characteristics),_.extend(h.topic,{hasError:r,isDirty:s,getFormData:l}),h.canEdit=g.canEdit,h.changeStatus=g.changeStatus,h.changeRenewalStatus=g.changeRenewalStatus,h.userDefinedStatus=g.userDefinedStatus,h.enableRenewalStatus=g.isRenewalStatusSupported,h.parentData=g.isInherited===!0&&g.parent?{changeStatus:g.parent.changeStatus,changeRenewalStatus:g.parent.changeRenewalStatus,userDefinedStatus:g.parent.userDefinedStatus}:{},h.caseStatusScope={validCombination:f.validCombination,filterByCriteria:!0,extendQuery:c,canAddValidCombinations:g.canAddValidCombinations,add:m,type:"case"},h.renewalStatusScope={validCombination:f.validCombination,filterByCriteria:!0,extendQuery:d,canAddValidCombinations:g.canAddValidCombinations,add:m,type:"renewal"},h.validStatusScope={validCombination:f.validCombination,filterByCriteria:!0,extendQuery:p,canAddValidCombinations:g.canAddValidCombinations,add:m,type:"case"},h.changedStatus=u}function r(){return h.form.$invalid}function s(){return h.form.$dirty}function l(){return{changeStatusId:h.changeStatus?h.changeStatus.key:null,changeRenewalStatusId:h.changeRenewalStatus?h.changeRenewalStatus.key:null,userDefinedStatus:h.userDefinedStatus}}function c(e){return h.caseStatusScope.picklistSearch?h.caseStatusScope.filterByCriteria?f.caseStatusQuery(e):f.allCaseStatusQuery(e):_.isEmpty(e.search)||!h.caseStatusScope.canAddValidCombinations?f.caseStatusQuery(e):f.allCaseStatusQuery(e)}function d(e){return h.renewalStatusScope.picklistSearch?h.renewalStatusScope.filterByCriteria?f.renewalStatusQuery(e):f.allRenewalStatusQuery(e):_.isEmpty(e.search)||!h.renewalStatusScope.canAddValidCombinations?f.renewalStatusQuery(e):f.allRenewalStatusQuery(e)}function p(e){return h.validStatusScope.picklistSearch?h.validStatusScope.filterByCriteria?f.validStatusQuery(e):f.allValidStatusQuery(e):_.isEmpty(e.search)||!h.validStatusScope.canAddValidCombinations?f.validStatusQuery(e):f.allValidStatusQuery(e)}function u(e){e&&f.validCombination&&f.isStatusValid(e.key,"Renewal"===e.type).then(function(a){a.isValid===!1&&t.confirm({title:"modal.invalidStatus.title",messages:["modal.invalidStatus.message","modal.invalidStatus.proceed"],"continue":"Proceed",cancel:"Cancel"}).then(function(){f.addValidStatus(e,g.characteristics,a.isDefaultCountry)},function(){h.enableRenewalStatus&&"Renewal"===e.type?h.changeRenewalStatus=g.changeRenewalStatus:h.changeStatus=g.changeStatus})})}function m(e){var t={statusType:e.externalScope.type,statusSummary:"pending",state:a.adding};n.supportData().then(function(a){v(t,a,e)})}function v(e,a,o){i.openModal({id:"StatusMaintenance",entity:e,supportData:a,controllerAs:"vm"}).then(function(){t.success();var e=_.last(n.savedStatusIds);n.get(e).then(function(e){var t={code:e.id,value:e.name,type:e.statusType.charAt(0).toUpperCase()+e.statusType.slice(1),key:e.id,id:e.id};o.externalScope.type===e.statusType&&o.gridOptions.highlightAfterEditing(t)})})}var g,f,h=this;h.$onInit=o}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlChargeForm",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/charge-form.html",bindings:{canEdit:"<",chargeTypeLabel:"@?",form:"=",charge:"=",wrapOptions:"@"},controllerAs:"vm",controller:function(){"use strict";function e(){_.extend(u,{onload:t,onChargeTypeChanged:a,onPayFeeChanged:i,onRaiseChargeChanged:n,onEstimateChanged:o,onDirectPayChange:r,keepCheckedIfOnlyOneChecked:s,uncheckMutuallyExclusive:l,isCheckboxDisabled:d,isDirectPayDisabled:p}),t()}function t(){u.chargeTypeLabel=u.chargeTypeLabel||"picklist.chargeType",u.onChargeTypeChanged()}function a(){u.charge.chargeType&&u.charge.chargeType.key?u.charge.isPayFee||u.charge.isRaiseCharge||u.charge.isEstimate||u.charge.isDirectPay||(u.charge.isRaiseCharge=!0):(u.charge.isPayFee=!1,u.charge.isRaiseCharge=!1,u.charge.isEstimate=!1,u.charge.isDirectPay=!1)}function i(){u.keepCheckedIfOnlyOneChecked("isPayFee"),u.uncheckMutuallyExclusive("isPayFee")}function n(){u.keepCheckedIfOnlyOneChecked("isRaiseCharge"),u.uncheckMutuallyExclusive("isPayFee")}function o(){u.keepCheckedIfOnlyOneChecked("isEstimate"),u.uncheckMutuallyExclusive("isEstimate")}function r(){u.charge.isDirectPay?(u.charge.isPayFee=!1,u.charge.isRaiseCharge=!1,u.charge.isEstimate=!1):u.charge.isRaiseCharge=!0}function s(e){var t=_.without(m,e),a=_.all(t,function(e){return!u.charge[e]});if(a)return void(u.charge[e]=!0)}function l(e){var t=_.without(v,e)[0];u.charge[e]&&!u.charge.isRaiseCharge&&(u.charge[t]=!1)}function c(){return!(u.charge.chargeType&&u.charge.chargeType.key)}function d(){return!u.canEdit||c()||!!u.charge.isDirectPay}function p(){return!u.canEdit||c()}var u=this,m=["isRaiseCharge","isEstimate","isDirectPay","isPayFee"],v=["isPayFee","isEstimate"];u.$onInit=e}}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlCharges",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/charges.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope",function(e){"use strict";function t(){l=c.topic.params.viewData,c.parentData=l.isInherited===!0&&l.parent?l.parent.charges:{},c.isInherited=a,s(l),_.extend(c,{charges:l.charges,canEdit:l.canEdit}),_.extend(c.topic,{hasError:i,isDirty:n,validate:o,getFormData:r})}function a(e){return!!c.parentData&&angular.equals(c.charges[e],c.parentData[e])}function i(){return c.form.$invalid}function n(){return c.form.$dirty}function o(){return c.form.$validate()}function r(){var e=c.charges.chargeOne,t=c.charges.chargeTwo;return{chargeType:e.chargeType&&e.chargeType.key,isPayFee:e.isPayFee,isRaiseCharge:e.isRaiseCharge,isEstimate:e.isEstimate,isDirectPay:e.isDirectPay,chargeType2:t.chargeType&&t.chargeType.key,isPayFee2:t.isPayFee,isRaiseCharge2:t.isRaiseCharge,isEstimate2:t.isEstimate,isDirectPay2:t.isDirectPay}}function s(t){var a=0;t.charges.chargeOne&&t.charges.chargeOne.chargeType&&(a+=1),t.charges.chargeTwo&&t.charges.chargeTwo.chargeType&&(a+=1);var i={key:c.topic.key,total:a,isSubSection:!0};e.$emit("topicItemNumbers",i)}var l,c=this;c.$onInit=t}]}),angular.module("inprotech.configuration.rules.workflows").controller("DateComparisonMaintenanceController",["$scope","$uibModalInstance","$translate","notificationService","workflowsEventControlService","options","dateHelper","maintenanceModalService",function(e,t,a,i,n,o,r,s){"use strict";function l(e){if(!b.form.$validate())return!1;var t=_.clone(b.formData);return b.showComparisonTypes?("eventB"!==b.comparisonType&&"systemDate"!==b.comparisonType||(t.compareDate=null),"date"!==b.comparisonType&&"systemDate"!==b.comparisonType||(t.eventB=null,t.eventBDate=null,t.eventBRelativeCycle=null,t.compareRelationship=null),t.compareSystemDate="systemDate"===b.comparisonType):(t.eventB=null,t.eventBDate=null,t.eventBRelativeCycle=null,t.compareRelationship=null,t.compareDate=null,t.compareSystemDate=null),n.isDuplicated(_.without(o.allItems,o.dataItem),t,["eventA","eventADate","eventARelativeCycle","comparisonOperator","eventB","eventBDate","eventBRelativeCycle","compareRelationship","compareDate"])?(i.alert({message:a.instant("workflows.eventcontrol.dateComparison.maintenance.duplicate")}),!1):(n.setEditedAddedFlags(t,k),D.applyChanges(t,o,k,b.isAddAnother,e),!0)}function c(){return!!b.form.$pristine||l(!0)}function d(){return n.isApplyEnabled(b.form)}function p(){b.formData.eventA&&(b.formData.eventARelativeCycle=m(b.formData.eventA.maxCycles))}function u(){b.formData.eventB&&(b.formData.eventBRelativeCycle=m(b.formData.eventB.maxCycles))}function m(e){return e>1?0:3}function v(){b.showComparisonTypes=!b.formData.comparisonOperator||"EX"!==b.formData.comparisonOperator.key&&"NE"!==b.formData.comparisonOperator.key,g()}function g(){b.showEventB=b.showComparisonTypes&&"eventB"==b.comparisonType,b.showDate=b.showComparisonTypes&&"date"==b.comparisonType,b.showEventB&&!b.formData.eventBDate&&(b.formData.eventBDate="Event")}function f(e){return e.compareDate?"date":e.compareSystemDate?"systemDate":"eventB"}function h(){return b.form&&b.form.$dirty}function y(){t.dismiss()}var b=this,w=o.criteriaId,k="edit"===o.mode,C=_.extend({eventADate:"Event",eventBDate:"Event"},o.dataItem);C.compareDate&&(C.compareDate=r.convertForDatePicker(C.compareDate)),_.extend(b,{isAddAnother:o.isAddAnother,title:k?".editTitle":".addTitle",isEditMode:k,criteriaId:w,eventId:o.eventId,eventDescription:o.eventDescription,relativeCycles:n.relativeCycles,operators:n.operators,currentItem:o.dataItem,addItem:o.addItem,allItems:o.allItems,formData:C,eventPicklistScope:n.initEventPicklistScope({criteriaId:w,filterByCriteria:!0}),comparisonType:f(C),showEventB:!1,showDate:!1,showComparisonTypes:!1,onEventAChange:p,onComparisonOperatorChanged:v,onEventBChange:u,onComparisonTypeChange:g,apply:l,onNavigate:c,isApplyEnabled:d,dismiss:y,hasUnsavedChanges:h});var D=s(e,t,b.addItem);v()}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlDateComparison",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/date-comparison.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","$translate","hotkeys","modalService","workflowsEventControlService","kendoGridService","dateService",function(e,t,a,i,n,o,r,s){"use strict";function l(){x=o,S=T.topic.params.viewData,I="workflows.eventcontrol.dateComparison.",T.topic.initializeShortcuts=c,T.parentData=S.isInherited===!0&&S.parent?{datesLogicComparisonType:S.parent.datesLogicComparisonType}:{},_.extend(T,{criteriaId:S.criteriaId,eventId:S.eventId,canEdit:S.canEdit,gridOptions:v(),onAddClick:p,onEditClick:u,formatPicklistColumn:x.formatPicklistColumn,formatCompareType:C,formatCompareWith:w,showComparisonOperator:g,showRelativeCycle:D,formData:{datesLogicComparisonType:S.datesLogicComparisonType}}),T.comparisonOptionsDisabled=y,T.topic.isDirty=h,T.topic.getFormData=f}function c(){S.canEdit&&i.add({combo:"alt+shift+i",description:"shortcuts.add",callback:p})}function d(e){x.translateOperator(e.comparisonOperator);var t=T.gridOptions.dataSource.data().length+1;T.gridOptions.dataSource.insert(t,e)}function p(){m("add").then(function(e){d(e)})}function u(e){m("edit",e)}function m(e,t){return n.openModal({id:"DateComparisonMaintenance",mode:e,dataItem:t||{},allItems:T.gridOptions.dataSource.data(),criteriaId:S.criteriaId,eventId:S.eventId,eventDescription:S.overview.data.description,isAddAnother:!1,addItem:d})}function v(){return t.buildOptions(e,{id:"dateComparisonResults",autoBind:!0,pageable:!1,sortable:!1,actions:S.canEdit?{"delete":!0,edit:{onClick:"vm.onEditClick(dataItem)"}}:null,topicItemNumberKey:{key:T.topic.key,isSubSection:!0},read:function(){return x.getDateComparisons(T.criteriaId,T.eventId).then(function(e){return _.each(e,function(e){x.translateOperator(e.comparisonOperator)}),e})},columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:I+"eventA",template:"{{ vm.formatPicklistColumn(dataItem.eventA) }}"},{title:I+"useDate",template:"{{ vm.formatCompareType(dataItem.eventADate) }}"},{title:I+"cycle",template:"{{ vm.showRelativeCycle(dataItem.eventARelativeCycle) }}"},{title:I+"comparison",template:"{{ vm.showComparisonOperator(dataItem) }}"},{title:I+"eventB",template:"{{ vm.formatCompareWith(dataItem) }}"},{title:I+"useDate",template:"{{ vm.formatCompareType(dataItem.eventBDate) }}"},{title:I+"cycle",template:"{{ vm.showRelativeCycle(dataItem.eventBRelativeCycle) }}"}],autoGenerateRowTemplate:!0,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, 'input-inherited': dataItem.isInherited&&!dataItem.isEdited}\""})}function g(e){return e.comparisonOperator?e.comparisonOperator.value:""}function f(){var e=x.mapGridDelta(b(),k);return{datesLogicCompare:T.formData.datesLogicComparisonType,dateComparisonDelta:e}}function h(){return T.form.$dirty||r.isGridDirty(T.gridOptions)}function y(){var e=b();return!T.canEdit||!e||0===e.length}function b(){return T.gridOptions&&T.gridOptions.dataSource&&T.gridOptions.dataSource.data()}function w(e){return!e.comparisonOperator||"EX"!==e.comparisonOperator.key&&"NE"!==e.comparisonOperator.key?e.eventB?x.formatPicklistColumn(e.eventB):e.compareDate?s.format(e.compareDate):a.instant("workflows.eventcontrol.dateComparison.maintenance.systemDate"):""}function k(e){return{sequence:e.sequence,eventAId:e.eventA.key,eventADate:e.eventADate,eventARelativeCycle:e.eventARelativeCycle,comparisonOperator:e.comparisonOperator.key,eventBId:e.eventB&&e.eventB.key,eventBDate:e.eventBDate,eventBRelativeCycle:e.eventBRelativeCycle,compareRelationshipId:e.compareRelationship&&e.compareRelationship.key,compareDate:e.compareDate,compareSystemDate:e.compareSystemDate}}function C(e){switch(e){case"Event":return a.instant("workflows.common.eventDate");case"Due":return a.instant("workflows.common.dueDate");case"EventOrDue":return a.instant("workflows.eventcontrol.dateComparison.maintenance.eventOrDue")}return""}function D(e){return null==e?"":a.instant(x.translateRelativeCycle(e))}var x,S,I,T=this;T.$onInit=l}]}),angular.module("inprotech.configuration.rules.workflows").controller("DateLogicMaintenanceController",["$scope","$uibModalInstance","$translate","notificationService","workflowsEventControlService","options","maintenanceModalService",function(e,t,a,i,n,o,r){"use strict";function s(e){if(!f.form.$validate()||!f.form.$dirty)return!1;var t=_.clone(f.formData);return n.isDuplicated(_.without(o.allItems,o.dataItem),t,["appliesTo","operator","compareEvent","compareType","relativeCycle","caseRelationship","ifRuleFails"])?(i.alert({message:a.instant("workflows.eventcontrol.dateLogic.maintenance.duplicate")}),!1):(n.setEditedAddedFlags(t,g),m.applyChanges(t,o,g,f.isAddAnother,e),!0)}function l(){return!!f.form.$pristine||s(!0)}function c(){return n.isApplyEnabled(f.form)}function d(){return f.form&&f.form.$dirty}function p(){t.dismiss()}function u(){f.formData.compareEvent&&(f.formData.compareEvent.maxCycles>1?f.formData.relativeCycle=0:f.formData.relativeCycle=3)}var m,v,g,f=this;v=o.criteriaId,g="edit"===o.mode,_.extend(f,{isAddAnother:o.isAddAnother,title:g?".editTitle":".addTitle",isEditMode:g,criteriaId:v,addItem:o.addItem,allItems:o.allItems,eventId:o.eventId,eventDescription:o.eventDescription,currentItem:o.dataItem,formData:_.extend({appliesTo:"Event",compareType:"Event",ifRuleFails:"Warn"},o.dataItem),eventPicklistScope:n.initEventPicklistScope({criteriaId:v,filterByCriteria:!0}),operators:n.dateLogicOperators,relativeCycles:n.relativeCycles,periodTypes:n.periodTypesShort,onComparisonEventChange:u,apply:s,onNavigate:l,isApplyEnabled:c,dismiss:p,hasUnsavedChanges:d}),m=r(e,t,f.addItem)}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlDateLogic",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/date-logic.html",controllerAs:"vm",bindings:{topic:"<"},controller:["$scope","$translate","kendoGridBuilder","workflowsEventControlService","modalService","kendoGridService","hotkeys",function(e,t,a,i,n,o,r){"use strict";function s(){k=i,C=T.topic.params.viewData,D=C.criteriaId,x=C.eventId,S="workflows.eventcontrol.dateLogic.",I="workflows.eventcontrol.dateLogic.maintenance.",T.canEdit=C.canEdit,T.gridOptions=c(),T.formatPicklistColumn=k.formatPicklistColumn,T.formatAppliesTo=m,T.formatCompareType=v,T.formatRelativeCycle=f,T.formatIfRuleFails=g,T.onAddClick=p,T.onEditClick=d,T.topic.getFormData=y,T.topic.isDirty=b,T.topic.initializeShortcuts=l}function l(){C.canEdit&&r.add({combo:"alt+shift+i",description:"shortcuts.add",callback:p})}function c(){return a.buildOptions(e,{id:"dateLogicRules",autoBind:!0,pageable:!1,sortable:!1,actions:C.canEdit?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0}:null,topicItemNumberKey:{key:T.topic.key,isSubSection:!0},read:function(){return k.getDateLogicRules(D,x)},autoGenerateRowTemplate:!0,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, 'input-inherited': dataItem.isInherited&&!dataItem.isEdited}\"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:S+"appliesTo",template:"{{ vm.formatAppliesTo(dataItem) }}"},{title:S+"operator",field:"operator.value"},{title:S+"compareEvent",template:"{{ vm.formatPicklistColumn(dataItem.compareEvent) }}"},{title:S+"compareType",template:"{{ vm.formatCompareType(dataItem) }}"},{title:S+"cycle",template:"{{ vm.formatRelativeCycle(dataItem) }}"},{title:S+"useCaseRelationship",template:"{{ vm.formatPicklistColumn(dataItem.caseRelationship) }}"},{title:S+"blockOrWarnUser",template:"{{ vm.formatIfRuleFails(dataItem) }}"}]})}function d(e){h("edit",e)}function p(){h("add").then(function(e){u(e)})}function u(e){var t=T.gridOptions.dataSource.data().length+1;T.gridOptions.dataSource.insert(t,e)}function m(e){switch(e.appliesTo){case"Event":return t.instant(I+"eventDate");case"Due":return t.instant(I+"dueDate")}return""}function v(e){switch(e.compareType){case"Event":return t.instant(I+"eventDate");case"Due":return t.instant(I+"dueDate");case"Either":return t.instant(I+"eventDue")}return""}function g(e){switch(e.ifRuleFails){case"Block":return t.instant(I+"blockUser");case"Warn":return t.instant(I+"warnUser")}return""}function f(e){return k.translateRelativeCycle(e.relativeCycle)}function h(e,t){return n.openModal({id:"DateLogicMaintenance",mode:e,dataItem:t||{},allItems:T.gridOptions.dataSource.data(),criteriaId:C.criteriaId,eventId:C.eventId,eventDescription:C.overview.data.description,isAddAnother:!1,addItem:u})}function y(){var e=i.mapGridDelta(T.gridOptions.dataSource.data(),w);return{datesLogicDelta:e}}function b(){return o.isGridDirty(T.gridOptions)}function w(e){return{sequence:e.sequence,appliesTo:e.appliesTo,operator:e.operator.key,compareEventId:e.compareEvent&&e.compareEvent.key,compareType:e.compareType,caseRelationshipId:e.caseRelationship&&e.caseRelationship.key,relativeCycle:e.relativeCycle,eventMustExist:e.eventMustExist,ifRuleFails:e.ifRuleFails,failureMessage:e.failureMessage}}var k,C,D,x,S,I,T=this;T.$onInit=s}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlDesignatedJurisdictions",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/designated-jurisdictions.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","workflowsEventControlService","picklistService","kendoGridService",function(e,t,a,i,n){"use strict";function o(){m=a,v=g.topic.params.viewData,g.topic.validate=c,g.topic.hasError=l,g.topic.isDirty=d,g.topic.getFormData=p,g.canEdit=v.canEdit,g.selectedCountryFlag=v.designatedJurisdictions.countryFlagForStopReminders,g.countryFlags=v.designatedJurisdictions.countryFlags,g.onAddClick=s,g.groupName=v.characteristics.jurisdiction.value,g.groupKey=v.characteristics.jurisdiction.key,g.parentData=v.isInherited===!0&&v.parent?v.parent.designatedJurisdictions:{},g.gridOptions=r()}function r(){return t.buildOptions(e,{id:"selectedJurisdictions",autoBind:!0,sortable:!1,actions:v.canEdit?{"delete":{onClick:"vm.topic.validate()"}}:null,read:function(){return m.getDesignatedJurisdictions(v.criteriaId,v.eventId).then(function(e){return e})},columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:"workflows.eventcontrol.designatedJurisdictions.selectedJurisdictions",field:"value",oneTimeBinding:!0}],autoGenerateRowTemplate:!0,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.deleted, deleted: dataItem.deleted, 'input-inherited': dataItem.isInherited&&!dataItem.isEdited}\""})}function s(){i.openModal(e,{displayName:"picklist.designatedJurisdiction.type",multipick:!0,selectedItems:n.activeData(g.gridOptions),keyField:"key",textField:"value",apiUrl:"api/picklists/designatedjurisdictions?groupId="+encodeURI(g.groupKey),picklistDisplayName:"picklist.designatedJurisdiction.type",columns:[{title:"picklist.designatedJurisdiction.description",field:"value",oneTimeBinding:!0}],templateUrl:"condor/configuration/rules/workflows/eventcontrol/designated-jurisdictions-picklist-template.html",externalScope:{groupName:g.groupName}}).then(function(e){e=_.sortBy(e,"value"),n.sync(g.gridOptions,e),c()})}function l(){return g.form.$invalid}function c(){var e=n.hasActiveItems(g.gridOptions),t=e&&null==g.selectedCountryFlag,a=!e&&null!=g.selectedCountryFlag;return null!=g.form.selectedCountryFlag&&(g.form.selectedCountryFlag.$setValidity("eventcontrol.designatedJurisdiction.missingStage",!t),g.form.selectedCountryFlag.$setValidity("eventcontrol.designatedJurisdiction.missingDesignatedJurisdiction",!a)),!g.form.$invalid}function d(){return g.form.$dirty||n.isGridDirty(g.gridOptions)}function p(){var e=m.mapGridDelta(n.data(g.gridOptions),u);return{countryFlagForStopReminders:g.selectedCountryFlag,designatedJurisdictionsDelta:e}}function u(e){return e.key}var m,v,g=this;g.$onInit=o}]}),angular.module("inprotech.configuration.rules.workflows").controller("DocumentsMaintenanceController",["$scope","$uibModalInstance","$translate","notificationService","workflowsEventControlService","options","maintenanceModalService",function(e,t,a,i,n,o,r){"use strict";function s(){return"asScheduled"!==y.formData.produce}function l(){y.isScheduledDisabled()&&(y.formData.startBefore=null,y.recurring=!1,y.formData.repeatEvery=null,y.formData.stopTime=null,y.formData.maxDocuments=null)}function c(e){e?y.formData.repeatEvery=y.formData.startBefore:(y.formData.repeatEvery=null,y.formData.stopTime=null,y.formData.maxDocuments=null)}function d(e){if(!y.form.$validate())return!1;var t=_.clone(y.formData);return n.setEditedAddedFlags(t,f),h.applyChanges(t,o,f,y.isAddAnother,e),!0}function p(){return!!y.form.$pristine||d(!0)}function u(){return n.isApplyEnabled(y.form)}function m(){return y.form&&y.form.$dirty}function v(){t.dismiss()}var g,f,h,y=this;g=o.criteriaId,f="edit"===o.mode,y.canEdit=!0,_.extend(y,{isAddAnother:o.isAddAnother,title:f?".editTitle":".addTitle",isEditMode:f,criteriaId:g,addItem:o.addItem,allItems:o.allItems,eventId:o.eventId,eventDescription:o.eventDescription,currentItem:o.dataItem,formData:_.extend({produce:"eventOccurs"},o.dataItem),periodTypes:n.periodTypesShort,apply:d,onNavigate:p,isApplyEnabled:u,dismiss:v,hasUnsavedChanges:m,isScheduledDisabled:s,onProduceChange:l,onRecurringChange:c}),h=r(e,t,y.addItem),y.recurring=Boolean("asScheduled"===y.formData.produce&&(y.formData.repeatEvery||y.formData.stopTime&&y.formData.stopTime.value))}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlDocuments",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/documents.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","$translate","kendoGridBuilder","modalService","workflowsEventControlService","kendoGridService","hotkeys",function(e,t,a,i,n,o,r){"use strict";function s(){b=n,w=D.topic.params.viewData,k="workflows.eventcontrol.",C=k+"documents.",D.topic.initializeShortcuts=l,D.topic.isDirty=h,D.topic.getFormData=f,_.extend(D,{criteriaId:w.criteriaId,eventId:w.eventId,canEdit:w.canEdit,gridOptions:c(),onAddClick:m,onEditClick:v,showPeriodType:p,showProduce:d})}function l(){w.canEdit&&r.add({combo:"alt+shift+i",description:"shortcuts.add",callback:m})}function c(){return a.buildOptions(e,{id:"documentsGrid",autoBind:!0,pageable:!1,sortable:!1,actions:w.canEdit?{
edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0}:null,topicItemNumberKey:{key:D.topic.key,isSubSection:!0},read:function(){return b.getDocuments(w.criteriaId,w.eventId)},autoGenerateRowTemplate:!0,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted,  'input-inherited': dataItem.isInherited&&!dataItem.isEdited}\"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>',oneTimeBinding:!0},{title:C+"document",field:"document",template:'{{ (dataItem.document && dataItem.document.value) ? dataItem.document.value : "" }}'},{title:C+"produce",field:"produce",template:"{{vm.showProduce(dataItem.produce)}}"},{title:k+"startBefore",field:"startBefore",template:"{{vm.showPeriodType(dataItem.startBefore)}}"},{title:k+"repeatEvery",field:"repeatEvery",template:"{{vm.showPeriodType(dataItem.repeatEvery)}}"},{title:k+"stopAfter",field:"stopTime",template:"{{vm.showPeriodType(dataItem.stopTime)}}"},{title:C+"maxDocuments",field:"maxDocuments"}]})}function d(e){return null==e?"":t.instant(C+e)}function p(e){if(null==e)return"";var a=t.instant(b.translatePeriodType(e.type));return null==e.value?a:e.value+" "+a}function u(e){var t=D.gridOptions.dataSource.data().length+1;D.gridOptions.dataSource.insert(t,e)}function m(){g("add").then(function(e){u(e)})}function v(e){g("edit",e)}function g(e,t){return i.openModal({id:"DocumentsMaintenance",mode:e,dataItem:t||{},allItems:D.gridOptions.dataSource.data(),criteriaId:w.criteriaId,eventId:w.eventId,eventDescription:w.overview.data.description,isAddAnother:!1,addItem:u})}function f(){var e=b.mapGridDelta(D.gridOptions.dataSource.data(),y);return{documentDelta:e}}function h(){return o.isGridDirty(D.gridOptions)}function y(e){var t={};return"asScheduled"===e.produce?_.extend(t,{startBeforeTime:e.startBefore&&e.startBefore.value,startBeforePeriod:e.startBefore&&e.startBefore.type,repeatEveryTime:e.repeatEvery?e.repeatEvery.value:0,repeatEveryPeriod:e.repeatEvery?e.repeatEvery.type:e.startBefore.type,stopTimePeriod:e.stopTime&&e.stopTime.type,stopTime:e.stopTime&&e.stopTime.value}):_.extend(t,{startBeforeTime:null,startBeforePeriod:null,repeatEveryTime:null,repeatEveryPeriod:null,stopTimePeriod:null,stopTime:null}),_.extend({sequence:e.sequence,documentId:e.document&&e.document.key,produceWhen:e.produce,maxDocuments:e.maxDocuments,chargeType:e.chargeType&&e.chargeType.key,isPayFee:e.isPayFee,isRaiseCharge:e.isRaiseCharge,isEstimate:e.isEstimate,isDirectPay:e.isDirectPay,isCheckCycleForSubstitute:e.isCheckCycleForSubstitute},t)}var b,w,k,C,D=this;D.$onInit=s}]}),angular.module("inprotech.configuration.rules.workflows").controller("DueDateCalcMaintenanceController",["$scope","$uibModalInstance","$translate","notificationService","workflowsEventControlService","options","maintenanceModalService",function(e,t,a,i,n,o,r){"use strict";function s(e){if(!y.form.$validate())return!1;var t=_.clone(y.formData);return n.isDuplicated(_.without(o.allItems,o.dataItem),t,["cycle","jurisdiction","fromEvent","relativeCycle","period"])?(i.alert({message:a.instant("workflows.eventcontrol.dueDateCalc.maintenance.duplicate")}),!1):(n.setEditedAddedFlags(t,w),k.applyChanges(t,o,w,y.isAddAnother,e),!0)}function l(){return!!y.form.$pristine||s(!0)}function c(){return n.isApplyEnabled(y.form)}function d(){y.formData.fromEvent&&(y.formData.fromEvent.maxCycles>1?y.formData.relativeCycle=0:y.formData.relativeCycle=3)}function p(){return"~0"!=y.formData.adjustBy||o.standingInstructionCharacteristic?null:"workflows.eventcontrol.dueDateCalc.maintenance.standingInstructionWarning"}function u(){return y.formData.cycle>o.maxCycles?"workflows.eventcontrol.dueDateCalc.maintenance.toCycleWarning":null}function m(){return!y.formData.period||o.standingInstructionCharacteristic||"1"!=y.formData.period.type&&"2"!=y.formData.period.type&&"3"!=y.formData.period.type?null:"workflows.eventcontrol.dueDateCalc.maintenance.standingInstructionWarning"}function v(e){return angular.extend({},e,{options:{legacy:!0}})}function g(){return y.form&&y.form.$dirty}function f(){t.dismiss()}function h(e){var t=["E","1","2","3"].indexOf(e)!==-1;return t}var y=this,b=o.criteriaId,w="edit"===o.mode;y.setDocumentGenerationCompatibility=v,_.extend(y,{isAddAnother:o.isAddAnother,title:w?".editTitle":".addTitle",isEditMode:w,criteriaId:b,addItem:o.addItem,allItems:o.allItems,eventId:o.eventId,eventDescription:o.eventDescription,currentItem:o.dataItem,formData:_.extend({fromTo:1,operator:"A",reminderOption:"standard"},o.dataItem),periodTypes:n.periodTypes,relativeCycles:n.relativeCycles,adjustByOptions:o.adjustByOptions,nonWorkDayOptions:n.nonWorkDayOptions,apply:s,onNavigate:l,isApplyEnabled:c,eventPicklistScope:n.initEventPicklistScope({criteriaId:b,filterByCriteria:!0}),isCycleDisabled:!o.isCyclic,isJurisdictionDisabled:!o.allowDueDateCalcJurisdiction,onFromEventChange:d,getAdjustByWarningText:p,getPeriodWarningText:m,getToCycleWarningText:u,dismiss:f,hasUnsavedChanges:g,isPeriodTextDisabled:h}),y.formData.cycle=y.formData.cycle||1;var k=r(e,t,y.addItem)}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlDuedatecalc",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/due-date-calc.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","$translate","kendoGridBuilder","hotkeys","modalService","workflowsDueDateCalcService","workflowsEventControlService","kendoGridService",function(e,t,a,i,n,o,r,s){"use strict";function l(){O=o,A=r,N=U.topic.params.viewData,M="workflows.eventcontrol.dueDateCalc.",R=M+"operatorMap.",P=M+"fromToEventMap.",F={S:R+"subtract",A:R+"add"},q={1:P+"Event Date",2:P+"Due Date",3:P+"EventDue"},U.topic.validate=I,U.topic.hasError=T,U.topic.isDirty=S,U.topic.getFormData=x,U.topic.initializeShortcuts=c,U.isInherited=d,_.extend(U,{criteriaId:N.criteriaId,eventId:N.eventId,canEdit:N.canEdit,settings:O.initSettingsViewModel(N.dueDateCalcSettings),parentData:N.isInherited===!0&&N.parent?O.initSettingsViewModel(N.parent.dueDateCalcSettings):{},extendDueDateByUnitOptions:[{name:A.translatePeriodType("D"),value:"D"},{name:A.translatePeriodType("M"),value:"M"},{name:A.translatePeriodType("W"),value:"W"},{name:A.translatePeriodType("Y"),value:"Y"}],gridOptions:p(),updateSaveDueDate:u,updateExtendDueDate:m,onAddClick:g,onEditClick:f,showOperator:y,showRelativeCycle:b,showAdjustBy:D,showPeriod:w,showFromTo:k,formatPicklistColumn:A.formatPicklistColumn,showJurisdiction:C,onDeleteClick:E})}function c(){N.canEdit&&i.add({combo:"alt+shift+i",description:"shortcuts.add",callback:g})}function d(){return U.settings.dateToUse===U.parentData.dateToUse&&U.settings.isSaveDueDate===U.parentData.isSaveDueDate&&U.settings.extendDueDate===U.parentData.extendDueDate&&angular.equals(U.settings.extendDueDateOptions,U.parentData.extendDueDateOptions)&&U.settings.recalcEventDate===U.parentData.recalcEventDate&&U.settings.doNotCalculateDueDate===U.parentData.doNotCalculateDueDate}function p(){var t=[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.inherited&&!dataItem.isDirty()"></ip-inheritance-icon>'},{title:M+"cycle",field:"cycle"},{title:M+"jurisdiction",template:"{{ vm.showJurisdiction(dataItem) }}"},{title:M+"operator",template:"{{ vm.showOperator(dataItem) }}"},{title:M+"period",template:"{{ vm.showPeriod(dataItem)}}"},{title:"workflows.common.event",template:"{{ vm.formatPicklistColumn(dataItem.fromEvent)}}"},{title:M+"fromTo",template:"{{ vm.showFromTo(dataItem)}}"},{title:M+"cycle",template:"{{ vm.showRelativeCycle(dataItem) }}"},{title:M+"adjustBy",template:"{{ vm.showAdjustBy(dataItem) }}"},{title:M+"mustExist",field:"mustExist",template:'<ip-checkbox ng-model="dataItem.mustExist" disabled></ip-checkbox>'}];return N.allowDueDateCalcJurisdiction||t.splice(2,1),a.buildOptions(e,{id:"dueDateCalcResults",autoBind:!0,pageable:!1,sortable:!1,topicItemNumberKey:{key:U.topic.key,isSubSection:!0},actions:N.canEdit?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":{onClick:"vm.onDeleteClick()"}}:null,read:function(){return O.getDueDateCalcs(U.criteriaId,U.eventId)},autoGenerateRowTemplate:!0,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted, 'input-inherited': dataItem.inherited&&!dataItem.isDirty()}\"",columns:t,onDataBound:E})}function u(){U.settings.isSaveDueDate&&(U.settings.extendDueDate=!1)}function m(){U.settings.extendDueDate&&(U.settings.isSaveDueDate=!1)}function v(e){var t=U.gridOptions.dataSource.data().length+1;U.gridOptions.dataSource.insert(t,e)}function g(){h("add").then(function(e){v(e),E()})}function f(e){h("edit",e).then(function(){E()})}function h(e,t){return n.openModal({id:"DueDateCalcMaintenance",mode:e,dataItem:t||{},allItems:U.gridOptions.dataSource.data(),criteriaId:N.criteriaId,eventId:N.eventId,eventDescription:N.overview.data.description,isCyclic:N.overview.data.maxCycles>1,allowDueDateCalcJurisdiction:N.allowDueDateCalcJurisdiction,adjustByOptions:U.settings.dateAdjustmentOptions,isAddAnother:!1,addItem:v,standingInstructionCharacteristic:N.standingInstruction.requiredCharacteristic,maxCycles:N.overview.data.maxCycles})}function y(e){return null==e.operator?"":t.instant(F[e.operator])}function b(e){return null==e.relativeCycle?"":t.instant(A.translateRelativeCycle(e.relativeCycle))}function w(e){if(null==e.period)return"";var a=t.instant(A.translatePeriodType(e.period.type));return null==e.period.value?a:e.period.value+" "+a}function k(e){return null==e.fromTo?"":t.instant(q[e.fromTo])}function C(e){return null==e.jurisdiction?"":e.jurisdiction.code}function D(e){return null==e.adjustBy?"":_.find(U.settings.dateAdjustmentOptions,function(t){return t.key===e.adjustBy}).value}function x(){var e=A.mapGridDelta(U.gridOptions.dataSource.data(),$),t=O.getSettingsForSave(U.settings);return _.extend({dueDateCalcDelta:e},t)}function S(){return U.form.$dirty||s.isGridDirty(U.gridOptions)}function I(){return U.form.$validate()}function T(){return U.form.$invalid}function $(e){return{sequence:e.sequence,fromEventId:e.fromEvent.key,fromTo:e.fromTo,mustExist:e.mustExist,operator:e.operator,period:e.period.value,periodType:e.period.type,adjustBy:e.adjustBy,nonWorkDay:e.nonWorkDay,relativeCycle:e.relativeCycle,cycle:e.cycle,jurisdictionId:e.jurisdiction&&e.jurisdiction.key,documentId:e.document&&e.document.key,reminderOption:e.reminderOption}}function E(){N.dueDateDependsOnStandingInstruction=U.gridOptions.dataSource.data().some(function(e){return!e.deleted&&("~0"==e.adjustBy||e.period&&("1"==e.period.type||"2"==e.period.type||"3"==e.period.type))}),N.dueDateCalcMaxCycles=Math.max.apply(Math,U.gridOptions.dataSource.data().map(function(e){return e.deleted?0:e.cycle||0}))}var O,A,N,M,R,P,F,q,U=this;U.$onInit=l}]}),angular.module("inprotech.configuration.rules.workflows").factory("workflowsDueDateCalcService",["$http",function(e){"use strict";function t(e){return null==e.dateToUse&&(e.dateToUse="E"),null==e.recalcEventDate&&(e.recalcEventDate=!1),null==e.isSaveDueDate&&(e.isSaveDueDate=!1),null==e.extendDueDate&&(e.extendDueDate=!1),null==e.extendDueDateOptions&&(e.extendDueDateOptions={type:null,value:null}),e}function a(e){return e.extendDueDate&&(e.extendPeriod=e.extendDueDateOptions.value,e.extendPeriodType=e.extendDueDateOptions.type),e}function i(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/events/"+encodeURIComponent(a)+"/duedates").then(function(e){return e.data})}var n={initSettingsViewModel:t,getSettingsForSave:a,getDueDateCalcs:i};return n}]),angular.module("inprotech.configuration.rules.workflows").controller("WorkflowsEventControlController",["$scope","$state","$translate","viewData","utils","workflowsMaintenanceEventsService","workflowsMaintenanceService","workflowsEventControlService","notificationService","modalService","bus","$rootScope",function(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){O=o,A=s,P.eventControl=i,P.parentData=i.parent,P.workflowEventIds=O.eventIds(),P.canEdit=i.canEdit,P.isSaveEnabled=g,P.isDiscardEnabled=f,P.isDeleteEnabled=_.constant(!0),P.discard=w,P.onSaveClick=k,P["delete"]=h,P.isInherited=i.inherited,P.canDelete=i.canDelete,P.isSaveDiscardAvailable=function(){return P.canEdit},i.dueDateDependsOnStandingInstruction=!1,i.dueDateCalcMaxCycles=0,P.onTopicSelected=v,p.setPageTitlePrefix(i.criteriaId+" ("+i.eventId+")","workflows.details.eventcontrol"),N={overview:{key:"overview",title:"workflows.eventcontrol.overview",template:'<ip-workflows-event-control-overview data-topic="$topic" />',params:{viewData:i}},dueDateCalc:{key:"dueDateCalc",title:"workflows.eventcontrol.dueDateCalc.title",subTitle:"workflows.eventcontrol.dueDateCalc.blurb",template:'<ip-workflows-event-control-duedatecalc data-topic="$topic" />',params:{viewData:i}},eventOccurrence:{key:"eventOccurrence",title:"workflows.eventcontrol.eventOccurrence.title",subTitle:"workflows.eventcontrol.eventOccurrence.blurb",template:'<ip-workflows-event-control-event-occurrence data-topic="$topic" />',subTitleInfoTemplate:"condor/configuration/rules/workflows/eventcontrol/event-occurrence-popover.html",params:{viewData:i}},syncEventDate:{key:"syncEventDate",title:"workflows.eventcontrol.syncEventDate.title",template:'<ip-workflows-event-control-sync-event-date data-topic="$topic" />',info:"workflows.eventcontrol.syncEventDate.info",params:{viewData:i}},standingInstruction:{key:"standingInstruction",title:"workflows.eventcontrol.standingInstruction.title",subTitle:"workflows.eventcontrol.standingInstruction.blurb",template:'<ip-workflows-event-control-standing-instruction data-topic="$topic" />',params:{viewData:i}},dateComparison:{key:"dateComparison",title:"workflows.eventcontrol.dateComparison.title",subTitle:"workflows.eventcontrol.dateComparison.blurb",template:'<ip-workflows-event-control-date-comparison data-topic="$topic" />',params:{viewData:i}},satisfyingEvents:{key:"satisfyingEvents",title:"workflows.eventcontrol.satisfyingEvents.title",info:"workflows.eventcontrol.satisfyingEvents.info",template:'<ip-workflows-event-control-satisfying-events data-topic="$topic" />',params:{viewData:i}},designatedJurisdictions:{key:"designatedJurisdictions",title:"workflows.eventcontrol.designatedJurisdictions.title",info:"workflows.eventcontrol.designatedJurisdictions.info",template:'<ip-workflows-event-control-designated-jurisdictions data-topic="$topic" />',params:{viewData:i}},changeStatus:{key:"changeStatus",title:"workflows.eventcontrol.changeStatus.title",subTitle:"workflows.eventcontrol.whenCurrentEventUpdates",template:'<ip-workflows-event-control-change-status data-topic="$topic" />',params:{viewData:i}},report:{key:"report",title:"workflows.eventcontrol.report.title",subTitle:"workflows.eventcontrol.whenCurrentEventUpdates",template:'<ip-workflows-event-control-report data-topic="$topic" />',params:{viewData:i}},changeAction:{key:"changeAction",title:"workflows.eventcontrol.changeAction.title",subTitle:"workflows.eventcontrol.whenCurrentEventUpdates",template:'<ip-workflows-event-control-change-action data-topic="$topic" />',params:{viewData:i}},eventsToClear:{key:"eventsToClear",title:"workflows.eventcontrol.eventsToClear.title",info:"workflows.eventcontrol.eventsToClear.info",template:'<ip-workflows-event-control-events-to-clear data-topic="$topic" />',params:{viewData:i}},eventsToUpdate:{key:"eventsToUpdate",title:"workflows.eventcontrol.eventsToUpdate.title",info:"workflows.eventcontrol.eventsToUpdate.info",template:'<ip-workflows-event-control-events-to-update data-topic="$topic" />',params:{viewData:i}},nameChange:{key:"nameChange",title:"workflows.eventcontrol.nameChange.title",subTitle:"workflows.eventcontrol.whenCurrentEventUpdates",infoTemplate:"condor/configuration/rules/workflows/eventcontrol/name-change-popover.html",template:'<ip-workflows-event-control-name-change data-topic="$topic" />',params:{viewData:i}},ptaDelaysCalc:{key:"ptaDelaysCalc",title:"workflows.eventcontrol.ptaDelaysCalc.title",subTitle:"workflows.eventcontrol.whenCurrentEventUpdates",info:"workflows.eventcontrol.ptaDelaysCalc.info",template:'<ip-workflows-event-control-pta-delays-calc data-topic="$topic" />',params:{viewData:i}},reminders:{key:"reminders",title:"workflows.eventcontrol.reminders.title",infoTemplate:"condor/configuration/rules/workflows/eventcontrol/reminders-info-popover.html",template:'<ip-workflows-event-control-reminders data-topic="$topic" />',params:{viewData:i}},documents:{key:"documents",title:"workflows.eventcontrol.documents.title",emptyGridNotification:"workflows.eventcontrol.documents.emptyGridNotification",info:"workflows.eventcontrol.documents.info",template:'<ip-workflows-event-control-documents data-topic="$topic" />',params:{viewData:i}},charges:{key:"charges",title:"workflows.eventcontrol.charges.title",subTitle:"workflows.eventcontrol.whenCurrentEventUpdates",template:'<ip-workflows-event-control-charges data-topic="$topic" />',params:{viewData:i}},dateLogic:{key:"dateLogic",title:"workflows.eventcontrol.dateLogic.title",info:"workflows.eventcontrol.dateLogic.info",template:'<ip-workflows-event-control-date-logic data-topic="$topic" />',params:{viewData:i}}},M={calculations:{key:"calculationsGroup",title:"workflows.eventcontrol.groupSections.calculations",subTitle:"workflows.eventcontrol.groupSections.calculationsDescription",topics:[N.dueDateCalc,N.eventOccurrence,N.syncEventDate]},conditions:{key:"conditionsGroup",title:"workflows.eventcontrol.groupSections.conditions",subTitle:"workflows.eventcontrol.groupSections.conditionsDescription",topics:[N.standingInstruction,N.dateComparison,N.satisfyingEvents,i.designatedJurisdictions&&N.designatedJurisdictions]},eventOutcomes:{key:"eventOutcomesGroup",title:"workflows.eventcontrol.groupSections.eventOutcomes",subTitle:"workflows.eventcontrol.groupSections.eventOutcomesDescription",topics:[N.changeStatus,N.report,N.changeAction,N.eventsToClear,N.eventsToUpdate,N.nameChange,N.ptaDelaysCalc]},eventOutput:{key:"eventOutputGroup",title:"workflows.eventcontrol.groupSections.eventOutput",subTitle:"workflows.eventcontrol.groupSections.eventOutputDescription",topics:[N.reminders,N.documents,N.charges]},validations:{key:"validationsGroup",title:"workflows.eventcontrol.groupSections.validations",subTitle:"workflows.eventcontrol.groupSections.validationsDescription",topics:[N.dateLogic]}},R={resetInheritance:{key:"resetInheritance",title:"workflows.actions.resetInheritance.title",action:I,disabled:!i.canResetInheritance,tooltip:i.canResetInheritance?null:"workflows.actions.resetInheritance.disabledEventTooltip"},breakInheritance:{key:"breakInheritance",title:"workflows.actions.breakInheritance.title",action:T,disabled:!i.isInherited,tooltip:i.isInherited?null:"workflows.actions.breakInheritance.disabledEventTooltip"}},P.topicOptions={topics:[N.overview,M.calculations,M.conditions,M.eventOutcomes,M.eventOutput,M.validations],actions:P.canEdit?[R.resetInheritance,R.breakInheritance]:[]},P.$topics=N}function m(e,t){_.each(e,function(e){t.push(e),e.topics&&m(e.topics,t)})}function v(e){var t=[];m(N,t),_.each(t,function(t){t.key===e&&_.isFunction(t.initializeShortcuts)&&t.initializeShortcuts()})}function g(){return y()&&!b()}function f(){return y()}function h(){if(P.workflowEventIds.length){var t=[i.eventId];O.confirmDeleteWorkflow(e,i.criteriaId,t).then(function(e){return O.deleteEvents(i.criteriaId,t,Boolean(e.applyToDescendants))}).then(function(){S()})}}function y(){return _.any(N,function(e){return e.isDirty&&e.isDirty()})}function b(){return _.any(N,function(e){return e.hasError&&e.hasError()})}function w(){x()}function k(){var e,t=[];if(_.each(N,function(a){_.isFunction(a.validate)&&!a.validate()&&(t.push({message:a.title}),e=!0)}),e)return void D(t);var a=i.isInherited,o=i.hasChildren,r=i.hasDueDateOnCase,s=!1,d=!1;n.steps(function(e){r&&N.overview.isRespChanged()?c.openModal({id:"ChangeDueDateRespConfirm"}).then(function(t){d=t,e()}):e()},function(e){a?l.confirm({title:"Warning",messages:["workflows.eventcontrol.breakInheritanceConfirmation","workflows.eventcontrol.doYouWantToProceed"],cancel:"Cancel","continue":"Proceed"}).then(e):e()},function(e){o?O.getDescendants(i.criteriaId,[i.eventId],!0).then(function(t){c.open("EventInheritanceConfirmation",null,{viewData:{items:t.descendants}}).then(function(t){s=t,e()})}):e()},function(){C(s,d)})}function C(e,t){var n={applyToDescendants:e,changeRespOnDueDates:t};return _.each(N,function(e){_.isFunction(e.getFormData)&&_.extend(n,e.getFormData())}),A.updateEventControl(i.criteriaId,i.eventId,n).then(function(e){if("success"===e.status)l.success(),x(),d.channel("gridRefresh.eventResults").broadcast();else if(e.errors&&e.errors.length){var t=e.errors.map(function(e){var t=N[e.topic];return a.instant(t.title)+" - "+e.message});D(t)}})}function D(e){l.alert({title:"modal.unableToComplete",message:"sections.errors.errorInSection",errors:e,actionMessage:"sections.errors.actionMessage"})}function x(){P.isSaveEnabled=_.constant(!1),t.reload(t.current.name)}function S(){P.isSaveEnabled=_.constant(!1);var e=_.indexOf(P.workflowEventIds,parseInt(i.eventId)),a=P.workflowEventIds?P.workflowEventIds.length:0,n={eventId:i.eventId};return d.channel("gridRefresh.eventResults").broadcast(),a<=1?void t.go("^",null,{location:"replace"}):(e<a-1?n.eventId=P.workflowEventIds[e+1]:e===a-1&&(n.eventId=P.workflowEventIds[e-1]),P.workflowEventIds.splice(e,1),void t.go("workflows.details.eventcontrol",n,{location:"replace"}))}function I(){i.canResetInheritance&&E().then(function(e){A.resetEvent(i.criteriaId,i.eventId,e).then(function(t){"updateNameRespOnCases"===t.status?c.openModal({id:"ChangeDueDateRespConfirm",preSave:!0}).then(function(t){A.resetEvent(i.criteriaId,i.eventId,e,t).then(function(){$()})}):$()})})}function T(){if(i.isInherited)return r.getParent(i.criteriaId).then(function(e){return c.openModal({id:"InheritanceBreakConfirmation",parent:e,context:"eventcontrol"})}).then(function(){A.breakEventInheritance(i.criteriaId,i.eventId).then(function(){$()})})}function $(){l.success(),d.channel("gridRefresh.eventResults").broadcast(),x()}function E(){return O.getDescendants(i.criteriaId,[i.eventId],!0).then(function(e){return c.open("InheritanceResetConfirmation",null,{viewData:{criteriaId:i.criteriaId,items:e.descendants,parent:e.parent,context:"eventcontrol"}})})}var O,A,N,M,R,P=this;P.$onInit=u}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsEventControlService",["$http","$translate",function(e,t){"use strict";function a(e){var t={1:"workflows.eventcontrol.documents.onDueDate",2:"workflows.eventcontrol.documents.eventOccurs"};return null==e?"workflows.eventcontrol.documents.recurring":t[e]}function i(e){return null==e?e:t.instant(L[e])}function n(e){return null==e?e:G[e]}function o(e){null!=e&&("EX"===e.key?e.value=t.instant("operators.exists"):"NE"===e.key?e.value=t.instant("operators.notExists"):e.value=e.key)}function r(e){return _.extend(e,{extendQuery:function(t){return e.filterByCriteria?angular.extend({},t,{criteriaId:e.criteriaId,picklistSearch:e.picklistSearch}):angular.extend({},t,{criteriaId:e.picklistSearch?null:e.criteriaId,picklistSearch:e.picklistSearch})}})}function s(e){return e?e.value+" ("+e.key+")":""}function l(t,a){return e.get(P(t,a)+"/nametypemaps").then(function(e){return e.data})}function c(t,a){return e.get(P(t,a)+"/datecomparisons").then(function(e){return e.data})}function d(t,a){return e.get(P(t,a)+"/satisfyingevents").then(function(e){return e.data})}function p(t,a){return e.get(P(t,a)+"/designatedjurisdictions").then(function(e){return e.data})}function u(t,a){return e.get(P(t,a)+"/dateslogic").then(function(e){return e.data})}function m(t,a){return e.get(P(t,a)+"/eventstoclear").then(function(e){return e.data})}function v(t,a){return e.get(P(t,a)+"/eventstoupdate").then(function(e){return e.data})}function g(t,a){return e.get(P(t,a)+"/reminders").then(function(e){return e.data})}function f(t,a){return e.get(P(t,a)+"/documents").then(function(e){return e.data})}function h(t,a,i){var n=P(t,a);return e.put(n,i).then(function(e){return e.data})}function y(t){return e.get("api/configuration/rules/workflows/eventcontrol/characteristics/"+encodeURIComponent(t)+"/usedin").then(function(e){return e.data})}function b(t){return e.get("api/configuration/rules/workflows/eventcontrol/instructionTypes/"+encodeURIComponent(t)+"/characteristics").then(function(e){return e.data})}function w(e,t,a){var i=_.any(_.without(e,t),function(e){return _.all(a,function(a){return D(e[a],t[a])})});return i}function k(e,t){e=_.filter(e,function(e){return!e.deleted});for(var a=e.length-1;a>=0;a--){var i=w(_.without(e,e[a]),e[a],t);if(i)return e[a].isDuplicatedRecord=!0,!0}return!1}function C(e,t){e=_.filter(e,function(e){return!e.deleted});for(var a=e.length-1;a>=0;a--){var i=w(_.without(e,e[a]),e[a],t);if(i)return e[a]}return null}function D(e,t){if(e&&t||0===(e&&t)){if(e.key&&t.key||0===(e.key&&t.key))return D(e.key,t.key);if(e.value&&e.type&&t.value&&t.type)return D(e.value,t.value)&&D(e.type,t.type)}return t instanceof Date&&(e=new Date(e)),x(e)===x(t)}function x(e){return""===e||null==e?null:e instanceof Date?Number(e):e}function S(e){return!e.$pristine&&!e.$invalid}function I(e,t){return{added:_.chain(e).filter(T).map(t).value(),deleted:_.chain(e).filter($).map(t).value(),updated:_.chain(e).filter(E).map(t).value()}}function T(e){return(e.added||e.isAdded)&&!e.deleted}function $(e){return e.deleted}function E(e){return(e.isEdited||e.isDirty&&e.isDirty())&&!e.deleted&&!(e.added||e.isAdded)}function O(e){return e?e.key:""}function A(e){return e?1==e.maxCycles?3:0:null}function N(e,t){t&&!e.isAdded?(e.isEdited=!0,e.inherited=!1):e.isAdded=!0}function M(t,a,i,n){var o=P(t,a)+"/reset?applyToDescendants="+i;return null!=n&&(o+="&updateRespNameOnCases="+n),e.put(o).then(function(e){return e.data})}function R(t,a){var i=P(t,a)+"/break";return e.put(i).then(function(e){return e.data})}function P(e,t){return"api/configuration/rules/workflows/"+encodeURIComponent(e)+"/eventcontrol/"+encodeURIComponent(t)}var F=[{key:0,value:"workflows.eventcontrol.relativeCycleMap.currentCycle",showAll:!0},{key:1,value:"workflows.eventcontrol.relativeCycleMap.previousCycle",showAll:!0},{key:2,value:"workflows.eventcontrol.relativeCycleMap.nextCycle",showAll:!0},{key:3,value:"workflows.eventcontrol.relativeCycleMap.cycle1",showAll:!0},{key:4,value:"workflows.eventcontrol.relativeCycleMap.highestCycle",showAll:!0},{key:5,value:"workflows.eventcontrol.relativeCycleMap.all",showAll:!1},{key:6,value:"workflows.eventcontrol.relativeCycleMap.allLower",showAll:!1},{key:7,value:"workflows.eventcontrol.relativeCycleMap.allHigher",showAll:!1}],q=[{key:"D",value:"periodTypes.days"},{key:"W",value:"periodTypes.weeks"},{key:"M",value:"periodTypes.months"},{key:"Y",value:"periodTypes.years"}],U=q.concat([{key:"E",value:"workflows.eventcontrol.dueDateCalc.periodTypeMap.entered"},{key:"1",value:"workflows.eventcontrol.dueDateCalc.periodTypeMap.period1"},{key:"2",value:"workflows.eventcontrol.dueDateCalc.periodTypeMap.period2"},{key:"3",value:"workflows.eventcontrol.dueDateCalc.periodTypeMap.period3"}]),V=[{key:0,value:"workflows.eventcontrol.dueDateCalc.nonWorkDayMap.ok"},{key:1,value:"workflows.eventcontrol.dueDateCalc.nonWorkDayMap.nextWorkDayAfter"},{key:2,value:"workflows.eventcontrol.dueDateCalc.nonWorkDayMap.lastWorkDayBefore"}],j=[{key:"<",value:"<"},{key:"<=",value:"<="},{key:"<>",value:"<>"},{key:"=",value:"="},{key:">",value:">"},{key:">=",value:">="},{key:"EX",value:t.instant("operators.exists")},{key:"NE",value:t.instant("operators.notExists")}],B=[{key:"<",value:"<"},{key:"<=",value:"<="},{key:"<>",value:"<>"},{key:"=",value:"="},{key:">",value:">"},{key:">=",value:">="}],L=_.object(_.map(F,function(e){return[e.key,e.value]})),G=_.object(_.map(U,function(e){return[e.key,e.value]}));return{getMatchingNameTypes:l,getDateComparisons:c,getSatisfyingEvents:d,getDesignatedJurisdictions:p,getDateLogicRules:u,getEventsToClear:m,translateRelativeCycle:i,getEventsToUpdate:v,getReminders:g,translatePeriodType:n,getDocuments:f,translateProduce:a,relativeCycles:F,periodTypes:U,periodTypesShort:q,nonWorkDayOptions:V,updateEventControl:h,operators:j,dateLogicOperators:B,translateOperator:o,isDuplicated:w,hasDuplicate:k,isApplyEnabled:S,getUsedInInstructions:y,getCharacteristicOptions:b,mapGridDelta:I,initEventPicklistScope:r,formatPicklistColumn:s,formatEventNo:O,findLastDuplicate:C,getDefaultRelativeCycle:A,setEditedAddedFlags:N,resetEvent:M,breakEventInheritance:R}}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlEventOccurrence",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/event-occurrence.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","workflowsEventControlService","inlineEdit","caseValidCombinationService","kendoGridService","workflowsCharacteristicsService",function(e,t,a,i,n,o,r){"use strict";function s(){T=N.topic.params.viewData,$=a,N.canEdit=T.canEdit,N.criteriaId=T.criteriaId,N.eventId=T.eventId,N.hasOffices=T.hasOffices,N.formData=T.eventOccurrence,E=T.eventOccurrence.eventsExist,_.extend(N.topic,{getFormData:S,hasError:y,isDirty:b,validate:w}),_.extend(N,{formatPicklistColumn:$.formatPicklistColumn,gridOptions:v(),eventPicklistScope:$.initEventPicklistScope({criteriaId:N.criteriaId,filterByCriteria:!0}),matchBoxChanged:g,parentData:T.isInherited&&T.parent?T.parent.eventOccurrence:{},isCharacteristicInherited:p,onAddClick:h,onNameTypeChanged:C,markDuplicated:x,validateValidCombinations:m,isEventOccurrenceDisabled:c,isWhenAnotherCaseExistsDisabled:l}),N.formData.dueDateOccurs||(N.formData.dueDateOccurs="NotApplicable"),e.$watch("vm.topic.params.viewData.dueDateCalcSettings.extendDueDate",function(e,t){e!==!0||t||(N.formData.dueDateOccurs="NotApplicable")}),e.$watch("vm.formData.dueDateOccurs",function(e,t){"NotApplicable"===e&&t!=e&&(N.isWhenAnotherCaseExists=!1)}),_.forEach(N.formData.eventsExist,function(e){e.customClassTrigger=e.isInherited}),N.isWhenAnotherCaseExists=f(N.formData),O=n,O.initFormData(N.formData.characteristics),O.addExtendFunctions(N),A=i.defineModel([{name:"nameType",equals:d},{name:"caseNameType",equals:d},"mustExist"])}function l(){return!N.canEdit||"NotApplicable"===N.formData.dueDateOccurs}function c(){return!N.canEdit||T.dueDateCalcSettings.extendDueDate}function d(e,t){return"object"==typeof e?e.key===t.key:e===t}function p(){return u("office","key")&&u("caseType","code")&&u("jurisdiction","code")&&u("propertyType","code")&&u("caseCategory","code")&&u("subType","code")&&u("basis","code")&&angular.equals([N.formData.matchOffice,N.formData.matchJurisdiction,N.formData.matchPropertyType,N.formData.matchCaseCategory,N.formData.matchSubType,N.formData.matchBasis],[N.parentData.matchOffice,N.parentData.matchJurisdiction,N.parentData.matchPropertyType,N.parentData.matchCaseCategory,N.parentData.matchSubType,N.parentData.matchBasis])}function u(e,t){return N.formData.characteristics&&N.parentData.characteristics&&(N.formData.characteristics[e]&&N.formData.characteristics[e][t])==(N.parentData.characteristics[e]&&N.parentData.characteristics[e][t])}function m(){r.validate(N.formData.characteristics,N.form)}function v(){var a="workflows.eventcontrol.eventOccurrence.";return t.buildOptions(e,{id:"matchNames",autoBind:!0,pageable:!1,sortable:!1,actions:N.canEdit?{"delete":!0}:null,read:function(){return $.getMatchingNameTypes(N.criteriaId,N.eventId).then(function(e){return e.length>0&&(N.isWhenAnotherCaseExists=!0),_.map(e,A)})},autoGenerateRowTemplate:!0,rowAttributes:N.canEdit?'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted, \'input-inherited\': dataItem.isInherited && !dataItem.isDirty()}"':"ng-class=\"{'input-inherited': dataItem.isInherited}\"",
columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited"></ip-inheritance-icon>'},{title:a+"nameType",template:N.canEdit?'<span ng-if="dataItem.deleted" ng-bind="vm.formatPicklistColumn(dataItem.nameType)"></span>{{vm.markDuplicated(dataItem.isDuplicatedRecord, rowForm)}}<ip-typeahead ng-if="!dataItem.deleted" focus-on-add ip-required label="" name="nameType" ng-model="dataItem.nameType" config="nameType" ng-change="vm.onNameTypeChanged(dataItem, rowForm)"></ip-typeahead>':'<span ng-bind="vm.formatPicklistColumn(dataItem.nameType)">{{dataItem.nameType}}</span>'},{template:"<span>=</span>"},{title:a+"currentCaseNameType",template:N.canEdit?'<span ng-if="dataItem.deleted" ng-bind="vm.formatPicklistColumn(dataItem.caseNameType)"></span><ip-typeahead ng-if="!dataItem.deleted" ip-required label="" name="caseNameType" ng-model="dataItem.caseNameType" config="nameType"></ip-typeahead>':'<span ng-bind="vm.formatPicklistColumn(dataItem.caseNameType)">{{dataItem.caseNameType}}</span>'},{title:a+"mustExist",template:'<ip-checkbox ng-model="dataItem.mustExist" ng-disabled="!vm.canEdit || dataItem.deleted">'}]})}function g(){N.formData.matchOffice&&(N.formData.characteristics.office=null),N.formData.matchJurisdiction&&(N.formData.characteristics.jurisdiction=null),N.formData.matchPropertyType&&(N.formData.characteristics.propertyType=null),N.formData.matchCaseCategory&&(N.formData.characteristics.caseCategory=null),N.formData.matchSubType&&(N.formData.characteristics.subType=null),N.formData.matchBasis&&(N.formData.characteristics.basis=null),m()}function f(e){return e.characteristics.office&&null!=e.characteristics.office.key||e.matchOffice||e.characteristics.caseType&&null!=e.characteristics.caseType.key||e.characteristics.jurisdiction&&null!=e.characteristics.jurisdiction.key||e.matchJurisdiction||e.characteristics.propertyType&&null!=e.characteristics.propertyType.key||e.matchPropertyType||e.characteristics.caseCategory&&null!=e.characteristics.caseCategory.key||e.matchCaseCategory||e.characteristics.subType&&null!=e.characteristics.subType.key||e.matchSubType||e.characteristics.basis&&null!=e.characteristics.basis.key||e.matchBasis||null!=e.eventsExist&&e.eventsExist.length>0}function h(){var e=N.gridOptions.dataSource.total();N.gridOptions.insertRow(e,{added:!0})}function y(){return N.form.$invalid}function b(){return N.form.$dirty||o.isGridDirty(N.gridOptions)}function w(){return N.form.$validate()&&!k()}function k(){for(var e=N.gridOptions.dataSource.data(),t=_.filter(e,function(e){return!e.deleted}),a=t.length-1;a>=0;a--)if(D(t[a]))return!0;return!1}function C(e,t){t.nameType.$setValidity("eventcontrol.eventOccurrence.nameTypeMapped",!0),e.isDuplicatedRecord=!1,D(e)}function D(e){if(!e.nameType)return!1;var t=N.gridOptions.dataSource.data(),a=_.without(t,e),i=null!=_.find(a,function(t){return t.nameType&&t.nameType.code===e.nameType.code});return e.isDuplicatedRecord=i,i}function x(e,t){e&&t.nameType&&t.nameType.$setValidity("eventcontrol.eventOccurrence.nameTypeMapped",!1)}function S(){var e={updateEventImmediate:"Immediate"===N.formData.dueDateOccurs,updateEventWhenDue:"OnDueDate"===N.formData.dueDateOccurs},t=_.pluck(N.formData.eventsExist,"key"),a=_.pluck(E,"key"),i=[],n=[];N.isWhenAnotherCaseExists?(_.extend(e,{officeId:N.formData.characteristics.office&&N.formData.characteristics.office.key,officeIsThisCase:N.formData.matchOffice,caseTypeId:N.formData.characteristics.caseType&&N.formData.characteristics.caseType.code,countryCode:N.formData.characteristics.jurisdiction&&N.formData.characteristics.jurisdiction.code,countryCodeIsThisCase:N.formData.matchJurisdiction,propertyTypeId:N.formData.characteristics.propertyType&&N.formData.characteristics.propertyType.code,propertyTypeIsThisCase:N.formData.matchPropertyType,caseCategoryId:N.formData.characteristics.caseCategory&&N.formData.characteristics.caseCategory.code,caseCategoryIsThisCase:N.formData.matchCaseCategory,subTypeId:N.formData.characteristics.subType&&N.formData.characteristics.subType.code,subTypeIsThisCase:N.formData.matchSubType,basisId:N.formData.characteristics.basis&&N.formData.characteristics.basis.code,basisIsThisCase:N.formData.matchBasis}),i=_.difference(t,a),n=_.difference(a,t)):(_.each(N.gridOptions.dataSource.data(),function(e){e.deleted=!0}),n=a);var o=$.mapGridDelta(N.gridOptions.dataSource.data(),I);return _.extend(e,{nameTypeMapDelta:o,requiredEventRulesDelta:{added:i,deleted:n}}),e}function I(e){return{sequence:e.sequence,applicableNameTypeKey:e.nameType.code,substituteNameTypeKey:e.caseNameType.code,mustExist:e.mustExist}}var T,$,E,O,A,N=this;N.$onInit=s}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlEventsToClear",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/events-to-clear.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","inlineEdit","workflowsEventControlService","hotkeys",function(e,t,a,i,n){"use strict";function o(){b=i,w=I.topic.params.viewData,k="workflows.eventcontrol.eventsToClear.",C=w.canEdit,D=w.criteriaId,x=w.eventId,I.topic.initializeShortcuts=r,S=a.defineModel([{name:"eventToClear",equals:function(e,t){return e.key===t.key}},"relativeCycle","clearEventOnEventChange","clearDueDateOnEventChange","clearEventOnDueDateChange","clearDueDateOnDueDateChange"]),_.extend(I.topic,{getFormData:u,hasError:c,isDirty:d,validate:p}),_.extend(I,{criteriaId:D,eventId:x,canEdit:C,formatPicklistColumn:b.formatPicklistColumn,formatEventNo:b.formatEventNo,gridOptions:s(),relativeCycles:b.relativeCycles,displayRelativeCycle:b.translateRelativeCycle,eventPicklistScope:b.initEventPicklistScope({criteriaId:D,filterByCriteria:!0}),onAddClick:l,onEventChanged:v,onCheckboxChange:f})}function r(){w.canEdit&&n.add({combo:"alt+shift+i",description:"shortcuts.add",callback:l})}function s(){return t.buildOptions(e,{id:"eventsToClearResults",autoBind:!0,pageable:!1,sortable:!1,actions:C?{"delete":!0}:null,topicItemNumberKey:{key:I.topic.key,isSubSection:!0},read:function(){return b.getEventsToClear(D,x).then(function(e){return _.map(e,S)})},autoGenerateRowTemplate:C,rowAttributes:C?'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted, \'input-inherited\': dataItem.isInherited && !dataItem.isDirty()}" uib-tooltip="{{\'workflows.eventcontrol.eventsToClear.tickCheckbox\' | translate}}" tooltip-enable="dataItem.error(\'checkbox\')" tooltip-class="tooltip-error" data-tooltip-placement="left"':"ng-class=\"{'input-inherited': dataItem.isInherited}\"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isDirty()"></ip-inheritance-icon>'},{title:k+"eventToClear",template:C?'<span ng-if="dataItem.deleted" ng-bind="vm.formatPicklistColumn(dataItem.eventToClear)"></span><ip-typeahead ip-field-error="{{dataItem.error(\'duplicate\') ? \'Duplicate\' : \'\'}}" ng-if="!dataItem.deleted" picklist-can-maintain="true" focus-on-add ip-required label="" name="event" ng-model="dataItem.eventToClear" ng-change="vm.onEventChanged(dataItem)" config="eventsFilteredByCriteria" external-scope="vm.eventPicklistScope" extend-query="vm.eventPicklistScope.extendQuery"></ip-typeahead>':'<span ng-bind="vm.formatPicklistColumn(dataItem.eventToClear)">{{dataItem.eventToClear}}</span>'},{title:"workflows.common.eventNo",hidden:!C,width:"10%",template:'<span ng-bind="vm.formatEventNo(dataItem.eventToClear)"></span>'},{title:k+"cycle",template:C?'<span ng-if="dataItem.deleted" ng-bind="vm.displayRelativeCycle(dataItem.relativeCycle)"></span><ip-dropdown ng-if="!dataItem.deleted" label="" ip-required name="relativeCycle" ng-model="dataItem.relativeCycle"  options="option.key as option.value | translate for option in vm.relativeCycles"></ip-dropdown>':'<span ng-bind="vm.displayRelativeCycle(dataItem.relativeCycle)"></span>'},{title:k+"whenEventOccurs",columns:[{title:k+"clearEventDate",template:'<ip-checkbox ng-model="dataItem.clearEventOnEventChange" ng-disabled="!vm.canEdit || dataItem.deleted" ng-change="vm.onCheckboxChange(dataItem)">'},{title:k+"clearDueDate",template:'<ip-checkbox ng-model="dataItem.clearDueDateOnEventChange" ng-disabled="!vm.canEdit || dataItem.deleted" ng-change="vm.onCheckboxChange(dataItem)">'}]},{title:k+"whenDueDateCalculates",columns:[{title:k+"clearEventDate",template:'<ip-checkbox ng-model="dataItem.clearEventOnDueDateChange" ng-disabled="!vm.canEdit || dataItem.deleted" ng-change="vm.onCheckboxChange(dataItem)">'},{title:k+"clearDueDate",template:'<ip-checkbox ng-model="dataItem.clearDueDateOnDueDateChange" ng-disabled="!vm.canEdit || dataItem.deleted" ng-change="vm.onCheckboxChange(dataItem)">'}]}]})}function l(){var e=I.gridOptions.dataSource.total();I.gridOptions.insertRow(e,S())}function c(){return I.form.$invalid||a.hasError(I.gridOptions.dataSource.data())}function d(){return a.canSave(I.gridOptions.dataSource.data())}function p(){var e=I.gridOptions.dataSource.data(),t=!0;_.each(e,function(e){f(e)||(t=!1)});var a=b.findLastDuplicate(e,["eventToClear"]);return a&&a.eventToClear&&a.error("duplicate",!0),I.form.$validate()&&!a&&t}function u(){var e=a.createDelta(I.gridOptions.dataSource.data(),m);return{eventsToClearDelta:e}}function m(e){return{sequence:e.sequence,eventToClearId:e.eventToClear.key,relativeCycle:e.relativeCycle,clearEventOnEventChange:e.clearEventOnEventChange,clearDueDateOnEventChange:e.clearDueDateOnEventChange,clearEventOnDueDateChange:e.clearEventOnDueDateChange,clearDueDateOnDueDateChange:e.clearDueDateOnDueDateChange}}function v(e){h(e)?e.error("duplicate",!0):e.error("duplicate",!1),y(e),g(e)}function g(e){!e.eventToClear||e.clearDueDateOnDueDateChange||e.clearDueDateOnEventChange||e.clearEventOnDueDateChange||e.clearEventOnEventChange||(e.clearEventOnEventChange=!0),I.onCheckboxChange(e)}function f(e){if(!e)return!0;var t=Boolean(e.clearEventOnEventChange||e.clearDueDateOnEventChange||e.clearEventOnDueDateChange||e.clearDueDateOnDueDateChange);return e.error("checkbox",!t),t}function h(e){var t=I.gridOptions.dataSource.data();return b.isDuplicated(t,e,["eventToClear"])}function y(e){e.eventToClear&&(1==e.eventToClear.maxCycles?e.relativeCycle=3:e.relativeCycle=0)}var b,w,k,C,D,x,S,I=this;I.$onInit=o}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlEventsToUpdate",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/events-to-update.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","inlineEdit","workflowsEventControlService","hotkeys",function(e,t,a,i,n){"use strict";function o(){b=S.topic.params.viewData,w="workflows.eventcontrol.eventsToUpdate.",k=b.canEdit,C=b.criteriaId,D=b.eventId,S.topic.initializeShortcuts=r,y=a.defineModel([{name:"eventToUpdate",equals:function(e,t){return e.key===t.key}},"relativeCycle","adjustDate"]),_.extend(S.topic,{getFormData:u,hasError:c,isDirty:d,validate:p}),_.extend(S,{criteriaId:C,eventId:D,canEdit:k,formatPicklistColumn:x.formatPicklistColumn,formatEventNo:x.formatEventNo,gridOptions:s(),relativeCycles:x.relativeCycles,displayRelativeCycle:x.translateRelativeCycle,displayDateAdjustment:h,eventPicklistScope:x.initEventPicklistScope({criteriaId:C,filterByCriteria:!0}),onAddClick:l,onEventChanged:v,dateAdjustmentOptions:b.syncedEventSettings.dateAdjustmentOptions})}function r(){b.canEdit&&n.add({combo:"alt+shift+i",description:"shortcuts.add",callback:l})}function s(){return t.buildOptions(e,{id:"eventsToUpdateGrid",autoBind:!0,pageable:!1,sortable:!1,actions:k?{"delete":!0}:null,topicItemNumberKey:{key:S.topic.key,isSubSection:!0},read:function(){return x.getEventsToUpdate(C,D).then(function(e){return _.map(e,y)})},autoGenerateRowTemplate:k,rowAttributes:k?'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted, \'input-inherited\': dataItem.isInherited && !dataItem.isDirty()}"':"ng-class=\"{'input-inherited': dataItem.isInherited}\"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isDirty()">'},{title:w+"eventToUpdate",template:k?'<span ng-if="dataItem.deleted" ng-bind="vm.formatPicklistColumn(dataItem.eventToUpdate)"></span><ip-typeahead ip-field-error="{{dataItem.error(\'duplicate\') ? \'Duplicate\' : \'\'}}" ng-if="!dataItem.deleted" picklist-can-maintain="true" focus-on-add ip-required label="" name="event" ng-model="dataItem.eventToUpdate" ng-change="vm.onEventChanged(dataItem)" config="eventsFilteredByCriteria" external-scope="vm.eventPicklistScope" extend-query="vm.eventPicklistScope.extendQuery"></ip-typeahead>':'<span ng-bind="vm.formatPicklistColumn(dataItem.eventToUpdate)"></span>'},{title:"workflows.common.eventNo",hidden:!k,width:"10%",template:'<span ng-bind="vm.formatEventNo(dataItem.eventToUpdate)"></span>'},{title:w+"cycle",field:"relativeCycle",template:k?'<span ng-if="dataItem.deleted" ng-bind="vm.displayRelativeCycle(dataItem.relativeCycle)"></span><ip-dropdown ng-if="!dataItem.deleted" label="" ip-required name="relativeCycle" ng-model="dataItem.relativeCycle"  options="option.key as option.value | translate for option in vm.relativeCycles| filter:{ showAll: \'true\'}"></ip-dropdown>':'<span ng-bind="vm.displayRelativeCycle(dataItem.relativeCycle)"></span>'},{title:w+"adjustDate",field:"adjustDate",template:k?'<span ng-if="dataItem.deleted" ng-bind="vm.displayDateAdjustment(dataItem)"></span><ip-dropdown ng-if="!dataItem.deleted" label="" name="adjustDate" ng-model="dataItem.adjustDate" options="option.key as option.value | translate for option in vm.dateAdjustmentOptions"></ip-dropdown>':'<span ng-bind="vm.displayDateAdjustment(dataItem)"></span>'}]})}function l(){var e=S.gridOptions.dataSource.total();S.gridOptions.insertRow(e,y())}function c(){return S.form.$invalid||a.hasError(S.gridOptions.dataSource.data())}function d(){return a.canSave(S.gridOptions.dataSource.data())}function p(){var e=S.gridOptions.dataSource.data(),t=x.findLastDuplicate(e,["eventToUpdate"]);return t&&t.eventToUpdate&&t.error("duplicate",!0),S.form.$validate()&&!t}function u(){var e=S.gridOptions.dataSource.data(),t=a.createDelta(e,m);return{eventsToUpdateDelta:t}}function m(e){return{sequence:e.sequence,eventToUpdateId:e.eventToUpdate.key,relativeCycle:e.relativeCycle,adjustDate:e.adjustDate}}function v(e){g(e)?e.error("duplicate",!0):e.error("duplicate",!1),f(e)}function g(e){var t=S.gridOptions.dataSource.data();return x.isDuplicated(t,e,["eventToUpdate"])}function f(e){e.eventToUpdate&&(e.relativeCycle=x.getDefaultRelativeCycle(e.eventToUpdate))}function h(e){if(!e||!e.adjustDate)return"";var t=_.find(S.dateAdjustmentOptions,function(t){return t.key===e.adjustDate});return t?t.value:""}var y,b,w,k,C,D,x=i,S=this;S.$onInit=o}]}),angular.module("inprotech.configuration.rules.workflows").controller("EventInheritanceConfirmationController",["$uibModalInstance","store","viewData",function(e,t,a){"use strict";function i(){t.session.set(o,r.applyChangesToChildren),e.close(r.applyChangesToChildren)}function n(){e.dismiss("Cancel")}var o,r=this;r.items=a.items||[],o="workflows.eventControl.applyInheritance",t.session["default"](o,!0),r.proceed=i,r.cancel=n,r.applyChangesToChildren=t.session.get(o)}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlNameChange",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/name-change.html",bindings:{topic:"<"},controllerAs:"vm",controller:function(){"use strict";function e(){c=p.topic.params.viewData,p.formData=c.nameChangeSettings,p.parentData=c.isInherited===!0&&c.parent?c.parent.nameChangeSettings:{},p.canEdit=c.canEdit,d="workflows.eventcontrol.nameChange.",p.shouldCopyFromNameTypeRequired=!1,p.shouldCopyFromNameTypeDisabled=!1,p.shouldMoveOldNameToNameTypeDisabled=!1,p.shouldDeleteCopyFromNameDisabled=!1,_.extend(p.topic,{hasError:a,isDirty:i,validate:n,getFormData:o}),p.isInherited=t,l()}function t(){return angular.equals(p.formData,p.parentData)}function a(){return p.form.$invalid}function i(){return p.form.$dirty}function n(){return p.form.$validate()}function o(){return{changeNameTypeCode:p.formData.changeNameType&&p.formData.changeNameType.code,copyFromNameTypeCode:p.formData.copyFromNameType&&p.formData.copyFromNameType.code,moveOldNameToNameTypeCode:p.formData.moveOldNameToNameType&&p.formData.moveOldNameToNameType.code,deleteCopyFromName:p.formData.deleteCopyFromName}}function r(e){return null==e||_.isNull(e.key)}function s(){r(p.formData.changeNameType)&&(p.formData.changeNameType=null),r(p.formData.copyFromNameType)&&(p.formData.copyFromNameType=null),r(p.formData.moveOldNameToNameType)&&(p.formData.moveOldNameToNameType=null)}function l(){s(),p.onChangeOfChangeNameType()}var c,d,p=this;p.$onInit=e,p.deleteFromTranslationKey=function(){return p.formData.copyFromNameType&&p.formData.copyFromNameType.value?d+"andDeleteNameDynamic":d+"andDeleteName"},p.moveNameTranslationKey=function(){return p.formData.changeNameType&&p.formData.changeNameType.value?d+"moveOriginalNameToDynamic":d+"moveOriginalNameTo"},p.isCopyFromNameTypeRequired=function(){return p.shouldCopyFromNameTypeRequired},p.isCopyFromNameTypeDisabled=function(){return p.shouldCopyFromNameTypeDisabled&&(p.form.copyFromNameType.$dirty=!1),p.shouldCopyFromNameTypeDisabled},p.isDeleteCopyFromNameDisabled=function(){return p.shouldDeleteCopyFromNameDisabled&&(p.form.deleteCopyFromName.$dirty=!1),p.shouldDeleteCopyFromNameDisabled},p.isMoveOldNameToNameTypeDisabled=function(){return p.shouldMoveOldNameToNameTypeDisabled&&(p.form.moveOldNameToNameType.$dirty=!1),p.shouldMoveOldNameToNameTypeDisabled},p.onChangeOfChangeNameType=function(){r(p.formData.changeNameType)?(p.formData.copyFromNameType=null,p.formData.moveOldNameToNameType=null,p.shouldCopyFromNameTypeRequired=!1,p.shouldMoveOldNameToNameTypeDisabled=!0,p.shouldCopyFromNameTypeDisabled=!0):(p.shouldCopyFromNameTypeRequired=!0,p.shouldMoveOldNameToNameTypeDisabled=!1,p.shouldCopyFromNameTypeDisabled=!1),p.onChangeOfCopyFromNameType()},p.onChangeOfCopyFromNameType=function(){r(p.formData.copyFromNameType)?(p.formData.deleteCopyFromName=!1,p.shouldDeleteCopyFromNameDisabled=!0):p.shouldDeleteCopyFromNameDisabled=!1}}}),angular.module("inprotech.configuration.rules.workflows").controller("OverviewMaintenanceController",["$scope","$http","$uibModalInstance","workflowsEventControlService","maintenanceModalService","options",function(e,t,a,i,n,o){"use strict";function r(){return!!u.maintenance.$validate()&&(!!u.maintenance.$valid&&(u.onBeforeSave?void u.onBeforeSave():d()))}function s(){return i.isApplyEnabled(u.maintenance)}function l(){return u.maintenance&&u.maintenance.$dirty}function c(){a.dismiss()}function d(){var e=_.clone(u.entry);return e.isAdded=!1,e.propagateChanges=u.entry.propagateChanges,t.put("api/picklists/events/"+u.eventId,e).then(function(){a.close(e)})}function p(){d()}var u=this;_.extend(u,{templateSrc:"condor/picklists/events/events.html",maintenanceState:"updating",criteriaId:o.criteriaId,eventId:o.eventId,eventDescription:o.eventDescription,entry:o.dataItem,saveWithoutValidate:p,title:".title",buttonMode:"save",isEditMode:!0,isAddAnother:!1,apply:r,isApplyEnabled:s,dismiss:c,hasUnsavedChanges:l})}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlOverview",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/overview.html",bindings:{topic:"="},controllerAs:"vm",controller:["ExtObjFactory","modalService","$http",function(e,t,a){"use strict";function i(){h=k.topic.params.viewData,y=h.overview,b=(new e).useDefaults(),w=b.createContext(),k.parentData=h.isInherited===!0&&h.parent?h.parent.overview.data:{},k.parentData.unlimitedCycles=h.isInherited===!0&&h.parent?9999===k.parentData.maxCycles:null,k.baseDescription=y.baseDescription,k.importanceLevelOptions=y.importanceLevelOptions,k.unlimitedCyclesChecked=s,k.maxCyclesChanged=l,k.isMaxCyclesDisabled=c,k.onEditBaseEvent=g,k.ensureDescriptionIsNotEmpty=f,k.formData=w.attach(h.overview.data),k.eventId=h.eventId,k.canEdit=h.canEdit,k.unlimitedCycles=9999===k.formData.maxCycles,k.topic.hasError=o,k.topic.isDirty=r,k.topic.discard=d,k.topic.getFormData=p,k.topic.afterSave=u,k.topic.isRespChanged=n,k.topic.initializeShortcuts=angular.noop,k.onRespTypeChange=m}function n(){return!(!k.formData.isDirty("name")&&!k.formData.isDirty("nameType"))}function o(){return!v()||k.form.$invalid&&k.form.$dirty}function r(){return w.isDirty()}function s(){k.unlimitedCycles&&(k.formData.maxCycles=9999)}function l(){k.formData.maxCycles>=9999&&(k.formData.maxCycles=9999,k.unlimitedCycles=!0)}function c(){return!k.canEdit||k.unlimitedCycles}function d(){k.form.$reset(),w.restore()}function p(){var e=_.clone(k.formData.getRaw());return e.name&&(e.dueDateRespNameId=e.name.key),e.nameType&&(e.dueDateRespNameTypeCode=e.nameType.code),e}function u(){w.save()}function m(){k.formData.name=null,k.formData.nameType=null}function v(){var e=!0;return k.form.maxCycles&&(e=h.unlimitedCycles||h.dueDateCalcMaxCycles<=k.formData.maxCycles,k.form.maxCycles.$setValidity("eventcontrol.overview.maxCycles",e)),e}function g(){a.get("api/picklists/events/"+h.eventId).then(function(e){t.openModal({id:"OverviewMaintenance",mode:"edit",dataItem:e.data.data,allItems:null,criteriaId:h.criteriaId,eventId:h.eventId,eventDescription:h.overview.data.description,isAddAnother:!1,addItem:null}).then(function(e){k.baseDescription=e.description,e.propagateChanges&&(_.some(e.updatedFields,{id:"description",updated:!0})&&(k.formData.description=e.description,k.formData.setDirty("description",!1)),_.some(e.updatedFields,{id:"maxCycles",updated:!0})&&(k.formData.maxCycles=e.maxCycles,k.unlimitedCycles!=e.unlimitedCycles&&(k.unlimitedCycles=e.unlimitedCycles,k.formData.setDirty("unlimitedCycles",!1),k.unlimitedCyclesChecked()),k.formData.setDirty("maxCycles",!1)),_.some(e.updatedFields,{id:"internalImportance",updated:!0})&&(k.formData.importanceLevel=e.internalImportance,k.formData.setDirty("importanceLevel",!1)),_.some(e.updatedFields,{id:"allowDateRecalc",updated:!0})&&(k.topic.params.viewData.dueDateCalcSettings.recalcEventDate=e.recalcEventDate),_.some(e.updatedFields,{id:"suppressDueDateCalc",updated:!0})&&(k.topic.params.viewData.dueDateCalcSettings.doNotCalculateDueDate=e.suppressCalculation))})})}function f(){k.formData.description||(k.formData.description=k.baseDescription)}var h,y,b,w,k=this;k.$onInit=i}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlPtaDelaysCalc",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/pta-delays-calc.html",bindings:{topic:"<"},controllerAs:"vm",controller:function(){"use strict";function e(){i=n.topic.params.viewData,n.ptaDelay=i.ptaDelay,n.parentData=i.isInherited===!0&&i.parent?{ptaDelay:i.parent.ptaDelay}:{},n.canEdit=i.canEdit,n.topic.isDirty=t,n.topic.getFormData=a}function t(){return n.form.$dirty}function a(){return{PtaDelaySelection:n.ptaDelay}}var i,n=this;n.$onInit=e}}),angular.module("inprotech.configuration.rules.workflows").controller("RemindersMaintenanceController",["$scope","$uibModalInstance","$translate","notificationService","workflowsEventControlService","options","maintenanceModalService",function(e,t,a,i,n,o,r){"use strict";function s(e){e?k.formData.repeatEvery=k.formData.startBefore:(k.formData.repeatEvery=null,k.formData.stopTime=null)}function l(e){if(k.formData.startBefore)return k.formData.startBefore[e]<0?"workflows.eventcontrol.dueDateCalc.maintenance.startSendingWarning":null}function c(){return!!(k.formData.sendToStaff||k.formData.sendToSignatory||k.formData.sendToCriticalList||k.formData.name||k.formData.nameTypes)}function d(e){if(!k.form.$validate()||!k.form.$dirty)return!1;var t=_.clone(k.formData);return c()?(n.setEditedAddedFlags(t,w),y.applyChanges(t,o,w,k.isAddAnother,e),!0):(i.alert({title:a.instant("modal.unableToComplete"),message:a.instant("workflows.eventcontrol.reminders.maintenance.atLeastSelected.content")}),!1)}function p(){return!!k.form.$pristine||d(!0)}function u(){return n.isApplyEnabled(k.form)}function m(){return k.form&&k.form.$dirty}function v(){t.dismiss()}function g(){k.formData.nameTypes||k.formData.name||(k.formData.relationship=null)}function f(){return!(k.formData.nameTypes&&0!=k.formData.nameTypes.length||k.formData.name)}function h(){var e=null==k.formData.alternateMessage||0==k.formData.alternateMessage.length;return e&&(k.formData.useOnAndAfterDueDate=!1),e}var y,b,w,k=this;b=o.criteriaId,w="edit"===o.mode,_.extend(k,{isAddAnother:o.isAddAnother,title:w?".editTitle":".addTitle",isEditMode:w,criteriaId:b,addItem:o.addItem,allItems:o.allItems,eventId:o.eventId,eventDescription:o.eventDescription,currentItem:o.dataItem,formData:_.extend({sendToStaff:!0,sendToSignatory:!0,repeatEvery:null},o.dataItem),periodTypes:n.periodTypesShort,apply:d,onNavigate:p,warningOnNegativeNumber:l,isApplyEnabled:u,dismiss:v,hasUnsavedChanges:m,onRecurringChange:s,clearRelationship:g,isRelationshipDisabled:f,isUseAlternateMessageDisabled:h}),y=r(e,t,k.addItem),k.recurring=Boolean(k.formData.repeatEvery||k.formData.stopTime&&k.formData.stopTime.value)}]),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlReminders",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/reminders.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","$translate","kendoGridBuilder","hotkeys","workflowsEventControlService","modalService","kendoGridService",function(e,t,a,i,n,o,r){"use strict";function s(){y=n,b=D.topic.params.viewData,w=b.criteriaId,k=b.eventId,C="workflows.eventcontrol.",D.topic.initializeShortcuts=l,D.topic.isDirty=f,D.topic.getFormData=g,_.extend(D,{canEdit:b.canEdit,gridOptions:c(),onAddClick:u,onEditClick:m,showPeriodType:d})}function l(){b.canEdit&&i.add({combo:"alt+shift+i",description:"shortcuts.add",callback:u})}function c(){return a.buildOptions(e,{id:"reminders",autoBind:!0,pageable:!1,sortable:!1,actions:b.canEdit?{edit:{onClick:"vm.onEditClick(dataItem)"},"delete":!0}:null,topicItemNumberKey:{key:D.topic.key,isSubSection:!0},read:function(){return y.getReminders(w,k)},autoGenerateRowTemplate:!0,rowAttributes:"ng-class=\"{edited: dataItem.isAdded || dataItem.isEdited || dataItem.deleted, deleted: dataItem.deleted,  'input-inherited': dataItem.isInherited&&!dataItem.isEdited}\"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:C+"reminders.standardMessage",field:"standardMessage"},{title:C+"reminders.sendAsEmail",fixed:!0,template:'<ip-checkbox ng-model="dataItem.sendEmail" disabled></ip-checkbox>'},{title:C+"startBefore",field:"startBefore",template:"{{vm.showPeriodType(dataItem.startBefore)}}"},{title:C+"repeatEvery",field:"repeatEvery",template:"{{vm.showPeriodType(dataItem.repeatEvery)}}"},{title:C+"stopAfter",field:"stop",template:"{{vm.showPeriodType(dataItem.stopTime)}}"}]})}function d(e){if(null==e)return"";var a=t.instant(n.translatePeriodType(e.type));return null==e.value?a:e.value+" "+a}function p(e){var t=D.gridOptions.dataSource.data().length+1;D.gridOptions.dataSource.insert(t,e)}function u(){v("add").then(function(e){p(e)})}function m(e){v("edit",e)}function v(e,t){return o.openModal({id:"RemindersMaintenance",mode:e,dataItem:t||{},allItems:D.gridOptions.dataSource.data(),criteriaId:b.criteriaId,eventId:b.eventId,eventDescription:b.overview.data.description,isAddAnother:!1,addItem:p})}function g(){var e=n.mapGridDelta(D.gridOptions.dataSource.data(),h);return{reminderRuleDelta:e}}function f(){return r.isGridDirty(D.gridOptions)}function h(e){return{sequence:e.sequence,standardMessage:e.standardMessage,alternateMessage:e.alternateMessage,useOnAndAfterDueDate:e.useOnAndAfterDueDate,sendEmail:e.sendEmail,emailSubject:e.emailSubject,startBeforeTime:e.startBefore&&e.startBefore.value,startBeforePeriod:e.startBefore&&e.startBefore.type,repeatEveryTime:e.repeatEvery?e.repeatEvery.value:0,repeatEveryPeriod:e.repeatEvery?e.repeatEvery.type:e.startBefore.type,stopTimePeriod:e.stopTime&&e.stopTime.type,stopTime:e.stopTime&&e.stopTime.value,sendToStaff:e.sendToStaff,sendToSignatory:e.sendToSignatory,sendToCriticalList:e.sendToCriticalList,name:e.name&&e.name.key,relationship:e.relationship&&e.relationship.key,nameTypes:_.pluck(e.nameTypes,"code")}}var y,b,w,k,C,D=this;D.$onInit=s}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlReport",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/report.html",bindings:{topic:"<"},controllerAs:"vm",controller:function(){"use strict";function e(){i=n.topic.params.viewData,n.report=i.report,n.parentData=i.isInherited===!0&&i.parent?{report:i.parent.report}:{},n.canEdit=i.canEdit,n.topic.isDirty=t,n.topic.getFormData=a}function t(){return n.form.$dirty}function a(){return{report:n.report}}var i,n=this;n.$onInit=e}}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlSatisfyingEvents",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/satisfying-events.html",bindings:{topic:"<"},controllerAs:"vm",controller:["$scope","kendoGridBuilder","workflowsEventControlService","kendoGridService","hotkeys",function(e,t,a,i,n){"use strict";function o(){b=D.topic.params.viewData,w="workflows.eventcontrol.satisfyingEvents.",k=b.canEdit,D.topic.initializeShortcuts=r,_.extend(D.topic,{getFormData:h,hasError:d,isDirty:p,validate:u}),_.extend(D,{criteriaId:b.criteriaId,eventId:b.eventId,canEdit:b.canEdit,formatPicklistColumn:C.formatPicklistColumn,formatEventNo:C.formatEventNo,gridOptions:s(),relativeCycles:C.relativeCycles,displayRelativeCycle:C.translateRelativeCycle,eventPicklistScope:C.initEventPicklistScope({criteriaId:b.criteriaId,filterByCriteria:!0}),checkDuplicate:l,onAddClick:c,onEventChanged:m,onCycleChanged:v})}function r(){b.canEdit&&n.add({combo:"alt+shift+i",description:"shortcuts.add",callback:c})}function s(){return t.buildOptions(e,{id:"satisfyingEventsResults",autoBind:!0,pageable:!1,sortable:!1,actions:k?{"delete":!0}:null,topicItemNumberKey:{key:D.topic.key,isSubSection:!0},read:function(){return C.getSatisfyingEvents(D.criteriaId,D.eventId)},autoGenerateRowTemplate:k,rowAttributes:k?'ng-form="rowForm" ng-class="{error: rowForm.$invalid, edited: dataItem.isEdited || dataItem.added ||dataItem.deleted, deleted: dataItem.deleted,\'input-inherited\': dataItem.isInherited && !dataItem.isEdited}"':"ng-class=\"{'input-inherited': dataItem.isInherited}\"",columns:[{fixed:!0,width:"35px",template:'<ip-inheritance-icon ng-if="dataItem.isInherited && !dataItem.isEdited"></ip-inheritance-icon>'},{title:"workflows.common.event",width:k?"40%":"50%",template:k?'<span ng-if="dataItem.deleted" ng-bind="vm.formatPicklistColumn(dataItem.satisfyingEvent)"></span>{{vm.checkDuplicate(dataItem.isDuplicatedRecord, rowForm)}}<ip-typeahead data-picklist-can-maintain="true" ng-if="!dataItem.deleted" focus-on-add ip-required label="" name="event" ng-model="dataItem.satisfyingEvent" ng-change="vm.onEventChanged(dataItem, rowForm)" data-config="eventsFilteredByCriteria" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"></ip-typeahead>':'<span ng-bind="vm.formatPicklistColumn(dataItem.satisfyingEvent)"></span>'},{title:"workflows.common.eventNo",hidden:!k,width:"10%",template:'<span ng-bind="vm.formatEventNo(dataItem.satisfyingEvent)"></span>'},{title:w+"cycle",width:"50%",field:"relativeCycle",template:k?'<span ng-if="dataItem.deleted" ng-bind="vm.displayRelativeCycle(dataItem.relativeCycle)"></span><ip-dropdown ng-if="!dataItem.deleted" label="" ip-required name="relativeCycle" ng-model="dataItem.relativeCycle" ng-change="vm.onCycleChanged(dataItem, rowForm)" options="option.key as option.value | translate for option in vm.relativeCycles | filter:{ showAll: \'true\'}"></ip-dropdown>':'<span ng-bind="vm.displayRelativeCycle(dataItem.relativeCycle)"></span>'
}]})}function l(e,t){e&&t.event.$setValidity("duplicate",!1)}function c(){if(!d()){var e=D.gridOptions.dataSource.total();D.gridOptions.insertRow(e,{added:!0})}}function d(){return D.form.$invalid}function p(){return D.form.$dirty||i.isGridDirty(D.gridOptions)}function u(){return D.form.$validate()}function m(e,t){e.isEdited=!0,t.event.$setValidity("duplicate",!0),t.relativeCycle.$setValidity("duplicate",!0),e.isDuplicatedRecord=!1,g(e)&&1===e.satisfyingEvent.maxCycles&&t.event.$setValidity("duplicate",!1),f(e,t)}function v(e,t){if(e.isEdited=!0,1!==e.satisfyingEvent.maxCycles&&(t.relativeCycle.$setValidity("duplicate",!0),e.isDuplicatedRecord=!1,g(e))){var a=_.countBy(D.gridOptions.dataSource.data(),function(t){return t.relativeCycle===e.relativeCycle&&t.satisfyingEvent.key===e.satisfyingEvent.key});a["true"]>1&&t.relativeCycle.$setValidity("duplicate",!1)}}function g(e){var t=D.gridOptions.dataSource.data();return C.isDuplicated(_.without(t,e),e,["satisfyingEvent"])}function f(e,t){e.satisfyingEvent&&(1==e.satisfyingEvent.maxCycles?e.relativeCycle=3:e.relativeCycle=0,v(e,t))}function h(){var e=C.mapGridDelta(D.gridOptions.dataSource.data(),y);return{satisfyingEventsDelta:e}}function y(e){return{sequence:e.sequence,satisfyingEventId:e.satisfyingEvent.key,relativeCycle:e.relativeCycle}}var b,w,k,C=a,D=this;D.$onInit=o}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlStandingInstruction",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/standing-instruction.html",bindings:{topic:"<"},controllerAs:"vm",controller:["workflowsEventControlService",function(e){"use strict";function t(){u=m.topic.params.viewData,m.parentData=u.isInherited===!0?u.parent.standingInstruction:{},_.extend(m.topic,{isDirty:l,hasError:c,getFormData:d}),_.extend(m,{formData:u.standingInstruction,characteristicsOptions:u.standingInstruction.characteristicsOptions,instructions:u.standingInstruction.instructions,canEdit:u.canEdit,displayInstructions:i,onInstructionTypeChange:n,isCharacteristicRequired:o,isCharacteristicDisabled:r,onCharacteristicChange:s}),m.isInherited=a}function a(){return angular.equals(m.formData,m.parentData)}function i(){return m.instructions?m.instructions.join("; "):""}function n(){m.formData.requiredCharacteristic=null,m.instructions=null,m.formData.instructionType&&e.getCharacteristicOptions(m.formData.instructionType.code).then(function(e){m.characteristicsOptions=e})}function o(){return null!=m.formData.instructionType}function r(){return!m.canEdit||null==m.formData.instructionType}function s(){m.formData.requiredCharacteristic&&e.getUsedInInstructions(m.formData.requiredCharacteristic).then(function(e){m.instructions=e})}function l(){return m.form&&m.form.$dirty}function c(){return!p()||!(!m.form||!m.form.$invalid)}function d(){return{instructionType:m.formData.instructionType?m.formData.instructionType.code:null,characteristic:m.formData.requiredCharacteristic}}function p(){var e=!0;return m.form.instructionType&&(e=!(u.dueDateDependsOnStandingInstruction&&(isNaN(m.formData.requiredCharacteristic)||null===m.formData.requiredCharacteristic)),m.form.instructionType.$setValidity("eventcontrol.standingInstruction.dueDateCalcWarning",e)),e}var u,m=this;m.$onInit=t}]}),angular.module("inprotech.configuration.rules.workflows").component("ipWorkflowsEventControlSyncEventDate",{templateUrl:"condor/configuration/rules/workflows/eventcontrol/sync-event-date.html",bindings:{topic:"<"},controllerAs:"vm",controller:["workflowsEventControlService",function(e){"use strict";function t(){d=u.topic.params.viewData,p=d.syncedEventSettings,_.extend(u,{criteriaId:d.criteriaId,eventId:d.eventId,canEdit:d.canEdit,caseOption:p.caseOption,dateAdjustmentOptions:p.dateAdjustmentOptions}),u.sameCase=i()?{fromEvent:p.fromEvent,dateAdjustment:p.dateAdjustment}:{},u.relatedCase=a()?{fromEvent:p.fromEvent,dateAdjustment:p.dateAdjustment,fromRelationship:p.fromRelationship,loadNumberType:p.loadNumberType,useCycle:p.useCycle}:{useCycle:"RelatedCaseEvent"},u.showSameCaseOptions=i,u.showRelatedCaseOptions=a,u.topic.isDirty=s,u.topic.hasError=r,u.topic.getFormData=c,u.topic.validate=l,u.getCurrentForm=o,u.sameCaseEventPicklistScope=e.initEventPicklistScope({criteriaId:d.criteriaId,filterByCriteria:!1}),u.relatedCaseEventPicklistScope=e.initEventPicklistScope({criteriaId:d.criteriaId,filterByCriteria:!1}),u.isInherited=n,u.parentData=d.isInherited===!0&&d.parent?{caseOption:d.parent.syncedEventSettings.caseOption,sameCase:"SameCase"===d.parent.syncedEventSettings.caseOption?{fromEvent:d.parent.syncedEventSettings.fromEvent,dateAdjustment:d.parent.syncedEventSettings.dateAdjustment}:{},relatedCase:"RelatedCase"===d.parent.syncedEventSettings.caseOption?{fromEvent:d.parent.syncedEventSettings.fromEvent,dateAdjustment:d.parent.syncedEventSettings.dateAdjustment,fromRelationship:d.parent.syncedEventSettings.fromRelationship,loadNumberType:d.parent.syncedEventSettings.loadNumberType,useCycle:d.parent.syncedEventSettings.useCycle}:{useCycle:"RelatedCaseEvent"}}:{}}function a(){return"RelatedCase"===u.caseOption}function i(){return"SameCase"===u.caseOption}function n(){return u.caseOption===u.parentData.caseOption&&(angular.equals(u.sameCase,u.parentData.sameCase)&&angular.equals(u.relatedCase,u.parentData.relatedCase))}function o(){return i()?u.form.sameCase:a()?u.form.relatedCase:void 0}function r(){return o()&&o().$invalid}function s(){return u.form.$dirty}function l(){return null==o()||o().$validate()}function c(){var e={caseOption:u.caseOption};return i()?_.extend(e,{fromEvent:u.sameCase.fromEvent&&u.sameCase.fromEvent.key,dateAdjustment:u.sameCase.dateAdjustment}):a()&&_.extend(e,{fromEvent:u.relatedCase.fromEvent&&u.relatedCase.fromEvent.key,dateAdjustment:u.relatedCase.dateAdjustment,fromRelationship:u.relatedCase.fromRelationship&&u.relatedCase.fromRelationship.key,loadNumberType:u.relatedCase.loadNumberType&&u.relatedCase.loadNumberType.key,useCycle:u.relatedCase.useCycle}),e}var d,p,u=this;u.$onInit=t}]}),angular.module("inprotech.configuration.rules.workflows").controller("WorkflowsInheritanceController",["$scope","viewData","kendoTreeBuilder","kendoWidgetHelper","modalService","notificationService","workflowInheritanceService","workflowsMaintenanceService","$timeout","$stateParams","$state","bus",function(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){F=r,q=c.selectedNode,U.canEditProtected=t.canEditProtected,U.moveBeforeTopItem=I,U.deleteAndMoveChildrenBeforeTopItem=T,U.isUnlinkEnabled=A,U.isDeleteEnabled=N,U.findTopCriteria=O,U.isUnlinkable=$,U.hasOffices=t.hasOffices,U.prepareForMove=w,U.breakInheritance=x,U.deleteCriteria=S,U.move=C,U.getNewParent=k,U.getDataSource=P,U.treeOptions=v()}function m(e,t){for(var a=0;a<e.length;a++){if(t(e[a]))return e[a];if(e[a].items){var i=m(e[a].items,t);if(i)return i}}return null}function v(){return a.buildOptions(e,{id:"criteriaInheritanceTree",dataSource:t.trees,dragAndDrop:!0,loadOnDemand:!1,expandedByDefault:t.totalCount<=V,select:b,drop:function(e){e.preventDefault();var t=U.prepareForMove(e);t&&U.move(t.selectedCriteria,t.newParent).then(function(){o.success(),y(e.sender,e.sourceNode),e.destinationNode?e.complete():d.reload()})},dataBound:function(e){e.node||(q?f(e.sender,function(e){return e.id==q}):f(e.sender,function(e){return e.isFirstFromSearch}),U.onNavigateClick=g(e.sender))}})}function g(e){return function(t,a){a.preventDefault();var i=e.findByUid(t.uid);y(e,i).then(function(){d.go("workflows.details",{id:t.id})})}}function f(e,t){var a=m(e.dataItems(),t);if(a){var i=e.findByUid(a.uid);h(e,i)}}function h(e,t){e.options.expandedByDefault||e.expandTo(t.id),y(e,t)}function y(e,t){e.select(t);var a={sender:e,node:t};return U.setSelectedDebounced(a)}function b(e){if(U.selectedCriteria=i.getDataItem(e.sender,e.node),U.selectedCriteria.detail)p.channel("resize").broadcast();else{var t=function(e){F.getCriteriaDetail(e).then(function(t){e===U.selectedCriteria.id&&(U.selectedCriteria.detail=t),p.channel("resize").broadcast()})};t(U.selectedCriteria.id)}return l(function(){U.treeOptions.scrollToSelected()}),d.go("workflows.inheritance",{selectedNode:U.selectedCriteria.id},{location:"replace"})}function w(e){var t={};if(e.destinationNode===e.sourceNode)return null;if(t.selectedCriteria=i.getDataItem(e.sender,e.sourceNode),t.selectedCriteria.isProtected&&!U.canEditProtected)return D("protectedCriteria",t.selectedCriteria.id),null;if(t.selectedCriteria.hasProtectedChildren&&!U.canEditProtected)return D("protectedChildren",t.selectedCriteria.id),null;if(t.newParent=U.getNewParent(e),t.newParent&&!t.newParent.isProtected&&t.selectedCriteria.isProtected)return D("protectedFromUnprotectedError",t.selectedCriteria.id),null;var a=i.getParentDataItem(e.sender,e.sourceNode);return a===t.newParent?null:t}function k(e){return"over"===e.dropPosition?i.getDataItem(e.sender,e.destinationNode):i.getParentDataItem(e.sender,e.destinationNode)}function C(e,t){return t?n.openModal({id:"InheritanceChangeConfirmation",childCriteriaId:e.id,childName:e.name,parentCriteriaId:t.id,parentName:t.name}).then(function(e){return F.changeParentInheritance(e.childCriteriaId,e.parentCriteriaId,e.isReplaceChild)}).then(function(t){return t.usedByCase?o.info({title:"workflows.inheritance.policingNotification.title",message:"workflows.inheritance.policingNotification.message",messageParams:{criteriaId:e.id}}):t.hasDuplicateEntries?o.alert({title:"modal.unableToComplete",message:"workflows.inheritance.duplicateEntries.message",messageParams:{duplicates:t.duplicateEntries},actionMessage:"workflows.inheritance.duplicateEntries.action"}):void 0}):U.breakInheritance(e)}function D(e,t){o.alert({title:"modal.unableToComplete",message:"workflows.inheritance.unableToMove."+e,messageParams:{criteriaId:t}})}function x(e){return s.getParent(e.id).then(function(t){return n.openModal({id:"InheritanceBreakConfirmation",parent:t,criteriaId:e.id,context:"inheritance"})}).then(function(){return F.breakInheritance(e.id)})}function S(e){var t="workflows.inheritance.deleteCriteria.",a=e.hasChildren?"confirmHasChildrenMessage":"confirmMessage";return o.confirmDelete({message:t+a,messageParams:{id:e.id}}).then(function(){return F.deleteCriteria(e.id)})}function I(e,t){var a=U.findTopCriteria(e);return t.remove(e),t.insert(t.indexOf(a),e),a}function T(e,t){var a=U.findTopCriteria(e);return _.each(e.items,function(e){t.insert(t.indexOf(a),e)}),t.remove(e),a}function $(e,t,a){return!e&&(t||!a)}function E(e){return!e||0===e.level()}function O(e){var t=e.parent().parent();return E(t)?t:O(t)}function A(){var e=U.selectedCriteria;return!!e&&U.isUnlinkable(E(e),U.canEditProtected,e.isProtected)}function N(){var e=U.selectedCriteria;return!!e&&(!e.isProtected||U.canEditProtected)}function M(e){return!!e.hasChildren&&(!!e.expanded||_.any(e.items,M))}function R(e){return!e.hasChildren||!!e.expanded&&_.all(e.items,R)}function P(){return U.treeOptions.$widget.dataSource}var F,q,U=this,V=200;U.$onInit=u,U.closeDetailView=function(){U.selectedCriteria=null,U.treeOptions.deselect()},U.expandAll=function(){U.treeOptions.expandAll()},U.collapseAll=function(){U.treeOptions.collapseAll()},U.showsDetailView=function(){return null!=U.selectedCriteria},U.onUnlinkClick=function(){U.breakInheritance(U.selectedCriteria).then(function(){U.moveBeforeTopItem(U.selectedCriteria,U.getDataSource()),U.selectedCriteria=null,o.success()})},U.onDeleteClick=function(){F.isCriteriaUsedByCase(U.selectedCriteria.id).then(function(t){1==t?n.open({id:"CriteriaUnableToDelete",scope:e,options:{criteriaId:U.selectedCriteria.id}}):U.deleteCriteria(U.selectedCriteria).then(function(){U.deleteAndMoveChildrenBeforeTopItem(U.selectedCriteria,U.getDataSource()),U.selectedCriteria=null,o.success()})})},U.isExpendAllEnabled=function(){return!!U.treeOptions.$widget&&!_.all(U.treeOptions.$widget.dataSource.data(),R)},U.isCollapseAllEnabled=function(){return!!U.treeOptions.$widget&&_.any(U.treeOptions.$widget.dataSource.data(),M)},U.setSelectedDebounced=_.debounce(b,100,!0)}]),angular.module("inprotech.configuration.rules.workflows").controller("InheritanceChangeConfirmationController",["$uibModalInstance","options",function(e,t){"use strict";function a(){e.close({childCriteriaId:n.childCriteriaId,parentCriteriaId:n.parentCriteriaId,isReplaceChild:n.isReplaceChild})}function i(){e.dismiss("Cancel")}var n=this;n.proceed=a,n.cancel=i,n.isReplaceChild=!0,n.childCriteriaId=t.childCriteriaId,n.parentCriteriaId=t.parentCriteriaId,n.childName=t.childName,n.parentName=t.parentName}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowInheritanceService",["$http",function(e){"use strict";function t(t,a,i){return e.put("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/inheritance",{newParent:a,replaceCommonRules:i}).then(function(e){return e.data})}function a(t){return e["delete"]("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/inheritance")}function i(t){return e["delete"]("api/configuration/rules/workflows/"+encodeURIComponent(t))}function n(t){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/usedByCase").then(function(e){return e.data})}function o(t){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/characteristics").then(function(e){var t=e.data;return{office:t.office.value,jurisdiction:t.jurisdiction.value,caseType:t.caseType.value,propertyType:t.propertyType.value,caseCategory:t.caseCategory.value,subType:t.subType.value,basis:t.basis.value,dateOfLaw:t.dateOfLaw.value,action:t.action.value,localOrClient:null==t.isLocalClient?"":t.isLocalClient?"Local clients":"Foreign clients",inUse:t.inUse,isProtected:t.isProtected}})}var r={breakInheritance:a,getCriteriaDetail:o,changeParentInheritance:t,deleteCriteria:i,isCriteriaUsedByCase:n};return r}]),angular.module("inprotech.configuration.rules.workflows").controller("ipMaintainCharacteristicsController",["ExtObjFactory","workflowsMaintenanceService","workflowsCharacteristicsService","selectedCaseType","caseValidCombinationService",function(e,t,a,i,n){"use strict";function o(){C=(new e).useDefaults(),D=C.createContext(),x=t,S=a,I=E.topic.params,T=I.criteriaId,$=I.canEditProtected,E.form={},E.formData={},E.validate=l,E.fieldClasses=u,E.extendPicklistQuery=c,E.isDateOfLawDisabled=d,E.isCaseCategoryDisabled=p,E.canEdit=I.canEdit,E.hasOffices=I.hasOffices,E.picklistValidCombination=n.validCombinationDescriptionsMap,E.resetNameError=k,E.topic.hasError=g,E.topic.getFormData=h,E.topic.isDirty=m,E.topic.discard=v,E.topic.afterSave=y,E.topic.showPolicingAlertOnSave=b,E.topic.validateSaveResponse=w,E.appliesToOptions=x.appliesToOptions,E.caseTypeChanged=s,E.topic.initializeShortcuts=angular.noop,E.showExaminationType=S.showExaminationType,E.showRenewalType=S.showRenewalType,x.getCharacteristics(T).then(function(e){E.canEdit&&S.setValidation(e,E.form),E.topic.initialised=!0,E.formData=D.attach(e),n.initFormData(E.formData),i.set(E.formData.caseType),E.formData.$equals=x.picklistEquals,E.disableProtectedRadioButtons=r()})}function r(){var e=!E.canEdit||!$;return E.formData.isEditProtectionBlockedByParent?(e=!0,E.protectionDisabledText="workflows.maintenance.isUnprotectedWithUnprotectedParent"):E.formData.isEditProtectionBlockedByDescendants&&(e=!0,E.protectionDisabledText="workflows.maintenance.isProtectedWithProtectedChild"),e}function s(){i.set(E.formData.caseType),E.formData.caseType||(E.formData.caseCategory="")}function l(){E.form&&S.validate(E.formData,E.form)}function c(e){return O(),n.extendValidCombinationPickList(e)}function d(){return O(),n.isDateOfLawDisabled()||!E.canEdit}function p(){return O(),n.isCaseCategoryDisabled()||!E.canEdit}function u(e){return"{saved: vm.formData.isSaved('"+e+"'), edited: vm.formData.isDirty('"+e+"')}"}function m(){return D.isDirty()}function v(){E.form.$reset(),D.restore()}function g(){return E.form.$invalid&&E.form.$dirty}function f(){return E.formData.getRaw()}function h(){var e=f();return x.createSaveRequestDataForCharacteristics(e)}function y(e){D.save(),_.extend(E.formData,e),E.disableProtectedRadioButtons=r()}function b(){if(D.getDirtyItems().length>0){var e=D.getDirtyItems()[0].getDirtyItems(),t=Object.keys(e).length;if(2===t&&e.criteriaName&&e.isProtected)return!1;if(1===t&&(e.criteriaName||e.isProtected))return!1}return!0}function w(e){return!(e.error&&!e.status)||("criteriaName"===e.error.field&&E.form.criteriaName.$setValidity(e.error.message,!1),!1)}function k(){E.form.criteriaName.$setValidity("notunique",null)}var C,D,x,S,I,T,$,E=this;E.$onInit=o;var O=function(){n.isFormDataInitialised()||n.initFormData(E.formData)}}]).directive("ipMaintainCharacteristics",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/maintenance/characteristics.html",scope:{},controller:"ipMaintainCharacteristicsController",controllerAs:"vm",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.rules.workflows").controller("CreateCharacteristicsController",["viewData","modalService","$uibModalInstance","ExtObjFactory","workflowsMaintenanceService","workflowsCharacteristicsService","notificationService","$state","$translate","hotkeys","selectedCaseType","caseValidCombinationService",function(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){var t=_.extend({criteriaId:null,action:null,basis:null,caseCategory:null,caseType:null,criteriaName:"",dateOfLaw:null,inUse:!0,isEditProtectionBlockedByDescendants:!1,isEditProtectionBlockedByParent:!1,isLocalClient:null,isProtected:!1,jurisdiction:null,office:null,propertyType:null,subType:null,examinationType:null,renewalType:null},e.selectedCharacteristics);e.canCreateNegativeWorkflowRules&&(t.isProtected=!0),F.formData=N.attach(t),p.initFormData(F.formData),F.formData.$equals=M.picklistEquals,F.disableProtectedRadioButtons=m()}function m(){var e=!F.canEdit||!P;return F.formData.isEditProtectionBlockedByParent?(e=!0,F.protectionDisabledText="workflows.maintenance.isUnprotectedWithUnprotectedParent"):F.formData.isEditProtectionBlockedByDescendants&&(e=!0,F.protectionDisabledText="workflows.maintenance.isProtectedWithProtectedChild"),e}function v(){d.set(F.formData.caseType),F.formData.caseType||(F.formData.caseCategory="")}function g(){F.form&&R.validate(F.formData,F.form)}function f(e){return p.extendValidCombinationPickList(e)}function h(){return p.isDateOfLawDisabled()||!F.canEdit}function y(){return p.isCaseCategoryDisabled()||!F.canEdit}function b(e){return"{saved: vm.formData.isSaved('"+e+"'), edited: vm.formData.isDirty('"+e+"')}"}function w(){return N.isDirty()}function k(){F.form.$reset(),N.restore()}function C(){return F.form.$invalid&&F.form.$dirty}function D(){return F.formData.getRaw()}function x(){var e=D();return M.createSaveRequestDataForCharacteristics(e)}function S(){if(!F.form.$valid)return void T(F.form);var e=x();return M.create(e).then(function(e){if(e.data.status)I(e.data);else{"criteriaName"!==e.data.error.field&&"description"!==e.data.error.field||F.form.criteriaName.$setValidity(e.data.error.message,!1);var t={};"characteristicsDuplicate"===e.data.error.field&&(t={criteriaId:e.data.error.message}),r.alert({title:"modal.unableToComplete",message:l.instant("workflows.maintenance.errors."+e.data.error.field,t)})}})}function I(e){N.save(),_.extend(F.formData,e),F.disableProtectedRadioButtons=m(),s.go("workflows.details",{id:e.criteriaId})}function T(e){_.each(e.$error,function(e){_.each(e,function(e){e.$setTouched()})})}function $(){return F.form.$dirty&&w()}function E(){F.form.criteriaName.$setValidity("notunique",null)}function O(){c.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){$()&&t.canOpen("CreateCharacteristics")&&F.save()}}),c.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){t.canOpen("CreateCharacteristics")&&F.dismissAll()}})}var A,N,M,R,P,F=this;A=(new i).useDefaults(),N=A.createContext(),M=n,R=o,P=e.maintainWorkflowRulesProtected,F.canEdit=!0,F.hasOffices=e.hasOffices,F.form={},F.formData={},F.validate=g,F.fieldClasses=b,F.extendPicklistQuery=f,F.isDateOfLawDisabled=h,F.isCaseCategoryDisabled=y,F.showExaminationType=R.showExaminationType,F.showRenewalType=R.showRenewalType,F.picklistValidCombination=p.validCombinationDescriptionsMap,F.hasError=C,F.getFormData=x,F.isDirty=w,F.discard=k,F.save=S,F.isSaveEnabled=$,F.resetNameError=E,F.initShortcuts=O,F.appliesToOptions=M.appliesToOptions,F.caseTypeChanged=v,u(),F.dismissAll=function(){return w()?void r.discard().then(function(){a.close()}):void a.close()}}]),angular.module("inprotech.configuration.rules.workflows").controller("CreateEntriesController",["viewData","workflowsMaintenanceEntriesService","modalService","$uibModalInstance","notificationService","hotkeys","$translate",function(e,t,a,i,n,o,r){"use strict";function s(){l()&&f.addEntryWorkflow(h.criteriaId,h.entryDescription,h.isSeparator).then(function(e){if(h.events){var t=_.pluck(h.events,"eventNo");return f.addEntryEvents(h.criteriaId,h.entryDescription,t,e)}return f.addEntry(h.criteriaId,h.entryDescription,h.isSeparator,g,e)}).then(function(e){e.data.error?("entryDescription"===e.data.error.field&&h.form.entryDescription.$setValidity(e.data.error.message,!1),n.alert({title:"modal.unableToComplete",message:r.instant("workflows.maintenance.entries.createEntry.errors."+e.data.error.field+"."+e.data.error.message)})):c(e.data)})}function l(){return!(!h.isSeparator&&""===h.entryDescription.trim())||(h.form.entryDescription.$setValidity("required",!1),!1)}function c(e){n.success(),i.close(e)}function d(){return h.entryDescription?void n.discard().then(function(){i.close()}):void i.close()}function p(){return!h.form.entryDescription.$invalid&&h.entryDescription}function u(){h.form.entryDescription.$setValidity("notunique",null)}function m(){h.form.entryDescription.$setValidity("required",null)}function v(){o.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){p()&&a.canOpen("CreateEntries")&&h.save()}}),o.add({combo:"alt+shift+z",description:"shortcuts.revert",callback:function(){a.canOpen("CreateEntries")&&h.dismissAll()}})}var g,f=t,h=this;h.entryDescription=null,h.initShortcuts=v,h.isSaveEnabled=p,h.resetUniqueError=u,h.resetRequiredError=m,h.save=s,h.dismissAll=d,h.events=e.selectedEvents,h.criteriaId=e.criteriaId,h.isSeparator=!1,g=e.insertAfterEntryId}]),angular.module("inprotech.configuration.rules.workflows").directive("ipWorkflowsMaintenanceEntries",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/maintenance/entries.html",scope:{},controller:"ipWorkflowsMaintenanceEntriesController",controllerAs:"vm",bindToController:{topic:"="}}}).controller("ipWorkflowsMaintenanceEntriesController",["$scope","$state","kendoGridBuilder","workflowsMaintenanceEntriesService","sharedService","modalService","hotkeys","BulkMenuOperations","notificationService",function(e,t,a,i,n,o,r,s,l){"use strict";function c(){D=i,x.criteriaId=x.topic&&x.topic.params.criteriaId,x.canEdit=x.topic&&x.topic.params.canEdit,x.shared=n,n.selectedEventInDetail&&(x.shared.selectedEventInDetail=n.selectedEventInDetail),x.entryCount=null,x.prepareToGoEntryControl=v,x.onClickAdd=g,x.gridOptions=u(),x.menu=d(),C=new s(x.menu.context),x.topic.initializeShortcuts=w,x.prepareDataSource=k}function d(){return{context:"entries",items:[{id:"delete",text:"bulkactionsmenu.deleteAll",enabled:function(){return C.anySelected(x.gridOptions.data())},click:h}],clearAll:function(){return C.clearAll(x.gridOptions.data())},selectAll:function(e){return C.selectAll(x.gridOptions.data(),e)},selectionChange:p,initialised:function(){x.gridOptions.data()&&C.selectionChange(x.gridOptions.data())}}}function p(){return C.selectionChange(x.gridOptions.data())}function u(){var t=[{fixed:!0,width:"35px",template:'<ip-inheritance-icon inheritance-level="{{::dataItem.inheritanceLevel}}"></ip-inheritance-icon>',oneTimeBinding:!0},{title:"workflows.maintenance.entries.entryDescription",field:"description",template:'<a ui-sref="workflows.details.entrycontrol({entryId: dataItem.entryNo})" ng-click="vm.prepareToGoEntryControl()" class="display-spaces">{{::dataItem.description}}</a>',oneTimeBinding:!0,width:"90%"},{title:"workflows.maintenance.entries.isSeparator",field:"isSeparator",template:'<div class="center-block"><div class="cpa-icon-check" ng-if="dataItem.isSeparator"></div></div>',oneTimeBinding:!0,width:"6%"}];return x.topic.params.canEdit&&t.unshift({headerTemplate:'<bulk-actions-menu data-context="entries" data-actions="vm.menu.items" data-on-select-all="vm.menu.selectAll(val)" data-on-clear="vm.menu.clearAll()" data-initialised="vm.menu.initialised()">',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)">',width:"35px",fixed:!0,locked:!0}),a.buildOptions(e,{id:"entriesResults",autoBind:!0,pageable:!1,sortable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{found: dataItem.isFound, saved: dataItem.added}"',rowDraggable:x.topic.params.canEdit,selectable:!0,reorderable:!1,topicItemNumberKey:x.topic.key,read:function(e){return x.getEntries(e).then(function(e){return angular.element(".main-content-scrollable").scroll(function(){angular.element(document.body).find("[data-role=popup]").kendoPopup("close")}),x.searchEntryEvents(),e})},onDataCreated:function(){C.selectionChange(x.gridOptions.data())},onDropCompleted:function(t){var a=t.source.entryNo,i=t.target.entryNo,n=t.insertBefore;D.reorderEntry(x.criteriaId,a,i,n).then(function(r){return t.source.added=!0,r.descendents&&r.descendents.length?o.open("InheritanceReorderConfirmation",e,{items:function(){return r.descendents}}).then(function(){return D.reorderDescendantsEntry(x.criteriaId,a,i,r.prevTargetId,r.nextTargetId,n)}):null})},columns:t})}function m(){_.each(x.gridOptions.data(),function(e){e.isFound=!1}),x.entryCount=null}function v(){D.entryIds(x.gridOptions.data())}function g(){var t=x.gridOptions.getSelectedRow(),a=null!=t?t.entryNo:null;D.showCreateEntryModal(e,x.criteriaId,a).then(function(e){if(e){e.added=!0,e.id=e.entryNo;var a;null!=t?(a=x.gridOptions.dataSource.indexOf(t)+1,x.gridOptions.dataSource.insert(a,e)):(x.gridOptions.dataSource.add(e),a=x.gridOptions.data().length-1),f(),x.gridOptions.selectRowByIndex(a),C.selectionChange(x.gridOptions.data())}})}function f(){var t={isSubSection:!1,key:x.topic.key,total:x.gridOptions.dataSource._total};e.$emit("topicItemNumbers",t)}function h(){var t=y();t.length&&D.confirmDeleteWorkflow(e,x.criteriaId,t).then(function(e){return D.deleteEntries(x.criteriaId,t,Boolean(e.applyToDescendants))}).then(b)}function y(){return _.pluck(_.where(x.gridOptions.data(),{selected:!0}),"entryNo")}function b(){var e=x.gridOptions.dataSource.data().toJSON(),t=_.filter(e,function(e){return!e.selected});x.gridOptions.dataSource.data(t),f(),C.clearAll(),l.success()}function w(){r.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){x.topic.isActive&&g()}}),r.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){x.topic.isActive&&h()}})}function k(e){return e&&e.forEach(function(e){e.id||(e.id=e.entryNo)},this),e}var C,D,x=this;x.$onInit=c,x.getEntries=function(e){return D.getEntries(x.criteriaId,e)},x.searchEntryEvents=function(){x.shared.selectedEventInDetail&&!isNaN(parseInt(x.shared.selectedEventInDetail.key))?D.searchEntryEvents(x.criteriaId,x.shared.selectedEventInDetail.key).then(function(e){m();var t=x.gridOptions.data();x.entryCount=e.data.length,_.each(e.data,function(e){t.every(function(t){return e!==t.entryNo||(t.isFound=!0,!1)})})}):m()},e.$watch("vm.shared.selectedEventInDetail",function(){x.searchEntryEvents()}),e.$watch("vm.form.event.$invalid",function(e){e?m():x.searchEntryEvents()})}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsMaintenanceEntriesService",["$http","modalService","notificationService",function(e,t,a){"use strict";function i(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entries",{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})}function n(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entryEventSearch?eventId="+encodeURIComponent(a))}function o(e){return e&&(b=_.pluck(e,"entryNo")),b}function r(t,a,i,n){return e.post("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entries/reorder",{sourceId:a,targetId:i,insertBefore:n}).then(function(e){return e.data})}function s(t,a,i,n,o,r){return e.post("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entries/descendants/reorder",{sourceId:a,targetId:i,prevTargetId:n,nextTargetId:o,insertBefore:r})}function l(e,a,i){var n={criteriaId:a,insertAfterEntryId:i};return t.open("CreateEntries",e,{viewData:n})}function c(e,t,a,i){return k.getDescendantsWithoutEntry(e,t,a).then(function(t){return t.length>0&&k.showInheritanceConfirmationModal(e,t,i).then(function(e){return e})})}function d(t,a,i,n,o){return e.post("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entries",{entryDescription:a,isSeparator:i,insertAfterEntryId:n,applyToChildren:o})}function p(t,a,i,n){return e.post("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/eventsentry?entryDescription="+encodeURIComponent(a)+"&applyToChildren="+encodeURIComponent(n),i)}function u(t,a,i){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entrydescendants?withoutEntryDescription="+encodeURIComponent(a)+"&isSeparator="+i).then(function(e){return e.data})}function m(t,a){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entries/descendants?withInheritedEntryIds="+JSON.stringify(a)).then(function(e){return e.data})}function v(e,a,i){var n={criteriaId:e,items:a,context:"entry"},o=t.open("InheritanceConfirmation",i,{viewData:n});return o.then(function(e){return e})}function g(e,t,a){return k.getDescendantsWithInheritedEntry(t,a).then(function(i){return i&&i.length?f(e,t,a,i):h(a)})}function f(e,a,i,n){return t.open("InheritanceDeleteConfirmation",e,{items:function(){return{context:"entry",descendants:n,selectedCount:i.length}}})}function h(e){return a.confirmDelete({message:w+(e.length>1?".messageMultiple":".messageIndividual"),messageParams:{count:e.length}})}function y(t,a,i){return e["delete"]("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/entries?entryIds="+JSON.stringify(a)+"&appliesToDescendants="+i)}var b=[],w="workflows.maintenance.deleteConfirmationEntry",k={getEntries:i,searchEntryEvents:n,entryIds:o,reorderEntry:r,reorderDescendantsEntry:s,showCreateEntryModal:l,addEntry:d,addEntryEvents:p,addEntryWorkflow:c,getDescendantsWithoutEntry:u,getDescendantsWithInheritedEntry:m,showInheritanceConfirmationModal:v,confirmDeleteWorkflow:g,deleteEntries:y};return k}]),angular.module("inprotech.configuration.rules.workflows").controller("EventsForCaseConfirmationController",["$scope","$uibModalInstance","items",function(e,t,a){"use strict";function i(){switch(c.items.context){case"event":return s+r(c.items.usedEvents,".messageConfirmAgainstCasesIndividual",".messageConfirmAgainstCasesMultiple");case"entry":return l+r(c.items.usedEvents,".messageConfirmAgainstCasesIndividual",".messageConfirmAgainstCasesMultiple");default:return}}function n(){t.dismiss("Cancel")}function o(){t.close("Proceed")}function r(e,t,a){if(e&&e.length>0)return 1===e.length?t:a}var s,l,c=this;c.items=a,c.cancel=n,c.proceed=o,c.deleteEventConfirmText=i,s="workflows.maintenance.deleteConfirmationEvent",l="workflows.maintenance.deleteConfirmationEntry"}]),angular.module("inprotech.configuration.rules.workflows").directive("ipWorkflowsMaintenanceEvents",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/maintenance/events.html",scope:{},controller:"ipWorkflowsMaintenanceEventsController",controllerAs:"vm",bindToController:{topic:"="}}}).controller("ipWorkflowsMaintenanceEventsController",["$scope","$state","kendoGridBuilder","hotkeys","workflowsMaintenanceEventsService","sharedService","menuSelection","modalService","notificationService","picklistService","BulkMenuOperations","bus","pagerHelperService","$timeout",function(e,t,a,i,n,o,r,s,l,c,d,p,u,m){
"use strict";function v(){U.criteriaId=U.topic&&U.topic.params.criteriaId,U.canEdit=U.topic&&U.topic.params.canEdit,U.shared=o,U.eventMatches=null,U.gridOptions=g(),U.getEvents=E,U.searchEvents=O,U.onClickAdd=f,U.addEventDirectly=h,U.canAddEventDirectly=F,U.menu=S(),U.eventControlName={itemName:"Event Control"},q=new d(U.menu.context),U.topic.initializeShortcuts=P,U.prepareDataSource=I,V.resetNewlyAddedEventIds()}function g(){var t=[{fixed:!0,width:"35px",template:'<ip-inheritance-icon inheritance-level="{{::dataItem.inheritanceLevel}}"></ip-inheritance-icon>',oneTimeBinding:!0},{title:"workflows.common.eventNo",field:"eventNo",template:'<a ui-sref="workflows.details.eventcontrol({eventId: {{::dataItem.eventNo}}})">{{::dataItem.eventNo}}</a>',oneTimeBinding:!0},{title:"workflows.common.eventDescription",field:"description",template:'<a ui-sref="workflows.details.eventcontrol({eventId: {{::dataItem.eventNo}}})">{{::dataItem.description}}</a>',oneTimeBinding:!0},{title:j+"eventCode",field:"eventCode",template:"{{::dataItem.eventCode}}",oneTimeBinding:!0},{title:j+"importance",field:"importance",filterable:!0,template:"{{::dataItem.importance}}",oneTimeBinding:!0},{title:j+"maxCycles",field:"maxCycles",template:"{{::dataItem.maxCycles}}",oneTimeBinding:!0}];U.topic.params.canEdit&&t.unshift({headerTemplate:'<bulk-actions-menu data-context="events" data-actions="vm.menu.items" is-full-selection-possible="false" data-on-select-this-page="vm.menu.selectPage(val)" data-on-clear="vm.menu.clearAll()" data-initialised="vm.menuInitialised()">',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)">',width:"35px",fixed:!0,locked:!0}),U.menuInitialised=function(){q.initialiseMenuForPaging(U.gridOptions.pageable.pageSize)};var i=!0;return a.buildOptions(e,{id:"eventResults",autoBind:!0,pageable:{pageSize:100,pageSizes:[10,20,50,100,500]},sortable:!1,rowDraggable:U.topic.params.canEdit,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.added, found: dataItem.isFound, bold: dataItem.isDirectMatch}"',selectable:!0,reorderable:!1,topicItemNumberKey:U.topic.key,read:function(e){return U.getEvents(e).then(function(e){return B?(m(function(){M(L)}),B=!1):(U.searchEvents(i),i=!1),U.prepareDataSource(e)})},readFilterMetadata:function(e){return V.getEventFilterMetadata(U.criteriaId,e.field)},onDataCreated:function(){q.selectionChange(U.gridOptions.data())},onDropCompleted:function(t){var a=t.source.eventNo,i=t.target.eventNo,n=t.insertBefore;V.reorderEvent(U.criteriaId,a,i,n).then(function(t){return V.refreshEventIds(U.gridOptions.data()),V.confirmReorderDescendants(U.criteriaId,a,i,t.prevTargetId,t.nextTargetId,n,e)})},columns:t})}function f(){c.openModal(e,{type:"events",canMaintain:!0,searchValue:C(),size:"xl",columnMenu:!0,displayName:"picklist.event.Type"}).then(function(e){R(e.key)?l.alert({title:"modal.unableToComplete",message:"modal.workflowEventExists.message"}):y(e)})}function h(){U.shared.selectedEventInDetail&&null!=U.shared.selectedEventInDetail.key&&""!==U.shared.selectedEventInDetail.key&&y(U.shared.selectedEventInDetail)}function y(t){var a=U.gridOptions.getSelectedRow();V.addEventWorkflow(U.criteriaId,t.key,e).then(function(e){var i=null!=a?a.eventNo:null;return V.addEvent(U.criteriaId,t.key,i,e)}).then(function(e){V.addEventId(e,a),e.added=!0,p.channel("gridRefresh.eventResults").broadcast(),U.shared.selectedEventInDetail&&m(function(){A()})})}function b(){var t=k();t.length&&V.confirmDeleteWorkflow(e,U.criteriaId,t).then(function(e){return V.deleteEvents(U.criteriaId,t,Boolean(e.applyToDescendants))}).then(D)}function w(){var a=_.map(q.selectedRecords(),function(e){return{eventNo:e.eventNo,description:e.description}});a.length&&V.showCreateEntryModal(e,U.criteriaId,a).then(function(e){e&&t.reload(t.current.name)})}function k(){return _.pluck(q.selectedRecords(),"eventNo")}function C(){return F()?U.shared.selectedEventInDetail.value:null}function D(){var e=q.selectedRecords();_.each(e,function(e){e.deleted=e.selected}),U.gridOptions.removeDeletedRows(),x(),V.removeEventIds(e),U.eventMatches&&(U.eventMatches=_.difference(U.eventMatches,e.map(function(e){return e.eventNo}))),q.clearAll(U.gridOptions.dataSource.data()),l.success()}function x(){var t={isSubSection:!1,key:U.topic.key,total:U.gridOptions.dataSource._total};e.$emit("topicItemNumbers",t)}function S(){return{context:"events",items:[{id:"delete",text:"bulkactionsmenu.deleteAll",enabled:function(){return q.anySelected(U.gridOptions.data())},click:b},{id:"createEntry",icon:"cpa-icon cpa-icon-plus",text:"workflows.maintenance.events.createEntry",enabled:function(){return q.anySelected(U.gridOptions.data())},click:w}],clearAll:function(){return q.clearAll(U.gridOptions.data())},selectPage:function(e){return q.selectPage(U.gridOptions.data(),e)},selectionChange:T}}function I(e){return e&&e.data.forEach(function(e){e.id||(e.id=e.eventNo),V.isEventNewlyAdded(e.eventNo)&&(e.added=!0)},this),e}function T(e){return q.singleSelectionChange(U.gridOptions.data(),e)}function $(){_.each(U.gridOptions.data(),function(e){e.isFound=!1,e.isDirectMatch=!1}),U.eventMatches=null}function E(e){return V.getEvents(U.criteriaId,e)}function O(e){U.shared.selectedEventInDetail&&!isNaN(parseInt(U.shared.selectedEventInDetail.key))?V.searchEvents(U.criteriaId,U.shared.selectedEventInDetail.key).then(function(t){$(),U.eventMatches=t.data,e&&!A()||M(t.data)}):$()}function A(){if(!U.shared.selectedEventInDetail)return!1;var e=V.eventIds(),t=u.getPageForId(e,U.shared.selectedEventInDetail.key,U.gridOptions.dataSource.take());if(t.page!==-1){if(N(t.page,t.relativeRowIndex,U.eventMatches))return!1}else{var a=_.min(U.eventMatches.map(function(t){return e.indexOf(t)})),i=u.getPageForId(e,e[a],U.gridOptions.dataSource.take());if(i.page==-1)return!1;if(N(i.page,i.relativeRowIndex,U.eventMatches))return!1}return!0}function N(e,t,a){return e=e===U.gridOptions.dataSource.page()?"current":e,p.channel("grid.eventResults").broadcast({relativeIndex:t,pageIndex:e,unselectRow:!0}),"current"!==e?(L=a,B=!0):B=!1,B}function M(e){var t=U.gridOptions.data(),a=_.find(t,function(e){return e.eventNo===U.shared.selectedEventInDetail.key});a&&(a.isDirectMatch=!0),_.each(e,function(e){var a=_.find(t,function(t){return t.eventNo===e});a&&(a.isFound=!0)})}function R(e){var t=V.eventIds();return _.some(t,function(t){return t===e})}function P(){i.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){U.topic.isActive&&f()}}),i.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){U.topic.isActive&&b()}})}function F(){return!!U.shared.selectedEventInDetail&&(U.canEdit&&!R(U.shared.selectedEventInDetail.key))}var q,U=this,V=n,j="workflows.maintenance.events.",B=!1,L=[];U.$onInit=v,e.$watch("vm.shared.selectedEventInDetail",function(){U.searchEvents(!0)})}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsMaintenanceEventsService",["$rootScope","$http","workflowsMaintenanceService","notificationService","modalService",function(e,t,a,i,n){"use strict";function o(e,t,a){return M.getDescendantsWithoutEvent(e,t).then(function(i){return!!(i&&i.length>0)&&M.showInheritanceConfirmationModal(e,t,i,a).then(function(e){return e})})}function r(e,t,a,i){var o={criteriaId:e,items:a,context:"event"},r=n.open("InheritanceConfirmation",i,{viewData:o});return r.then(function(e){return e})}function s(e,a,n,o){return t.put("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events/"+encodeURIComponent(a)+"?insertAfterEventId="+encodeURIComponent(n)+"&applyToChildren="+encodeURIComponent(o)).then(function(e){return i.success(),e.data})}function l(e,a){return t.get("api/configuration/rules/workflows/"+e+"/events/usedByCases?eventIds="+JSON.stringify(a)).then(function(e){return e.data})}function c(e,a,i){return t.get("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events/descendants?eventIds="+JSON.stringify(a)+"&inheritedOnly="+i).then(function(e){return e.data})}function d(e,a){return t.get("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/eventdescendants?withoutEventId="+encodeURIComponent(a)).then(function(e){return e.data})}function p(e,a,i){return t["delete"]("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events?eventIds="+JSON.stringify(a)+"&appliesToDescendants="+i)}function u(e,a){return t.get("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events/filterdata/"+encodeURIComponent(a)).then(function(e){return e.data})}function m(e,a){return t.get("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events",{params:{params:JSON.stringify(a)}}).then(function(e){return M.eventIds(e.data.ids),e.data})}function v(e){return e&&(O=e),O}function g(e){v(y(e))}function f(e){return _.contains(A,e)}function h(){A=[]}function y(e){return _.pluck(e,"eventNo")}function b(e){O=_.difference(O,y(e))}function w(e,t){var a;a=t?O.indexOf(t.eventNo)+1:O.length,O.splice(a,0,e.eventNo),_.contains(A,e.eventNo)||A.splice(0,0,e.eventNo)}function k(e,a){return t.get("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/eventSearch?eventId="+encodeURIComponent(a))}function C(e,a,i,n){return t.post("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events/reorder",{sourceId:a,targetId:i,insertBefore:n}).then(function(e){return e.data})}function D(e,t,a,i,o,r,s){return M.getDescendants(e,[t],!1).then(function(l){var c=l.descendants;return c&&c.length?n.open("InheritanceReorderConfirmation",s,{items:function(){return c}}).then(function(){return M.reorderDescendants(e,t,a,i,o,r)}):null})}function x(e,a,i,n,o,r){return t.post("api/configuration/rules/workflows/"+encodeURIComponent(e)+"/events/descendants/reorder",{sourceId:a,targetId:i,prevTargetId:n,nextTargetId:o,insertBefore:r})}function S(e,t,a){return M.checkEventsUsedByCases(t,a).then(function(t){return t&&t.length?n.open("EventsForCaseConfirmation",e,{items:function(){return{context:"event",usedEvents:t,selectedCount:a.length}}}):null}).then(function(){return M.checkDescendants(e,t,a)})}function I(e,t,a){return M.getDescendants(t,a,!0).then(function(i){var n=i.descendants;return n&&n.length?M.confirmInheritanceDelete(e,t,a,n):M.confirmDelete(a)})}function T(e,t,a,i){return n.open("InheritanceDeleteConfirmation",e,{items:function(){return{context:"event",descendants:i,selectedCount:a.length}}})}function $(e){return i.confirmDelete({message:N+(e.length>1?".messageMultiple":".messageIndividual"),messageParams:{count:e.length}})}function E(e,t,a){var i={criteriaId:t,selectedEvents:a};return n.open("CreateEntries",e,{viewData:i})}var O=[],A=[],N="workflows.maintenance.deleteConfirmationEvent",M={addEventWorkflow:o,showInheritanceConfirmationModal:r,getEventFilterMetadata:u,getEvents:m,searchEvents:k,addEvent:s,confirmDeleteWorkflow:S,checkDescendants:I,confirmInheritanceDelete:T,confirmDelete:$,deleteEvents:p,checkEventsUsedByCases:l,getDescendants:c,getDescendantsWithoutEvent:d,reorderEvent:C,reorderDescendants:x,confirmReorderDescendants:D,eventIds:v,addEventId:w,removeEventIds:b,showCreateEntryModal:E,refreshEventIds:g,isEventNewlyAdded:f,resetNewlyAddedEventIds:h};return M}]),angular.module("inprotech.configuration.rules.workflows").controller("InheritanceConfirmationController",["$scope","$uibModalInstance","store","viewData","$timeout",function(e,t,a,i,n){"use strict";function o(){e.items=i.items,e.cancel=r,c.proceed=s,c.translationData={context:i.context},c.criteriaId=i.criteriaId,l="workflows.maintenance.applyInheritance",a.session["default"](l,!0),c.inherit=a.session.get(l)}function r(){t.dismiss("Cancel")}function s(){a.session.set(l,c.inherit),n(function(){t.close(c.inherit)})}var l,c=this;c.$onInit=o}]),angular.module("inprotech.configuration.rules.workflows").controller("InheritanceDeleteConfirmationController",["$uibModalInstance","store","items",function(e,t,a){"use strict";function i(){e.dismiss("Cancel")}function n(){t.session.set(c,d.applyToDescendants),e.close({applyToDescendants:d.applyToDescendants})}function o(){if(d.items&&d.items.selectedCount)switch(d.items.context){case"event":return s+(1===d.items.selectedCount?".messageIndividual":".messageMultiple");case"entry":return l+(1===d.items.selectedCount?".messageIndividual":".messageMultiple");default:return}}function r(){if(d.items&&d.items.selectedCount)switch(d.items.context){case"event":return s+(1===d.items.selectedCount?".detailSingleton":".detailPlural");case"entry":return l+(1===d.items.selectedCount?".detailSingleton":".detailPlural");default:return}}var s,l,c,d=this;d.items=a,d.cancel=i,d.del=n,d.deleteConfirmationMessage=o,d.deleteConfirmationDetail=r,s="workflows.maintenance.deleteConfirmationEvent",l="workflows.maintenance.deleteConfirmationEntry",c="workflows.maintenance.applyInheritance",t.session["default"](c,!0),d.applyToDescendants=t.session.get(c)}]),angular.module("inprotech.configuration.rules.workflows").controller("InheritanceReorderConfirmationController",["$uibModalInstance","items",function(e,t){"use strict";function a(){e.dismiss()}function i(){e.close()}var n=this;n.items=t,n.cancel=a,n.proceed=i}]),angular.module("inprotech.configuration.rules.workflows").controller("WorkflowsMaintenanceController",["viewData","notificationService","workflowsMaintenanceService","workflowInheritanceService","sharedService","$translate","$state","modalService","LastSearch","store","workflowsSearchService","$rootScope",function(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){T.canEdit=e.canEdit,T.criteria=e,T.isSaveEnabled=v,T.isDiscardEnabled=g,T.save=b,T.discard=f,p.setPageTitlePrefix(e.criteriaId,"workflows.details"),S={chars:{key:"characteristics",title:"Characteristics",template:'<ip-maintain-characteristics data-topic="$topic" />',params:{criteriaId:e.criteriaId,canEdit:e.canEdit,canEditProtected:e.canEditProtected,hasOffices:e.hasOffices}},events:{key:"events",title:"workflows.maintenance.events.eventControl",template:'<ip-workflows-maintenance-events data-topic="$topic" />',params:{criteriaId:e.criteriaId,canEdit:e.canEdit,canEditProtected:e.canEditProtected}},entries:{key:"entries",title:"workflows.maintenance.entries.entryControl",template:'<ip-workflows-maintenance-entries data-topic="$topic" />',params:{criteriaId:e.criteriaId,canEdit:e.canEdit}}},I={resetInheritance:{key:"resetInheritance",title:"workflows.actions.resetInheritance.title",action:w,disabled:!e.isInherited,tooltip:e.isInherited?null:"workflows.actions.resetInheritance.disabledMaintenanceTooltip"},breakInheritance:{key:"breakInheritance",title:"workflows.actions.breakInheritance.title",action:x,disabled:!e.isInherited,tooltip:e.isInherited?null:"workflows.actions.breakInheritance.disabledMaintenanceTooltip"}},T.options={topics:[S.chars,S.events,S.entries],actions:T.canEdit?[I.resetInheritance,I.breakInheritance]:[]},T.lastSearch=n.lastSearch,T.permissionAlertOptions=e,T.onTopicSelected=y,m()}function m(){var e=c.local.get("lastSearch");if(!T.lastSearch&&e){var t=Array.isArray(e[0]);T.lastSearch=new l({method:t?d.searchByIds:d.search,methodName:t?"searchByIds":"search",args:[e[0],e[1]]})}}function v(){return!!S.chars.initialised&&(!S.chars.hasError()&&S.chars.isDirty())}function g(){return!!S.chars.initialised&&S.chars.isDirty()}function f(){return S.chars.discard()}function h(e,t){_.each(e,function(e){t.push(e),e.topics&&h(e.topics,t)})}function y(e){var t=[];h(S,t),_.each(t,function(t){t.key===e&&_.isFunction(t.initializeShortcuts)&&t.initializeShortcuts()})}function b(){var a=S.chars.getFormData();return $.save(e.criteriaId,a).then(function(e){if(S.chars.validateSaveResponse(e.data)){var a=S.chars.showPolicingAlertOnSave();S.chars.afterSave(e.data),a?t.info({message:"workflows.maintenance.save"}):t.success()}else{var i={};"characteristicsDuplicate"===e.data.error.field&&(i={criteriaId:e.data.error.message}),t.alert({title:"modal.unableToComplete",message:o.instant("workflows.maintenance.errors."+e.data.error.field,i)})}})}function w(){e.isInherited&&D().then(function(t){return $.resetWorkflow(e.criteriaId,t).then(function(a){"updateNameRespOnCases"===a.status?s.openModal({id:"ChangeDueDateRespConfirm",preSave:!0}).then(function(a){$.resetWorkflow(e.criteriaId,t,a).then(function(e){k(e)})}):k(a)})})}function k(a){return a.usedByCase?t.info({title:"workflows.inheritance.policingNotification.title",message:"workflows.inheritance.policingNotification.message",messageParams:{criteriaId:e.criteriaId}}).then(function(){C()}):void C()}function C(){t.success(),T.isSaveEnabled=_.constant(!1),r.reload(r.current.name)}function D(){return $.getDescendants(e.criteriaId).then(function(t){return s.open("InheritanceResetConfirmation",null,{viewData:{criteriaId:e.criteriaId,items:t.descendants,parent:t.parent,context:"criteria"}})})}function x(){if(e.isInherited)return a.getParent(e.criteriaId).then(function(t){return s.openModal({id:"InheritanceBreakConfirmation",parent:t,criteriaId:e.criteriaId,context:"criteria"})}).then(function(){i.breakInheritance(e.criteriaId).then(function(){C()})})}var S,I,T=this,$=a;T.$onInit=u}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsMaintenanceService",["$http","workflowsCharacteristicsService",function(e,t){"use strict";function a(t){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/characteristics").then(function(e){return e.data})}function i(t){return e.post("api/configuration/rules/workflows",t)}function n(t,a){return e.put("api/configuration/rules/workflows/"+encodeURIComponent(t),a)}function o(e,t,a){if(p.isCharacteristicField(e))return d(t,a,"key")}function r(t){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/parent").then(function(e){return e.data})}function s(t){return e.get("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/descendants").then(function(e){return e.data})}function l(t,a,i){return e.put("api/configuration/rules/workflows/"+encodeURIComponent(t)+"/reset?applyToDescendants="+encodeURIComponent(a)+(null!=i?"&updateRespNameOnCases="+encodeURIComponent(i):"")).then(function(e){return e.data})}function c(e){var t=_.extend({},e);_.each(p.characteristicFields,function(a){e[a]&&e[a].key?t[a]=e[a].key:t[a]=null});var a=["caseCategory","propertyType","caseType","action","subType","basis","jurisdiction","dateOfLaw"];return _.each(a,function(a){e[a]&&e[a].code?t[a]=e[a].code:t[a]=null}),t}function d(e,t,a){return e=null==e||null==e[a]?null:e,t=null==t||null==t[a]?null:t,e===t||(null==e?null==t:null==t?null==e:e[a]===t[a])}var p=t,u=[{value:!0,label:"workflows.common.localOrForeignDropdown.localClients"},{value:!1,label:"workflows.common.localOrForeignDropdown.foreignClients"}];return{create:i,save:n,getCharacteristics:a,picklistEquals:o,createSaveRequestDataForCharacteristics:c,appliesToOptions:u,getParent:r,getDescendants:s,resetWorkflow:l}}]),angular.module("inprotech.configuration.rules.workflows").factory("characteristicsBuilder",function(){"use strict";function e(e,t,a){return e[t]&&e[t][a]}return{build:function(t){return{caseType:e(t,"caseType","code"),jurisdiction:e(t,"jurisdiction","code"),propertyType:e(t,"propertyType","code"),action:e(t,"action","code"),dateOfLaw:e(t,"dateOfLaw","code"),caseCategory:e(t,"caseCategory","code"),subType:e(t,"subType","code"),basis:e(t,"basis","code"),office:e(t,"office","key"),applyTo:t.applyTo,matchType:t.matchType,includeProtectedCriteria:t.includeProtectedCriteria,includeCriteriaNotInUse:t.includeCriteriaNotInUse,event:e(t,"event","key"),eventSearchType:t.eventSearchType,examinationType:e(t,"examinationType","key"),renewalType:e(t,"renewalType","key")}}}}),angular.module("inprotech.configuration.rules.workflows").factory("characteristicsValidator",["$http","utils",function(e,t){"use strict";var a=t.cancellable(),i=_.debounce(function(t,i){return a.cancel(),e.get("api/configuration/rules/characteristics/validateCharacteristics",{params:{criteria:JSON.stringify(t),purposeCode:"E"},timeout:a.promise}).then(function(e){return i(e.data)})},100);return{validate:i}}]),angular.module("inprotech.configuration.rules.workflows").controller("ipSearchByCaseController",["$scope","workflowsSearchService","workflowsCharacteristicsService",function(e,t,a){"use strict";function i(){l=a,l.initController(c,"case",{applyTo:null,matchType:"best-criteria-only"}),c.selectCase=n,c.handleActionSelected=r}function n(){var e=c.formData["case"];e&&e.key&&t.getCaseCharacteristics(e.key).then(function(e){o(e),r()})}function o(e){s(),angular.extend(c.formData,e)}function r(){var e=c.formData.action;e&&e.code&&c.formData["case"]&&t.getDefaultDateOfLaw(c.formData["case"].key,e.code).then(function(e){c.formData.dateOfLaw={key:e.key,value:e.value}})}function s(){_.each(l.characteristicFields,function(e){"action"!==e&&c.form[e]&&c.form[e].$reset()})}var l,c=this;c.$onInit=i}]).directive("ipSearchByCase",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/search/search-by-case.html",scope:{},controller:"ipSearchByCaseController",controllerAs:"vm",link:function(e,t){t.on("keydown","input",function(e){if(9===e.which&&!e.shiftKey&&"case-picklist-input"===$(e.target).attr("id"))return $("#action-picklist-input").focus(),e.preventDefault(),!1}),e.$on("$destroy",function(){t.off("keydown")})}}}),angular.module("inprotech.configuration.rules.workflows").controller("ipSearchByCharacteristicsController",["workflowsCharacteristicsService",function(e){"use strict";function t(){e.initController(a,"characteristics",{applyTo:null,matchType:"exact-match"}),a.hasAutofocusOnOffice=a.hasOffices,a.hasAutofocusOnCaseType=!a.hasOffices}var a=this;a.$onInit=t}]).directive("ipSearchByCharacteristics",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/search/search-by-characteristics.html",scope:{},controller:"ipSearchByCharacteristicsController",controllerAs:"vm"}}),angular.module("inprotech.configuration.rules.workflows").controller("ipSearchByCriteriaController",["workflowsCharacteristicsService",function(e){"use strict";function t(){var t=e;t.initController(a,"criteria",[])}var a=this;a.$onInit=t}]).directive("ipSearchByCriteria",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/search/search-by-criteria.html",scope:{},controller:"ipSearchByCriteriaController",controllerAs:"vm"}}),angular.module("inprotech.configuration.rules.workflows").controller("ipSearchByEventController",["workflowsCharacteristicsService",function(e){"use strict";function t(){var t=e;t.initController(a,"event",{applyTo:null,matchType:"exact-match"})}var a=this;a.$onInit=t}]).directive("ipSearchByEvent",function(){"use strict";return{restrict:"E",templateUrl:"condor/configuration/rules/workflows/search/search-by-event.html",scope:{},controller:"ipSearchByEventController",controllerAs:"vm"}}),angular.module("inprotech.configuration.rules.workflows").controller("WorkflowsSearchController",["$scope","$state","$element","viewData","kendoGridBuilder","sharedService","workflowsSearchService","focusService","menuSelection","modalService","BulkMenuOperations","hotkeys",function(e,t,a,i,n,o,r,s,l,c,d,p){"use strict";function u(){O.searchBy="characteristics",O.validate=g,O.search=f,O.gridOptions=b(),O.reset=h,O.isSearchDisabled=v,O.optionChange=m,O.prepareToGoDetail=y,O.mounted={characteristics:!0},O.initializeShortcuts=T,E=new d("workflowSearch"),O.menu=D(),O.openCharacteristicModal=$,O.noResultsHint=S,o.reset(),o.hasOffices=i.hasOffices,o.includeProtectedCriteria=i.maintainWorkflowRulesProtected}function m(){O.mounted[O.searchBy]=!0,o[O.searchBy]&&o[O.searchBy].onEnter(),s.autofocus(a,100)}function v(){return!o[O.searchBy]||o[O.searchBy].isSearchDisabled()}function g(){return!o[O.searchBy]||o[O.searchBy].validate()}function f(){O.gridOptions.search().then(function(){O.menu.clearAll(),0===O.gridOptions.data().length&&o[O.searchBy]&&("best-criteria-only"===o[O.searchBy].selectedMatchType()||"best-match"===o[O.searchBy].selectedMatchType()?O.noResultsHint="workflows.search.noResultsHintBestCriteriaAndMatch":O.noResultsHint="noResultsFound")})}function h(){o[O.searchBy].reset(),O.gridOptions.clear(),O.menu.clearAll()}function y(){o.selectedEventInDetail=o.lastSearch.args[0].event,o.activeTopicKey=null}function b(){return n.buildOptions(e,{id:"searchResults",pageable:!0,scrollable:!0,navigatable:!0,selectable:"row",selectOnNavigate:!0,onSelect:function(){var e=O.gridOptions.selectFocusedRow();O.prepareToGoDetail(),t.go("workflows.details",{id:e.id})},read:function(e){return t.current&&"workflows.details"===t.current.name&&o[O.searchBy]&&o[O.searchBy].onEnter(),o[O.searchBy].search(e).then(function(t){var a=e.take;if(t.pagination.total<=a){var i=_.pluck(t.data,"id");o.lastSearch&&o.lastSearch.setAllIds(i)}return t})},onDataCreated:function(){E.selectionChange(O.gridOptions.data())},readFilterMetadata:function(e){return r.getColumnFilterData(e,this.getFiltersExcept(e))},columns:[{headerTemplate:'<bulk-actions-menu data-context="workflowSearch" data-actions="vm.menu.items" is-full-selection-possible="false" data-on-select-this-page="vm.menu.selectPage(val)" data-on-clear="vm.menu.clearAll()" data-initialised="vm.menuInitialised()">',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)">',width:"35px",fixed:!0,locked:!0,headerAttributes:{"class":"shorter"}},{locked:!0,fixed:!0,sortable:!1,field:"isInherited",width:"28px",template:function(e){return C(e)}},{locked:!0,fixed:!0,sortable:!1,field:"isProtected",width:"28px",template:function(e){return k(e.isProtected)}},{locked:!0,fixed:!0,title:"Criteria No.",field:"id",width:"110px",template:function(){return'<a ui-sref="workflows.details({id: dataItem.id})" ng-click="vm.prepareToGoDetail(dataItem.id)">{{dataItem.id}}</a>'}},{title:"Criteria Name",field:"criteriaName",width:"200px",template:function(){return'<a ui-sref="workflows.details({id: dataItem.id})" ng-click="vm.prepareToGoDetail(dataItem.id)">{{dataItem.criteriaName}}</a>'}},{title:"Office",field:"office",width:"120px",hidden:!i.hasOffices,template:function(){return"<span>{{dataItem.office.description || ''}}</span>"}},{title:"Case Type",field:"caseType",width:"200px",template:function(){return"<span>{{dataItem.caseType.description || ''}}</span>"}},{title:"Jurisdiction",field:"jurisdiction",width:"150px",filterable:!0,template:function(){return"<span>{{dataItem.jurisdiction.description || ''}}</span>"}},{title:"propertyType",field:"propertyType",width:"150px",template:function(){return"<span>{{dataItem.propertyType.description || ''}}</span>"}},{title:"Action",field:"action",width:"200px",filterable:!0,template:function(){return"<span>{{dataItem.action.description || ''}}</span>"}},{title:"Case Category",field:"caseCategory",width:"200px",template:function(){return"<span>{{dataItem.caseCategory.description || ''}}</span>"}},{title:"Sub Type",field:"subType",width:"200px",template:function(){return"<span>{{dataItem.subType.description || ''}}</span>"}},{title:"Basis",field:"basis",width:"200px",template:function(){return"<span>{{dataItem.basis.description || ''}}</span>"}},{title:"Date of Law",field:"dateOfLaw",width:"120px",template:'<span ng-bind="::dataItem.dateOfLaw | localeDate"></span>'},{title:"Local Client",field:"isLocalClient",width:"110px",template:function(e){return w(e.isLocalClient)}},{title:"Examination Type",field:"examinationTypeDescription",width:"200px"},{title:"Renewal Type",field:"renewalTypeDescription",width:"200px"},{title:"In Use",field:"inUse",width:"100px",template:function(e){return w(e.inUse)}}]})}function w(e){return"<input "+(e===!0?"checked":"")+' type="checkbox" disabled="true" />'}function k(e){return e?'<icon ip-tooltip="{{::\'Protected\' | translate}}" class="text-blue-secondary" name="protected"></icon>':""}function C(e){return e.isInherited?'<a class="no-underline" ui-sref="workflows.inheritance({criteriaIds: dataItem.id})"><ip-inheritance-icon></ip-inheritance-icon></a>':e.isHighestParent?'<a class="btn-no-bg" button-icon="inheritance" ip-tooltip="{{::\'HighestParent\' | translate }}"  ui-sref="workflows.inheritance({criteriaIds: dataItem.id})"><span class="cpa-icon cpa-icon-grey cpa-icon-inheritance" name="inheritance"></span></a>':""}function D(){return{context:"workflowSearch",items:[{id:"viewInheritance",text:"workflows.search.viewInheritance",icon:"inheritance",enabled:I,click:x}],clearAll:function(){E.clearAll(O.gridOptions.data())},selectPage:function(e){E.selectPage(O.gridOptions.data(),e)},selectionChange:function(e){E.singleSelectionChange(O.gridOptions.data(),e)}}}function x(){var e=_.pluck(E.selectedRecords(),"id");t.go("workflows.inheritance",{criteriaIds:e.join(",")})}function S(){return!o[O.searchBy]||"best-criteria-only"!==o[O.searchBy].selectedMatchType()&&"best-match"!==o[O.searchBy].selectedMatchType()?"noResultsFound":"workflows.search.noResultsHintBestCriteriaAndMatch"}function I(){return E.anySelected(O.gridOptions.data())}function T(){p.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){O.openCharacteristicModal()}})}function $(){c.open("CreateCharacteristics",e,{viewData:{maintainWorkflowRulesProtected:i.maintainWorkflowRulesProtected,hasOffices:i.hasOffices,canCreateNegativeWorkflowRules:i.canCreateNegativeWorkflowRules,selectedCharacteristics:o[O.searchBy].characteristicsSelected()}}).then(function(){m()})}var E,O=this;O.$onInit=u,O.menuInitialised=function(){E.initialiseMenuForPaging(O.gridOptions.pageable.pageSize)}}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsSearchService",["$http","characteristicsBuilder","sharedService","LastSearch","store","$q",function(e,t,a,i,n,o){"use strict";function r(a,i){var n=t.build(a);return e.get("api/configuration/rules/workflows/search",{params:{criteria:JSON.stringify(n),params:JSON.stringify(i)}}).then(function(e){return e.data})}function s(t,a){var i=_.pluck(t,"id");return e.get("api/configuration/rules/workflows/searchByIds",{params:{q:JSON.stringify(i),params:JSON.stringify(a)}}).then(function(e){return e.data})}return{search:function(e,t){return a.lastSearch=new i({method:r,methodName:"search",args:arguments}),n.local.set("lastSearch",arguments),r(e,t)},searchByIds:function(e,t){return a.lastSearch=new i({method:s,methodName:"searchByIds",args:arguments}),n.local.set("lastSearch",arguments),s(e,t)},getColumnFilterData:function(i,n){if(!a.lastSearch){var r=o.defer();return r.resolve([]),r.promise}switch(a.lastSearch.methodName){case"search":var s=t.build(a.lastSearch.args[0]);return e.get("api/configuration/rules/workflows/filterdata/"+i.field,{params:{criteria:JSON.stringify(s),columnFilters:JSON.stringify(n)}}).then(function(e){return e.data});case"searchByIds":var l=_.pluck(a.lastSearch.args[0],"id");return e.get("api/configuration/rules/workflows/filterdatabyids/"+i.field,{params:{q:JSON.stringify(l),columnFilters:JSON.stringify(n)}}).then(function(e){return e.data})}},getCaseCharacteristics:function(t){return e.get("api/configuration/rules/characteristics/caseCharacteristics/"+encodeURIComponent(t)+"?purposeCode=E").then(function(e){return e.data})},getDefaultDateOfLaw:function(t,a){return e.get("api/configuration/rules/workflows/defaultDateOfLaw",{params:{caseId:t,actionId:a}}).then(function(e){return e.data})}}}]),angular.module("inprotech.configuration.rules.workflows").factory("sharedService",function(){"use strict";var e={search:angular.noop,isSearchDisabled:angular.noop,hasOffices:!1,lastSearch:null,characteristics:null,criteria:null,"case":null,event:null,selectedEventInDetail:null,includeProtectedCriteria:!1};return angular.extend({},e,{reset:function(){angular.extend(this,e)}})}),angular.module("inprotech.configuration.rules.workflows").component("ipDefaultJurisdiction",{templateUrl:"condor/configuration/rules/workflows/search/valid-default-jurisdiction.html",bindings:{results:"<"},controllerAs:"vm",controller:function(){
"use strict";function e(){t.isDefaultJurisdiction=function(){return _.all(t.results,function(e){return e.isDefaultJurisdiction&&e.isDefaultJurisdiction===!0})}}var t=this;t.$onInit=e}}),angular.module("inprotech.configuration.rules.workflows").factory("workflowStatusService",["$http","validCombinationService",function(e,t){"use strict";function a(e){return d(e),{caseStatusQuery:o,renewalStatusQuery:r,validStatusQuery:i,validCombination:p(e),allCaseStatusQuery:s,allRenewalStatusQuery:l,allValidStatusQuery:n,isStatusValid:u,addValidStatus:m}}function i(e){return angular.extend({},e,v)}function n(e){return angular.extend({},e,{})}function o(e){return angular.extend({},e,g,v)}function r(e){var t=angular.extend({},e,f,v);return t}function s(e){return angular.extend({},e,g,{})}function l(e){return angular.extend({},e,f,{})}function c(e){return null==e?null:e.key}function d(e){v={caseType:c(e.caseType),jurisdiction:c(e.jurisdiction),propertyType:c(e.propertyType)}}function p(e){var t={combination:function(){return _.without(_.pluck(e,"value"),void 0)}};return 3===t.combination().length?t:null}function u(t,a){return e.get("api/picklists/status/isvalid/"+encodeURIComponent(t),{params:angular.extend({},v,{isRenewal:a})}).then(function(e){return e.data.result})}function m(e,a,i){t.add({Status:e,CaseType:{Code:c(a.caseType),Key:c(a.caseType)},Jurisdictions:[{Code:i?"ZZZ":c(a.jurisdiction),Key:i?"ZZZ":c(a.jurisdiction)}],PropertyType:{Code:c(a.propertyType),Key:c(a.propertyType)}},{type:"status"})}var v={},g={isRenewal:!1},f={isRenewal:!0};return a}]),angular.module("inprotech.configuration.rules.workflows").factory("workflowsCharacteristicsService",["$q","characteristicsBuilder","characteristicsValidator","sharedService","workflowsSearchService","selectedCaseType","caseValidCombinationService",function(e,t,a,i,n,o,r){"use strict";function s(e,i){var n=t.build(e);a.validate(n,function(e){l(e,i)})}function l(e,t){_.each(e,function(e,a){c(a)&&t[a]&&(e.isValid?(t[a].$setValidity("invalidcombination",null),e.value&&t[a].$setText(e.value)):t[a].$setValidity("invalidcombination",!!t[a].$$attr.disabled&&null))})}function c(e){return _.contains(m,e)}function d(t,a,l){t.formData=l,t.formData.includeProtectedCriteria=i.includeProtectedCriteria,t.validate=function(){o.set(t.formData.caseType),s(t.formData,t.form)},t.vcService=r,t.vcService.initFormData(t.formData),t.picklistValidCombination=t.vcService.validCombinationDescriptionsMap,t.extendPicklistQuery=t.vcService.extendValidCombinationPickList,t.isDateOfLawDisabled=t.vcService.isDateOfLawDisabled,t.isCaseCategoryDisabled=t.vcService.isCaseCategoryDisabled,t.appliesToOptions=[{value:"local-clients",label:"workflows.common.localOrForeignDropdown.localClients"},{value:"foreign-clients",label:"workflows.common.localOrForeignDropdown.foreignClients"}],t.hasOffices=i.hasOffices,t.showExaminationType=function(){return p(t.formData)},t.showRenewalType=function(){return u(t.formData)},i[a]={defaultFormData:angular.copy(l),onEnter:function(){t.vcService.initFormData(t.formData)},validate:function(){t.form.$validate()},search:function(i){return t.form.$validate(),t.form.$invalid?e.reject():"criteria"===a?n.searchByIds(t.formData,i):n.search(t.formData,i)},reset:function(){t.formData=angular.copy(this.defaultFormData),t.vcService.initFormData(t.formData)},isSearchDisabled:function(){return t.form.$loading||t.form.$invalid},characteristicsSelected:function(){var e={isLocalClient:t.formData.applyTo?"local-clients"===t.formData.applyTo:null};return _.extend(e,_.pick(t.formData,function(e,a){return c(a)&&!!t.form[a]&&t.form[a].$valid}))},selectedMatchType:function(){return t.formData.matchType}}}function p(e){return!(!e.action||"examination"!==e.action.actionType)||(e.examinationType=null,!1)}function u(e){return!(!e.action||"renewal"!==e.action.actionType)||(e.renewalType=null,!1)}var m=["action","basis","caseCategory","caseType","dateOfLaw","jurisdiction","office","propertyType","subType","examinationType","renewalType"];return{validate:s,setValidation:l,characteristicFields:m,isCharacteristicField:c,initController:d,showExaminationType:p,showRenewalType:u}}]),function(){"use strict";angular.module("inprotech.configuration.system.mui",["inprotech.configuration","inprotech.components"]),angular.module("inprotech.configuration.system.mui").config(["$stateProvider",function(e){e.state("screenTranslations",{url:"/configuration/system/mui/screen-translations-utility",templateUrl:"condor/configuration/system/mui/screen-translations-utility.html",controller:"ScreenTranslationsController",controllerAs:"vm",resolve:{viewData:["$http",function(e){return e.get("api/configuration/system/mui/view").then(function(e){return e.data})}]},data:{pageTitle:"Screen Translations Utility"}})}])}(),angular.module("inprotech.configuration.system.mui").directive("ipEditableScreenLabel",function(){"use strict";return{restrict:"E",scope:{translation:"="},templateUrl:"condor/configuration/system/mui/directives/editable-screen-item.html",controller:["$scope",function(e){e.item=e.$parent.service.getOrAttach(e.translation)}]}}),angular.module("inprotech.configuration.system.mui").controller("ScreenTranslationsController",ScreenTranslationsController),angular.module("inprotech.configuration.system.mui").factory("ScreenTranslationsService",["$http","$q","ExtObjFactory",function(e,t,a){"use strict";function i(){this.state=n.createContext()}var n=(new a).useDefaults().use("observableArray");return i.prototype={search:function(t,a){return e.get("api/configuration/system/mui/search",{params:{q:JSON.stringify(t),params:JSON.stringify(a)}}).then(function(e){var t=e.data;return t.data=_.map(e.data.data,function(e){return angular.extend(e,{areaKey:"screenlabels.area."+(e.area||"common"),translation:e.translation||null})}),t})},getOrAttach:function(e){var t=this;return t.state.find(e.id)||t.state.attach(e)},save:function(t){var a=this,i=a.state.getDirtyItems(),n=i.map(function(e){return{key:e.id,value:e.translation}}),o={languageCode:t,translations:n};return e.put("api/configuration/system/mui",o).then(function(e){return a.state.save(),e.data})},isDirty:function(){return this.state.isDirty()},discard:function(){this.state.restore()},reset:function(){this.state=n.createContext()},find:function(e){return this.state.find(e)},hasError:function(){return this.state.hasError()},download:function(){window.location="api/configuration/system/mui/export"}},i}]),angular.module("cpa.ui.icon",[]).directive("icon",function(){return{replace:!0,restrict:"E",template:function(e,t){var a="cpa-icon cpa-icon-question-circle",i="",n="";angular.isDefined(t.name)&&(a=t.name.match(/^glyphicon-/)?"glyphicon "+t.name:"cpa-icon cpa-icon-"+t.name),angular.isDefined(t["class"])&&(i=" "+t["class"]),angular.isDefined(t.large)&&(n=" cpa-icon-lg");var o='<span class="'+a+n+i+'"></span>';return angular.isDefined(t.circle)&&(o='<span class="cpa-icon-stack'+n+'"><i class="fa cpa-icon-circle cpa-icon-stack-2x'+i+'"></i><i class="'+a+' cpa-icon-stack-1x cpa-icon-inverse"></i></span>'),angular.isDefined(t.square)&&(o='<span class="cpa-icon-stack'+n+'"><i class="fa cpa-icon-square cpa-icon-stack-2x'+i+'"></i><i class="'+a+' cpa-icon-stack-1x cpa-icon-inverse"></i></span>'),angular.isDefined(t.document)&&(o='<span class="cpa-icon-stack'+n+'"><i class="fa cpa-icon-file-o cpa-icon-stack-2x'+i+'"></i><i class="'+a+" cpa-icon-stack-1x"+i+'"></i></span>'),o}}}),function(){"use strict";angular.module("inprotech.dashboard",["inprotech.core"]),angular.module("inprotech.dashboard").config(["$stateProvider",function(e){window.INPRO_DEBUG&&e.state("dashboard",{url:"/dashboard",templateUrl:"condor/dashboard/dashboard.html",controller:"DashboardController",controllerAs:"vm",resolve:{appContext:"appContext"}})}])}(),angular.module("inprotech.dashboard").controller("DashboardController",["appContext","$window",function(e,t){"use strict";function a(){i.username=e.user.name,i.debug=t.INPRO_DEBUG,i.e2e=t.INPRO_INCLUDE_E2E_PAGES}var i=this;i.$onInit=a}]),angular.module("inprotech.downgrades",[]),window.test=function(){"use strict";function e(e){e.forEach(function(e){angular.module(e,[])}),angular.module("inprotech.mocks",e)}return e(["inprotech.mocks","inprotech.mocks.core","inprotech.mocks.configuration.general.sitecontrols","inprotech.mocks.configuration.general.standinginstructions","inprotech.mocks.components.kendo","inprotech.mocks.components.grid","inprotech.mocks.components.tree","inprotech.mocks.components.notification","inprotech.mocks.components.picklist","inprotech.mocks.configuration.rules.workflows","inprotech.mocks.configuration.general.nametypes","inprotech.mocks.configuration.general.texttypes","inprotech.mocks.configuration.general.numbertypes","inprotech.mocks.configuration.general.namerestrictions","inprotech.mocks.configuration.general.status","inprotech.mocks.configuration.validcombination","inprotech.mocks.configuration.general.jurisdictions","inprotech.mocks.components.barchart","inprotech.mocks.processing.exchange","inprotech.mocks.processing.policing","inprotech.mocks.configuration.general.importancelevel","inprotech.mocks.configuration.general.dataitem","inprotech.mocks.search","inprotech.mocks.configuration.general.dataitem","inprotech.mocks.search.cases","inprotech.mocks.configuration.general.names.locality","inprotech.mocks.configuration.general.events.eventnotetypes","inprotech.mocks.configuration.general.names.namealiastype","inprotech.mocks.configuration.search","inprotech.mocks.configuration.general.ede.datamapping","inprotech.mocks.configuration.general.names.namerelations","inprotech.mocks.portfolio.cases","inprotech.mocks.bulkcaseimport","inprotech.mocks.components.multistepsearch","inprotech.mocks.components.savedsearchpanel","inprotech.mocks.downgrades"]),{mock:function(e,t){t||(t=e+"Mock");var a,i=angular.injector(["inprotech.mocks"]);module(function(e){a=e});var n=_.isObject(t)?t:i.get(t);return a.value(e,n),n},getMock:function(e){var t=angular.injector(["inprotech.mocks"]);return t.get(e)},spyOnAll:function(e){return Object.keys(e).forEach(function(t){angular.isFunction(e[t])&&spyOn(e,t).and.callThrough()}),e}}}(),angular.module("inprotech.names",["inprotech.names.consolidation"]),angular.module("inprotech.names.consolidation",[]).config(["$stateProvider",function(e){e.state("namesConsolidation",{url:"/names/consolidation",templateUrl:"condor/names/consolidation/names-consolidation.html",controller:"NamesConsolidationController",controllerAs:"vm",data:{pageTitle:"namesConsolidation.pageTitle"}})}]),angular.module("inprotech.names.consolidation").run(["modalService",function(e){e.register("NamesConsolidationConfirmation","NamesConsolidationConfirmationController","condor/names/consolidation/names-consolidation-confirmation.html",{windowClass:"centered picklist-window",backdrop:"static",controllerAs:"vm",size:"lg"})}]),angular.module("inprotech.picklists",["inprotech.api.extensions","inprotech.components"]),angular.module("inprotech.picklists").run(["modalService",function(e){"use strict";e.register("ConfirmPropagateEventChanges","ConfirmPropagateEventChangesController","condor/picklists/events/confirm-propagatechanges.html",{windowClass:"centered",size:"lg",controllerAs:"vm"})}]),function(){"use strict";angular.module("inprotech.picklists").factory("actionsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/actions"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("actionsController",["$http","$scope","states","modalService",function(e,t,a,i){function n(){s.canEnterMaxCycles=!0,t.vm.maintenanceState===a.adding&&(t.vm.entry.cycles=1)}function o(e){var a=r(),n=_.first(a);i.openModal({launchSrc:"maintenance",id:"ActionOrder",dataItem:n,allItems:a,action:t.vm.entry.action,controllerAs:"ctrl"}).then(function(){e&&e(t.vm)})}function r(){var e=[];return _.each(t.vm.entry.jurisdictions,function(a){e.push({jurisdiction:a,propertyType:t.vm.entry.propertyType,caseType:t.vm.entry.caseType})}),e}var s=this;n(),t.vm.updateListItemFromMaintenance=function(e,t){e.key=t.key,e.code=t.code,e.value=t.value},t.vm.confirmAfterSave=function(e,i,n){!t.vm.isValidCombinationPicklist()||t.vm.maintenanceState!=a.adding&&t.vm.maintenanceState!=a.duplicating?n(t.vm,i):o(n)},e.get("api/picklists/actions/importancelevels").then(function(e){s.importanceLevels=e.data,t.vm.maintenanceState===a.adding&&(t.vm.entry.importanceLevel=s.importanceLevels[0].level)}),s.toggleMaxCycle=function(e){return e.entry.unlimitedCycles?(s.canEnterMaxCycles=!1,void(e.entry.cycles=9999)):void(s.canEnterMaxCycles=!0)},s.init=function(e,t){t&&e===a.adding&&(t.actionType="other")}}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("basisController",["$scope",function(e){e.vm.updateListItemFromMaintenance=function(e,t){t.basis?(e.key=t.basis.key,e.code=t.basis.code,e.value=t.validDescription,e.isDefaultJurisdiction="ZZZ"===t.jurisdictions[0].code):(e.code=t.code,e.value=t.value)}}]).factory("basisApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/basis"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("caseCategoriesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/caseCategories"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("caseCategoriesController",["states","selectedCaseType",function(e,t){var a=this;a.init=function(a,i){a===e.adding&&(i.caseTypeId=t.get().code,i.caseTypeDescription=t.get().value)}}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("caseFamiliesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/caseFamilies"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("caseListsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/caseLists"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("caseTypesController",["$scope",function(e){e.vm.updateListItemFromMaintenance=function(e,t){e.key=t.key,e.code=t.code,e.value=t.value,e.actualCaseType=t.actualCaseType}}]).factory("caseTypesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/casetypes"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("casesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/cases"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("checklistController",["$scope","states",function(e,t){var a=this;e.vm.updateListItemFromMaintenance=function(e,t){e.code=t.key,e.value=t.value,e.checklistType=t.checklistType},a.init=function(e,a){e===t.adding&&(a.checklistType="other")}}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("checklistApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/checklist"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("classItemsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/classItems"),{rerunSearch:!0,confirmDeleteCancel:"modal.confirmation.cancel",confirmDeleteContinue:"modal.confirmation.delete"})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("dataItemGroupApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/dataItemGroup"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("dataitemgroupController",["$http","$scope",function(e,t){t.vm.confirmAfterSave=function(e,a,i){"success"===e.$response.data.result?(a.rerunSearch=!0,i(t.vm,a)):i(t.vm,a)}}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("dataItemsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/dataItems"),{confirmDeleteMessage:"dataItem.confirmDelete"})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("datesOfLawApi",["restmod","mixinsForPicklists","$translate",function(e,t,a){return t(e.model("/datesoflaw"),{confirmDeleteMessage:a.instant("picklist.dateoflaw.confirmDelete1")+"</br>"+a.instant("picklist.dateoflaw.confirmDelete2")})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("datesOfLawController",["$scope",function(e){var t=this;t.saveWithoutValidate=e.vm.saveWithoutValidate,e.vm.hasInlineGrid=!0,e.vm.hasInlineGridError=angular.noop,e.vm.isInlineGridDirty=angular.noop}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("eventCategoriesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/eventCategories"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("eventCategoriesController",["$scope",function(e){function t(){e.vm.maintenance.$setDirty()}var a=this;e.vm.updateListItemFromMaintenance=function(e,t){e.name=t.name,e.description=t.description,e.imageDescription=t.imageData.description,e.image=t.imageData.image},a.eventCategoryImages={extendQuery:function(e){var t=angular.extend({},e,{isUsedByEventCategory:!0});return t}};var i=e.$watch("vm.entry",function(a){a&&"duplicating"===e.vm.maintenanceState&&(a.name+=" - Copy",t()),i()})}])}(),angular.module("inprotech.picklists").controller("ConfirmPropagateEventChangesController",["$scope","$uibModalInstance","viewData",function(e,t,a){"use strict";function i(){t.close(o.propagateChanges)}function n(){t.dismiss("Cancel")}var o=this;o.proceed=i,o.cancel=n,o.propagateChanges=!1,o.updatedFields=a.updatedFields}]),function(){"use strict";angular.module("inprotech.picklists").factory("eventsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/events"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("eventsController",["$http","$scope","ExtObjFactory","modalService",function(e,t,a,i){function n(){r.isEventNumberVisible="adding"!==t.vm.maintenanceState&&"duplicating"!==t.vm.maintenanceState,"adding"===t.vm.maintenanceState&&(r.isEventNumberVisible=!1,t.vm.entry.internalImportance=r.supportData.defaultImportanceLevel,t.vm.entry.clientImportance=r.supportData.defaultImportanceLevel,t.vm.entry.maxCycles=r.supportData.defaultMaxCycles,t.vm.entry.description="",t.vm.entry.code="",t.vm.entry.unlimitedCycles=!1,t.vm.entry.notes="",t.vm.entry.category=null,t.vm.entry.group="",t.vm.entry.controllingAction=null,t.vm.entry.draftCaseEvent=null,t.vm.entry.isAccountingEvent=!1,t.vm.entry.recalcEventDate=!1,t.vm.entry.allowPoliceImmediate=!1,t.vm.entry.suppressCalculation=!1,t.vm.entry.notesGroup="",t.vm.entry.notesSharedAcrossCycles=!1,t.vm.entry.propagateChanges=!1,t.vm.entry.hasUpdatableCriteria=!1,r.isReady=!0,r.formData=c.attach(t.vm.entry,"key"),t.vm.searchValue&&(r.formData.description=t.vm.searchValue,o()))}function o(){t.vm.maintenance.$setDirty()}var r=this,s=!1,l=(new a).useDefaults(),c=l.createContext();r.canEnterMaxCycles=!0,r.isEventNumberVisible=!0,r.isReady=!1,r.isReadOnly="adding"!==t.vm.maintenanceState&&"updating"!==t.vm.maintenanceState&&"duplicating"!==t.vm.maintenanceState,r.hasPropagatableChanges=!1,r.onBeforeSave=function(){if(r.hasPropagatableChanges){var e=_.filter([{id:"description",updated:r.formData.isDirty("description")&&t.vm.entry.isDescriptionUpdatable===!0},{id:"internalImportance",updated:r.formData.isDirty("internalImportance")},{id:"maxCycles",updated:r.formData.isDirty("maxCycles")},{id:"suppressDueDateCalc",updated:r.formData.isDirty("suppressCalculation")},{id:"allowDateRecalc",updated:r.formData.isDirty("recalcEventDate")}],function(e){return e.updated});i.open("ConfirmPropagateEventChanges",null,{viewData:{updatedFields:e}}).then(function(a){t.vm.entry.propagateChanges=a,t.vm.entry.updatedFields=e,t.vm.saveWithoutValidate()})}else t.vm.saveWithoutValidate()},t.vm.updateListItemFromMaintenance=function(e,t){e.code=t.code,e.value=t.description,e.maxCycles=t.maxCycles,e.importance=_.find(r.supportData.importanceLevels,{id:t.internalImportance}).name},t.vm.onAfterSave=function(){r.formData.save()};var d=t.$watch("vm.entry",function(e){e&&(r.formData=c.attach(t.vm.entry,"key"),"duplicating"===t.vm.maintenanceState&&(r.formData.description+=" - Copy",o()),t.$watch(function(){return r.formData.isDirty("description")&&t.vm.entry.isDescriptionUpdatable===!0||r.formData.isDirty("internalImportance")||r.formData.isDirty("maxCycles")||r.formData.isDirty("suppressCalculation")||r.formData.isDirty("recalcEventDate")},function(e,t){e!=t&&(r.hasPropagatableChanges=e)}),r.isReady=!0,"updating"===t.vm.maintenanceState&&(t.vm.entry.hasUpdatableCriteria===!0?t.vm.onBeforeSave=r.onBeforeSave:t.vm.onBeforeSave=null),d())});e.get("api/picklists/events/supportdata").then(function(e){r.supportData=e.data,n()}),r.setClientImportance=function(){!s&&r.formData.clientImportance&&(s=!0),s&&r.formData.clientImportance||(r.formData.clientImportance=r.formData.internalImportance)},r.toggleMaxCycle=function(e){return e.target.checked?(r.canEnterMaxCycles=!1,void(r.formData.maxCycles=9999)):void(r.canEnterMaxCycles=!0)}}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("instructionTypesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/instructionTypes"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("instructionTypesController",["$http","$scope",function(e,t){var a=this;t.vm.updateListItemFromMaintenance=function(e,t){var i=t.recordedAgainstId?_.find(a.nameTypes,function(e){return e.key==t.recordedAgainstId}).value:null,n=t.restrictedById?_.find(a.nameTypes,function(e){return e.key==t.restrictedById}).value:null;e.code=t.code,e.value=t.value,e.recordedAgainst=i,e.recordedAgainstId=t.recordedAgainstId,e.restrictedBy=n,e.restrictedById=t.restrictedById},e.get("api/picklists/instructionTypes/nameTypes").then(function(e){a.nameTypes=e.data})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("instructionsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/instructions"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("instructionsController",["$http","states","selectedInstructionType",function(e,t,a){var i=this;i.init=function(e,i){e===t.adding&&(i.typeId=a.get())},e.get("api/picklists/instructions/instructionTypes").then(function(e){i.instructionTypes=e.data})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("jurisdictionsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/jurisdictions"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("keywordsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/keywords"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("nametypegroupApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/nameTypeGroup"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("nametypegroupController",["$http","$scope",function(e,t){t.vm.confirmAfterSave=function(e,a,i){"success"===e.$response.data.result?(a.rerunSearch=!0,i(t.vm,a)):i(t.vm,a)}}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("officesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/offices"),{})}])}(),angular.module("inprotech.picklists").factory("mixinsForPicklists",["$http",function(e){"use strict";function t(t){var i=this.$url()+"/meta",n=a[i];return n?void t(angular.copy(n)):void e.get(i).then(function(e){n=a[i]=e.data,t(angular.copy(n))})}var a={};return function(e,a){return e.mix(["DefaultPacker","DuplicateModel","ValidationModel","dirtyCheck","ignoreAttributes"],_.extend(a,{$extend:{Model:{init:t},"Record.withParams":function(e){var t={"before-request":function(t){t.params=e}},a=this;return{$destroy:function(){return a.$decorate(t,function(){return this.$destroy()})}}}},$config:{name:"data",plural:"data",jsonMeta:".",urlPrefix:"api/picklists"}}))}}]),function(){"use strict";angular.module("inprotech.picklists").controller("propertyTypesController",["$scope","$translate",function(e,t){e.vm.updateListItemFromMaintenance=function(e,t){e.key=t.key,e.code=t.code,e.value=t.value,e.allowSubClass=t.allowSubClass,e.crmOnly=t.crmOnly,e.image=t.imageData?t.imageData.key:null};var a=this;a.propertyTypeImages={extendQuery:function(e){var t=angular.extend({},e,{isUsedByPropertyTypes:!0});return t}},a.subClassType=[{key:"0",value:t.instant("picklist.propertytype.doNotAllowSubClass")},{key:"1",value:t.instant("picklist.propertytype.allowSubClass")},{key:"2",value:t.instant("picklist.propertytype.allowSubClassAndItems")}],e.vm.entry&&(e.vm.entry.allowSubClass=e.vm.entry.allowSubClass?e.vm.entry.allowSubClass.toString():"0")}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("propertyTypesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/propertyTypes"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("relationshipController",["$scope",function(e){function t(e,t,a){"fromEvent"===t?e.toEvent||(e.toEvent=e.fromEvent):e.fromEvent||(e.fromEvent=e.toEvent),i(a)}function a(e){"adding"===e.maintenanceState&&(e.entry.showFlag=1)}function i(e){e.fromEvent.$fieldError&&(e.fromEvent.$setValidity("fieldError",null),e.fromEvent.$fieldError=null),e.toEvent.$fieldError&&(e.toEvent.$setValidity("fieldError",null),e.toEvent.$fieldError=null)}var n=this;n.onEventChange=t,n.init=a,e.vm.updateListItemFromMaintenance=function(e,t){e.code=t.code,e.value=t.value,e.fromEvent=t.fromEvent,e.toEvent=t.toEvent,e.displayEvent=t.displayEvent,e.notes=t.notes,e.earliestDateFlag=t.earliestDateFlag,e.pointsToParent=t.pointsToParent,e.showFlag=t.showFlag,e.priorArtFlag=t.priorArtFlag}}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("relationshipsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/relationship"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("statusesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/status"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("subTypesController",["$scope",function(e){e.vm.updateListItemFromMaintenance=function(e,t){t.subtype?(e.key=t.subtype.key,e.code=t.subtype.code,e.value=t.validDescription,e.isDefaultJurisdiction="ZZZ"===t.jurisdictions[0].code):(e.code=t.code,e.value=t.value)}}]).factory("subTypesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/subtypes"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("tableCodesController",["$scope",function(e){e.vm.updateListItemFromMaintenance=function(e,t){e.code=t.code,e.value=t.value}}]).factory("tablecodesApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/tablecodes"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").factory("tagsApi",["restmod","mixinsForPicklists",function(e,t){return t(e.model("/tags"),{})}])}(),function(){"use strict";angular.module("inprotech.picklists").controller("tagsController",["$http","$scope","notificationService","$translate",function(e,t,a,i){t.vm.updateListItemFromMaintenance=function(e,t){e.tagName=t.tagName},t.vm.confirmAfterSave=function(n,o,r){"confirmation"===n.$response.data.result?a.confirm({message:i.instant("picklist.tags.TagsConfirmation.update",{tagName:n.tagName}),cancel:"No","continue":"Replace"}).then(function(){e.put("api/picklists/tags/updateconfirm",n).then(function(){o.rerunSearch=!0,r(t.vm,o)})}):r(t.vm,o)}}])}(),angular.module("inprotech.processing",["inprotech.processing.exchange","inprotech.processing.policing"]),function(){"use strict";angular.module("inprotech.processing.exchange",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.processing.exchange").config(["$stateProvider",function(e){e.state("exchangeRequests",{url:"/exchange-requests",templateUrl:"condor/processing/exchange/requests.html",controller:"ExchangeRequestsController",controllerAs:"vm",data:{pageTitle:"Exchange Integration"}}).state("exchangeSettings",{url:"/exchange-configuration",templateUrl:"condor/processing/exchange/configuration/view.html",controller:"ExchangeConfigurationController",controllerAs:"vm",data:{pageTitle:"Configuration"},resolve:{viewData:["$http",function(e){return e.get("api/exchange/configuration/view").then(function(e){return e.data})}]}})}])}(),angular.module("inprotech.processing.exchange").factory("exchangeSettingsService",["$http",function(e){"use strict";var t="api/exchange/configuration/",a={get:function(){return e.get(t+"view").then(function(e){return e.data})},save:function(a){return e.post(t+"save",a)},checkStatus:function(a){return e.get(t+"status",a)}};return a}]),angular.module("inprotech.processing.exchange").controller("ExchangeConfigurationController",["$scope","viewData","ExtObjFactory","exchangeSettingsService","notificationService","$translate","$state",function(e,t,a,i,n,o,r){"use strict";function s(){v=(new a).useDefaults(),g=v.createContext(),f.form={},f.formData={},f.passwordExists=t.passwordExists,f.clientSecretExists=t.clientSecretExists,f.statusCheckInProgress=!1,f.hasValidSettings=t.hasValidSettings,l()}function l(){f.defaultRedirectUri=(t.defaultSiteUrls||[]).map(function(e){return e+"/api/graph/auth/redirect"}).join("\r\n");var e=t.settings;e.tenantId=e.exchangeGraph.tenantId,e.clientId=e.exchangeGraph.clientId,e.clientSecret=e.exchangeGraph.clientSecret,f.formData=g.attach(e)}function c(){return"Graph"===f.formData.serviceType?f.form.tenantId.$valid&&f.form.clientId.$valid&&d():f.form.userName.$valid&&f.form.server.$valid&&p()}function d(){return(!f.clientSecretExists||f.formData.isDirty("clientSecret"))&&!_.isEmpty(f.formData.clientSecret)||f.clientSecretExists&&!f.formData.isDirty("clientSecret")}function p(){return(!f.passwordExists||f.formData.isDirty("password"))&&!_.isEmpty(f.formData.password)||f.passwordExists&&!f.formData.isDirty("password")}function u(){f.isConnectionOk=!1,f.isConnectionFail=!1}function m(e){f.isConnectionOk=e,f.isConnectionFail=!e}var v,g,f=this;f.$onInit=s,f.save=function(){if(c()){var e=f.formData.getRaw();return"Graph"===e.serviceType&&(e.exchangeGraph={tenantId:e.tenantId,clientId:e.clientId,clientSecret:e.clientSecret}),i.save(e).then(function(e){"success"===e.data.result.status&&(g.save(),n.success(),u(),r.reload(r.current.name))})}},f.discard=function(){g.restore()},f.isSaveEnabled=function(){return!(!g.isDirty()||!c())},f.isDiscardEnabled=function(){return g.isDirty()&&c()},f.passwordPlaceholder=function(){var e=o.instant("exchangeIntegration.settings.administrator-details.password.placeholder");return f.passwordExists?f.formData.isDirty("password")&&f.form.password.$invalid?e:"************":e},f.clientSecretPlaceholder=function(){var e=o.instant("exchangeIntegration.settings.exchangeGraph.clientSecretPlaceholder");return f.clientSecretExists?f.formData.isDirty("clientSecret")&&f.form.clientSecret.$invalid?e:"************":e},f.checkStatus=function(){f.statusCheckInProgress=!0,u();var e=f.formData.getRaw();return i.checkStatus(e).then(function(e){m(e.data.result),f.statusCheckInProgress=!1})},f.canCheckStatus=function(){return f.hasValidSettings&&!f.statusCheckInProgress&&!g.isDirty()}}]),angular.module("inprotech.processing.exchange").controller("ExchangeRequestsController",["$scope","$state","$translate","kendoGridBuilder","exchangeQueueService","notificationService","BulkMenuOperations","localSettings",function(e,t,a,i,n,o,r,s){"use strict";function l(){return i.buildOptions(e,{id:"exchangeRequestList",selectable:"row",pageable:{pageSize:s.Keys.exchangeIntegration.exchangeIntegrationQueue.pageNumber.getLocal,pageSizes:[50,100,200]},onPageSizeChanged:function(e){s.Keys.exchangeIntegration.exchangeIntegrationQueue.pageNumber.setLocal(e)},autoBind:!0,read:function(e){return n.get(e).then(function(e){return e})},onDataCreated:function(){g.selectionChange(v.gridOptions.data());
},columns:[{headerTemplate:'<div data-bulk-actions-menu data-context="exchangeRequestListMenu" data-actions="vm.menu.items" data-on-clear="vm.menu.clearAll()" data-on-select-all="vm.menu.selectAll(val)" data-items="vm.gridOptions.data()"></div>',template:'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.menu.selectionChange(dataItem)" ng-disabled={{::(dataItem.statusId===1)}}></ip-checkbox>',width:"35px",fixed:!0},{title:"exchangeIntegration.queue.columns.requestDate",field:"requestDate",template:'<span><ip-date-time model="::dataItem.requestDate"></ip-date-time></span>',width:"12%"},{title:"exchangeIntegration.queue.columns.typeOfRequest",field:"typeOfRequest",width:"8%",oneTimeBinding:!0},{title:"exchangeIntegration.queue.columns.staff",field:"staff",width:"10%",oneTimeBinding:!0},{title:"exchangeIntegration.queue.columns.reference",field:"reference",width:"10%",oneTimeBinding:!0},{title:"exchangeIntegration.queue.columns.eventDescription",field:"eventDescription",oneTimeBinding:!0,template:function(e){return 4===e.requestTypeId&&e.eventDescription?e.eventDescription:e.eventId?e.eventDescription+" {"+e.eventId+"}":""}},{title:"exchangeIntegration.queue.columns.mailbox",field:"mailbox",width:"10%",oneTimeBinding:!0},{title:"exchangeIntegration.queue.columns.recipientEmail",field:"recipientEmail",width:"10%",oneTimeBinding:!0},{title:"exchangeIntegration.queue.columns.status",field:"status",width:"10%",oneTimeBinding:!0,template:function(e){return 3===e.statusId?'<span class="text-blue">{{dataItem.status}} <i class="cpa-icon cpa-icon-exclamation-circle" aria-hidden="true" title="Obsolete"></i><span class="sr-only">Obsolete</span></span>':2===e.statusId?'<span class="text-red">{{dataItem.status}} <i class="cpa-icon cpa-icon-exclamation-circle" aria-hidden="true" title="Error"></i><span class="sr-only">Error</span></span>':1===e.statusId?'<span class="text-navy">{{ dataItem.status}} <i class="cpa-icon cpa-icon-clock-o" aria-hidden="true" title="Processing"></i><span class="sr-only">Processing</span></span>':e.status}},{title:"exchangeIntegration.queue.columns.failedMessage",field:"failedMessage",oneTimeBinding:!0}]})}function c(){return g.anySelected(v.gridOptions.data())}function d(){return{context:"exchangeRequestListMenu",items:[{id:"resetRequest",text:"exchangeIntegration.bulkMenu.reset",enabled:c,icon:"eraser",click:p},{id:"delete",enabled:c,click:u},{id:"selectObsolete",text:"exchangeIntegration.bulkMenu.selectObsolete",icon:"check",click:m}],clearAll:function(){g.clearAll(v.gridOptions.data())},selectAll:function(e){g.selectAll(_.filter(v.gridOptions.data(),function(e){return 1!=e.statusId}),e)},selectionChange:function(){g.selectionChange(v.gridOptions.data())}}}function p(){var e=_.pluck(_.where(v.gridOptions.data(),{selected:!0,statusId:2}),"id");n.reset(e).then(function(e){"success"===e.data.result.status&&(e.data.result.updated>0?(o.success(),t.reload()):o.alert({message:a.instant("exchangeIntegration.bulkMenu.reset-none")}))})}function u(){o.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){var e=_.pluck(_.where(v.gridOptions.data(),{selected:!0}),"id");n["delete"](e).then(function(e){"success"===e.data.result.status&&(o.success(),t.reload())})})}function m(){g.selectAll(_.filter(v.gridOptions.data(),function(e){return 3===e.statusId}),!0)}var v=this,g=new r("exchangeRequestListMenu");v.gridOptions=l(),v.menu=d()}]),angular.module("inprotech.processing.exchange").factory("exchangeQueueService",["$http",function(e){"use strict";var t="api/exchange/requests/",a={reset:function(a){return e.post(t+"reset",a)},get:function(a){return e.post(t+"view",JSON.stringify(a)).then(function(e){return e.data})},"delete":function(a){return e.post(t+"delete",a)}};return a}]),function(){"use strict";angular.module("inprotech.processing.policing",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.processing.policing").config(["$stateProvider",function(e){e.state("policingDashboard",{url:"/policing-dashboard?{rinterval:int}",templateUrl:"condor/processing/policing/dashboard/dashboard.html",controller:"PolicingDashboardController",controllerAs:"vm",resolve:{refreshInterval:["$stateParams",function(e){return e.rinterval?e.rinterval:30}]},data:{pageTitle:"Policing"}}).state("policingQueue",{url:"/policing-queue/:queueType?{rinterval:int}",templateUrl:"condor/processing/policing/queue/queue.html",controller:"PolicingQueueController",controllerAs:"vm",resolve:{queueType:["$stateParams",function(e){return e.queueType}],refreshInterval:["$stateParams",function(e){return e.rinterval?e.rinterval:30}],viewData:["$http",function(e){return e.get("api/policing/queue/view").then(function(e){return e.data})}]},data:{pageTitle:"Policing"}}).state("policingRequestLog",{url:"/policing-request-log?{policingLogId:int}",templateUrl:"condor/processing/policing/requestsLog/request.log.html",controller:"PolicingRequestLogController",controllerAs:"vm",data:{pageTitle:"Policing"},resolve:{viewData:["$http",function(e){return e.get("api/policing/requestlog/view").then(function(e){return e.data})}],policingLogId:["$stateParams",function(e){return e.policingLogId}]}}).state("policingErrorLog",{url:"/policing-error-log",templateUrl:"condor/processing/policing/errorLog/error.log.html",controller:"PolicingErrorLogController",controllerAs:"vm",data:{pageTitle:"Policing"},resolve:{viewData:["$http",function(e){return e.get("api/policing/errorLog/view").then(function(e){return e.data})}]}}).state("policingRequestMaintenance",{url:"/policing-saved-requests",templateUrl:"condor/processing/policing/requests/saved.requests.html",controller:"ipPolicingSavedRequestsController",controllerAs:"vm",data:{pageTitle:"Policing Requests"},resolve:{viewData:["$http",function(e){return e.get("api/policing/requests/view").then(function(e){return e.data})}]}})}]),angular.module("inprotech.processing.policing").run(["modalService",function(e){e.register("PolicingQueueErrors","ipQueueErrordetailviewController","condor/processing/policing/queue/directives/errorView/queue.errordetailview.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]).run(["modalService",function(e){e.register("NextRunTime","PolicingNextRunTimeController","condor/processing/policing/queue/directives/nextruntime/nextruntime.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]).run(["modalService",function(e){e.register("PolicingRequestLogErrors","ipPolicingRequestLogerrordetailController","condor/processing/policing/requestsLog/directives/policing.request.logerrordetail.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]).run(["modalService",function(e){e.register("PolicingRequestMaintain","PolicingRequestMaintenanceController","condor/processing/policing/requests/policing.requests.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg",controllerAs:"vm"})}]).run(["modalService",function(e){e.register("PolicingRequestRunNowConfirmation","PolicingRequestRunNowConfirmationController","condor/processing/policing/requests/policing.requests.runnow.confirmation.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"md",controllerAs:"vm"}),e.register("PolicingRequestAffectedCases","PolicingRequestAffectedCasesController","condor/processing/policing/requests/policing.request.affectedcases.html",{windowClass:"centered",backdropClass:"centered",size:"sm",controllerAs:"vm"})}])}(),function(){"use strict";function e(e,t,a){function i(){l.rateGraph={historicalDataAvailable:!0,error:!1},e.$on("policing.dashboard.rateGraph",function(e,t){n(t.trend)&&l.chartOptions.refreshData()}),r()}function n(e){var t=JSON.stringify(e);return t!==d&&(d=t,s=e,!0)}function o(){return s?!s.historicalDataAvailable||s.hasError?(l.rateGraph.error=s.hasError,l.rateGraph.historicalDataAvailable=s.historicalDataAvailable,null):(l.rateGraph.historicalDataAvailable=s.historicalDataAvailable,l.rateGraph.error=s.hasError,c.format(s.items)):null}function r(){t.buildOptions({theme:"primary-multi-colour",id:"rateChart",categoryAxis:{title:{text:"policing.dashboard.graph.dateTime"},field:"timeSlotLabel"},valueAxis:{title:{text:"policing.dashboard.graph.numberOfItems"}},series:[{field:"enterQueue",name:"policing.dashboard.graph.entered",spacing:0},{field:"exitQueue",name:"policing.dashboard.graph.exited"}],sort:{field:"timeSlot",dir:"asc"},transitions:!1,read:function(){return o()}}).then(function(t){l.chartOptions=t,s=s||e.data,l.chartOptions.refreshData()})}var s,l=this,c=a,d="";l.$onInit=i}angular.module("inprotech.processing.policing").controller("ipPolicingRateGraphController",e),e.$inject=["$scope","kendoBarChartBuilder","rateGraphItemFormatterService"]}(),angular.module("inprotech.processing.policing").service("rateGraphItemFormatterService",["$filter","dateService",function(e,t){"use strict";function a(a){var i="H:mm",n=moment().startOf("day");return _.each(a,function(a){var o=e("date")(a.timeSlot,i);0!==moment(a.timeSlot).startOf("day").diff(n,"days")&&(o=o+"\n"+e("date")(a.timeSlot,t.dateFormat)),a.timeSlotLabel=o}),a}return{format:a}}]),angular.module("inprotech.processing.policing").directive("ipPolicingRateGraph",function(){"use strict";return{restrict:"E",templateUrl:"condor/processing/policing/dashboard/directives/rateGraph/chart.html",scope:{data:"="},controller:"ipPolicingRateGraphController",controllerAs:"vm"}}),function(){"use strict";function e(e,t,a,i,n,o,r,s){function l(){v.showRequestLink=!1,v.openMaintenanceDialog=p,v.canCalculateAffectedCases=!1,m=r,v.gridOptions=n.buildOptions(e,{id:"requestlog",filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},pageable:!1,scrollable:!1,autoBind:!0,resizable:!1,reorderable:!1,onSelect:function(){v.gridOptions.clickHyperlinkedCell()},read:function(){return o.recent().then(function(e){return v.showRequestLink=e.canViewOrMaintainRequests,v.canCalculateAffectedCases=e.canCalculateAffectedCases,e.requests})},hideExpand:!0,columns:d()}),e.$on("$destroy",function(){i&&angular.isDefined(i)&&(a.cancel(i),i=void 0)}),u=t.params.rinterval||30;var i=a(function(){c()},1e3*u)}function c(){v.gridOptions.search()}function d(){return[{title:"policing.request.log.requestTitle",field:"policingName",template:function(e){return v.showRequestLink?'<a ng-click="vm.goToPolicingRequest('+e.requestId+')" href>{{:: dataItem.policingName }}</a>':"{{:: dataItem.policingName }}"},sortable:!1,width:"100px"},{title:"policing.request.log.status",field:"status",sortable:!1,width:"100px",template:function(e){var t=i.instant("policing.request.log."+e.status);return e.hasErrors?'<a href="#/policing-request-log?policingLogId='+e.policingLogId+'">'+t+"</a>":"<span>"+t+"</span>"}},{title:"policing.request.log.startDateTime",field:"startDateTime",template:'<ip-date-time model="dataItem.startDateTime"></ip-date-time>',sortable:!1,width:"100px"},{title:"policing.request.log.finishDateTime",field:"finishDateTime",template:'<ip-date-time model="dataItem.finishDateTime"></ip-date-time>',sortable:!1,width:"100px"},{title:"policing.request.log.timeTaken",sortable:!1,width:"100px",template:"<span>{{ dataItem.timeTaken }}</span>"},{title:"policing.request.log.failMessage",field:"failMessage",sortable:!1,width:"150px"}]}function p(t){s.open("PolicingRequestMaintain",e,{request:t,canCalculateAffectedCases:v.canCalculateAffectedCases})}var u,m,v=this;v.$onInit=l,v.goToPolicingRequest=function(e){e?v.openMaintenanceDialog(m.getRequest(e)):t.go("policingRequestMaintenance")}}angular.module("inprotech.processing.policing").controller("ipPolicingRequestLogsummaryController",e),e.$inject=["$scope","$state","$interval","$translate","kendoGridBuilder","policingRequestLogService","policingRequestService","modalService"]}(),angular.module("inprotech.processing.policing").directive("ipPolicingRequestLogsummary",function(){"use strict";return{restrict:"E",templateUrl:"condor/processing/policing/dashboard/directives/requestLog/policing.request.logsummary.html",scope:{},controller:"ipPolicingRequestLogsummaryController",controllerAs:"vm"}}),function(){"use strict";function e(e,t,a,i){function n(e){l.currentState=_.find(s,function(t){return t.state===e})}var o,r={waiting:0,running:1,stopped:2},s=[{state:r.waiting,confirmMessage:"",action:function(){return function(){}},data:{message:"policing.serverStatus.checking",radioClass:""}},{state:r.running,confirmMessage:"modal.policingOff.message",action:function(){return o.turnOff().then(function(){i.success("modal.policingOff.success")})},data:{message:"policing.serverStatus.running",radioClass:"saved"}},{state:r.stopped,confirmMessage:"modal.policingOn.message",action:function(){return o.turnOn()},data:{message:"policing.serverStatus.stopped",radioClass:"error"}}],l=this;o=a,l.canAdminister=!1,l.currentState={},n(r.waiting),l.changeServerStatus=function(){i.confirm({message:l.currentState.confirmMessage}).then(function(){l.currentState.action().then(function(){n(r.waiting)})})},l.isWaiting=function(){return l.currentState.state===r.waiting},l.isRunning=function(){return l.currentState.state===r.running},o.canAdminister().then(function(e){l.canAdminister=e.data.canAdminister,t.$emit("onPolicingPermissionsReturned",e.data.canManageExchangeRequests)}),e.$on("policing.server.status",function(e,t){l.currentState.state!==t&&n(t)})}angular.module("inprotech.processing.policing").controller("ipPolicingServerStatusController",e),e.$inject=["$scope","$rootScope","policingServerService","notificationService"]}(),angular.module("inprotech.processing.policing").directive("ipPolicingServerStatus",function(){"use strict";return{restrict:"E",templateUrl:"condor/processing/policing/dashboard/directives/server/status.html",scope:{},controller:"ipPolicingServerStatusController",controllerAs:"vm"}}),angular.module("inprotech.processing.policing").service("policingServerService",["$http","policingDashboardService",function(e,t){"use strict";return{canAdminister:function(){return t.permissions()},turnOff:function(){return e.post("api/policing/dashboard/admin/turnOff")},turnOn:function(){return e.post("api/policing/dashboard/admin/turnOn")}}}]),function(){"use strict";function e(e,t,a){function i(){r()}function n(e){var t=JSON.stringify(e);return t!==d&&(d=t,s=e,!0)}function o(e){return t.buildOptions({theme:e.theme,id:e.id,categoryAxis:{translateCategories:!0,categories:c.getCategories(e.isError),title:{text:e.categoryAxisTitle,color:e.categoryAxisColour},line:{visible:!0}},valueAxis:{type:"log",min:.5,axisCrossingValue:.5,title:{text:e.valueAxisTitle}},series:[{field:"stuck",name:"policing.dashboard.graph.stuck",stack:!0},{field:"tolerable",name:"policing.dashboard.graph.tolerable",stack:!0},{field:"fresh",name:"policing.dashboard.graph.fresh",stack:!0}],transitions:!1,read:function(){return c.prioritiseStatus(s,e.isError)}})}function r(){o({isError:!1,theme:"primary-multi-colour",id:"currentStateChart",categoryAxisTitle:"policing.dashboard.graph.progressing",categoryAxisColour:"#88CBF9",valueAxisTitle:"policing.dashboard.graph.numberOfItems"}).then(function(t){l.chartOptions=t,s=s||e.data,l.chartOptions.refreshData()}),o({isError:!0,theme:"secondary-multi-colour",id:"currentErrorStateChart",categoryAxisTitle:"policing.dashboard.graph.needsAttention",categoryAxisColour:"#D87959",valueAxisTitle:""}).then(function(t){l.errorChartOptions=t,s=s||e.data,l.errorChartOptions.refreshData()})}var s,l=this,c=a,d="";l.$onInit=i,e.$on("policing.dashboard.statusGraph",function(e,t){n(t.summary)&&(l.chartOptions.refreshData(),l.errorChartOptions.refreshData())})}angular.module("inprotech.processing.policing").controller("ipCurrentStatusGraphController",e),e.$inject=["$scope","kendoBarChartBuilder","statusGraphDataAdapterService"]}(),angular.module("inprotech.processing.policing").service("statusGraphDataAdapterService",function(){"use strict";function e(e,t){return _.map(t?i:a,function(t){return _.pick(e[t.field],function(e){return e>0})})}function t(e){return _.pluck(e?i:a,"textKey")}var a=[{textKey:"waiting-to-start",field:"waitingToStart"},{textKey:"in-progress",field:"inProgress"}],i=[{textKey:"blocked",field:"blocked"},{textKey:"failed",field:"failed"},{textKey:"in-error",field:"inError"}];return{getCategories:t,prioritiseStatus:e}}),angular.module("inprotech.processing.policing").directive("ipPolicingCurrentStatusGraph",function(){"use strict";return{restrict:"E",templateUrl:"condor/processing/policing/dashboard/directives/statusGraph/chart.html",scope:{data:"="},controller:"ipCurrentStatusGraphController",controllerAs:"vm"}}),angular.module("inprotech.processing.policing").component("ipPolicingStatusSummaryBar",{templateUrl:"condor/processing/policing/dashboard/directives/statusSummaryBar/policing.statusSummaryBar.html",bindings:{data:"<"},controller:function(){}}),angular.module("inprotech.processing.policing").controller("PolicingDashboardController",["$scope","$rootScope","messageBroker","policingDashboardService","scheduler",function(e,t,a,i,n){"use strict";function o(){r.summary={},r.graphSelected="statusGraph",r.canManageExchangeRequests=!1,r.isServiceBrokerEnabled=!0,e.$on("$destroy",function(){a.disconnect()}),c(),l(),t.$on("onPolicingPermissionsReturned",function(e,t){r.canManageExchangeRequests=t})}var r=this;r.$onInit=o;var s=function(t,a){e.$broadcast(t,a)},l=function(){var t="policing.dashboard."+r.graphSelected,i="policing.server.status",o="processing.backgroundServices.status";a.disconnect(),a.subscribe(t,function(a){n.runOutsideZone(function(){e.$apply(function(){r.summary=a.summary,s(t,a)})})}),a.subscribe(i,function(t){n.runOutsideZone(function(){e.$apply(function(){s(i,t)})})}),a.subscribe(o,function(t){n.runOutsideZone(function(){e.$apply(function(){r.isServiceBrokerEnabled=t})})}),a.connect()},c=function(){i.dashboard().then(function(e){r.summary=e.summary,r.trend=e.trend})};r.chartTypeChanged=function(){l()}}]),angular.module("inprotech.processing.policing").service("policingDashboardService",["$http",function(e){"use strict";return{permissions:function(){return e.get("api/policing/dashboard/permissions")},dashboard:function(){return e.get("api/policing/dashboard/view").then(function(e){return e.data})}}}]),angular.module("inprotech.processing.policing").controller("PolicingErrorLogController",["$scope","kendoGridBuilder","policingErrorLogService","viewData","menuSelection","notificationService","BulkMenuOperations",function(e,t,a,i,n,o,r){"use strict";function s(){g=i.permissions,f=a,h="policingErrorLog",y=new r(h),b.prepareDataSource=v,b.combinedFieldTemplate=m,b.gridOptions=t.buildOptions(e,{id:"errorlog",filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},pageable:!0,scrollable:!1,autoBind:!0,resizable:!1,reorderable:!1,selectable:!0,navigatable:!0,onSelect:function(){b.gridOptions.clickHyperlinkedCell()},read:function(e){return f.get(e).then(function(e){return b.prepareDataSource(e)})},readFilterMetadata:function(e){return f.getColumnFilterData(e,this.getFiltersExcept(e))},columns:u(),onDataCreated:d,onPageSizeChanged:p}),b.actions=[{id:"delete",enabled:l,click:function(){o.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){f["delete"](_.pluck(k(),"policingErrorsId")).then(function(e){"success"==e.data.status&&(o.success(),w())})})}}]}function l(){return y.anySelected()}function c(){return _.where(b.gridOptions.data(),{errorForInProgressItem:f.InprogressEnum.none})}function d(){y.selectionChange(c())}function p(){n.updatePaginationInfo(h,!0,b.gridOptions.pageable.pageSize)}function u(){var e=[];return g.canAdminister&&e.push({field:"bulkMenu",headerTemplate:'<div data-bulk-actions-menu is-full-selection-possible="false" data-actions="vm.actions" data-context="policingErrorLog" data-on-clear="vm.selectionActions.clearSelection();" data-on-select-this-page="vm.selectionActions.selectThisPage(val)" data-on-update-values="vm.updateValues()" data-initialised="vm.menuInitialised()"></div>',template:function(e){return e.errorForInProgressItem===f.InprogressEnum.none?'<ip-checkbox ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)">':""},sortable:!1,width:"20px",locked:!0}),_.union(e,[{headerTemplate:'<ip-icon-button id="inProgressErrorIcon" class="btn-no-bg policing-warning-icon" button-icon="exclamation-circle" type="button" style="cursor:default" ip-tooltip="{{::\'policing.errorLog.inProgressHeaderTooltip\' | translate }}" data-placement="top" tooltip-class="tooltip-warning-cpa"></ip-icon-button>',template:function(e){return e.errorForInProgressItem===f.InprogressEnum.queue?'<ip-icon-button class="btn-no-bg policing-warning-icon" button-icon="exclamation-circle" type="button" style="cursor:default"  ip-tooltip="{{::\'policing.errorLog.inProgressQueueTooltip\' | translate }}" data-placement="top" tooltip-class="tooltip-warning-cpa"></ip-icon-button>':e.errorForInProgressItem===f.InprogressEnum.request?'<ip-icon-button class="btn-no-bg policing-warning-icon" button-icon="exclamation-circle" type="button" style="cursor:default"  ip-tooltip="{{::\'policing.errorLog.inProgressRequestTooltip\' | translate }}" data-placement="top" tooltip-class="tooltip-warning-cpa"></ip-icon-button>':""},sortable:!1,width:"20px",locked:!0},{title:"policing.errorLog.date",field:"errorDate",sortable:!1,width:"100px",filterable:{type:"date"},template:'<ip-date-time model="dataItem.errorDate"></ip-date-time>'},{title:"policing.errorLog.caseReference",field:"caseRef",sortable:!1,template:function(){return'<ip-ie-only-url data-url="vm.caseRefUrl(dataItem.caseRef)" ng-class="pointerCursor" data-text="dataItem.caseRef"></ip-ie-only-url>'},width:"100px",filterable:{type:"text"}},{title:"policing.errorLog.message",field:"message",sortable:!1,width:"250px",filterable:{type:"text"}},{title:"policing.errorLog.event",sortable:!1,width:"150px",field:"specificDescription-baseDescription",filterable:{type:"text"},template:function(e){return g.canMaintainWorkflow&&e.hasEventControl?'<a href="#/configuration/rules/workflows/{{dataItem.eventCriteriaNumber}}/eventcontrol/{{dataItem.eventNumber}}">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventNumber) }}</a>':'<span ng-if="dataItem.eventNumber">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventNumber) }}</span>'}},{title:"policing.errorLog.cycle",field:"eventCycle",sortable:!1,width:"80px"},{title:"policing.errorLog.criteria",sortable:!1,width:"150px",field:"eventCriteriaDescription",filterable:{type:"text"},template:function(){return g.canMaintainWorkflow?'<a ng-if="dataItem.eventCriteriaNumber" href="#/configuration/rules/workflows/{{dataItem.eventCriteriaNumber}}">{{ vm.combinedFieldTemplate(dataItem.eventCriteriaDescription,dataItem.eventCriteriaNumber) }}</a>':'<span ng-if="dataItem.eventCriteriaNumber">{{ vm.combinedFieldTemplate(dataItem.eventCriteriaDescription,dataItem.eventCriteriaNumber) }}</a>'}}])}function m(e,t){return e&&t?e+" ("+t+")":e?e:t?t:""}function v(e){return e&&e.data.forEach(function(e){e.id||(e.id=e.policingErrorsId)},this),e}var g,f,h,y,b=this;b.$onInit=s;var w=function(){b.gridOptions.search().then(function(){b.selectionChange()})};b.selectionActions={selectThisPage:function(e){y.selectPage(c(),e)},clearSelection:function(){y.clearAll(c())}};var k=function(){return y.selectedRecords()};b.selectionChange=function(e){y.singleSelectionChange(c(),e)},b.menuInitialised=function(){y.initialiseMenuForPaging(b.gridOptions.pageable.pageSize)},b.caseRefUrl=function(e){return"../default.aspx?caseref="+encodeURIComponent(e)}}]),angular.module("inprotech.processing.policing").service("policingErrorLogService",["$http",function(e){"use strict";return{get:function(t){return e.get("api/policing/errorlog/",{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},getColumnFilterData:function(t,a){return e.get("api/policing/errorlog/filterData/"+t.field,{params:{columnFilters:JSON.stringify(a)}}).then(function(e){return e.data})},"delete":function(t){return e.post("api/policing/errorlog/delete",t)},InprogressEnum:{none:"none",queue:"queue",request:"request"}}}]),function(){"use strict";function e(e,t,a,i,n){function o(t){return i.getErrors(e.parent.caseId,t)}e.policingQueueService=i;var r={id:"errordetail",dateFormat:i.config().dateFormat,permissions:i.config().permissions,pageable:{pageSize:10},resizable:!1,scrollable:!0,read:o};e.errorDetailGridOptions=t.buildOptionsForPolicingError(a,e,r),e.errorDetailGridOptions.onSelect=function(){e.errorDetailGridOptions.clickHyperlinkedCell()},e.dismissAll=function(){e.$emit("RefreshOnHold",!1),n.close("PolicingQueueErrors")}}angular.module("inprotech.processing.policing").controller("ipQueueErrordetailviewController",e),e.$inject=["$scope","queueErrorViewHelper","kendoGridBuilder","policingQueueService","modalService"]}(),function(){"use strict";function e(e,t,a,i,n){function o(){l.parent=e.parent,s()}function r(){return l.totalErrorCount=l.parent.error.totalErrorItemsCount,l.parent.error.errorItems}function s(){var i=t.buildOptionsForPolicingError(a,e,c);i.onSelect=function(){i.clickHyperlinkedCell()},l.errorGridOptions=i}var l=this;l.$onInit=o;var c={id:"error",dateFormat:i.config().dateFormat,permissions:i.config().permissions,pageable:!1,resizable:!1,scrollable:!0,read:r};l.viewErrors=function(){e.$emit("RefreshOnHold",!0),n.open("PolicingQueueErrors",e)}}angular.module("inprotech.processing.policing").controller("ipQueueErrorviewController",e),e.$inject=["$scope","queueErrorViewHelper","kendoGridBuilder","policingQueueService","modalService"]}(),angular.module("inprotech.processing.policing").factory("queueErrorViewHelper",function(){"use strict";function e(){i.combinedFieldTemplate=a}function t(e){return[{title:"policing.queue.errors.date",field:"errorDate",sortable:!1,width:"100px",template:'<ip-date-time model="dataItem.errorDate"></ip-date-time>'},{title:"policing.queue.errors.message",field:"message",sortable:!1,width:"150px"},{title:"policing.queue.errors.event",sortable:!1,width:"150px",template:function(t){return e.canMaintainWorkflow&&t.hasEventControl?'<a href="#/configuration/rules/workflows/'+t.eventCriteriaNumber+"/eventcontrol/"+t.eventNumber+'">{{vm.combinedFieldTemplate(dataItem.eventDescription, dataItem.eventNumber)}}</a>':'<span ng-if="dataItem.eventNumber">{{ vm.combinedFieldTemplate(dataItem.eventDescription, dataItem.eventNumber)}}</span>'}},{title:"policing.queue.errors.cycle",field:"eventCycle",sortable:!1,width:"60px"},{title:"policing.queue.errors.criteria",sortable:!1,width:"150px",template:function(t){return e.canMaintainWorkflow?'<a ng-if="dataItem.eventCriteriaNumber" href="#/configuration/rules/workflows/'+t.eventCriteriaNumber+'">'+a(t.criteriaDescription,t.eventCriteriaNumber)+"</a>":'<span ng-if="dataItem.eventCriteriaNumber">'+a(t.criteriaDescription,t.eventCriteriaNumber)+"</span>"}}]}function a(e,t){return e&&t?e+" ("+t+")":e?e:t?t:""}var i=this;return i.$onInit=e,{buildOptionsForPolicingError:function(e,a,i){return e.buildOptions(a,{id:i.id,pageable:i.pageable,resizable:i.resizable,scrollable:i.scrollable,autoBind:!0,noRecords:!0,reorderable:!1,read:i.read,columns:t(i.permissions),navigatable:!0,selectable:!0})}}}),angular.module("inprotech.processing.policing").directive("ipQueueErrorview",function(){"use strict";return{restrict:"E",templateUrl:"condor/processing/policing/queue/directives/errorView/queue.errorview.html",scope:{parent:"="},controller:"ipQueueErrorviewController",controllerAs:"vm"}}),angular.module("inprotech.processing.policing").controller("PolicingNextRunTimeController",["$scope","modalService","notificationService","hotkeys",function(e,t,a,i){function n(){return e.selectedDate.getFullYear()+"-"+(e.selectedDate.getMonth()+1)+"-"+e.selectedDate.getDate()+"T"+e.selectedHour+":"+e.selectedMinutes}var o=5;if(e.selectedHour=e.selectedMinutes="00",e.knownHours=[],e.knownMinutes=[],e.currentDate){var r=moment.utc(e.currentDate);e.selectedDate=r.toDate(),r=r.add((o-r.minutes())%o,"minutes"),e.selectedHour=r.format("HH"),e.selectedMinutes=r.format("mm")}e.dismissAll=function(){return e.isSaveDisabled()?void t.close("NextRunTime"):void a.discard().then(function(){t.close("NextRunTime")})},e.isSaveDisabled=function(){return e.isEmpty()||!e.nextrunform.$dirty},e.save=function(){e.$emit("nextRunTime",n()),t.close("NextRunTime")},e.isEmpty=function(){return!(e.selectedDate&&e.selectedHour&&e.selectedMinutes)},e.initShortcut=function(){i.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){e.isSaveDisabled()||e.save()}}),i.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){e.dismissAll()}})}}]),angular.module("inprotech.processing.policing").controller("PolicingQueueController",["$scope","$interval","kendoGridBuilder","policingQueueService","viewData","queueType","menuSelection","notificationService","modalService","refreshInterval","BulkMenuOperations",function(e,t,a,i,n,o,r,s,l,c,d){"use strict";function p(){I=i,T="policingQueue",E.nextRunTime=null,$=new d(T),E.combinedFieldTemplate=h,E.prepareDataSource=S,I.config({permissions:{canAdminister:n.canAdminister,canMaintainWorkflow:n.canMaintainWorkflow}}),E.summary=n.summary,e.$on("nextRunTime",function(e,t){E.nextRunTime=t}),E.filterOptions={state:o},E.actions=[{id:"Release",icon:"cpa-icon cpa-icon-play",text:"policing.queue.actions.release",enabled:k,click:function(){I.releaseSelected(w()).then(function(){s.success("policing.queue.policingQueueItemsUpdated"),u()})}},{id:"Hold",icon:"cpa-icon cpa-icon-pause",text:"policing.queue.actions.hold",enabled:k,click:function(){I.holdSelected(w()).then(function(){s.success("policing.queue.policingQueueItemsUpdated"),u()})}},{id:"Delete",icon:"cpa-icon cpa-icon-trash",text:"policing.queue.actions.delete",enabled:k,click:function(){s.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){I.deleteSelected(w()).then(function(){s.success("policing.queue.policingQueueItemsUpdated"),u()})})}},{id:"ReleaseAll",icon:"cpa-icon cpa-icon-play",text:"policing.queue.actions.releaseAll",enabled:C,click:function(){D(I.releaseAll)}},{id:"HoldAll",icon:"cpa-icon cpa-icon-pause",text:"policing.queue.actions.holdAll",enabled:C,click:function(){D(I.holdAll)}},{id:"DeleteAll",icon:"cpa-icon cpa-icon-trash",text:"policing.queue.actions.deleteAll",enabled:C,click:function(){D(I.deleteAll)}},{id:"EditNextRunTime",icon:"cpa-icon cpa-icon-pencil-square-o",text:"policing.queue.actions.scheduleNextRunTime",enabled:k,click:m}]}function u(){N.stop(),$.clearSelectedItemsArray(),E.gridOptions.search().then(null,function(){E.refreshState=!1}).always(function(){N.autoSet()})}function m(){E.nextRunTime=null,e.currentDate=null,1==w().length&&(e.currentDate=_.first(_.pluck(w(),"nextScheduled"))),l.open("NextRunTime",e,{}).then(function(){E.nextRunTime&&I.editNextRunTime(E.nextRunTime,w()).then(function(){s.success("policing.queue.policingQueueItemsUpdated"),u()})})}function v(e){(e&&E.refreshState||!e&&O)&&(O=e,E.refreshState=!e,N.autoSet())}function g(){return!o||"all"===o}function f(e){return'<span ng-bind="dataItem.'+e+' | translate"></span>'}function h(e,t){return e&&t?e+" ("+t+")":e?e:t?t:""}function y(){$.selectionChange(E.gridOptions.data())}function b(){r.updatePaginationInfo(T,!0,E.gridOptions.pageable.pageSize)}function w(){return $.selectedRecords()}function k(){return $.anySelected()}function C(){return!k()}function D(e){s.confirm({message:"modal.confirmSelectionAll.message"}).then(function(){e(o,E.gridOptions.getCurrentFilters()).then(function(){s.success("policing.queue.policingQueueItemsUpdated"),u()})})}function x(){var e=[];return n.canAdminister&&e.push({field:"bulkMenu",headerTemplate:'<div data-bulk-actions-menu is-full-selection-possible="true" data-actions="vm.actions" data-context="policingQueue" data-on-clear="vm.selectionActions.clearSelection();" data-on-select-this-page="vm.selectionActions.selectThisPage(val)" data-on-select-all="vm.selectionActions.selectAll(val)" data-on-update-values="vm.updateValues()" data-initialised="vm.menuInitialised()"></div>',
template:'<ip-checkbox ng-model="dataItem.selected" data-ng-id="{{dataItem.id}}" ng-change="vm.selectionChange(dataItem)">',sortable:!1,width:"20px",locked:!0}),(g()||"requires-attention"===o)&&e.push({field:"name",headerTemplate:'<ip-icon-button id="queueErrorIcon" class="btn-no-bg" ng-class="vm.hasErrors ? \'policing-exclamation-square\' : \'policing-exclamation-square-noerror\'" button-icon="exclamation-square" type="button" style="cursor:default"></ip-icon-button>',template:'#if(status ===\'in-error\') {# <ip-icon-button class="btn-no-bg expand-btn error" button-icon="exclamation-square expand-btn" type="button" ip-tooltip="{{::\'policing.queue.expandErrorIconTooltip\' | translate }}" data-placement="top"></ip-icon-button> #}#',sortable:!1,width:"30px",locked:!0}),_.union(e,[{title:"policing.queue.status",field:"status",sortable:!1,width:"150px",filterable:!0,template:f("status")},{title:"policing.queue.requestDateTime",field:"requested",sortable:!1,width:"200px",template:'<ip-date-time model="dataItem.requested"></ip-date-time>'},{title:"policing.queue.user",field:"user",sortable:!1,width:"100px",filterable:!0},{title:"policing.queue.caseReference",field:"caseReference",sortable:!1,width:"120px",template:function(){return'<ip-ie-only-url data-url="vm.caseRefUrl(dataItem.caseReference)" ng-class="pointerCursor" data-text="dataItem.caseReference"></ip-ie-only-url>'},filterable:!0},{title:"policing.queue.typeOfRequest",field:"typeOfRequest",sortable:!1,width:"150px",filterable:!0,template:f("typeOfRequest")},{title:"policing.queue.event",sortable:!1,width:"250px",template:function(e){return n.canMaintainWorkflow&&e.hasEventControl?'<a href="#/configuration/rules/workflows/'+encodeURIComponent(e.criteriaId)+"/eventcontrol/"+encodeURIComponent(e.eventId)+'">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventId) }}</a>':'<span ng-if="dataItem.eventId">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventId) }}</span>'}},{title:"policing.queue.cycle",field:"cycle",sortable:!1,width:"80px"},{title:"policing.queue.actionName",field:"actionName",sortable:!1,width:"100px"},{title:"policing.queue.criteria",sortable:!1,width:"250px",template:function(e){return e.criteriaId?n.canMaintainWorkflow?'<a href="#/configuration/rules/workflows/'+e.criteriaId+'">{{ vm.combinedFieldTemplate(dataItem.criteriaDescription,dataItem.criteriaId) }}</a>':"<span>{{ vm.combinedFieldTemplate(dataItem.criteriaDescription,dataItem.criteriaId) }}</span>":""}},{title:"policing.queue.nextRunTime",field:"nextScheduled",sortable:!1,width:"100px",template:'<ip-date-time model="dataItem.nextScheduled"></ip-date-time>'},{title:"policing.queue.jurisdiction",field:"jurisdiction",sortable:!1,width:"100px"},{title:"policing.queue.propertyType",field:"propertyName",sortable:!1,width:"100px"},{title:"policing.queue.policingName",field:"policingName",sortable:!1,width:"160px"}])}function S(e){return e&&e.data.forEach(function(e){e.id||(e.id=e.requestId)},this),e}var I,T,$,E=this;E.$onInit=p,E.selectionActions={selectAll:function(e){$.selectAll(E.gridOptions.data(),e)},selectThisPage:function(e){$.selectPage(E.gridOptions.data(),e)},clearSelection:function(){$.clearAll(E.gridOptions.data())}},E.menuInitialised=function(){$.initialiseMenuForPaging(E.gridOptions.pageable.pageSize)};var O=!1;E.refreshState=!0,E.refreshInterval=c;var A,N={start:function(){A=t(function(){E.refreshState&&u()},1e3*E.refreshInterval)},stop:function(){t.cancel(A)},autoSet:function(){E.refreshState?N.start():N.stop()}};E.autoRefreshChange=function(){N.autoSet()},N.autoSet(),e.$on("$destroy",function(){N.stop()}),e.$on("FilterPopUp",function(e,t){v(t)}),e.$on("RefreshOnHold",function(e,t){v(t)}),E.selectionChange=function(e){$.singleSelectionChange(E.gridOptions.data(),e),v($.anySelected())},E.caseRefUrl=function(e){return"../default.aspx?caseref="+encodeURIComponent(e)},E.subheading=g()?"total":o,E.hasErrors=!1,E.gridOptions=a.buildOptions(e,{id:"queue",filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},pageable:{pageSize:50},scrollable:!1,autoBind:!0,resizable:!1,reorderable:!1,navigatable:!0,selectable:!0,onSelect:function(){E.gridOptions.clickHyperlinkedCell()},read:function(e){return I.get(o,e).then(function(e){return E.prepareDataSource(e)})},readFilterMetadata:function(e){return I.getColumnFilterData(e,o,E.gridOptions.getCurrentFilters().filters,this.getFiltersExcept(e))},hideExpand:!0,columns:x(),detailTemplate:'#if(status ===\'in-error\') {# <ip-queue-errorview data-parent="dataItem" style="width:90%"></ip-queue-errorview> #}#',onPageSizeChanged:b,onDataCreated:y,onDataBound:function(){E.gridOptions.expandAll("queue"),E.summary=I.getCachedSummary(),E.hasErrors=_.some(E.gridOptions.data(),{status:"in-error"})}})}]),angular.module("inprotech.processing.policing").service("policingQueueFilterService",function(){"use strict";var e=function(e,t){var a=_.pluck(e,"code");return _.difference(t,a)};return{getFilters:function(t,a,i){var n=_.findWhere(a,{field:t.field}),o=n?n.value:null,r=[];if(o&&(r=o.split(",")),0===r.length)return i;var s=e(i,r),l=_.chain(t.filterable.dataSource.data()).filter(function(e){return _.contains(s,e.code)}).map(function(e){return{code:e.code,description:e.description}})._wrapped;return _.sortBy(_.union(i,l),"description")}}}),angular.module("inprotech.processing.policing").service("policingQueueService",["$http","$translate","policingQueueFilterService",function(e,t,a){"use strict";var i=["all","on-hold","progressing","requires-attention"],n={permissions:{canAdminister:!1,canMaintainWorkflow:!1}},o=function(e){return e&&_.any(i,function(t){return t===e})?e:"all"},r=function(e){return _.pluck(e,"requestId")},s={};return{get:function(t,a){return e.get("api/policing/queue/"+o(t),{params:{params:JSON.stringify(a)}}).then(function(e){return s=e.data.summary,e.data.items})},getCachedSummary:function(){return s},getColumnFilterData:function(i,n,o,r){return e.get("api/policing/queue/filterData/"+i.field+"/"+n,{params:{columnFilters:JSON.stringify(r)}}).then(function(e){return"status"===i.field||"typeOfRequest"===i.field?_.each(e.data,function(e){e.description=t.instant(e.code)}):o?a.getFilters(i,o,e.data):e.data})},getErrors:function(t,a){return e.get("api/policing/queue/errors/"+t,{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})},releaseSelected:function(t){return e.post("api/policing/queue/admin/release",r(t))},holdSelected:function(t){return e.post("api/policing/queue/admin/hold",r(t))},releaseAll:function(t,a){return e.put("api/policing/queue/admin/release/"+o(t),JSON.stringify(a))},holdAll:function(t,a){return e.put("api/policing/queue/admin/hold/"+o(t),JSON.stringify(a))},deleteSelected:function(t){return e.post("api/policing/queue/admin/delete",r(t))},deleteAll:function(t,a){return e.post("api/policing/queue/admin/delete/"+o(t),JSON.stringify(a))},editNextRunTime:function(t,a){return e.post("api/policing/queue/admin/editNextRuntTime/"+t,r(a))},config:function(e){return angular.extend(n,e)}}}]),angular.module("inprotech.processing.policing").controller("ipSavedRequestViewController",ipSavedRequestViewController).component("ipSavedRequestView",{controller:"ipSavedRequestViewController",controllerAs:"vm",bindings:{viewData:"=",topic:"="},templateUrl:"condor/processing/policing/requests/directives/saved.request.view.html"}),ipSavedRequestViewController.$inject=["$scope","$translate","kendoGridBuilder","modalService","policingRequestService","BulkMenuOperations","notificationService","localSettings"],angular.module("inprotech.processing.policing").factory("policingCharacteristicsService",["policingCharacteristicsBuilder","caseValidCombinationService",function(e,t){"use strict";function a(t,a,n){var o=e.build(t);n(o,function(e){i(e,a)})}function i(e,t){_.each(e,function(e,a){n(a)&&t[a]&&(e.isValid?(t[a].$setValidity("invalidcombination",null),e.value&&t[a].$setText(e.value)):t[a].$setValidity("invalidcombination",!1))})}function n(e){return _.contains(r,e)}function o(e,n,o){e.formData=o,t.initFormData(e.formData),e.validate=function(){a(e.formData,e.form,n)},e.applyValidation=function(t){i(t,e.form)},e.picklistValidCombination=t.validCombinationDescriptionsMap,e.extendPicklistQuery=t.extendValidCombinationPickList,e.isDateOfLawDisabled=t.isDateOfLawDisabled,e.isCaseCategoryDisabled=t.isCaseCategoryDisabled}var r=["action","caseCategory","caseType","dateOfLaw","jurisdiction","office","propertyType","subType"];return{validate:a,setValidation:i,isCharacteristicField:n,initController:o,characteristicFields:r}}]),angular.module("inprotech.processing.policing").factory("policingCharacteristicsBuilder",function(){"use strict";function e(e,t,a){return e[t]&&e[t][a]}return{build:function(t){return{caseType:e(t,"caseType","code"),jurisdiction:e(t,"jurisdiction","code"),propertyType:e(t,"propertyType","code"),action:e(t,"action","code"),dateOfLaw:e(t,"dateOfLaw","code"),caseCategory:e(t,"caseCategory","code"),subType:e(t,"subType","code"),office:e(t,"office","key"),caseTypeModel:t.caseType,propertyTypeModel:t.propertyType,jurisdictionModel:t.jurisdiction,caseCategoryModel:t.caseCategory}}}}),angular.module("inprotech.processing.policing").controller("PolicingRequestAffectedCasesController",["$uibModalInstance","totalAffectedCases",function(e,t){"use strict";function a(){e.close("Ok")}var i=this;i.ok=a,i.totalAffectedCases=t}]),angular.module("inprotech.processing.policing").service("policingRequestAffectedCasesService",["messageBroker","scheduler",function(e,t){var a=function(a,i){var n="policing.affected.cases."+a;e.disconnect(),e.subscribe(n,function(e){t.runOutsideZone(function(){i&&i(e)})}),e.connect()},i=function(){e.disconnect()};return{getAffectedCases:function(e){var t;return a(e,function(e){i();var a={data:{noOfCases:e.noOfCases,isSupported:e.isSupported}};if(t)return t(a)}),{then:function(e){t=e}}}}}]),function(){"use strict";function e(e,t){function a(){n.viewData=t,i={requests:{key:"requests",title:"policing.management.sections.savedrequests",template:'<ip-saved-request-view view-data="$topic.viewData" data-topic="$topic">',viewData:n.viewData}},n.options={topics:[i.requests],actions:[]}}var i,n=this;n.$onInit=a}angular.module("inprotech.processing.policing").controller("ipPolicingSavedRequestsController",e),e.$inject=["$scope","viewData"]}(),angular.module("inprotech.processing.policing").controller("PolicingRequestMaintenanceController",["$scope","modalService","policingRequestService","notificationService","$translate","$uibModalInstance","request","policingCharacteristicsService","canCalculateAffectedCases","ExtObjFactory","comparer","hotkeys","requestReminderHelper","policingRequestAffectedCasesService","selectedCaseType","$timeout",function(e,t,a,i,n,o,r,s,l,c,d,p,u,m,v,g){"use strict";function f(){J.dateLetterState="idle",z=s,J.selectCase=h,J.clearExcludeCheckbox=w,J.canCalculateAffectedCases=l,J.resetErrors=D,J.requestFieldClasses=O,J.optionsFieldClasses=A,J.formDataFieldClasses=N,B=(new c).useDefaults(),L=B.createContext(),G="",H={"default":0,loading:1,ready:2},J.initShortcuts=P,J.currentAffectedCases={state:H["default"],cases:null},J.isCaseReferenceSelected=V,Q(),T(),k()}function h(){y(),b()}function y(){var e=z.characteristicFields.concat(["name","nameType"]);_.each(e,function(e){"action"!==e&&"event"!=e&&J.form[e]&&J.form[e].$reset()})}function b(){J.formData.excludeProperty=!1,J.formData.excludeJurisdiction=!1}function w(e,t){this.formData[e]||(this.formData[t]=!1)}function k(){g(function(){J.formData&&J.formData.caseReference&&"NOTFOUND"==J.formData.caseReference.value&&0===J.formData.caseReference.key&&J.form&&J.form["case"]&&(J.form["case"].$setTouched(),J.form["case"].$setValidity("caseDoesNotExists",!1))},500)}function C(e){"success"==e.data.status?(J.request.requestId||(J.request.requestId=e.data.requestId),W.savedRequestIds.push(e.data.requestId),S()):("title"===e.data.error.key?J.requestMaintainForm.requestTitle.$setValidity(e.data.error.value,!1):"characteristics"===e.data.error.key&&J.applyValidation(e.data.validationResult),i.alert({title:"modal.unableToComplete",message:n.instant("policing.request.maintenance.errors."+e.data.error.key)}))}function D(){J.requestMaintainForm.requestTitle.$setValidity("notunique",null)}function x(e){_.each(e.$error,function(e){_.each(e,function(e){e.$setTouched()})})}function S(){i.success(),L.save(),J.requestMaintainForm.$setPristine(),G="Success",T()}function I(){var a=J.request.getRaw();return a.noOfAffectedCases=J.currentAffectedCases.cases,t.open("PolicingRequestRunNowConfirmation",e,{request:a,canCalculateAffectedCases:J.canCalculateAffectedCases},null).then(function(e){E(a),e.runType&&W.runNow(a.requestId,e.runType).then(function(){i.success("policing.request.runNow.success")})})}function T(){J.canCalculateAffectedCases&&J.request.requestId&&($(H.loading,null),m.getAffectedCases(J.request.requestId).then(function(t){t.data.isSupported&&e.$apply(function(){$(H.ready,t.data.noOfCases)})}))}function $(e,t){J.currentAffectedCases.state=e,J.currentAffectedCases.cases=t}function E(e){J.canCalculateAffectedCases&&!J.currentAffectedCases.cases&&null===J.currentAffectedCases.cases&&(null!==e.noOfAffectedCases?$(H.ready,e.noOfAffectedCases):null===e.noOfAffectedCases&&T())}function O(e){return M("vm.request",e)}function A(e){return M("vm.options",e)}function N(e){return M("vm.formData",e)}function M(e,t){return"{ edited: "+e+".isDirty('"+t+"')}"}function R(e,t,a){if(z.isCharacteristicField(e))return d.comparePickList(t,a,"key")}function P(){p.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){J.save()}}),p.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){J.dismissAll()}})}function F(e){if(K.positiveOrEmptyDays())return J.dateLetterState="loading",j=e,W.getNextLettersDate(e.toISOString()).then(function(e){J.request.dateLetters=K.convertForDatePicker(e.data),J.dateLetterState="idle"})}function q(e){J.minEndDate=e?K.addDays(e,-1):null}function U(){return J.request&&(0===J.request.forDays||J.request.forDays>9999||J.request.forDays<-9999)}function V(){return null!=J.formData.caseReference}var j,B,L,G,z,H,W=a,K=u,J=this;J.$onInit=f;var Q=function(){r?(r.startDate=K.convertForDatePicker(r.startDate),r.endDate=K.convertForDatePicker(r.endDate),r.dateLetters=K.convertForDatePicker(r.dateLetters)):r={requestId:null,title:"",notes:"",startDate:null,endDate:null,dateLetters:null,dueDateOnly:!1,forDays:null,options:{reminders:!0,emailReminders:!0,documents:!0,update:!1,adhocReminders:!1,recalculateCriteria:!1,recalculateDueDates:!1,recalculateReminderDates:!1,recalculateEventDates:!1},attributes:{caseReference:null,jurisdiction:null,excludeJurisdiction:!1,propertyType:null,excludeProperty:!1,caseType:null,caseCategory:null,subType:null,office:null,action:null,excludeAction:!1,event:null,dateOfLaw:null,nameType:null,name:null}};var e=r.options,t=r.attributes;r.options=null,r.attributes=null,J.request=L.attach(r),J.options=L.attach(e),J.formData=L.attach(t),J.formData.$equals=R,z.initController(J,W.validateCharacteristics,J.formData),K.init(J.request),q()};J.dismissAll=function(){return J.requestMaintainForm.$dirty?void i.discard().then(function(){o.close()}):void o.close(G)},J.save=function(){if(!J.requestMaintainForm.$valid||!J.form.$valid||!J.optionsForm.$valid||J.isInvalid())return x(J.requestMaintainForm),x(J.form),void x(J.optionsForm);var e=J.request.getRaw();e.attributes=J.formData.getRaw(),e.options=J.options.getRaw(),W.save(e).then(C)},J.isInvalid=function(){return!(J.request&&J.request.title&&J.requestMaintainForm.$valid&&J.form.$valid&&J.optionsForm.$valid&&!U())},J.disableReminders=function(){var e=J.options.recalculateReminderDates||!J.options.reminders&&!J.options.adhocReminders;return e&&(J.request.startDate=null,J.request.endDate=null,J.request.dateLetters=null,J.request.forDays=null,J.request.dueDateOnly=!1),e},J.onChangeReCalc={criteria:function(){J.options.recalculateDueDates=!0,J.options.recalculateReminderDates=!0,J.onChangeReCalc.reminderDate()},dueDate:function(){J.options.recalculateReminderDates=!0,J.options.recalculateEventDates=!1,J.onChangeReCalc.reminderDate()},reminderDate:function(){J.options.adhocReminders=!1}},J.onSelectionReminder=function(){J.options.documents=!1,J.options.emailReminders=J.options.reminders},J.caseTypeChanged=function(){v.set(J.formData.caseType),J.formData.caseType||(J.formData.caseCategory="")},J.runRequest=function(){!J.request.requestId||L.isDirty()?i.info({title:"policing.request.maintenance.runRequest.saveRequiredTitle",message:"policing.request.maintenance.runRequest.saveRequired"}):I()},J.isRequestModifiedForAffectedCases=function(){return!J.request.requestId||J.options.isDirty()||J.formData.isDirty()},J.onChangeforDay=function(){var e=J.optionsForm.startDate.$valid;K.setDatesValidityByDays(J.optionsForm),J.request.forDays>0&&(J.request.startDate?(!e&&J.optionsForm.startDate.$valid&&F(J.request.startDate),J.request.endDate=K.addDays(J.request.startDate,J.request.forDays-1)):J.request.endDate&&(J.request.startDate=K.addDays(J.request.endDate,-1*J.request.forDays+1)))},J.onDateBlur=function(e,t){K.setDatesValidityByDays(J.optionsForm,e,t),"startDate"===e?(K.setForDays(t,J.request.endDate),q(t),t&&!K.areDatesEqual(t,j)&&F(t)):"endDate"===e&&K.setForDays(J.request.startDate,t)}}]),angular.module("inprotech.processing.policing").controller("PolicingRequestRunNowConfirmationController",["$scope","$uibModalInstance","request","policingRequestAffectedCasesService","canCalculateAffectedCases",function(e,t,a,i,n){"use strict";function o(){t.close("Cancel")}function r(){t.close({runType:e.runMode.type})}function s(){e.request.startDate||e.request.endDate||!e.request.forDays||(e.request.startDate=new Date,e.request.endDate=new Date,e.request.forDays>0?e.request.endDate.setDate((new Date).getDate()+(e.request.forDays-1)):e.request.startDate.setDate((new Date).getDate()+e.request.forDays))}function l(){e.canCalculateAffectedCases&&!e.isAffectedCasesAvailable()&&d.getAffectedCases(e.request.requestId).then(function(t){e.$apply(function(){e.request.noOfAffectedCases=t.data.noOfCases})})}var c={oneRequest:1,separateCases:2},d=i;e.request=a,e.cancel=o,e.proceed=r,e.today=new Date,e.canCalculateAffectedCases=n,e.defaultDays="policing.request.runNow.varied",e.runMode={type:c.oneRequest},e.isStartDateInFuture=function(){if(e.request.startDate){var t=new Date(e.request.startDate);t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var a=new Date;return t>a}return!1},e.isAffectedCasesAvailable=function(){return!("undefined"==typeof e.request.noOfAffectedCases||null===e.request.noOfAffectedCases)},l(),s()}]),angular.module("inprotech.processing.policing").service("policingRequestService",["$http","utils",function(e,t){var a=[],i=t.cancellable(),n=_.debounce(function(t,a){return i.cancel(),e.get("api/policing/requests/validateCharacteristics",{params:{characteristics:JSON.stringify(t)},timeout:i.promise}).then(function(e){return a(e.data)})},100);return{savedRequestIds:a,uiPersistSavedRequests:function(e){return _.each(e,function(e){_.each(a,function(t){e.id===t&&(e.saved=!0)})}),e},get:function(){return e.get("api/policing/requests/view").then(function(e){return e.data})},getRequest:function(t){return e.get("api/policing/requests/"+t).then(function(e){return e.data})},getRequests:function(t){return e.get("api/policing/requests",{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},save:function(t){return t.requestId?e.put("api/policing/requests/"+t.requestId,t):e.post("api/policing/requests",t)},"delete":function(t){return e.post("api/policing/requests/delete",t)},runNow:function(t,a){return e.post("api/policing/requests/RunNow/"+t+"?runType="+a)},markInUseRequests:function(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0)})})},validateCharacteristics:function(e,t){return n(e,t)},getNextLettersDate:function(t){return e.get("api/policing/requests/lettersdate?startDate="+encodeURI(t))}}}]),angular.module("inprotech.processing.policing").factory("requestReminderHelper",["dateHelper",function(e){"use strict";var t={};return{init:function(e){t.request=e},setForDays:function(e,a){if(this.positiveOrEmptyDays()&&e&&a){var i=moment(a).diff(moment(e),"days")+1;t.request.forDays=i>0?i:null}},positiveOrEmptyDays:function(){return!t.request.forDays||t.request.forDays>0},setDatesValidityByDays:function(e,a,i){var n="policing.request.maintenance.sections.eventsReminder.errors.daysNegative",o=function(e){return!(t.request.forDays<0&&e)},r=function(t,a){"startDate"===t&&e.startDate.$setValidity(n,a),"endDate"===t&&e.endDate.$setValidity(n,a)};a?r(a,o(i)):(r("startDate",o(t.request.startDate)),r("endDate",o(t.request.endDate)))},addDays:e.addDays,convertForDatePicker:e.convertForDatePicker,areDatesEqual:e.areDatesEqual}}]),function(){"use strict";function e(e,t,a,i){function n(){s.error=e.data.error,s.service=i,s.combinedFieldTemplate=r,s.errorGridOptions=t.buildOptions(e,{id:"requestlogerror",filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},pageable:!1,scrollable:!1,autoBind:!0,reorderable:!1,resizable:!1,navigatable:!0,selectable:!0,onSelect:function(){s.errorGridOptions.clickHyperlinkedCell()},read:function(){return s.totalErrorCount=s.error.totalErrorItemsCount,s.error.errorItems},hideExpand:!0,columns:o()})}function o(){return[{title:"policing.request.log.errors.internalReference",sortable:!1,width:"80px",template:function(e){return'<a href="../default.aspx?caseref='+encodeURIComponent(e.irn)+'" target="_blank" ng-class="pointerCursor">{{dataItem.irn}}</a>'}},{title:"policing.request.log.errors.message",field:"message",sortable:!1,width:"150px"},{title:"policing.request.log.errors.event",sortable:!1,width:"150px",template:function(e){return s.service.displayCriteriaLinks&&e.hasEventControl&&e.eventNo?'<a href="#/configuration/rules/workflows/'+e.criteriaNo+"/eventcontrol/"+e.eventNo+'">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventNo) }}</a>':'<span ng-if="dataItem.eventNo">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventNo) }}</span>'}},{title:"policing.request.log.errors.cycleNo",field:"cycleNo",sortable:!1,width:"30px"},{title:"policing.request.log.errors.criteria",sortable:!1,width:"150px",template:function(e){return e.criteriaNo?s.service.displayCriteriaLinks?'<a href="#/configuration/rules/workflows/'+e.criteriaNo+'">{{ vm.combinedFieldTemplate(dataItem.criteriaDescription,dataItem.criteriaNo) }}</a>':'<span ng-if="dataItem.criteriaNo>{{dataItem.criteriaNo}}</span>':""}}]}function r(e,t){return e&&t?e+" ("+t+")":e?e:t?t:""}var s=this;s.$onInit=n,s.viewErrors=function(){a.open("PolicingRequestLogErrors",e)}}angular.module("inprotech.processing.policing").controller("ipPolicingRequestLogerrorController",e),e.$inject=["$scope","kendoGridBuilder","modalService","policingRequestLogService"]}(),angular.module("inprotech.processing.policing").directive("ipRequestLogerror",function(){"use strict";return{restrict:"E",templateUrl:"condor/processing/policing/requestsLog/directives/policing.request.logerror.html",scope:{data:"="},controller:"ipPolicingRequestLogerrorController",controllerAs:"vm"}}),function(){"use strict";function e(e,t,a,i){function n(){return[{title:"policing.request.log.errors.internalReference",sortable:!1,width:"100px",template:function(e){return'<a href="../default.aspx?caseref='+encodeURIComponent(e.irn)+'" target="_blank" ng-class="pointerCursor">{{dataItem.irn}}</a>'}},{title:"policing.request.log.errors.message",field:"message",sortable:!1,width:"120px"},{title:"policing.request.log.errors.event",field:"eventDescription",sortable:!1,width:"120px",template:function(t){return e.policingRequestLogService.displayCriteriaLinks&&t.hasEventControl&&t.eventNo?'<a href="#/configuration/rules/workflows/'+t.criteriaNo+"/eventcontrol/"+t.eventNo+'">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventNo) }}</a>':'<span ng-if="dataItem.eventNo">{{ vm.combinedFieldTemplate(dataItem.eventDescription,dataItem.eventNo) }}</span>'}},{title:"policing.request.log.errors.cycleNo",field:"cycleNo",sortable:!1,width:"60px"},{title:"policing.request.log.errors.criteria",sortable:!1,width:"120px",template:function(t){return t.criteriaNo?e.policingRequestLogService.displayCriteriaLinks&&t.criteriaNo?'<a href="#/configuration/rules/workflows/'+t.criteriaNo+'">{{ vm.combinedFieldTemplate(dataItem.criteriaDescription,dataItem.criteriaNo) }}</a>':'<span ng-if="dataItem.criteriaNo>'+t.criteriaNo+"</span>":""}}]}function o(e,t){return e&&t?e+" ("+t+")":e?e:t?t:""}var r=this;r.combinedFieldTemplate=o,e.policingRequestLogService=a,e.errorDetailGridOptions=t.buildOptions(e,{id:"errordetail",filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},pageable:{pageSize:10},scrollable:!0,autoBind:!0,reorderable:!1,resizable:!1,read:function(t){return a.getErrors(e.data.policingLogId,t)},columns:n(),navigatable:!0,selectable:!0,onSelect:function(){e.errorDetailGridOptions.clickHyperlinkedCell()}}),e.dismissAll=function(){i.close("PolicingRequestLogErrors")}}angular.module("inprotech.processing.policing").controller("ipPolicingRequestLogerrordetailController",e),e.$inject=["$scope","kendoGridBuilder","policingRequestLogService","modalService"]}(),angular.module("inprotech.processing.policing").controller("PolicingRequestLogController",["$scope","$state","kendoGridBuilder","policingRequestLogService","viewData","policingLogId","dateService","notificationService",function(e,t,a,i,n,o,r,s){"use strict";function l(){m=i,v.policingLogId=o,v.hasErrors=!1,v.showRequestLink=n.canViewOrMaintainRequests,m.displayCriteriaLinks=n.canMaintainWorkflow,v.goToPolicingRequest=p,v.deleteRow=u,v.gridOptions=a.buildOptions(e,{id:"requestlog",filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},pageable:{pageSize:50},scrollable:!1,autoBind:!0,resizable:!1,reorderable:!1,navigatable:!0,selectable:!0,onSelect:function(){v.gridOptions.clickHyperlinkedCell()},read:function(e){return m.get(e)},readFilterMetadata:function(e){return m.getColumnFilterData(e,this.getFiltersExcept(e))},hideExpand:!0,columns:d(),detailTemplate:'#if(status ===\'error\') {# <ip-request-logerror data="dataItem" style="width:90%"></ip-request-logerror> #}#',scrollToFocus:!0,onDataBound:function(){var e=v.gridOptions.data();v.hasErrors=_.some(e,{status:"Error"}),v.gridOptions.expandAll("requestlog"),c(e)}})}function c(e){if(v.policingLogId){var t=_.findIndex(e,function(e){return e.policingLogId==o});t!=-1&&setTimeout(function(){var e=$("ip-sticky-header:visible");v.gridOptions.selectRowAndScrollByIndex(e,t)},100)}}function d(){return[{headerTemplate:'<ip-icon-button id="requestErrorIcon" class="btn-no-bg"></ip-icon-button>',template:'#if(hasErrors === true) {# <ip-icon-button class="btn-no-bg expand-btn error" button-icon="exclamation-square expand-btn" type="button"" data-placement="top"></ip-icon-button> #}# #if(canDelete === true) {# <ip-icon-button class="btn-no-bg" button-icon="trash-o" ip-tooltip="{{::\'Delete\' | translate }}" data-ng-click="vm.deleteRow(dataItem.policingLogId);"></ip-icon-button> #}#',width:"10px",sortable:!1},{title:"policing.request.log.requestTitle",field:"policingName",template:function(){return v.showRequestLink?'<a ng-click="vm.goToPolicingRequest()">{{:: dataItem.policingName }}</a>':"{{:: dataItem.policingName }}"},sortable:!1,width:"150px",filterable:!0},{title:"policing.request.log.status",field:"status",template:'<span translate="policing.request.log.{{dataItem.status}}"></span>',sortable:!1,width:"100px",filterable:!0},{title:"policing.request.log.startDateTime",field:"startDateTime",template:'<ip-date-time model="dataItem.startDateTime"></ip-date-time>',sortable:!1,filterable:{type:"date"},width:"170px"},{title:"policing.request.log.finishDateTime",field:"finishDateTime",template:'<ip-date-time model="dataItem.finishDateTime"></ip-date-time>',sortable:!1,width:"170px",filterable:{type:"date"}},{title:"policing.request.log.timeTaken",sortable:!1,width:"100px",template:"<span>{{ dataItem.timeTaken }}</span>"},{title:"policing.request.log.fromDate",template:'<span>{{ dataItem.fromDate | date:"'+r.dateFormat+'" }}</span>',sortable:!1,width:"70px"},{title:"policing.request.log.numberOfDays",field:"numberOfDays",sortable:!1,width:"100px"},{title:"policing.request.log.failMessage",field:"failMessage",sortable:!1,width:"140px"}]}function p(){t.go("policingRequestMaintenance")}function u(e){s.confirmDelete({message:"policing.request.log.deleteConfirmMessage"}).then(function(){m["delete"](e).then(function(e){"success"===e.result.status&&(s.success(),v.gridOptions.$read())})})}var m,v=this;v.$onInit=l}]),angular.module("inprotech.processing.policing").service("policingRequestLogService",["$http","$translate",function(e,t){"use strict";return{get:function(t){return e.get("api/policing/requestlog/",{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},getColumnFilterData:function(a,i){return e.get("api/policing/requestlog/filterData/"+a.field,{params:{columnFilters:JSON.stringify(i)}}).then(function(e){return"status"===a.field?_.each(e.data,function(e){e.description=t.instant("policing.request.log."+e.code)}):e.data})},getErrors:function(t,a){return e.get("api/policing/requestlog/errors/"+t,{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})},recent:function(){return e.get("api/policing/requestlog/recent").then(function(e){return e.data})},"delete":function(t){return e.get("api/policing/requestlog/delete/"+t).then(function(e){return e.data})}}}]),angular.module("inprotech.accounting",["inprotech.accounting.vat","inprotech.portfolio.cases"]),angular.module("inprotech.accounting.vat",["inprotech.core","inprotech.api","inprotech.components"]).config(["$stateProvider",function(e){e.state("vat",{url:"/accounting/vat",component:"ipVat",resolve:{viewData:["$http","$location",function(e,t){var a=t.search().state;return t.search("state",null),e.get("api/accounting/vat/view",{params:{state:a}}).then(function(e){return{entityNames:e.data.entityNames,stateId:e.data.stateId,deviceId:e.data.deviceId}})}]},data:{pageTitle:"accounting.vat.pageTitle"}}).state("hmrcsettings",{url:"/accounting/vat/settings",component:"ipHmrcSettings",data:{pageTitle:"HMRC Settings"},resolve:{viewData:["$http",function(e){return e.get("api/accounting/vat/settings/view").then(function(e){return e.data})}]}})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){var a=this;this.notificationService=t,this.initialData=null,this.hasChanged=function(){return a.form&&a.form.$dirty},this.save=function(){a.service.save(a.viewData.hmrcSettings).then(function(e){"success"===e.data.result.status&&(a.notificationService.success(),a.form.$setPristine())})},this.discard=function(){a.viewData.hmrcSettings.hmrcApplicationName=a.initialData.hmrcApplicationName,a.viewData.hmrcSettings.clientId=a.initialData.clientId,a.viewData.hmrcSettings.clientSecret=a.initialData.clientSecret,a.viewData.hmrcSettings.redirectUri=a.initialData.redirectUri,a.viewData.hmrcSettings.isProduction=a.initialData.isProduction,a.form.$setPristine()},this.vm=this,this.service=e}return e.prototype.$onInit=function(){this.viewData.hmrcSettings?this.initialData=new HmrcSettingsModel(this.viewData.hmrcSettings.hmrcApplicationName,this.viewData.hmrcSettings.clientId,this.viewData.hmrcSettings.redirectUri,this.viewData.hmrcSettings.clientSecret,this.viewData.hmrcSettings.isProduction):(this.initialData=new HmrcSettingsModel,this.viewData.hmrcSettings=this.initialData)},e.$inject=["VatReturnsService","notificationService"],e}();e.AccountingHmrcSettingsController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/accounting/vat/accounting.hmrc-settings.html",this.bindings={viewData:"<"}}return e}();angular.module("inprotech.accounting.vat").component("ipHmrcSettings",new a);
}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var HmrcSettingsModel=function(){function e(e,t,a,i,n){void 0===e&&(e=null),void 0===t&&(t=null),void 0===a&&(a=null),void 0===i&&(i=null),void 0===n&&(n=!1),this.hmrcApplicationName=e,this.clientId=t,this.redirectUri=a,this.clientSecret=i,this.isProduction=n}return e}(),inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$uibModalInstance=e,this.options=a,this.dateService=i,this.$q=n,this.$window=o,this.close=function(){r.$uibModalInstance.close()},this.load=function(){var e={vatNo:r.entityTaxCode,periodKey:r.periodKey,entityNo:r.entityNameNo,entityName:r.entityName,toDate:r.toDate,fromDate:r.fromDate,selectedEntitiesNames:r.selectedEntitiesNames};r.service.getReturn(e).then(function(e){r.handleResponse(e)})},this.handleResponse=function(e){_.isUndefined(e.vatResponse)?r.responseError=e:r.responseSuccess=e.vatResponse,"OK"===e.vatReturnData.status.toUpperCase()?(r.vatReturnDataSuccess=e.vatReturnData.status,r.vatValues=_.map(e.vatReturnData.data,function(e){return e.toFixed(2)})):r.vatReturnDataError=e.vatReturnData.error,r.pdfId=e.pdfStorageId},this.exportToPdf=function(){var e=r.entityName+" "+r.fromDate+"-to-"+r.toDate;r.$window.open("accounting/vat/"+r.pdfId+"/exportToPdf/"+e)},this.entityNameNo=this.options.entityNameNo,this.fromDate=this.dateService.format(this.options.fromDate),this.toDate=this.dateService.format(this.options.toDate),this.entityName=this.options.entityName,this.entityTaxCode=this.options.entityTaxCode,this.entityNameNo=this.options.entityNameNo,this.selectedEntitiesNames=this.options.selectedEntitiesNames,this.periodKey=this.options.periodKey,this.pdfId="",this.service=t,this.load()}return e.$inject=["$uibModalInstance","VatReturnsService","options","dateService","$q","$window"],e}();e.AccountingViewVatReturnController=t,angular.module("inprotech.accounting.vat").controller("AccountingViewVatReturnController",t),angular.module("inprotech.accounting.vat").run(["modalService",function(e){e.register("ViewVatReturnDialog","AccountingViewVatReturnController","condor/accounting/vat/accounting.vat-fulfilled.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r){var s=this;this.$scope=e,this.$uibModalInstance=t,this.options=i,this.kendoGridBuilder=n,this.dateService=o,this.localSettings=r,this.buildGridOptions=function(){return s.kendoGridBuilder.buildOptions(s.$scope,{id:"accounting-vat-logs",autoBind:!0,autoGenerateRowTemplate:!0,sortable:{allowUnsort:!0},read:function(){return s.service.getLogs(s.entityTaxCode,s.periodKey)},columns:s.getColumns(),columnSelection:{localSetting:s.getColumnSelectionLocalSetting()}})},this.getColumns=function(){return[{title:"accounting.vatLog.date",width:"30%",fixed:!0,field:"date",template:'<ip-date-time model="::dataItem.date"></ip-date-time>',oneTimeBinding:!0},{title:"accounting.vatLog.message",fixed:!0,field:"data",sortable:!1,template:"<span>{{ 'accounting.vatLog.code' | translate }}{{ dataItem.message.code }} </br> {{ 'accounting.vatLog.logMessage' | translate }}{{ dataItem.message.message }}</span><ul><li ng-repeat=\"e in dataItem.message.errors\" >{{ e.code }}: {{ e.message }} {{ e.path }}</li></ul>",oneTimeBinding:!0}]},this.getColumnSelectionLocalSetting=function(){return s.localSettings.Keys.accounting.vatLogs.columnsSelection},this.close=function(){s.$uibModalInstance.close()},this.fromDate=this.dateService.format(this.options.fromDate),this.toDate=this.dateService.format(this.options.toDate),this.entityName=this.options.entityName,this.entityTaxCode=this.options.entityTaxCode,this.entityNameNo=this.options.entityNameNo,this.selectedEntitiesNames=this.options.selectedEntitiesNames,this.periodKey=this.options.periodKey,this.service=a,this.gridOptions=this.buildGridOptions()}return e.$inject=["$scope","$uibModalInstance","VatReturnsService","options","kendoGridBuilder","dateService","localSettings"],e}();e.AccountingVatLogController=t,angular.module("inprotech.accounting.vat").controller("AccountingVatLogController",t),angular.module("inprotech.accounting.vat").run(["modalService",function(e){e.register("VatErrorLogDialog","AccountingVatLogController","condor/accounting/vat/accounting.vat-log.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$uibModalInstance=e,this.options=a,this.dateService=i,this.$q=n,this.$window=o,this.close=function(){r.$uibModalInstance.close(r.responseSuccess)},this["export"]=function(){var e=(""===r.selectedEntitiesNames?r.entityName:"VAT Group")+" "+r.fromDate+"-to-"+r.toDate;r.$window.open("accounting/vat/"+r.pdfId+"/exportToPdf/"+e)},this.vatBox3=function(){_.isFinite(Number(r.vatValues[0]))&&_.isFinite(Number(r.vatValues[1]))?r.vatValues[2]=(Number(r.vatValues[0])+Number(r.vatValues[1])).toFixed(2):r.vatValues[2]="accounting.vatSubmitter.notCalculate"},this.vatBox5=function(){_.isFinite(Number(r.vatValues[2]))&&_.isFinite(Number(r.vatValues[3]))?r.vatValues[4]=Math.abs(Number(r.vatValues[2])-Number(r.vatValues[3])).toFixed(2):r.vatValues[4]="accounting.vatSubmitter.notCalculate"},this.submit=function(){r.canProceed=!1;var e={vatValues:r.vatValues,vatNo:r.entityTaxCode,entityName:r.entityName,periodKey:r.periodKey,entityNo:r.entityNameNo,toDate:r.toDate,fromDate:r.fromDate,selectedEntitiesNames:r.selectedEntitiesNames};r.service.submitVatData(e).then(function(e){r.handleSubmissionResponse(e)})},this.handleSubmissionResponse=function(e){e.data.processingDate&&e.data.formBundleNumber?r.responseSuccess=e.data:r.responseError=e.data,r.pdfId=e.pdfStorageId},this.populateVAT=function(){var e=[1,2,4,6,7,8,9].reduce(function(e,t){return e.then(function(){return r.getVatData(t)})},r.$q.resolve());e.then(function(e){r.canProceed=_.every(r.vatValues,function(e){return _.isFinite(e)})})},this.getVatData=function(e){return r.service.getVatData(e,r.entityNameNo,r.fromDate,r.toDate).then(function(t){r.vatValues[e-1]=_.isNumber(t.value)?Number(t.value).toFixed(2):"accounting.vatSubmitter.noDocItem",2===e&&r.vatBox3(),4===e&&r.vatBox5()})},this.entityNameNo=this.options.entityNameNo,this.fromDate=this.dateService.format(this.options.fromDate),this.toDate=this.dateService.format(this.options.toDate),this.entityName=this.options.entityName,this.entityTaxCode=this.options.entityTaxCode,this.entityNameNo=this.options.entityNameNo,this.selectedEntitiesNames=this.options.selectedEntitiesNames,this.periodKey=this.options.periodKey,this.service=t,this.canProceed=!1,this.populateVAT(),this.pdfId="",this.vatValues=["","","","","","","","",""]}return e.$inject=["$uibModalInstance","VatReturnsService","options","dateService","$q","$window"],e}();e.AccountingVatSubmitterController=t,angular.module("inprotech.accounting.vat").controller("AccountingVatSubmitterController",t),angular.module("inprotech.accounting.vat").run(["modalService",function(e){e.register("VatSubmitterDialog","AccountingVatSubmitterController","condor/accounting/vat/accounting.vat-submitter.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r,s,l,c){var d=this;this.$scope=e,this.$location=t,this.$window=a,this.kendoGridBuilder=n,this.localSettings=o,this.dateService=r,this.dateHelper=s,this.modalService=l,this.store=c,this.buildGridOptions=function(){return d.kendoGridBuilder.buildOptions(d.$scope,{id:"accounting-vat-obligations",autoBind:!1,autoGenerateRowTemplate:!0,sortable:{allowUnsort:!0},read:function(){return d.authoriseRead()},columns:d.getColumns(),columnSelection:{localSetting:d.getColumnSelectionLocalSetting()}})},this.authoriseRead=function(){return d.service.getObligations(d.searchCriteria(d.formData)).then(function(e){return angular.isDefined(e.readyToRedirect)&&"ok"===e.readyToRedirect?void d.redirectOnAuth(e):e})},this.getColumns=function(){return[{width:20,fixed:!0,field:"icons",sortable:!1,template:'<ip-icon-button ng-if="dataItem.status === \'F\'" class="btn-no-bg" button-icon="file" type="button" ip-tooltip="{{::\'accounting.vatObligations.view\' | translate }}" ng-click="vm.viewVatReturn(dataItem.start, dataItem.end, dataItem.periodKey)"></ip-icon-button><ip-icon-button ng-if="dataItem.status === \'O\'" class="btn-no-bg" button-icon="check-in" type="button" ip-tooltip="{{::\'accounting.vatObligations.submit\' | translate }}" ng-click="vm.vatSubmitter(dataItem.start, dataItem.end, dataItem.periodKey)"></ip-icon-button>'},{width:13,fixed:!0,field:"errors",sortable:!1,template:'<span ng-if="dataItem.hasLogErrors"><a class="cpa-icon text-red cpa-icon-history tooltip-error" ng-click="vm.openErrorLog(dataItem.start, dataItem.end, dataItem.periodKey)" ip-tooltip="{{::\'accounting.vatObligations.openErrorLog\' | translate }}"></a></span>'},{title:"accounting.vatObligations.status",field:"status",template:"<span>{{ dataItem.status === 'F' ? 'accounting.vat.fulfilled' : 'accounting.vat.open' | translate}}</span>",oneTimeBinding:!0},{title:"accounting.vatObligations.start",field:"start",template:'<span>{{ dataItem.start | date:"'+d.dateService.dateFormat+'" }}</span>',oneTimeBinding:!0},{title:"accounting.vatObligations.end",field:"end",template:'<span>{{ dataItem.end | date:"'+d.dateService.dateFormat+'" }}</span>',oneTimeBinding:!0},{title:"accounting.vatObligations.dueDate",field:"due",template:'<span ng-if="!dataItem.isPastDue || dataItem.status === \'F\'">{{ dataItem.due | date:"'+d.dateService.dateFormat+'" }}</span><span ng-if="dataItem.isPastDue && dataItem.status !== \'F\'" class="text text-red-dark tooltip-error ip-hover-help" ip-tooltip="{{::\'accounting.vatObligations.overdue\' | translate }}">{{ dataItem.due | date:"'+d.dateService.dateFormat+'" }}</span>',oneTimeBinding:!0},{title:"accounting.vatObligations.submittedDate",field:"received",template:'<span ng-if="dataItem.received !== null">{{ dataItem.received | date:"'+d.dateService.dateFormat+'" }}</span>',oneTimeBinding:!0}]},this.getColumnSelectionLocalSetting=function(){return d.localSettings.Keys.accounting.vatObligations.columnsSelection},this.setDefaultValues=function(e){e.search={},d.vm.viewData.entityNames&&1===d.vm.viewData.entityNames.length?e.search.entityName=d.vm.viewData.entityNames[0]:e.search.entityName={taxCode:null},e.search.open=!0,e.search.fulfilled=!1,e.search.fromDate=d.dateHelper.convertForDatePicker(null),e.search.toDate=d.dateHelper.convertForDatePicker(null)},this.clickStatus=function(e){"open"===e&&d.formData.fulfilled===!1&&(d.formData.fulfilled=!0),"fulfilled"===e&&d.formData.open===!1&&(d.formData.open=!0)},this.onEntitySelected=function(){if(d.formData.multipleEntitiesSelected=!1,null!==d.formData.entityName.taxCode){var e=_.where(d.vm.viewData.entityNames,{taxCode:d.formData.entityName.taxCode}),t="";if(e.length>1){d.formData.multipleEntitiesSelected=!0;var a=d.formData.entityName.taxCode,i=0;angular.forEach(d.vm.viewData.entityNames,function(n){n.taxCode===a&&(i++,t+=n.displayName+(i<e.length?", ":"."))})}d.formData.selectedEntitiesNames=t}},this.search=function(){d.noEntitySelected()&&(d.formData.entityName=null),d.form.$validate(),d.form.$invalid||d.noEntitySelected()||d.noVatNumber()||d.service.initialiseHmrcHeaders(d.vm.viewData.deviceId).then(function(e){d.getSearchResults()})},this.getSearchResults=function(){d.gridOptions.search(),d.vm.viewData.hasResults=!0},this.redirectOnAuth=function(e){var t,a=e.stateKey;d.store.session.set("hmrcState",(t={},t[a]=d.formData,t)),d.$window.location.href=e.loginUri},this.clear=function(){d.gridOptions.clear(),d.vm.viewData.hasResults=!1,d.form.$reset(),d.form.$setPristine(),d.formData=angular.copy(d.vm.viewData.search),d.formData.entityName={taxCode:null}},this.vatSubmitter=function(e,t,a){d.modalService.openModal({id:"VatSubmitterDialog",controllerAs:"vm",entityNameNo:d.searchedEntity.id,fromDate:e,toDate:t,entityName:d.searchedEntity.displayName,entityTaxCode:d.searchedEntity.taxCode,periodKey:a,selectedEntitiesNames:d.selectedEntitiesNames}).then(function(e){e&&d.search()})},this.viewVatReturn=function(e,t,a){d.modalService.openModal({id:"ViewVatReturnDialog",controllerAs:"vm",entityNameNo:d.searchedEntity.id,fromDate:e,toDate:t,entityName:d.searchedEntity.displayName,entityTaxCode:d.searchedEntity.taxCode,periodKey:a,selectedEntitiesNames:d.selectedEntitiesNames})},this.openErrorLog=function(e,t,a){d.modalService.openModal({id:"VatErrorLogDialog",controllerAs:"vm",entityNameNo:d.searchedEntity.id,periodKey:a,fromDate:e,toDate:t,entityName:d.searchedEntity.displayName,entityTaxCode:d.searchedEntity.taxCode,selectedEntitiesNames:d.selectedEntitiesNames})},this.searchCriteria=function(e){return d.searchedEntity=e.entityName,d.selectedEntitiesNames=e.selectedEntitiesNames,{entityId:e.entityName.id,taxNo:e.entityName.taxCode,periodFrom:e.fromDate,periodTo:e.toDate,getOpen:e.open,getFulfilled:e.fulfilled}},this.entityError=function(){return d.noVatNumber()?"accounting.vat.noVatNumber":null},this.noEntitySelected=function(){return d.formData.entityName&&!d.formData.entityName.displayName},this.noVatNumber=function(){return!!d.formData.entityName&&(!!d.formData.entityName.displayName&&(d.formData.entityName.displayName&&!d.formData.entityName.taxCode))},this.vm=this,this.service=i,this.form={},this.gridOptions=this.buildGridOptions()}return e.prototype.$onInit=function(){var e=this;if(this.vm.viewData.stateId){var t=this.vm.viewData.stateId,a=this.store.session.get("hmrcState");angular.forEach(this.vm.viewData.entityNames,function(e){e.formattedName=e.displayName+" (VRN: "+(null==e.taxCode?"-":e.taxCode)+")"}),a&&a[t]&&(a[t].fromDate=this.dateHelper.convertForDatePicker(a[t].fromDate),a[t].toDate=this.dateHelper.convertForDatePicker(a[t].toDate),a[t].open||a[t].fulfilled||(a[t].open=!0),this.formData=angular.copy(a[t]),this.service.initialiseHmrcHeaders(this.vm.viewData.deviceId).then(function(t){e.getSearchResults()}))}else angular.forEach(this.vm.viewData.entityNames,function(e){e.formattedName=e.displayName+" (VRN: "+(null==e.taxCode?"-":e.taxCode)+")"}),this.setDefaultValues(this.vm.viewData),this.formData=angular.copy(this.vm.viewData.search),this.formData.multipleEntitiesSelected=!1,this.formData.selectedEntitiesNames=""},e.$inject=["$scope","$location","$window","VatReturnsService","kendoGridBuilder","localSettings","dateService","dateHelper","modalService","store"],e}();e.AccountingVatController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/accounting/vat/accounting.vat.html",this.bindings={viewData:"<"}}return e}();angular.module("inprotech.accounting.vat").component("ipVat",new a)}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){var i=this;this.$http=e,this.store=t,this.headerService=a,this.getHeaders=function(){return i.headerService.resolve()}}return e.prototype.initialiseHmrcHeaders=function(e){return this.headerService.initialise(e)},e.prototype.getObligations=function(e){return this.$http.get("api/accounting/vat/obligations",{params:{q:JSON.stringify(e)},headers:this.getHeaders()}).then(function(e){return angular.isDefined(e.data.result)&&"ok"===e.data.result.readyToRedirect?e.data.result:200===e.status?e.data.data.data:void 0},function(){return[]})},e.prototype.getVatData=function(e,t,a,i){return this.$http.get("api/accounting/vat/vatData",{params:{q:JSON.stringify({vatBoxNumber:e,entityNameNo:t,fromDate:a,toDate:i})}}).then(function(e){return e.data})},e.prototype.save=function(e){return this.$http.post("api/accounting/vat/settings/save",e)},e.prototype.submitVatData=function(e){var t=angular.extend(e);return this.$http.post("api/accounting/vat/submit",t,{headers:this.getHeaders()}).then(function(e){if(200===e.status)return e.data},function(e){return e.data})},e.prototype.getReturn=function(e){return this.$http.get("api/accounting/vat/vatreturn",{params:{q:JSON.stringify(e)},headers:this.getHeaders()}).then(function(e){if(200===e.status)return e.data},function(e){return e.data})},e.prototype.getLogs=function(e,t){return this.$http.get("api/accounting/vat/vatlogs",{params:{q:JSON.stringify({vatNo:e,periodKey:t})}}).then(function(e){return e.data})},e.$inject=["$http","store","HmrcHeadersBuilderService"],e}();e.VatReturnsService=t,angular.module("inprotech.accounting.vat").service("VatReturnsService",t)}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n){var o=this;this.$http=e,this.$window=t,this.$sce=a,this.store=i,this.$q=n,this.initialise=function(e){o.deviceId=e||o.deviceId;var t=o.$q.defer();return o.clientPublicIp?(t.resolve(!0),t.promise):o.getClientPublicIp().then(function(e){return t.resolve(!0),t.promise})},this.getCurrentTimeZone=function(){return o.calculateCurrentTimeZone()},this.getClientScreens=function(){var e=1;return e=o.$window.devicePixelRatio,"width="+o.$window.screen.availWidth+"&height="+o.$window.screen.availHeight+"&colour-depth="+o.$window.screen.colorDepth+"&scaling-factor="+e},this.getClientWindowSize=function(){return"width="+o.$window.screen.width+"&height="+o.$window.screen.height},this.getclientDeviceId=function(){return void 0===o.store.local.get("clientDeviceId")&&o.store.local.set("clientDeviceId",o.deviceId),o.store.local.get("clientDeviceId")},this.getClientPublicIp=function(){return o.$http.jsonp(o.$sce.trustAsResourceUrl("https://api.ipify.org?format=jsonp"),{jsonpCallbackParam:"callback"}).then(function(e){o.clientPublicIp=e.data.ip})},this.getclientBrowserDoNoTrack=function(){return(o.$window.doNotTrack||o.$window.navigator.doNotTrack||o.$window.navigator.msDoNotTrack||"msTrackingProtectionEnabled"in o.$window.external)&&("1"===o.$window.doNotTrack||"yes"===o.$window.navigator.doNotTrack||"1"===o.$window.navigator.doNotTrack||"1"===o.$window.navigator.msDoNotTrack||o.$window.external.msTrackingProtectionEnabled())?"true":"false"},this.calculateCurrentTimeZone=function(){var e=new Date,t=e.getTimezoneOffset();t=t/60*-1;var a="UTC";return 0!==t&&(a+=t>0?"+":"",a+=1===String(t).length?"0"+t:t,a+=":00"),a},this.resolve=function(){return{"x-inprotech-current-timezone":o.getCurrentTimeZone(),"x-inprotech-client-public-ip":o.clientPublicIp,"x-inprotech-client-screens":o.getClientScreens(),"x-inprotech-client-window-size":o.getClientWindowSize(),"x-inprotech-client-device-id":o.getclientDeviceId(),"x-inprotech-client-browser-do-not-track":o.getclientBrowserDoNoTrack()}}}return e.$inject=["$http","$window","$sce","store","$q"],e}();e.HmrcHeadersBuilderService=t,angular.module("inprotech.accounting.vat").service("HmrcHeadersBuilderService",t)}(t=e.vat||(e.vat={}))}(t=e.accounting||(e.accounting={}))}(inprotech||(inprotech={}));var Inprotech;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){var a=this;this.options=e,this.$uibModalInstance=t,this.ok=function(){a.$uibModalInstance.dismiss("")}}return e.$inject=["options","$uibModalInstance"],e}();e.ImportStatusErrorPopupController=t,angular.module("Inprotech.BulkCaseImport").controller("ImportStatusErrorPopupController",t)}(t=e.BulkCaseImport||(e.BulkCaseImport={}))}(Inprotech||(Inprotech={}));var Inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$uibModalInstance=e,this.hotkeys=t,this.notificationService=a,this.modalService=i,this.sponsorshipService=n,this.options=o,this.isUpdateMode=!1,this.isSaving=!1,this.errors={},this.customerNumbers="",this.sponsorship={id:null,name:null,email:null,password:null,authenticatorKey:null,customerNumbers:null,serviceId:null},this.disable=function(){var e=r.form.$dirty&&r.form.$valid;return r.isUpdateMode&&e?!(r.sponsorship.password||r.sponsorship.authenticatorKey||r.hasCustomersNumberChanged()):!e},this.cancel=function(){r.$uibModalInstance.close(!1)},this.dismissAll=function(){return r.form.$dirty?void r.notificationService.discard().then(function(){r.cancel()}):void r.cancel()},this.hasCustomersNumberChanged=function(){var e=r.sponsorship.customerNumbers.trim().split(",").filter(function(e){return e});return r.customerNumberForUpdateComparison.length!==e.length||r.customerNumberForUpdateComparison.filter(function(t){return e.indexOf(t)===-1}).length>0},this.save=function(){if(!r.isSaving&&(r.errors={},r.form&&r.form.$validate&&r.form.$validate(),r.form.$valid)){r.isSaving=!0;var e=r.getTrimOutput(r.sponsorship);r.sponsorshipService.addOrUpdate(e,r.isUpdateMode).then(r.afterSave)["finally"](function(){r.isSaving=!1})}},this.getTrimOutput=function(e){var t={};return Object.keys(e).map(function(a){return"string"==typeof e[a]||e[a]instanceof String?t[a]=e[a].trim():t[a]=e[a]}),t},this.afterSave=function(e){e.data.isSuccess===!0?(r.$uibModalInstance.close(!0),r.notificationService.success()):r.notificationService.alert({title:"modal.unableToComplete",message:e.data.key?"dataDownload.uspto.new.errors."+e.data.key:"dataDownload.uspto.new.errors.default",messageParams:{number:e.data.error}})},this.initShortcuts=function(){r.hotkeys.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!this.disable()&&this.modalService.canOpen("NewUsptoSponsorship")&&this.save()}}),r.hotkeys.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){this.modalService.canOpen("NewUsptoSponsorship")&&this.dismissAll()}})},this.vm=this,this.options.data&&this.options.data.item&&(this.isUpdateMode=!0,this.sponsorship.id=this.options.data.item.id,this.sponsorship.name=this.options.data.item.name,this.sponsorship.email=this.options.data.item.email,this.sponsorship.password="            ",this.sponsorship.authenticatorKey="                  ",this.sponsorship.customerNumbers=this.options.data.item.customerNumbers,this.sponsorship.serviceId=this.options.data.item.serviceId,this.customerNumberForUpdateComparison=this.sponsorship.customerNumbers.split(","),this.serviceInfo=this.options.data.clientId+" | "+this.sponsorship.serviceId),this.customerNumbers=this.options.data.customerNumbers.replace(this.sponsorship.customerNumbers,"")}return e.$inject=["$uibModalInstance","hotkeys","notificationService","modalService","sponsorshipService","options"],e}();e.NewUsptoPrivatePairSponsorshipController=t,angular.module("Inprotech.Integration.PtoAccess").controller("newUsptoPrivatePairSponsorshipController",t)}(t=e.PtoAccess||(e.PtoAccess={}))}(t=e.Integration||(e.Integration={}))}(Inprotech||(Inprotech={}));var Inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(t,a,i,n,o,r){var s=this;this.$scope=t,this.modalService=a,this.kendoGridBuilder=i,this.notificationService=n,this.sponsorshipService=o,this.dateService=r,this.vm=e,this.canScheduleDataDownload=!1,this.envInvalid=!1,this.missingBackgroundProcessLoginId=!1,this.customerNumbers="",this.hasSponsorship=!1,this.onAddOrUpdate=function(e){s.modalService.openModal({id:"NewUsptoSponsorship",controllerAs:"vm",data:{item:e,customerNumbers:s.customerNumbers,clientId:s.clientId}}).then(function(e){e&&s.gridOptions.search()})},this.onDelete=function(e){s.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){s.sponsorshipService["delete"](e).then(function(){s.gridOptions.search()})})},this.onUpdateAccountDetails=function(){s.modalService.openModal({id:"updateUsptoAccountDetails",controllerAs:"vm",data:{clientId:s.clientId}})},this.setCustomerNumbers=function(e){s.customerNumbers="",angular.forEach(e,function(e){s.customerNumbers+=e.customerNumbers+", "}),""!==s.customerNumbers&&(s.customerNumbers=s.customerNumbers.substring(0,s.customerNumbers.length-2))},this.gridOptions=this.buildGridOptions()}return e.prototype.buildGridOptions=function(){var e=this;return this.kendoGridBuilder.buildOptions(this.$scope,{id:"searchResults",scrollable:!1,reorderable:!1,navigatable:!0,rowAttributes:'ng-class="{saved: dataItem.saved}"',serverFiltering:!1,autoBind:!0,read:function(){return e.sponsorshipService.get().then(function(t){return e.canScheduleDataDownload=t.canScheduleDataDownload,e.envInvalid=t.envInvalid,e.missingBackgroundProcessLoginId=t.missingBackgroundProcessLoginId,e.setCustomerNumbers(t.sponsorships),e.clientId=t.clientId,e.hasSponsorship=t.clientId&&t.sponsorships&&t.sponsorships.length>0,t.sponsorships})},columns:[{sortable:!1,width:"30px",template:'<ip-icon-button ng-if="dataItem.status===\'error\'" class="btn-no-bg" button-icon="exclamation-circle" type="button" style="cursor:default;color:red" uib-popover="{{:: \'dataDownload.uspto.errors.sponsorship\' | translate: { date: vm.formatDate(dataItem.statusDate) , text: dataItem.errorMessage } }}" popover-placement="auto"></ip-icon-button>'},{title:"dataDownload.uspto.Columns.name",field:"name",sortable:!0},{title:"dataDownload.uspto.Columns.sponsoredEmail",field:"email",sortable:!1},{title:"dataDownload.uspto.Columns.customerNumber",field:"customerNumbers",sortable:!1},{sortable:!1,template:function(){var e='<div class="pull-right">';return e+='<button id="btnModify_{{dataItem.id}}" ng-click="vm.onAddOrUpdate(dataItem); $event.stopPropagation();" class="btn btn-prominent schedule-button" translate="dataDownload.uspto.editPassword" />',e+='<button id="btnDelete_{{dataItem.id}}" ng-click="vm.onDelete(dataItem.id); $event.stopPropagation();" class="btn btn-discard schedule-button" translate="dataDownload.uspto.delete" />',e+="</div>"}}]})},e.prototype.formatDate=function(e){return this.dateService.format(e)},e.$inject=["$scope","modalService","kendoGridBuilder","notificationService","sponsorshipService","dateService"],e}();e.UsptoPrivatePairSponsorshipsController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/classic/integration/ptoaccess/uspto/privatepair/sponsorships.html",this.bindings={viewData:"<",topic:"<"}}return e}();angular.module("Inprotech.Integration.PtoAccess").component("usptoPrivatePairSponsorshipsComponent",new a)}(t=e.PtoAccess||(e.PtoAccess={}))}(t=e.Integration||(e.Integration={}))}(Inprotech||(Inprotech={}));var Inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.get=function(){return t.$http.get("api/ptoaccess/uspto/privatepair/sponsorships").then(function(e){return e.data})},this["delete"]=function(e){return t.$http["delete"]("api/ptoaccess/uspto/privatepair/sponsorships/"+e)},this.addOrUpdate=function(e,a){var i="api/ptoaccess/uspto/privatepair/sponsorships";return a?t.$http.patch(i,e):t.$http.post(i,e)},this.updateAccountSettings=function(e){var a="api/ptoaccess/uspto/privatepair/sponsorships/accountSettings";return t.$http.patch(a,e,{handlesError:!0})}}return e}();angular.module("Inprotech.Integration.PtoAccess").service("sponsorshipService",["$http","url",t])}(t=e.PtoAccess||(e.PtoAccess={}))}(t=e.Integration||(e.Integration={}))}(Inprotech||(Inprotech={}));var Inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n){var o=this;this.$uibModalInstance=e,this.hotkeys=t,this.notificationService=a,this.sponsorshipService=i,this.options=n,this.isSaving=!1,this.data={queueUrl:null,queueId:null,queueSecret:null},this.disable=function(){var e=o.form.$dirty&&o.form.$valid;return!e},this.cancel=function(){o.$uibModalInstance.close(!1)},this.dismissAll=function(){return o.form.$dirty?void o.notificationService.discard().then(function(){o.cancel()}):void o.cancel()},this.save=function(){o.isSaving||(o.form&&o.form.$validate&&o.form.$validate(),o.form.$valid&&o.notificationService.confirm({message:"dataDownload.uspto.updateAccountDetails.saveConfirm"}).then(function(){o.isSaving=!0;var e=o.data;o.sponsorshipService.updateAccountSettings(e).then(o.afterSave,function(){o.notificationService.alert({message:"dataDownload.uspto.updateAccountDetails.errors.default"})})["finally"](function(){o.isSaving=!1})}))},this.afterSave=function(e){e.data.isSuccess===!0?(o.$uibModalInstance.close(!0),o.notificationService.success()):o.notificationService.alert({title:"modal.unableToComplete",message:e.data.key?"dataDownload.uspto.updateAccountDetails.errors."+e.data.key:"dataDownload.uspto.updateAccountDetails.errors.default"})},this.initShortcuts=function(){o.hotkeys.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!this.disable()&&this.modalService.canOpen("updateUsptoAccountDetails")&&this.save()}}),o.hotkeys.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){this.modalService.canOpen("updateUsptoAccountDetails")&&this.dismissAll()}})},this.vm=this,this.serviceInfo=this.options.data.clientId}return e.$inject=["$uibModalInstance","hotkeys","notificationService","sponsorshipService","options"],e}();e.UpdateUsptoAccountDetailsController=t,angular.module("Inprotech.Integration.PtoAccess").controller("updateUsptoAccountDetailsController",t)}(t=e.PtoAccess||(e.PtoAccess={}))}(t=e.Integration||(e.Integration={}))}(Inprotech||(Inprotech={}));var AddMappingController=function(){function e(e,t,a,i){var n=this;this.notificationService=e,this.$uibModalInstance=t,this.schemaDataService=a,this.options=i,this.newMapping={mappingName:null,schemaPackage:null,copyMappingFrom:null,rootNodes:[],selectedNode:null,error:null},this.mappings=[],this.save=function(){if(n.form.$validate()){var e=n;n.schemaDataService.addMapping({mappingName:n.newMapping.mappingName,schemaPackageId:n.newMapping.schemaPackage.id,copyMappingFrom:n.newMapping.copyMappingFrom?n.newMapping.copyMappingFrom.id:null,rootNode:n.newMapping.selectedNode}).then(function(t){return"NameError"===t.status?(e.newMapping.error="field.errors.notunique",void e.notificationService.alert({message:"schemaMapping.usDuplicateMappingName"})):t.error?(e.newMapping.error="schemaMapping."+t.error,void e.notificationService.alert()):void e.$uibModalInstance.close({id:t.mapping.id,result:"success"})})["catch"](function(){e.newMapping.error="schemaMapping.usErrorWhileMappingCreation"})}},this.dismissAll=function(){var e=n;n.form.$dirty?n.notificationService.discard().then(function(){e.$uibModalInstance.dismiss()}):e.$uibModalInstance.dismiss()},this.getDocTypeText=function(){return"<!DOCTYPE "+n.newMapping.selectedNode.name+' SYSTEM "'+(n.newMapping.selectedNode.fileRef||"")+'">'},this.init=function(){n.newMapping.schemaPackage=n.options.schemaPackage;var e=n;n.schemaDataService.getRootNodesForSchemaPackage(n.newMapping.schemaPackage.id).then(function(t){"RootNodes"===t.status&&(e.newMapping.rootNodes=t.nodes,_.each(e.newMapping.rootNodes,function(e){e.isDtdFile&&(e.fileRef=e.fileName)}),1===e.newMapping.rootNodes.length&&(e.newMapping.selectedNode=e.newMapping.rootNodes[0],e.form.rootNode.$setDirty()))}),n.mappings=n.schemaDataService.getMappings()},this.init()}return e.$inject=["notificationService","$uibModalInstance","schemaDataService","options"],e}();angular.module("Inprotech.SchemaMapping").controller("AddMappingController",AddMappingController);var MappingsListController=function(){function e(e,t,a,i){var n=this;this.$scope=e,this.kendoGridBuilder=t,this.notificationService=a,this.schemaDataService=i,this.hasErrors=!1,this.firstLoad=!0,this.buildGridOptions=function(){var e=n;return n.kendoGridBuilder.buildOptions(n.$scope,{id:"mappings",
scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,read:function(){return e.schemaDataService.getMappings(e.firstLoad)},onDataBound:function(){e.hasErrors=_.any(e.gridOptions.data(),{isValid:!1}),e.firstLoad=!1},columns:n.getColumns()})},this.getColumns=function(){return[{field:"isValid",headerTemplate:'<ip-icon-button id="mappingErrorIcon" class="btn-no-bg policing-exclamation-square" ng-class="{\'cpa-icon-exclamation-square-noerror\': !vm.hasErrors}" button-icon="exclamation-square" type="button" style="cursor:default"></ip-icon-button>',template:'#if(!isValid) {# <ip-icon-button class="btn-no-bg expand-btn error" button-icon="exclamation-square expand-btn" type="button" ip-tooltip="{{::\'schemaMapping.mappingErrorTooltip\' | translate }}" data-placement="top"></ip-icon-button> #}#',sortable:!1,width:"30px",locked:!0},{title:"schemaMapping.usLblName",sortable:!0,field:"name",template:'#if(isValid) {# <strong><a ui-sref="schemamapping.mapping({id:{{dataItem.id}}})" data-ng-class="pointerCursor">{{dataItem.name}}</a></strong> #} else {#<strong><span>{{dataItem.name}}</span></strong> #}#<div class="text-muted"><div><span translate="schemaMapping.usLblRoot"></span>: {{dataItem.rootNode.qualifiedName.name}} </div></div>'},{title:"schemaMapping.usLblSchema",sortable:!0,field:"schemaPackageName",template:'<span>{{dataItem.schemaPackageName}}</span><div class="text-muted"><div>{{::"schemaMapping.usLblFile" | translate }}: {{dataItem.rootNode.fileName}}</div></div>'},{title:"schemaMapping.usLblLastModified",field:"lastModified",sortable:!0,template:"{{dataItem.lastModified | localeDate}}"},{sortable:!1,template:function(e){var t='<div class="pull-right">';return t+='<button id="btnDelete_{{dataItem.id}}" ng-click="vm.onDelete(dataItem); $event.stopPropagation();" class="btn btn-discard schemaMapping-button" translate="schemaMapping.usBtnDelete" />',t+="</div>"}}]},this.onDelete=function(e){var t=n;n.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){t.schemaDataService.deleteMapping(e.id).then(function(){t.notificationService.success()})})},this.gridOptions=this.buildGridOptions();var o=this;this.$scope.$watch(function(){return n.schemaDataService.mappingsModified()},function(e,t){e!==t&&e&&(o.gridOptions.dataSource.read(),o.gridOptions.$widget.refresh(),o.schemaDataService.mappingReloaded())})}return e.$inject=["$scope","kendoGridBuilder","notificationService","schemaDataService"],e}(),MappingsList=function(){function e(){this.transclude=!0,this.replace=!0,this.restrict="EA",this.templateUrl="condor/classic/schemaMapping/lists/mappings-list.html",this.controller=MappingsListController,this.controllerAs="vm",this.bindings={}}return e}();angular.module("Inprotech.SchemaMapping").component("mappingsList",new MappingsList);var SchemaDataService=function(){function e(e,t){var a=this;this.$http=e,this.url=t,this.mappingsNeedsReload=!1,this.addOrGetSchemaPackage=function(e){return a.$http.get(a.url.api("schemapackage/"+e+"/details")).then(function(e){return e.data})},this.getRootNodesForSchemaPackage=function(e){return a.$http.get(a.url.api("schemapackage/"+e+"/roots")).then(function(e){return e.data})},this.updateSchemaPackage=function(e,t){return a.$http.put(a.url.api("schemapackage/"+e+"/name"),{name:t})},this.deleteSchemaPackage=function(e){var t=a;return a.$http["delete"](a.url.api("schemaPackage/"+e)).then(function(){t.mappings=_.chain(t.mappings).difference(_.where(t.mappings,{schemaPackageId:e})).value(),t.mappingsNeedsReload=!0})},this.addSchemaFile=function(e,t){return a.$http.post(a.url.api("schemapackage/"+e),t).then(function(e){return e.data})},this.deleteSchemaFile=function(e,t){return a.$http["delete"](a.url.api("schemapackage/"+e+"/file/"+t)).then(function(e){return e.data})},this.getMappings=function(e){void 0===e&&(e=!1);var t=a;return!e&&a.mappings?a.mappings:a.$http.get(a.url.api("schemamappings/mappings")).then(function(e){return t.mappings=e.data,t.mappings})},this.addMapping=function(e){return a.$http.post(a.url.api("schemamappings"),e).then(function(e){return e.data})},this.deleteMapping=function(e){var t=a;return a.$http["delete"](a.url.api("schemamappings/"+e)).then(function(){t.mappings=_.chain(t.mappings).difference(_.where(t.mappings,{id:e})).value(),t.mappingsNeedsReload=!0})},this.getSchemas=function(){var e=a;return a.$http.get(a.url.api("schemapackage/list")).then(function(t){return e.schemas=t.data,e.schemas})},this.setPackageValidity=function(e,t){var i=_.findWhere(a.schemas,{id:e});i&&(i.isValid=t),_.chain(a.mappings).where({schemaPackageId:e}).each(function(e){e.isValid=t}),a.mappingsNeedsReload=!0},this.getMappingNamesFor=function(e){return _.pluck(_.where(a.mappings,{schemaPackageId:e}),"name")},this.mappingsModified=function(){return a.mappingsNeedsReload},this.mappingReloaded=function(){a.mappingsNeedsReload=!1}}return e.$inject=["$http","url"],e}();angular.module("Inprotech.SchemaMapping").service("schemaDataService",SchemaDataService);var SchemaEditorController=function(){function e(e,t,a,i,n,o,r,s,l,c,d,p){var u=this;this.$scope=e,this.notificationService=t,this.$http=a,this.url=i,this.$uibModalInstance=n,this.fileUtils=o,this.fileReader=r,this.schemaDataService=s,this.options=l,this.$translate=c,this.kendoGridBuilder=d,this.$q=p,this.save=function(){var e=u;u.updatePackageName(u.details.spackage.name,u.details.currentName).then(function(t){t&&(e.notificationService.success(),e.$uibModalInstance.close({result:"success",isValid:e.details.spackage.isValid}))})},this.dismissAll=function(){var e=u;u.form.$dirty?u.notificationService.discard().then(function(){e.$uibModalInstance.dismiss()}):e.$uibModalInstance.dismiss()},this.init=function(){u.status="loading";var e=u;u.schemaDataService.addOrGetSchemaPackage(u.schemaId).then(function(t){var a=t["package"];e.schemaId=a.id,e.details=e.details||{},e.details.spackage=a,e.details.currentName=e.details.spackage.name,e.setStatus(t.error),e.reset(),"SchemaPackageCreated"===t.status&&(e.details.spackage.id=a.id,e.notificationService.success(e.$translate.instant("schemaMapping.spLblSchemaCreatedMessage",{packageName:e.details.spackage.name}))),e.details.files=t.files||[],e.details.missingDependencies=t.missingDependencies||[],e.fileGridOptions.$read(),e.fileGridOptions.$widget.refresh()},function(e){throw e})},this.reset=function(){u.status="idle"},this.setStatus=function(e){u.error=e,"none"===e?(u.details.spackage.isValid=!0,u.details.error=null):(u.details.spackage.isValid=!1,u.details.error=e),u.schemaDataService.setPackageValidity(u.schemaId,u.details.spackage.isValid)},this.onSelectFile=function(e){if(!e||0===e.length)return void u.notificationService.alert({message:u.$translate.instant("schemaMapping.usErrorAtLeastOneFileShouldBeSpecified")});if(e.length>1)return void u.notificationService.alert({message:u.$translate.instant("schemaMapping.usErrorMoreThanOneFileSelected")});var t=e[0],a=u;return u.fileUtils.isValidSchemaFileName(t.name)?void u.fileReader.readAsText(t).then(function(e){return a.fileUtils.isValidXsdFileName(t.name)&&!a.fileUtils.isValidXsdContent(e)?void a.notificationService.alert({message:a.$translate.instant("schemaMapping.usErrorInvalidFileContent")}):(a.status="uploading",void a.schemaDataService.addSchemaFile(a.schemaId,{fileName:t.name,content:e}).then(function(e){switch(e.status){case"FileAlreadyExists":return void(e.contentsMatch?(a.$http["delete"](a.url.api("storage/"+e.uploadedFileId)),a.showFileExistsWarning(t.name),a.reset()):(a.details.missingDependencies=e.missingDependencies,a.overWriteConfirm(e.existingFileId,e.uploadedFileId,t.name)));case"SchemaFileCreated":a.addFile(e.schemaFile),a.details.missingDependencies=e.missingDependencies,a.setStatus(e.error),a.showFileUploaded(t.name),a.reset()}})["catch"](function(){a.notificationService.error(a.$translate("schemaMapping.usErrorInvalidFileContent"))}))}):void a.notificationService.alert({message:u.$translate.instant("schemaMapping.usErrorInvalidFileType")})},this.onDeleteFile=function(e){var t=u;u.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){t.schemaDataService.deleteSchemaFile(t.schemaId,e.id).then(function(a){t.details.missingDependencies=a.missingDependencies,t.setStatus(a.error);var i=_.findWhere(t.details.files,{id:e.id});t.details.files.splice(_.indexOf(t.details.files,i),1),t.refreshFileGrid(),t.reset()})},function(){t.reset()})},this.overWriteConfirm=function(e,t,a){var i=u;u.notificationService.confirm({message:"schemaMapping.usLblOverwriteFileMessage"}).then(function(){i.$http.put(i.url.api("storage/"+e+"?withFileId="+t)).then(function(){i.showFileUploaded(a),i.reset(),i.init()})},function(){i.$http["delete"](i.url.api("storage/"+t)).then(function(){i.reset()})})},this.updatePackageName=function(e,t){var a=u.$q.defer();if(""===e)return u.notificationService.alert({message:"schemaMapping.spMandatoryNameError"}),u.nameError="field.errors.required",u.details.spackage.name=t,a.resolve(!1);if(e===t)return a.resolve(!0);var i=u;return u.schemaDataService.updateSchemaPackage(u.schemaId,e).then(function(){return!0},function(e){return"DUPLICATE_NAME"===e.data?(i.notificationService.alert({message:"schemaMapping.spDuplicateNameError"}),i.nameError="field.errors.notunique"):i.notificationService.alert({message:"schemaMapping.response"}),!1})},this.showFileExistsWarning=function(e){u.notificationService.alert({title:u.$translate.instant("modal.unableToComplete"),message:u.$translate.instant("schemaMapping.spLblDuplicateSchemaMessage",{filename:e})})},this.showFileUploaded=function(e){u.notificationService.success(u.$translate.instant("schemaMapping.usLblFileUploaded",{filename:e}))},this.addFile=function(e){u.details.files.push(e),u.refreshFileGrid()},this.refreshFileGrid=function(){u.fileGridOptions.$read(),u.fileGridOptions.$widget.refresh()},this.buildGridOptionsForFileList=function(){var e=u;return u.kendoGridBuilder.buildOptions(u.$scope,{id:"schemas",scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,read:function(){return e.details?e.details.files:null},columns:u.getColumns()})},this.getColumns=function(){return[{title:"schemaMapping.spLblFileName",sortable:!0,field:"name",template:"{{dataItem.name}}"},{title:"schemaMapping.usLblLastModified",field:"updatedOn",sortable:!0,template:"{{dataItem.updatedOn | localeDate}}"},{sortable:!1,template:function(e){var t='<div class="pull-right">';return t+='<button id="btnDeleteFile_{{dataItem.id}}" ng-click="vm.onDeleteFile(dataItem); $event.stopPropagation();" class="btn btn-discard schemaMapping-button" translate="schemaMapping.usBtnDelete" />',t+="</div>"}}]},this.schemaId=this.options.schemaId||-1,this.fileGridOptions=this.buildGridOptionsForFileList(),this.init(),this.$scope.onSelectFile=this.onSelectFile}return e.$inject=["$scope","notificationService","$http","url","$uibModalInstance","fileUtils","fileReader","schemaDataService","options","$translate","kendoGridBuilder","$q"],e}();angular.module("Inprotech.SchemaMapping").controller("SchemaEditorController",SchemaEditorController);var SchemasListController=function(){function e(e,t,a,i,n,o,r){var s=this;this.$scope=e,this.kendoGridBuilder=t,this.modalService=a,this.notificationService=i,this.schemaDataService=n,this.$translate=o,this.$state=r,this.hasErrors=!1,this.buildGridOptions=function(){var e=s;return s.kendoGridBuilder.buildOptions(s.$scope,{id:"schemas",scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,read:function(){return e.data=e.schemaDataService.getSchemas(),e.data},onDataBound:function(){e.hasErrors=_.any(e.gridOptions.data(),{isValid:!1})},columns:s.getColumns()})},this.onClickAdd=function(){var e=s;s.openSchemaEditor().then(function(){e.refreshData()},function(){e.refreshData()})},this.onClickEdit=function(e){var t=s;s.openSchemaEditor({schemaId:e.id}).then(function(){t.refreshData()},function(){t.refreshData()})},this.onClickDelete=function(e){var t=s;s.selectedSchemaName=e.name,s.relatedMappings=s.schemaDataService.getMappingNamesFor(e.id),s.notificationService.confirmDelete({message:s.$translate.instant("schemaMapping.usLblDeleteMappingConfirm"),templateUrl:"condor/classic/schemaMapping/lists/delete-schema-confirmation.html"},s.$scope).then(function(){t.schemaDataService.deleteSchemaPackage(e.id).then(function(){t.notificationService.success();var a=t.gridOptions.data().indexOf(e);t.gridOptions.data().splice(a,1)})})},this.onClickAddMapping=function(e){var t=s;s.modalService.openModal({id:"AddMapping",controllerAs:"vm",schemaPackage:e}).then(function(e){"success"===e.result&&(t.schemaDataService.getMappings(),t.notificationService.success(),t.$state.go("schemamapping.mapping",{id:e.id}))})},this.openSchemaEditor=function(e){return void 0===e&&(e={}),s.modalService.openModal(_.extend({},e,{id:"SchemaMappingEditor",controllerAs:"vm"}))},this.refreshData=function(){s.gridOptions.$read(),s.gridOptions.$widget.refresh()},this.getColumns=function(){return[{field:"error",headerTemplate:'<ip-icon-button class="btn-no-bg" id="mappingErrorIcon" button-icon="exclamation-square" type="button" style="cursor:default" ng-class="{\'cpa-icon-exclamation-square-noerror\': !vm.hasErrors}"></ip-icon-button>',template:'#if(!isValid) {# <ip-icon-button class="btn-no-bg" button-icon="exclamation-square" type="button" ip-tooltip="{{::\'schemaMapping.schemaErrorTooltip\' | translate }}" data-placement="top"></ip-icon-button> #}#',sortable:!1,width:"30px",locked:!0},{title:"schemaMapping.usLblPackageName",sortable:!0,field:"name",template:function(e){return'<strong><a data-ng-click="vm.onClickEdit(dataItem)" data-ng-class="pointerCursor" data-ng-bind="dataItem.name"></a></strong>'}},{title:"schemaMapping.usLblLastModified",field:"updatedOn",sortable:!0,template:"{{dataItem.updatedOn | localeDate}}"},{sortable:!1,template:function(e){var t='<div class="pull-right">';return t+='<button id="btnAddMapping_{{dataItem.id}}" ng-click="vm.onClickAddMapping(dataItem); $event.stopPropagation();" class="btn btn-prominent schemaMapping-button" translate="schemaMapping.usBtnAdd" ng-disabled="!dataItem.isValid"/>',t+='<button id="btnDelete_{{dataItem.id}}" ng-click="vm.onClickDelete(dataItem); $event.stopPropagation();" class="btn btn-discard schemaMapping-button" translate="schemaMapping.usBtnDelete" />',t+="</div>"}}]},this.gridOptions=this.buildGridOptions()}return e.$inject=["$scope","kendoGridBuilder","modalService","notificationService","schemaDataService","$translate","$state"],e}(),SchemasList=function(){function e(){this.transclude=!0,this.replace=!0,this.restrict="EA",this.templateUrl="condor/classic/schemaMapping/lists/schemas-list.html",this.controller=SchemasListController,this.controllerAs="vm",this.bindings={}}return e}();angular.module("Inprotech.SchemaMapping").component("schemasList",new SchemasList);var UploadController=function(){function e(){var e=this;this.topics={mappings:{key:"schemaMapping.usLblMappings",title:"schemaMapping.usLblMappings",template:'<mappings-list data-topic="$topic"></mappings-list>'},schemapackages:{key:"schemaMapping.usLblSchemaPackages",title:"schemaMapping.usLblSchemaPackages",template:'<schemas-list data-topic="$topic" ></schemas-list>'}},this.init=function(){e.details={topicControl:{topics:[e.topics.mappings,e.topics.schemapackages],actions:[]}}},this.init()}return e}();angular.module("Inprotech.SchemaMapping").controller("uploadController",UploadController);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.EmailTemplate=t;var a=function(){function e(){var e=this;this.isValid=function(){return null!=e.email},this.createUri=function(e){var t=[];return e.recipientCopiesTo&&e.recipientCopiesTo.length>0&&t.push("cc="+e.recipientCopiesTo.join(";")),e.subject&&t.push("subject="+encodeURIComponent(e.subject)),e.body&&t.push("body="+encodeURIComponent(e.body)),"mailto:"+e.recipientEmail+"?"+t.join("&")}}return e.prototype.$onChanges=function(e){var t=e.model;t&&t.currentValue&&!this.email&&(this.email=this.createUri(this.model))},e}();e.EmailLinkController=a;var i=function(){function e(){this.controller=a,this.controllerAs="vm",this.template='<span ng-if="::vm.showIcon"><a ng-if="vm.isValid" href="{{vm.email}}"><span class="cpa-icon cpa-icon-envelope"></span></a></span><span ng-if="::!vm.showIcon"><a ng-if="vm.isValid" href="{{vm.email}}">{{::vm.text}}</a><span ng-if="!vm.isValid">{{::vm.text}}</span></span>',this.bindings={model:"<",text:"<",showIcon:"<"}}return e}();angular.module("inprotech.components.form").component("ipEmailLink",new i)}(t=e.form||(e.form={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$rootScope=e,this.dngWindowParentMessagingService=t,this.isHosted=!1}return e.$inject=["$rootScope","dngWindowParentMessagingService"],e.prototype.$onInit=function(){this.isHosted=this.$rootScope.isHosted,this.hostProgramId=this.$rootScope.hostedProgramId,this.vm=this},e.prototype.buildLink=function(){this.action&&this.key&&(this.actionData={action:this.action,type:"N",key:this.key,program:this.programId||this.hostProgramId})},e.prototype.postMessage=function(){this.isHosted&&!this.actionData&&this.buildLink(),this.dngWindowParentMessagingService.postNavigationMessage(this.actionData)},e}();e.HostedUrlController=t,angular.module("inprotech.components.form").component("ipHostedUrl",{controllerAs:"vm",transclude:!0,bindings:{action:"<",key:"<",description:"<",programId:"<"},template:'<a ng-if="vm.isHosted && vm.action && vm.key" ng-click="vm.postMessage()">{{::vm.description}}</a><span ng-if="!vm.isHosted" ng-transclude></span>',controller:t})}(t=e.form||(e.form={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){var a=this;this.featureDetection=e,this.modalService=t,this.isIe=!1,this.inproVersion16=!1,this.showIeRequired=function(){a.modalService.openModal({id:"ieRequired",controllerAs:"vm",url:a.featureDetection.getAbsoluteUrl(a.url)})},this.linkText=function(){return a.text}}return e.prototype.$onInit=function(){this.isIe=this.featureDetection.isIe(),this.inproVersion16=this.featureDetection.hasRelease16(),this.vm=this},e.$inject=["featureDetection","modalService"],e}();e.IeOnlyUrlController=t,angular.module("inprotech.components.form").component("ipIeOnlyUrl",{controllerAs:"vm",transclude:!0,bindings:{url:"<",text:"<"},template:'<a ng-if="::!vm.isIe && !vm.inproVersion16" ng-click="vm.showIeRequired()" class="text"><span>{{ vm.linkText() }}</span><span ng-transclude></span></a><a ng-if="::vm.isIe || vm.inproVersion16" href="{{vm.url}}" class="text" target="_blank"><span>{{ vm.linkText() }}</span><span ng-transclude></span></a>',controller:t})}(t=e.form||(e.form={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={})),angular.module("inprotech.components.form").directive("ipCopyText",["clipboard","$compile","scheduler","$timeout",function(e,t,a,i){"use strict";return{restrict:"A",scope:{},link:function(n,o,r){function s(){var e=$('<span style="cursor:pointer;padding-left: 10px;" class="cpa-icon cpa-icon-file-stack-o" name="file-stack-o" ip-tooltip="{{ copyStatus | translate }}"></span>');return e.on("click",l),$(o).append(e),t(e)(n),e[0]}function l(){e.copyText(d),n.copyStatus="copied",a.runOutsideZone(function(){i(function(){n.copyStatus="copy"},5e3)})}function c(){$(u).unbind(),$(u).remove(),u=null}if(e.supported){var d=r.ipCopyText;if(!d){var p=o.prop("tagName").toLowerCase();_.contains(["span","div","label"],p)&&i(function(){d=o.text()})}n.copyStatus="copy";var u=s();n.$on("$destroy",function(){u&&c()})}}}}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){var a=this;void 0===t&&(t=""),this.localSetting=e,this.suffix=t,this.initColumnDisplay=function(e){a.defaultColumns=a.mapColumnField(e);var t=a.localSetting.getLocalwithSuffix(a.suffix);if(!t||0===t.length)return e;var i=[];t.forEach(function(t){var a=_.find(e,function(e){return e.field===t.field});a&&i.push(_.extend(a,{hidden:t.hidden}))});var n=_.filter(e,function(e){return!_.find(i,function(t){return t.field===e.field})});return n.forEach(function(t){var a=_.indexOf(e,t);i.splice(a,0,t)}),n.length>0&&a.localSetting.setLocal(a.mapColumnField(i),a.suffix),_.each(i,function(e){e.hidden=e.hidden&&e.menu}),e=i},this.updateColumnOrder=function(e,t,i){var n=a.savedOrDefaultColumns(),o=n[e];n=_.without(n,o),n.splice(t,0,o),a.localSetting.setLocal(a.mapColumnField(n),a.suffix)},this.hideColumn=function(e){a.setColumnDisplay(e,!0)},this.showColumn=function(e){a.setColumnDisplay(e,!1)},this.reset=function(){a.localSetting.removeLocal(a.suffix)},this.setColumnDisplay=function(e,t){var i=a.savedOrDefaultColumns(),n=_.find(i,function(t){return t.field===e.field});n&&(n.hidden=t),a.localSetting.setLocal(i,a.suffix)},this.mapColumnField=function(e){return _.map(e,function(e){return{field:e.field,hidden:e.hidden||!1}})},this.savedOrDefaultColumns=function(){return a.localSetting.getLocalwithSuffix(a.suffix)||angular.copy(a.defaultColumns)},this.defaultColumns=[]}return e}(),a=function(){function e(){}return e.factory=function(){var t=function(){return new e};return t},e.prototype.init=function(e,a){void 0===a&&(a="");var i=new t(e,a);return i},e}();e.ColumnPickerHelper=a,angular.module("inprotech.components.grid").factory("columnPickerHelper",a.factory())}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$scope=e,this.isExpand=!1,this.removableColumns=[],this.initialColumns=[],this.showColumns=function(){if(!t.isExpand){var e=t.$widget.getOptions().columns;t.hasColumnWithoutMenu=_.find(e,function(e){return!e.menu}),e.forEach(function(e){e.isShown=!e.hidden&&e.menu}),t.removableColumns=_.filter(e,function(e){return e.menu})}},this.toggleColumn=function(e){e.isShown&&t.isLastSelectedColumn()||(e.isShown=!e.isShown,e.isShown?(t.$widget.showColumn(e.field),t.addColumnToStore(e)):(t.$widget.hideColumn(e.field),t.removeColumnFromStore(e)),t.$widget.autoFillGrid())},this.reset=function(){t.resetColumnOrderAndDisplay(),t.isCacheStored&&t.helper.reset(),t.isExpand=!1},this.isLastSelectedColumn=function(){return 1===t.selectedColumnsLength()&&!t.hasColumnWithoutMenu},this.selectedColumnsLength=function(){return _.filter(t.removableColumns,function(e){return e.isShown}).length},this.vm=this,e.$parent.vm&&(this.position=e.$parent.vm.position,this.gridOptions=e.$parent.vm.gridOptions),this.position||(this.position="bottom"),Object.defineProperties(this,{isCacheStored:{get:function(){return this.gridOptions.columnSelection.localSetting}},helper:{get:function(){return this.gridOptions.columnSelection.helper}},$widget:{get:function(){return this.gridOptions.$widget}}}),this.isCacheStored||(this.initialColumns=_.map(this.$widget.columns,function(e){return{field:e.field,hidden:e.hidden||!1}}))}return e.$inject=["$scope"],e.prototype.resetColumnOrderAndDisplay=function(){var e=this.helper.defaultColumns||this.initialColumns;setTimeout(function(t){_.each(e,function(e,a){var i=_.findIndex(t.getOptions().columns,function(t){return t.field===e.field});i!==a&&t.reorderColumn(a,t.columns[i])}),_.each(e,function(e){e.hidden?t.hideColumn(e.field):t.showColumn(e.field)}),t.autoFillGrid()},0,this.$widget)},e.prototype.removeColumnFromStore=function(e){this.isCacheStored&&this.helper.hideColumn(e)},e.prototype.addColumnToStore=function(e){this.isCacheStored&&this.helper.showColumn(e)},e}();angular.module("inprotech.components.grid").component("ipKendoColumnPicker",{bindings:{gridOptions:"<",position:"<"},controllerAs:"vm",controller:t,templateUrl:"condor/components/grid/directives/kendoColumnPicker.html"})}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.restrict="E",this.regex="/\n/g",this.template="<textarea readonly rows=\"{{content.split('\n').length+1}}\">{{content}}</textarea>",this.scope={content:"<"}}return e.prototype.link=function(e,t){},e}();e.TextAreaController=t,angular.module("inprotech.components.tooltip").directive("ipTextArea",function(){return new t})}(t=e.grid||(e.grid={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={})),angular.module("inprotech.components.menu",["inprotech.core"]);var MenuDetails=function(){function e(e,t){this.id=e,this.options=t}return e}(),MenuBuilder=function(){function e(){var e=this;this.BuildOptions=function(t,a){var i=new MenuDetails(t,angular.merge({},a,e.defaultOptions));return i},this.defaultOptions={orientation:"vertical",openOnClick:{rootMenuItems:!0,subMenuItems:!0}}}return e}();angular.module("inprotech.components.menu").service("menuBuilder",function(){return new MenuBuilder});var MenuItemController=function(){function e(e,t,a,i,n,o,r,s,l){var c=this;this.window=e,this.featureDetection=t,this.modalService=a,this.$state=i,this.notificationService=n,this.translate=o,this.uibModal=r,this.menuItemService=s,this.searchPresentationPersistenceService=l,this.target="",this.showPopover=!1,this.isIconDisplayed=function(){return"null"!==c.iconName},this.removeActiveState=function(){var e=$(".k-state-active");e&&e.hasClass("k-state-active")&&e.removeClass("k-state-active")},this.loadUrl=function(e,t,a){if("../"===e&&!c.featureDetection.isIe()&&!c.featureDetection.hasRelease16)return void c.showIeRequired(e);if(t){if(c.searchPresentationPersistenceService.clear(),!c.IsEditable())return void c.doSavedSearch(e,t);c.menuItemService.getDueDatePresentation(t).then(function(a){return a.data.hasDueDatePresentationColumn||a.data.hasAllDatePresentationColumn?(c.hasAllDateColumn=a.data.hasAllDatePresentationColumn,c.hasDueDateColumn=a.data.hasDueDatePresentationColumn,c.importanceLevelOptions=a.data.importanceOptions,void c.menuItemService.getDueDateSavedSearch(t).then(function(e){c.openDueDateModal(e,t)})):void c.doSavedSearch(e,t)})}},this.openDueDateModal=function(e,t){c.dueDateFormData=e.data.dueDateFormData;var a=c.$state,i=c.uibModal.open({backdrop:"static",size:"xl",templateUrl:"condor/components/menu/duedate-modal.html",controller:["$scope",function(e){e.existingFormData=c.dueDateFormData,e.hasDueDateColumn=c.hasDueDateColumn,e.hasAllDateColumn=c.hasAllDateColumn,e.importanceLevelOptions=c.importanceLevelOptions,e.getSearchRecord=function(e){if(i.close(),!e.isModalClosed&&t){var n={dueDateFilter:e.filterCriteria};a.go("search-results",{filter:n,queryKey:t,searchQueryKey:!0,hasDueDatePresentation:!0,rowKey:null,clearSearchPresentation:!0,queryContext:c.queryContextKey},{reload:!0})}}}]})},this.doSavedSearch=function(e,t){if(t)c.$state.go("search-results",{filter:null,queryKey:t,searchQueryKey:!1,canEdit:!1,rowKey:null,q:null,clearSearchPresentation:!0,queryContext:c.queryContextKey},{reload:!0}),c.togglePopOver=!1,c.showSavedSearchMenu(!1,event,!1);else if("newtab"===c.type){var a=encodeURIComponent(e).replace(/[^a-zA-Z0-9-_]/g,"").replace(/[0-9]/g,"")===encodeURIComponent(c.$state.current.url).replace(/[^a-zA-Z0-9-_]/g,"").replace(/[0-9]/g,"");c.target="",a||(c.target="_blank")}},this.showIeRequired=function(e){c.modalService.openModal({id:"ieRequired",controllerAs:"vm",url:c.featureDetection.getAbsoluteUrl(e)})},this.editSearch=function(e,t){if(e&&!c.IsEditable())return c.notificationService.alert({message:c.translate.instant("savedSearch.protechtedAndClientServerSavedSearchNotEditable")}),!1;if(c.queryContextKey){c.searchPresentationPersistenceService.clear();var a="casesearch"===c.$state.current.name?{reload:!0}:null;c.$state.go("casesearch",{queryKey:e,canEdit:!0,returnFromCaseSearchResults:!1},a),c.editTogglePopOver=!1,c.showSavedSearchMenu(!1,t,!1)}},this.IsEditable=function(){return c.canEdit&&"true"===c.canEdit.toString()},this.menuHover=function(e){if(c.queryContextKey){var t=$('[name = "li-'+e+'"]');t.addClass("sub-menu-hover"),t.removeClass("sub-menu")}},this.menuHoverOut=function(e){if(c.queryContextKey){var t=$('[name = "li-'+e+'"]');t.removeClass("sub-menu-hover"),t.addClass("sub-menu")}},this.showSavedSearchMenu=function(e,t,a){t&&(t.stopPropagation(),t.preventDefault());var i=$("*[id*=_"+c.queryContextKey+"]").parent(),n=$("#search"+c.queryContextKey),o=$("#fiterSavedSearch");if(n.length>0)if(e){if(n.is(":visible"))return c.removeActiveState(),void n.fadeOut();_.isFunction(c.childCompObj.childFunc)&&c.childCompObj.childFunc(a),c.isIEOrEdge?n.css({left:c.expanded?"160px":"40px",position:"-ms-device-fixed"}):n.css({left:c.expanded?"160px":"40px",position:"fixed"}),i.addClass("k-state-active"),n.fadeIn(),o.length>0&&o.focus(),$(document).mousedown(function(e){if(n.is(":visible")&&e.target.id!==n.attr("id")&&(!n.has(e.target).length||n.outerWidth()+n.offset().left<e.clientX||n.offset().left>e.clientX||n.outerHeight()+n.offset().top<e.clientY||n.offset().top>e.clientY)){n.fadeOut();var t=$(".k-state-active");if(!t||!t.hasClass("k-state-active"))return;t.removeClass("k-state-active")}})}else c.removeActiveState(),n.fadeOut()},this.childCompObj={},this.isIEOrEdge=/msie\s|trident\/|edge\//i.test(this.window.navigator.userAgent)}return e.prototype.$onInit=function(){"newtab"===this.type&&(this.target="_blank")},e.$inject=["$window","featureDetection","modalService","$state","notificationService","$translate","$uibModal","menuItemService","searchPresentationPersistenceService"],e}(),MenuItem=function(){function e(){this.transclude=!0,this.replace=!0,this.restrict="EA",this.templateUrl="condor/components/menu/menu-item.html",this.controller=MenuItemController,this.controllerAs="vm",this.bindings={iconName:"@?",text:"@",id:"@",expanded:"=",url:"@",type:"@",queryContextKey:"@",tooltip:"@",canEdit:"@",queryKey:"@",key:"@"}}return e}();angular.module("inprotech.components.menu").component("menuItem",new MenuItem);var MenuItemService=function(){function e(e){this.http=e}return e.prototype.getDueDatePresentation=function(e){return this.http.get("api/search/case/dueDatePresentation/"+encodeURI(e.toString()),{params:{params:JSON.stringify(e)}})},e.prototype.getDueDateSavedSearch=function(e){return this.http.get("api/search/case/casesearch/builder/"+e)},e.$inject=["http"],e}();angular.module("inprotech.components.menu").service("menuItemService",MenuItemService);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){var e=this;this.persistDefaultOptions=function(t){e.topicOptions=t},this.initTopicsFormData=function(){e.topicsFormData=e.topicViewModel()},this.getTopicFormsData=function(){return e.topicViewModel()},this.defaultTopicsFormData=function(t){var a=e.topicViewModel(),i=_.first(_.filter(a,function(e){return e.topicKey===t}));return i.formData},this.getTopicFormData=function(t){var a=e.topicsFormData,i=_.first(_.filter(a,function(e){return e.topicKey===t}));return i.formData},this.getStepTopicData=function(t){var a=_.first(_.filter(e.steps,function(e){return e.id===t}));return a&&a?a.topicsData:{}},this.resetStepData=function(t){var a=e.getStepTopicData(t.id);a&&_.each(a,function(t){t.formData=e.defaultTopicsFormData(t.topicKey),t.filterData=e.defaultTopicsFormData(t.topicKey)})},this.applyStepData=function(t,a,i){e.steps=i;var n=_.first(_.filter(e.steps,function(e){return e.id===t.id}));n?(n.id=t.id,n.operator=t.operator,n.topicsData=e.setTopicData(a)):n={id:t.id,operator:t.operator,topicsData:e.setTopicData(a)}},this.getExistingTopicFormData=function(t){if(!_.any(e.steps))return e.defaultTopicsFormData(t);var a=_.first(_.filter(e.steps[0].topicsData,function(e){return e.topicKey===t}));return a.formData},this.updateOperator=function(t,a){var i=e.steps[t];i&&(i.operator=a)},this.setTopicData=function(e){
var t=[];return _.each(e,function(e){t.push({topicKey:e.key,formData:e.formData,filterData:e.getFormData()})}),t},this.topicViewModel=function(){var e=[{topicKey:"Details",formData:{id:"1",caseOfficeOperator:"0",caseTypeOperator:"0",jurisdictionOperator:"0",includeDraftCases:!1,includeWhereDesignated:!1,includeGroupMembers:!1,propertyTypeOperator:"0",caseCategoryOperator:"0",subTypeOperator:"0",basisOperator:"0",classOperator:"0",local:!0,international:!0}},{topicKey:"Text",formData:{id:"1",typeOfMarkOperator:"0",titleMarkOperator:"2",textTypeOperator:"2",keywordOperator:"0"}},{topicKey:"designElement",formData:{firmElementOperator:"2",clientElementOperator:"2",officialElementOperator:"2",registrationNoOperator:"2",typefaceOperator:"2",elementDescriptionOperator:"2",isRenew:!1}},{topicKey:"eventsActions",formData:{eventOperator:"sd",importanceLevelOperator:"7",eventDatesOperator:"7",actionOperator:"0",eventNotesOperator:"4",eventNoteTypeOperator:"0",occurredEvent:!0,dueEvent:!1,includeClosedActions:!1,isRenewals:!0,isNonRenewals:!0,actionIsOpen:!1,eventWithinValue:{type:"D",value:0}}},{topicKey:"Names",formData:{id:"1",instructorOperator:"0",ownerOperator:"0",agentOperator:"0",staffOperator:"0",signatoryOperator:"0",namesOperator:"0",isSignatoryMyself:!1,isStaffMyself:!1,inheritedNameTypeOperator:"0",parentNameOperator:"0",defaultRelationshipOperator:"0"}},{topicKey:"otherDetails",formData:{fileLocationOperator:"0",bayNoOperator:"2",purchaseOrderNoOperator:"2",includeInherited:!1,forInstructionOperator:"0",forInstruction:!0,forCharacteristicOperator:"0",instructorOperatorGroup:"EqualExist",policingIncomplete:!1,globalNameChangeIncomplete:!1,letters:!1,charges:!1}},{topicKey:"patentTermAdjustments",formData:{suppliedPtaOperator:"7",determinedByUsOperator:"7",ipOfficeDelayOperator:"7",applicantDelayOperator:"7",ptaDiscrepancies:null,fromSuppliedPta:null,toSuppliedPta:null,fromPtaDeterminedByUs:null,toPtaDeterminedByUs:null,fromIpOfficeDelay:null,toIpOfficeDelay:null,fromApplicantDelay:null,toApplicantDelay:null}},{topicKey:"References",formData:{yourReferenceOperator:"2",caseReferenceOperator:"2",officialNumberOperator:"0",caseNameReferenceType:"I",caseNameReferenceOperator:"2",familyOperator:"0",caseListOperator:"0",searchNumbersOnly:!1,searchRelatedCases:!1,isPrimeCasesOnly:0}},{topicKey:"Status",formData:{isPending:!0,isRegistered:!0,isDead:!1,caseStatusOperator:"0",renewalStatusOperator:"0"}},{topicKey:"attributes",formData:{id:"1",attribute1:{attributeOperator:"0"},attribute2:{attributeOperator:"0"},attribute3:{attributeOperator:"0"},booleanAndOr:0}},{topicKey:"dataManagement",formData:{}}];return e},this.steps=[],this.topicOptions=[],this.topicsFormData=[]}return e}();e.StepsPersistenceService=t,angular.module("inprotech.components.multistepsearch").service("StepsPersistenceService",t)}(t=e.multistepsearch||(e.multistepsearch={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i){var n=this;this.$scope=e,this.StepsPersistenceService=t,this.$timeout=a,this.$interval=i,this.init=function(){if(n.operators=["AND","OR","NOT"],n.options=n.StepsPersistenceService.topicOptions,n.steps=[],_.any(n.StepsPersistenceService.steps))n.steps=n.StepsPersistenceService.steps,n.loadSteps=n.$interval(function(){_.all(n.options.topics,function(e){if(e)return e.isInitialized})&&(n.$scope.$broadcast("stepsLoaded"),n.cancelInterval())},100);else{var e={id:n.steps.length+1,isDefault:!0,operator:"",selected:!0};n.steps.push(e)}},this.cancelInterval=function(){n.loadSteps&&(n.$interval.cancel(n.loadSteps),n.loadSteps=null)},this.navigate=function(e){if(e){var t=-1;n.steps.some(function(a,i){return a.selected===!0&&(t=i+e)}),t>-1&&t<n.steps.length&&n.goTo(n.steps[t],!1)}},this.addStep=function(){var e=n.getSelectedStep();e&&n.StepsPersistenceService.applyStepData(e,n.options.topics,n.steps),_.each(n.options.topics,function(e){e.discard()}),n.unselectAll();var t={id:n.steps.length+1,operator:"OR",selected:!0};n.steps.push(t),n.checkNavigation(),n.goTo(t,!0)},this.removeStep=function(e){var t=n.steps.indexOf(e);t>-1&&n.steps.splice(t,1),n.checkNavigation();var a=t>0?t-1:0;n.goTo(n.steps[a],!0)},this.onOperatorChange=function(e){var t=n.steps[e].operator;n.StepsPersistenceService.updateOperator(e,t)},this.getSelectedStep=function(){var e=_.first(_.filter(n.steps,function(e){return e.selected===!0}));return e},this.goTo=function(e,t){if(!t){_.each(n.options.topics,function(e){_.isFunction(e.updateFormData)&&e.updateFormData()});var a=n.getSelectedStep();a&&n.StepsPersistenceService.applyStepData(a,n.options.topics,n.steps)}n.$scope.$broadcast("stepChanged",{stepId:e.id}),n.unselectAll(),e.selected=!0,n.scroll()},this.checkNavigation=function(){var e=angular.element(document.getElementById("wizard"))[0].clientWidth;n.allowNavigation=n.steps.length>0&&(220*n.steps.length>e||n.steps.length>4)},this.scroll=function(){if(n.allowNavigation){var e=-1;n.steps.some(function(t,a){return t.selected===!0&&(e=a)}),n.$timeout(function(){var t=angular.element(document.getElementById("step_"+e));t&&angular.element(document.getElementById("wizard-header")).stop().animate({scrollLeft:190*e},"slow")},100)}},this.unselectAll=function(){angular.forEach(n.steps,function(e){e.selected=!1})}}return e.prototype.$onInit=function(){this.init()},e.$inject=["$scope","StepsPersistenceService","$timeout","$interval"],e}();e.MultiStepSearchController=t,angular.module("inprotech.components.multistepsearch").component("wizard",{bindings:{name:"@?",steps:"=?",multistepMode:"="},templateUrl:"condor/components/multistepsearch/wizard.html",controllerAs:"vm",controller:t})}(t=e.multistepsearch||(e.multistepsearch={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i){var n=this;this.options=e,this.$uibModalInstance=t,this.$timeout=a,this.clipboard=i,this.transalationPrefix="modal.iePopup.",this.cancel=function(){n.$timeout(function(){n.$uibModalInstance.dismiss("Cancel")},0)},this.copyUrl=function(){n.copySupported&&(n.clipboard.copyText(n.options.url),n.copyStatus=n.transalationPrefix+"copied",n.$timeout(function(){n.copyStatus=n.transalationPrefix+"copy"},5e3))},this.copyStatus=this.transalationPrefix+"copy",this.copySupported=i.supported}return e}();angular.module("inprotech.components.notification").controller("IeRequiredController",["options","$uibModalInstance","$timeout","clipboard",t])}(t=e.notification||(e.notification={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.restrict="A"}return e.prototype.link=function(e,t){function a(){t.css("width",i.width())}if(t.length){var i=t.parent();a(),$(window).resize(function(){window.setTimeout(a,200)})}},e}();e.MatchParentWidthDirective=t,angular.module("inprotech.components.page").directive("matchParentWidth",function(){return new t})}(t=e.page||(e.page={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={})),angular.module("inprotech.components.panel",["inprotech.core"]);var CollapsiblePanelController=function(){function e(){var e=this;this.togglePinned=function(){e.pinned=!e.pinned}}return e}(),CollapsiblePanel=function(){function e(){this.transclude=!0,this.restrict="EA",this.templateUrl="condor/components/panel/collapsible-panel.html",this.controller=CollapsiblePanelController,this.controllerAs="vm",this.bindings={pinned:"=?"}}return e}();angular.module("inprotech.components.panel").component("collapsiblePanel",new CollapsiblePanel);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){var i=this;this.$scope=e,this.namesPaneService=t,this.dateService=a,this.loadData=function(){i.nameId&&i.namesPaneService.getName(i.nameId).then(function(e){i.nameDetailData=e,i.nameDetailData.startDate&&(i.nameDetailData.startDate=i.dateService.format(i.nameDetailData.startDate)),i.nameDetailData.dateCeased&&(i.nameDetailData.ceasedDateInPast=new Date>new Date(i.nameDetailData.dateCeased),i.nameDetailData.dateCeased=i.dateService.format(i.nameDetailData.dateCeased))})},this.vm=this,this.loadDataDebounce=_.debounce(this.loadData,300)}return e.prototype.$onInit=function(){var e=this;this.$scope.$watch("vm.nameId",function(){e.loadDataDebounce()})},e.$inject=["$scope","PicklistNamesPaneService","dateService"],e}();e.PicklistNamesPaneController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/components/picklist/modals/panes/picklist.names.pane.html",this.bindings={nameId:"<"}}return e}();angular.module("inprotech.components.picklist").component("ipPicklistNamesPane",new a)}(t=e.picklist||(e.picklist={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.$http=e}return e.prototype.getName=function(e){return this.$http.get("api/picklists/names/"+encodeURI(e.toString())).then(function(e){return e.data})},e.$inject=["$http"],e}();e.PicklistNamesPaneService=t,angular.module("inprotech.components.picklist").service("PicklistNamesPaneService",t)}(t=e.picklist||(e.picklist={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var SavedSearchMenuItemDetail=function(){function e(){}return e}(),SavedSearchMenuService=function(){function e(e){var t=this;this.$http=e,this.fetch=function(e){return t.$http.get("api/savedsearch/menu/"+e).then(function(e){return e.data})},this.build=function(e){var a=t;return t.fetch(e).then(function(e){return a.menuItemsOriginal=e,e})},this.filterMenu=function(e){var a=t,i=new Array;return angular.copy(a.menuItemsOriginal,i),e&&e.length>0&&(i=_.filter(i,function(t){return t.text.toLowerCase().indexOf(e.toLowerCase())>=0||_.some(t.items,function(t){return t.text.toLowerCase().indexOf(e.toLowerCase())>=0})},a),_.each(i,function(t){if(t.items){var a=_.filter(t.items,function(t){return t.text.toLowerCase().indexOf(e.toLowerCase())>=0});a.length>0&&(t.items=a,t.showItems=!0)}})),i},this.menuItemsOriginal=new Array}return e.$inject=["$http"],e}();angular.module("inprotech.components.menu").service("savedSearchMenuService",SavedSearchMenuService);var SavedSearchPanelController=function(){function e(e){var t=this;this.savedSearchMenuService=e,this.isIconDisplayed=function(e){return"null"!==e},this.$onInit=function(){t.build()},this.refreshData=function(e){e?t.build():(t.filter="",t.getFilteredData())},this.build=function(){t.savedSearchMenuService.build(t.queryContextKey).then(function(e){t.menuDetails=e})},this.getFilteredData=function(){var e=t.savedSearchMenuService.filterMenu(t.filter);e&&(t.menuDetails=e)},this.runSearch=function(e){if(1===t.menuDetails.length){var a=t.menuDetails[0].url;a?t.loadUrl({url:a,event:e}):1===t.menuDetails[0].items.length&&t.loadUrl({url:t.menuDetails[0].items[0].url,event:e})}e.stopPropagation()},this.childCompObj={},this.childCompObj.childFunc=this.refreshData}return e.$inject=["savedSearchMenuService"],e}(),SavedSearchPanel=function(){function e(){this.transclude=!0,this.replace=!0,this.restrict="EA",this.templateUrl="condor/components/savedSearchPanel/saved-search-panel.html",this.controller=SavedSearchPanelController,this.controllerAs="vm",this.bindings={iconName:"@?",text:"@",url:"@",items:"@",filter:"@",queryContextKey:"@",childCompObj:"=?",loadUrl:"&",key:"@"}}return e}();angular.module("inprotech.components.menu").component("savedSearchPanel",new SavedSearchPanel),angular.module("inprotech.components.splitter",["inprotech.core"]);var SplitterDetails=function(){function e(e,t){this.resize=function(){},this.resizePanesHeight=function(){},this.resizePane=function(e,t){},this.togglePane=function(e,t){},this.id=e,this.options=t}return e}(),SplitterBuilder=function(){function e(){var e=this;this.BuildOptions=function(t,a){var i=new SplitterDetails(t,angular.merge({},a,e.defaultOptions));return i.resize=e.resizeMethod(t),i.resizePanesHeight=e.resizePanesHeightMethod(t),i.resizePane=e.resizePaneMethod(t),i.togglePane=e.togglePaneMethod(t),i},this.resizeMethod=function(e){return function(){var t=$("#"+e),a=t.data("kendoSplitter");a.resize(!0)}},this.resizePanesHeightMethod=function(e){return function(){var t=$("#"+e);void 0!==t.find(".k-pane div")[0]&&t.height(t.find(".k-pane div")[0].scrollHeight),t.data("kendoSplitter").trigger("resize")}},this.resizePaneMethod=function(e){return function(t,a){var i=$("#"+e),n=i.data("kendoSplitter");n.size("#"+t,a),n.resize()}},this.togglePaneMethod=function(e){return function(t,a){var i=$("#"+e),n=i.data("kendoSplitter");n&&(a?n.collapse("#"+t):n.expand("#"+t))}},this.defaultOptions={orientation:"horizontal",panes:[]}}return e}();angular.module("inprotech.components.splitter").service("splitterBuilder",function(){return new SplitterBuilder}),angular.module("inprotech.components.stateContext",[]);var StateContext=function(){function e(e){var t=this;this.$state=e,this.getCurrentStateUrl=function(){return t.$state.href(t.$state.current.name,t.$state.params)},this.getCurrentStateInfo=function(){return{name:t.$state.current.name,params:angular.merge({},t.$state.params)}}}return e.$inject=["$state"],e}();angular.module("inprotech.components.stateContext").service("stateContext",StateContext);var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.restrict="E",this.transclude=!0,this.templateUrl="condor/components/tooltip/hoverHelp.html",this.scope={template:"@?",title:"@?",content:"@",placement:"@?"}}return e}();e.HoverHelpController=t,angular.module("inprotech.components.tooltip").directive("ipHoverHelp",function(){return new t})}(t=e.tooltip||(e.tooltip={}))}(t=e.components||(e.components={}))}(inprotech||(inprotech={}));var DataItemMaintenanceController=function(){function e(e,t,a,i){var n=this;this.$scope=e,this.states=t,this.dataItemService=a,this.notificationService=i,this.removeError=function(e){n.$scope.errors=_.without(n.$scope.errors,_.findWhere(n.$scope.errors,{field:e}))},this.getError=function(e){return _.find(n.$scope.errors,function(t){return t.field===e})},this.resetSqlError=function(){var e;n.$scope.model.isSqlStatement?(e=n.getError("statement"),null!==e&&n.removeError("statement")):(e=n.getError("procedurename"),null!==e&&n.removeError("procedurename"))},this.resetSql=function(){n.$scope.model.state===n.states.adding&&(n.$scope.model.sql=null),n.resetSqlError()},this.afterValidate=function(e){null==e.data?n.notificationService.success("dataItem.maintenance.testedsuccess"):(n.$scope.errors=e.data.errors,n.notificationService.alert({title:"field.errors.invalidsql",message:n.getError(n.$scope.errors[0].field).message,errors:_.where(n.$scope.errors,{field:null})}))},this.validateSql=function(){n.$scope.errors=null,n.$scope.saveCall=!1,n.dataItemService.validate(n.$scope.model).then(n.afterValidate.bind(n))},this.shouldDisable=function(){return n.$scope.model&&n.$scope.model.isSqlStatement&&(!n.$scope.model.sql||n.$scope.model.sql&&(""===n.$scope.model.sql.sqlStatement||void 0===n.$scope.model.sql.sqlStatement))||n.$scope.model&&!n.$scope.model.isSqlStatement&&(!n.$scope.model.sql||n.$scope.model.sql&&(""===n.$scope.model.sql.storedProcedure||void 0===n.$scope.model.sql.storedProcedure))||n.$scope.model&&n.$scope.model.isSqlStatement&&n.$scope.maintenance&&n.$scope.maintenance.statement&&n.$scope.maintenance.statement.$error.ipRequired||n.$scope.model&&!n.$scope.model.isSqlStatement&&n.$scope.maintenance&&n.$scope.maintenance.procedurename&&n.$scope.maintenance.procedurename.$error.ipRequired}}return e.$inject=["$scope","states","dataItemService","notificationService"],e}();angular.module("inprotech.configuration.general.dataitem").controller("ipDataItemMaintenanceController",DataItemMaintenanceController),angular.module("inprotech.configuration.general.dataitem").directive("ipDataItemMaintenance",DataItemMaintenance),angular.module("inprotech.configuration.general.ede.datamapping",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.ede.datamapping").run(["modalService",function(e){e.register("DataMappingMaintenance","DataMappingMaintenanceController","condor/configuration/general/ede/datamapping/datamapping.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.ede.datamapping").config(["$stateProvider",function(e){e.state("datamapping",{url:"/configuration/general/ede/datamapping/{name}",templateUrl:"condor/configuration/general/ede/datamapping/datamappingtopics.html",controller:"DataMappingTopicsController",controllerAs:"vm",resolve:{viewData:["$http","$stateParams",function(e,t){return e.get("api/configuration/ede/datamapping/datasource/"+encodeURIComponent(t.name)).then(function(e){return e.data})}]},data:{pageTitle:"dataMapping.pageTitle"}})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r){var s=this;this.$uibModalInstance=e,this.options=t,this.states=a,this.dataMappingService=i,this.notificationService=n,this.modalService=o,this.hotkeys=r,this.initializeEntity=function(){null!=s.options.dataItem&&s.options.dataItem.id!==s.options.entity.id?s.dataMappingService.get(s.options.dataSource,s.options.dataItem.id).then(function(e){s.entity=e,s.entity.state=s.states.updating}):s.entity=s.options.entity},this.disable=function(){return!(s.form.$dirty&&s.form.$valid)},this.onChange=function(){return!!s.entity.ignore&&(s.entity.event=null,!0)},this.save=function(){var e={mapping:{inputDesc:s.entity.description,id:s.entity.id,output:s.entity.event,notApplicable:s.entity.ignore},systemId:s.options.dataSource,structureId:s.options.structure};s.errors=[],s.form&&s.form.$validate&&s.form.$validate(),s.form.$invalid||(s.checkRequiredFields()?s.options.entity.state===s.states.adding||s.options.entity.state===s.states.duplicating?s.dataMappingService.add(e).then(s.afterSave,s.afterSaveError):s.dataMappingService.update(e).then(s.afterSave,s.afterSaveError):s.notificationService.alert({title:"modal.unableToComplete",message:"dataMapping.maintenance.requiredMessage"}))},this.checkRequiredFields=function(){return s.entity.ignore||s.entity.event},this.afterSave=function(e){"success"===e.data.result.result?(s.entity.state===s.states.updating?s.form.$setPristine():s.$uibModalInstance.close(),s.notificationService.success(),s.options.callbackFn()):(s.errors=e.data.result.errors,s.notificationService.alert({title:"modal.unableToComplete",message:e.data.result.errors[0]}))},this.afterSaveError=function(e){s.errors=e.data.result.errors,s.notificationService.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})},this.getError=function(){if(_.any(s.errors))return"field.errors.notunique"},this.dismissAll=function(){return s.form.$dirty?void s.notificationService.discard().then(function(){s.cancel()}):void s.cancel()},this.cancel=function(){s.$uibModalInstance.close()},this.hasUnsavedChanges=function(){return s.form&&s.form.$dirty},this.initShortcuts=function(){var e={combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!s.disable()&&s.modalService.canOpen("DataMappingMaintenance")&&s.save()}},t={combo:"alt+shift+z",description:"shortcuts.close",callback:function(){s.modalService.canOpen("DataMappingMaintenance")&&s.dismissAll()}};s.hotkeys.add(e),s.hotkeys.add(t)},this.isEdit="updating"===this.options.entity.state,this.structure=this.options.structure.slice(0,-1),this.entity=t.entity,this.errors=[],this.initializeEntity()}return e.$inject=["$uibModalInstance","options","states","DataMappingService","notificationService","modalService","hotkeys"],e}();e.DataMappingMaintenanceController=t,angular.module("inprotech.configuration.general.ede.datamapping").controller("DataMappingMaintenanceController",t)}(t=e.datamapping||(e.datamapping={}))}(t=e.ede||(e.ede={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.baseUrl="api/configuration/ede/datamapping/",this.get=function(e,a){return t.$http.get(t.baseUrl+"datasource/"+e+"/mapping/"+a).then(function(e){return e.data})},this.search=function(e,a,i){return t.$http.get(t.baseUrl+"datasource/"+e+"/structure/"+a+"/mappings",{params:{params:JSON.stringify(i)}}).then(function(e){return e.data})},this.add=function(e){return t.$http.post(t.baseUrl,e)},this.update=function(e){return t.$http.put(t.baseUrl+e.mapping.id,e)},this.deleteSelected=function(e){return t.$http.post(t.baseUrl+"delete",{ids:_.pluck(e,"id")})}}return e.$inject=["$http"],e}();e.DataMappingService=t,angular.module("inprotech.configuration.general.ede.datamapping").service("DataMappingService",t)}(t=e.datamapping||(e.datamapping={}))}(t=e.ede||(e.ede={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){var a=this;this.$translate=t,this.initTopics=function(){a.headerTitle=a.$translate.instant("dataMapping.headerTitle")+a.viewData.displayText,a.options={topics:[],actions:[]},_.each(a.viewData.structures,function(e){a.options.topics.push({key:e,title:e,template:'<ip-datamapping-structure data-topic="$topic">',parentId:a.viewData.dataSource})})},this.onTopicSelected=function(e){var t=[];a.flatten(a.options.topics,t),_.each(t,function(t){t.key===e&&_.isFunction(t.initShortcuts)&&t.initShortcuts()})},this.flatten=function(e,t){_.each(e,function(e){t.push(e),e.topics&&a.flatten(e.topics,t)})},this.viewData=e,this.initTopics()}return e.$inject=["viewData","$translate"],e}();e.DataMappingTopicsController=t,angular.module("inprotech.configuration.general.ede.datamapping").controller("DataMappingTopicsController",t)}(t=e.datamapping||(e.datamapping={}))}(t=e.ede||(e.ede={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r,s){var l=this;this.$scope=e,this.dataMappingService=t,this.kendoGridBuilder=a,this.states=n,this.modalService=o,this.notificationService=r,this.hotkeys=s,this.doSearch=function(e){return l.dataMappingService.search(l.topic.parentId,l.topic.key,e).then(function(e){return e.structureDetails.mappings})},this.fieldTemplate=function(e){return e.output&&(e.output.key||e.output.value)?"<span>{{ dataItem.output.value }}</span><span>{{ dataItem.output.key }}</span>":""},this.columns=function(){return[{fixed:!0,width:"35px",sortable:!1,template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.menuActions.items" data-context="'+l.context+'" data-initialised="vm.menuActions.initialised()" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"dataMapping.maintenance.inputDescription",field:"inputDesc",width:"300px",sortable:!1,oneTimeBinding:!0,template:'<span ng-class="pointerCursor" ng-bind="dataItem.inputDesc"></span>'},{title:"dataMapping.maintenance.systemEvent",field:"output",sortable:!1,width:"400px",oneTimeBinding:!0,template:function(e){return l.fieldTemplate(e)}},{title:"dataMapping.maintenance.ignore",field:"notApplicable",sortable:!1,template:'<input type="checkbox" ng-model="dataItem.notApplicable" disabled="disabled"></input>',width:"150px",oneTimeBinding:!0}]},this.buildGridOptions=function(){return l.kendoGridBuilder.buildOptions(l.$scope,{id:l.context,pageable:!0,navigatable:!0,reorderable:!1,selectable:"row",scrollable:!1,autoBind:!0,read:function(e){return l.doSearch(e)},onDataCreated:function(e){l.bulkMenuOperations.selectionChange(l.gridOptions.data())},columns:l.columns()})},this.clearAll=function(){return l.bulkMenuOperations.clearAll(l.gridOptions.data())},this.selectAll=function(e){return l.bulkMenuOperations.selectAll(l.gridOptions.data(),e)},this.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),l.bulkMenuOperations.selectionChange(l.gridOptions.data())},this.anySelected=function(){return l.bulkMenuOperations.anySelected(l.gridOptions.data())},this.confirmAndDeleteSelected=function(){l.bulkMenuOperations.selectedRecords(l.gridOptions.data()).length<=0||l.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){l.deleteSelected()})},this.deleteSelected=function(){l.dataMappingService.deleteSelected(l.bulkMenuOperations.selectedRecords(l.gridOptions.data())).then(function(e){l.notificationService.success(),l.gridOptions.search()})},this.actions=function(){return[{id:"edit",enabled:l.anySelected.bind(l),click:l.edit.bind(l),maxSelection:1},{id:"delete",enabled:l.anySelected.bind(l),click:l.confirmAndDeleteSelected.bind(l)}]},this.buildMenu=function(){return{items:l.actions(),initialised:function(){l.gridOptions.data()&&l.bulkMenuOperations.selectionChange(l.gridOptions.data())}}},this.add=function(){var e={};l.openDocumentMaintenance(e,l.states.adding)},this.edit=function(e){var t=void 0===e?l.bulkMenuOperations.selectedRecord(l.gridOptions.data()).id:e;l.dataMappingService.get(l.topic.parentId,t).then(function(e){l.openDocumentMaintenance(e,l.states.updating)})},this.openDocumentMaintenance=function(e,t){e.state=t;var a={id:"DataMappingMaintenance",entity:e||{},controllerAs:"vm",dataItem:l.getEntityFromGrid(e.id),allItems:l.gridOptions.data(),structure:l.topic.key,dataSource:l.topic.parentId,callbackFn:l.gridOptions.search};l.modalService.openModal(a)},this.getEntityFromGrid=function(e){return _.find(l.gridOptions.data(),function(t){return t.id===e})},this.initShortcuts=function(){var e={combo:"alt+shift+i",description:"shortcuts.add",callback:function(){l.modalService.canOpen()&&l.add()}},t={combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){l.modalService.canOpen()&&l.confirmAndDeleteSelected()}};l.hotkeys.add(e),l.hotkeys.add(t)},this.topic=e.$topic,this.context=this.topic.key,this.gridOptions=this.buildGridOptions(),this.menuActions=this.buildMenu(),this.bulkMenuOperations=new i(this.context),this.topic.initShortcuts=this.initShortcuts}return e.$inject=["$scope","DataMappingService","kendoGridBuilder","BulkMenuOperations","states","modalService","notificationService","hotkeys"],e}();e.DataMappingStructureController=t,angular.module("inprotech.configuration.general.ede.datamapping").controller("DataMappingStructureController",t)}(t=e.datamapping||(e.datamapping={}))}(t=e.ede||(e.ede={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={})),angular.module("inprotech.configuration.general.ede.datamapping").directive("ipDatamappingStructure",function(){"use strict";return{restrict:"E",controller:"DataMappingStructureController",controllerAs:"vm",templateUrl:"condor/configuration/general/ede/datamapping/directives/datamapping.topic.html",bindToController:{topic:"="}}}),angular.module("inprotech.configuration.general.events.eventnotetypes",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.events.eventnotetypes").run(["modalService",function(e){e.register("EventNoteTypesMaintenance","EventNoteTypesMaintenanceController","condor/configuration/general/events/eventnotetypes/eventnotetypes.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.events.eventnotetypes").config(["$stateProvider",function(e){e.state("eventnotetypes",{url:"/configuration/general/events/eventnotetypes",templateUrl:"condor/configuration/general/events/eventnotetypes/eventnotetypes.html",controller:"EventNoteTypesController",controllerAs:"vm",resolve:{viewData:["EventNoteTypesService",function(e){return e.viewData()}]},data:{pageTitle:"Event Note Type Maintenance"}})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(t,a,i,n,o,r,s,l,c,d,p){var u=this;this.$scope=t,this.eventNoteTypeService=i,this.kendoGridBuilder=n,this.states=o,this.modalService=r,this.notificationService=s,this.BulkMenuOperations=l,this.$timeout=c,this.hotkeys=d,this.$translate=p,this.doSearch=function(){return u.eventNoteTypeService.search(u.searchCriteria,u.gridOptions.getQueryParams())},this.columns=function(){return[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.eventNoteTypes.items" data-context="eventnotetypes" data-initialised="vm.eventNoteTypes.initialised()" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"eventNoteType.description",field:"description",template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.description"></a>',oneTimeBinding:!0},{title:"eventNoteType.sharingEventNotes",field:"sharingAllowed",template:'<input type="checkbox" ng-model="dataItem.sharingAllowed" disabled="disabled"></input>',oneTimeBinding:!0},{title:"eventNoteType.public",field:"isExternal",template:'<input type="checkbox" ng-model="dataItem.isExternal" disabled="disabled"></input>',oneTimeBinding:!0}]},this.buildGridOptions=function(){return u.kendoGridBuilder.buildOptions(u.$scope,{id:"searchResults",navigatable:!0,reorderable:!1,autoGenerateRowTemplate:!0,filterable:!0,autoBind:!0,selectable:"row",scrollable:!1,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',onDataCreated:function(){u.eventNoteTypeService.persistSavedEventNoteTypes(u.gridOptions.data()),u.bulkMenuOperations.selectionChange(u.gridOptions.data())},read:function(){return u.doSearch()},columns:u.columns()})},this.add=function(){var t=new e.EventNoteTypeModel;u.openEventNoteTypesMaintenance(t,u.states.adding)},this.openEventNoteTypesMaintenance=function(t,a){t.state=a;var i={id:"EventNoteTypesMaintenance",entity:t||new e.EventNoteTypeModel,controllerAs:"vm",dataItem:u.getEntityFromGrid(t.id),allItems:u.gridOptions.data(),callbackFn:u.gridOptions.search};u.modalService.openModal(i)},this.getEntityFromGrid=function(e){return void 0===e||null===e?null:_.find(u.gridOptions.data(),function(t){return t.id===e})},this.clearAll=function(){return u.bulkMenuOperations.clearAll(u.gridOptions.data())},this.selectAll=function(e){return u.bulkMenuOperations.selectAll(u.gridOptions.data(),e)},this.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),u.bulkMenuOperations.selectionChange(u.gridOptions.data())},this.anySelected=function(){return u.bulkMenuOperations.anySelected(u.gridOptions.data())},this.actions=function(){return[{id:"edit",enabled:u.anySelected.bind(u),click:u.edit.bind(u),maxSelection:1},{id:"duplicate",enabled:u.anySelected.bind(u),click:u.duplicate.bind(u),maxSelection:1},{id:"delete",enabled:u.anySelected.bind(u),click:u.confirmAndDeleteSelectedEventNoteTypes.bind(u)}]},this.buildMenu=function(){return{items:u.actions(),initialised:function(){u.gridOptions.data()&&u.bulkMenuOperations.selectionChange(u.gridOptions.data())}}},
this.confirmAndDeleteSelectedEventNoteTypes=function(){u.bulkMenuOperations.selectedRecords(u.gridOptions.data()).length<=0||u.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){u.deleteSelectedEventNoteTypes()})},this.deleteSelectedEventNoteTypes=function(){u.eventNoteTypeService.deleteSelected(u.bulkMenuOperations.selectedRecords(u.gridOptions.data())).then(function(e){if(e.data.hasError){var t=u.bulkMenuOperations.selectedRecords(u.gridOptions.data()).length===e.data.inUseIds.length,a=t?u.$translate.instant("modal.alert.alreadyInUse"):u.$translate.instant("modal.alert.partialComplete")+"<br/>"+u.$translate.instant("modal.alert.alreadyInUse"),i=t?"modal.unableToComplete":"modal.partialComplete";u.gridOptions.search().then(function(){u.notificationService.alert({title:i,message:a}),u.eventNoteTypeService.markInUseEventNoteTypes(u.gridOptions.data(),e.data.inUseIds),u.bulkMenuOperations.selectionChange(u.gridOptions.data())})}else u.notificationService.success(e.data.message),u.gridOptions.search()})},this.getSelectedEntityId=function(e){return void 0!==e&&null!==e?e:u.bulkMenuOperations.selectedRecord(u.gridOptions.data()).id},this.edit=function(e){var t=u.getSelectedEntityId(e);u.eventNoteTypeService.get(t).then(function(e){u.openEventNoteTypesMaintenance(e,u.states.updating)})},this.duplicate=function(){var e=u.getSelectedEntityId(null);u.eventNoteTypeService.get(e).then(function(e){var t=angular.copy(e);t.id=null,t.description=u.getDescriptionText(e.description.trim()),u.openEventNoteTypesMaintenance(t,u.states.duplicating)})},this.getDescriptionText=function(e){var t=" - Copy",a=250-t.length;return e.length>a&&(e=e.substring(0,a)),e+t},this.initShortcuts=function(){var e={combo:"alt+shift+i",description:"shortcuts.add",callback:function(){u.modalService.canOpen()&&u.add()}},t={combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){u.modalService.canOpen()&&u.confirmAndDeleteSelectedEventNoteTypes()}};u.hotkeys.add(e),u.hotkeys.add(t)},this.gridOptions=this.buildGridOptions(),this.context="eventnotetypes",this.bulkMenuOperations=new this.BulkMenuOperations(this.context),this.viewData=a,this.eventNoteTypes=this.buildMenu(),this.$timeout(this.initShortcuts,500)}return t.$inject=["$scope","viewData","EventNoteTypesService","kendoGridBuilder","states","modalService","notificationService","BulkMenuOperations","$timeout","hotkeys","$translate"],t}();e.EventNoteTypesController=t,angular.module("inprotech.configuration.general.events.eventnotetypes").controller("EventNoteTypesController",t)}(t=e.eventnotetypes||(e.eventnotetypes={}))}(t=e.events||(e.events={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r){var s=this;this.$uibModalInstance=e,this.notificationService=t,this.eventNoteTypesService=a,this.states=i,this.hotkeys=n,this.modalService=o,this.options=r,this.initializeEntity=function(){null!=s.options.dataItem&&s.options.dataItem.id!==s.options.entity.id?s.eventNoteTypesService.get(s.options.dataItem.id).then(function(e){s.entity=e,s.entity.state=s.states.updating}):s.entity=s.options.entity},this.isEditState=function(){return null!=s.entity&&s.entity.state===s.states.updating},this.disable=function(){return!(s.form.$dirty&&s.form.$valid)},this.cancel=function(){s.$uibModalInstance.close()},this.save=function(){s.errors=new Array,s.form&&s.form.$validate&&s.form.$validate(),s.form.$invalid||(s.entity.state===s.states.adding||s.entity.state===s.states.duplicating?s.eventNoteTypesService.add(s.entity).then(s.afterSave.bind(s),s.afterSaveError.bind(s)):s.eventNoteTypesService.update(s.entity).then(s.afterSave.bind(s),s.afterSaveError.bind(s)))},this.afterSave=function(e){"success"===e.data.result.result?(s.eventNoteTypesService.savedEventNoteTypeIds.push(e.data.result.updatedId),s.entity.state===s.states.updating?s.form.$setPristine():s.$uibModalInstance.close(),s.notificationService.success(),s.options.callbackFn()):(s.errors=e.data.result.errors,s.notificationService.alert({title:"modal.unableToComplete",message:s.getError("description").topic,errors:_.where(e.data.result.errors,{field:null})}))},this.afterSaveError=function(e){s.errors=e.data.result.errors,s.notificationService.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})},this.getError=function(e){return _.find(s.errors,function(t){return t.field===e})},this.hasUnsavedChanges=function(){return s.form.$dirty},this.dismissAll=function(){return s.form.$dirty?void s.notificationService.discard().then(function(){s.cancel()}):void s.cancel()},this.initShortcuts=function(){var e={combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!s.disable()&&s.modalService.canOpen("EventNoteTypesMaintenance")&&s.save()}},t={combo:"alt+shift+z",description:"shortcuts.close",callback:function(){s.modalService.canOpen("EventNoteTypesMaintenance")&&s.dismissAll()}};s.hotkeys.add(e),s.hotkeys.add(t)},this.initializeEntity(),this.initShortcuts()}return e.$inject=["$uibModalInstance","notificationService","EventNoteTypesService","states","hotkeys","modalService","options"],e}();e.EventNoteTypesMaintenanceController=t,angular.module("inprotech.configuration.general.events.eventnotetypes").controller("EventNoteTypesMaintenanceController",t)}(t=e.eventnotetypes||(e.eventnotetypes={}))}(t=e.events||(e.events={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.EventNoteTypeModel=t}(t=e.eventnotetypes||(e.eventnotetypes={}))}(t=e.events||(e.events={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.search=function(e,a){return t.$http.get("api/configuration/events/eventnotetypes/search",{params:{q:JSON.stringify(e),params:JSON.stringify(a)}}).then(function(e){return e.data})},this.viewData=function(){return t.$http.get(t.baseUrl+"viewdata").then(function(e){return e})},this.deleteSelected=function(e){return t.$http.post(t.baseUrl+"delete",{ids:_.pluck(e,"id")})},this.markInUseEventNoteTypes=function(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})},this.find=function(e){return _.find(t.searchResults.data,function(t){return t.id===e})},this.get=function(e){return t.$http.get(t.baseUrl+e).then(function(e){return e.data})},this.add=function(e){return t.$http.post(t.baseUrl,e)},this.update=function(e){return t.$http.put(t.baseUrl+e.id,e)},this.persistSavedEventNoteTypes=function(e){_.each(e,function(e){_.each(t.savedEventNoteTypeIds,function(t){e.id===t&&(e.saved=!0)})})},this.baseUrl="api/configuration/events/eventnotetypes/",this.savedEventNoteTypeIds=[]}return e.$inject=["$http","ExtObjFactory"],e}();e.EventNoteTypesService=t,angular.module("inprotech.configuration.general.events.eventnotetypes").service("EventNoteTypesService",t)}(t=e.eventnotetypes||(e.eventnotetypes={}))}(t=e.events||(e.events={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var BusinessdaysMaintenanceController=function(){function e(e,t,a,i,n,o,r,s,l,c){var d=this;this.$scope=e,this.$uibModalInstance=t,this.options=a,this.maintenanceModalService=i,this.jurisdictionBusinessDaysService=n,this.dateHelper=o,this.notificationService=r,this.$translate=s,this.hotkeys=l,this.modalService=c,this.dismiss=function(){d.$uibModalInstance.dismiss()},this.onDateBlur=function(e,t){d.getDayOfWeek(t)},this.getDayOfWeek=function(e){var t=d.formData;d.jurisdictionBusinessDaysService.getDayOfWeek(e).then(function(e){t.dayOfWeek=e})},this.getHolidayById=function(e){d.jurisdictionBusinessDaysService.getCountryHolidayById(d.options.parentId,e).then(function(e){e&&(e.holidayDate=d.dateHelper.convertForDatePicker(e.holidayDate),d.formData=e)})},this.apply=function(e){if(!d.form.$validate())return!1;var t=d.convertToSaveModel(d.formData);d.jurisdictionBusinessDaysService.isDuplicated(t).then(function(a){return a.data?(d.notificationService.alert({message:d.$translate.instant("jurisdictions.maintenance.businessDays.duplicate"),title:d.$translate.instant("modal.unableToComplete")}),!1):void d.jurisdictionBusinessDaysService.saveCountryHolidays(t).then(function(){return d.form.$setPristine(),d.notificationService.success(d.$translate.instant("jurisdictions.maintenance.businessDays.changesSavedSuccessfully")),null!==d.options.refreshGrid&&d.options.refreshGrid(),d.maintModalService.applyChanges(null,d.options,d.isEdit,d.isAddAnother,e),!0})})},this.convertToSaveModel=function(e){var t={id:e.id,countryId:d.options.parentId,holiday:e.holiday,holidayDate:e.holidayDate};return t},this.isApplyEnabled=function(){return!d.form.$pristine&&!d.form.$invalid},this.hasUnsavedChanges=function(){return d.form.$dirty},this.disable=function(){return!(d.form.$dirty&&d.form.$valid)},this.onNavigate=function(){return!!d.form.$pristine||(d.notificationService.discard().then(function(){return d.form.$setPristine(),d.navigateToNextRecord(),!0}),!1)},this.navigateToNextRecord=function(){var e=d.options.allItems,t=d.options.dataItem,a=_.indexOf(e,t);if(a<e.length-1){var i=d.options.allItems[a+1];d.$scope.$emit("modalChangeView",{dataItem:i})}},this.initShortcuts=function(){d.hotkeys.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!d.disable()&&d.modalService.canOpen("BusinessdaysMaintenance")&&d.apply(!1)}}),d.hotkeys.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){return d.hasUnsavedChanges()?d.notificationService.discard().then(function(){d.dismiss()}):void d.dismiss()}})},this.isAddAnother=this.options.isAddAnother,this.isEdit="edit"===this.options.mode,this.entity={state:this.options.entityState},this.formData={},this.isEdit&&this.getHolidayById(this.options.dataItem),this.maintModalService=this.maintenanceModalService(this.$scope,this.$uibModalInstance,this.options.addItem),this.title=this.isEdit?".editTitle":".addTitle",this.initShortcuts()}return e.$inject=["$scope","$uibModalInstance","options","maintenanceModalService","jurisdictionBusinessDaysService","dateHelper","notificationService","$translate","hotkeys","modalService"],e}();angular.module("inprotech.configuration.general.jurisdictions").controller("BusinessdaysMaintenanceController",BusinessdaysMaintenanceController);var BusinessDaysMaintenanceData=function(){function e(e,t){this.data=e,this.dateHelper=t}return Object.defineProperty(e.prototype,"GridData",{get:function(){return this._gridData=this.data,this._gridData.holidayDate=this.data.holidayDate?this.dateHelper.convertForDatePicker(this.data.holidayDate):null,this._gridData.dayOfWeek=this.data.dayOfWeek,this._gridData.holiday=this.data.holiday,this._gridData.id=this.data.id,this._gridData.countryId=this.data.countryId,this._gridData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FormData",{get:function(){return this._formData={holidayDate:this.data.holidayDate?this.dateHelper.convertForDatePicker(this.data.holidayDate):null,dayOfWeek:this.data.dayOfWeek,holiday:this.data.holiday,displayMessage:this.data.displayMessage,warningFlag:this.data.warningFlag,id:this.data.id,countryId:this.data.countryId},this._formData},enumerable:!0,configurable:!0}),e}(),ClassesMaintenanceController=function(){function e(e,t,a,i,n,o,r,s,l){var c=this;if(this.$scope=e,this.$uibModalInstance=t,this.options=a,this.maintenanceModalService=i,this.caseValidCombinationService=n,this.dateHelper=o,this.workflowsEntryControlService=r,this.notificationService=s,this.$translate=l,this.dismiss=function(){c.$uibModalInstance.dismiss()},this.extendPropertyTypePicklist=function(e){return c.caseValidCombinationService.extendValidCombinationPickList(e)},this.apply=function(e){if(!c.form.$validate())return!1;var t=new ClassesMaintenanceData(c.formData).GridData;return c.workflowsEntryControlService.isDuplicated(_.without(c.options.allItems,c.options.dataItem),t,["class","propertyTypeCode","subClass"])?(c.notificationService.alert({message:c.$translate.instant("jurisdictions.maintenance.classes.errors.duplicate"),title:c.$translate.instant("modal.unableToComplete")}),!1):(c.isEdit?t.isEdited=!0:t.isAdded=!0,c.options.propertyTypeModel=t.propertyTypeModel,c.maintModalService.applyChanges(t,c.options,c.isEdit,c.isAddAnother,e),!0)},this.isApplyEnabled=function(){return!c.form.$pristine&&!c.form.$invalid},this.extendTMClassPicklist=function(e){var t=angular.extend({},e,{propertyTypeCode:c.formData.propertyTypeModel?c.formData.propertyTypeModel.code:"",latency:888});return t},this.onPropertyChanged=function(){c.formData.propertyTypeModel&&!c.formData.propertyTypeModel.allowSubClass&&(c.formData.subClass=""),c.formData.propertyTypeModel&&"T"!==c.formData.propertyTypeModel.code&&(c.formData.internationalClasses=[]),c.onSubClassChange()},this.onSubClassChange=function(){return c.isClassLabel=!c.formData||!c.formData.subClass},this.hasUnsavedChanges=function(){return c.form&&c.form.$dirty},this.onNavigate=function(){return!!c.form.$pristine||(c.apply(!0),!0)},this.isAddAnother=this.options.isAddAnother,this.isEdit="edit"===this.options.mode,this.picklistValidCombination=n.validCombinationDescriptionsMap,this.formData={},this.isEdit){var d=new ClassesMaintenanceData(this.options.dataItem,this.dateHelper);this.formData=d.FormData}this.isClassLabel=this.onSubClassChange(),this.formData.jurisdiction={code:this.options.parentId,value:this.options.jurisdiction},this.title=this.isEdit?".editTitle":".addTitle",this.maintModalService=this.maintenanceModalService(this.$scope,this.$uibModalInstance,this.options.addItem),this.isAddAnother&&(this.formData.propertyTypeModel=this.options.propertyTypeModel),n.initFormData(this.formData)}return e.$inject=["$scope","$uibModalInstance","options","maintenanceModalService","caseValidCombinationService","dateHelper","workflowsEntryControlService","notificationService","$translate"],e}();angular.module("inprotech.configuration.general.jurisdictions").controller("ClassesMaintenanceController",ClassesMaintenanceController);var ClassesMaintenanceData=function(){function e(e,t){this.data=e,this.dateHelper=t}return Object.defineProperty(e.prototype,"GridData",{get:function(){return this._gridData=this.data,this._gridData.propertyType=angular.isDefined(this.data.propertyTypeModel)?this.data.propertyTypeModel.value:null,this._gridData.propertyTypeCode=this.data.propertyTypeModel.code,this._gridData.allowSubClass=this.data.propertyTypeModel.allowSubClass,this._gridData.intClasses=angular.isDefined(this.data.internationalClasses)?_.map(_.sortBy(this.data.internationalClasses,function(e){return+e.code}),function(e){return e.code}).join(", "):"",this._gridData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FormData",{get:function(){return this._formData={propertyTypeModel:{code:this.data.propertyTypeCode,value:this.data.propertyType,allowSubClass:this.data.allowSubClass},"class":this.data["class"],subClass:this.data.subClass,description:this.data.description,notes:this.data.notes,effectiveDate:this.data.effectiveDate?this.dateHelper.convertForDatePicker(this.data.effectiveDate):null,internationalClasses:this.data.internationalClasses&&this.data.internationalClasses.length>0?this.data.internationalClasses:[]},this._formData},enumerable:!0,configurable:!0}),e}();angular.module("inprotech.configuration.general.jurisdictions").directive("classInlineAlert",function(){"use strict";return{restrict:"EA",controllerAs:"vm",template:'<div class="alert alert-info"><icon name="info-circle"></icon> <a ui-sref="jurisdictions.default({id: ZZZ, navigatedSource: classes})" target="_blank" id="classJurisdiction" translate="jurisdictions.maintenance.classes.clickHere"></a> <span>{{"jurisdictions.maintenance.classes.inlineInfoMessage" | translate}}</span></div>'}});var GroupMembershipMaintenanceController=function(){function e(e,t,a,i,n,o,r,s,l,c){var d=this;if(this.$scope=e,this.$uibModalInstance=t,this.options=a,this.maintenanceModalService=i,this.notificationService=n,this.$translate=o,this.utils=r,this.workflowsEntryControlService=s,this.dateHelper=l,this.caseValidCombinationService=c,this.isGroupDisabled=!0,this.apply=function(e){var t=new GroupsMaintenanceData(d.formData).GridData;d.utils.steps(function(e){return!!d.form.$validate()&&void e()},function(e){return d.workflowsEntryControlService.isDuplicated(_.without(d.options.allItems,d.options.dataItem),t,["id"])?(d.notificationService.alert({message:"0"===d.options.type?d.$translate.instant("field.errors.groupMembership.duplicateJurisdictionMessage"):d.isGroup?d.$translate.instant("field.errors.groupMembership.duplicateGroupMessage"):d.$translate.instant("field.errors.groupMembership.duplicateMemberMessage"),title:d.$translate.instant("modal.unableToComplete")}),!1):void e()},function(e){return!!d.validateDates(d.formData.dateCeased,d.formData.dateCommenced,"field.errors.groupMembership.dateJoinedMessage")&&(!!d.validateDates(d.formData.fullMembershipDate,d.formData.dateCommenced,"field.errors.groupMembership.dateMembershipMessage")&&(!!d.validateDates(d.formData.associateMemberDate,d.formData.dateCommenced,"field.errors.groupMembership.dateAssociateMembershipMessage")&&(!!d.validateDates(d.formData.dateCeased,d.formData.fullMembershipDate,"field.errors.groupMembership.dateLeftMessage")&&(!!d.validateDates(d.formData.dateCeased,d.formData.associateMemberDate,"field.errors.groupMembership.dateLeftAssociateMessage")&&void e()))))},function(a){return d.isEdit?t.isEdited=!0:t.isAdded=!0,d.maintModalService.applyChanges(t,d.options,d.isEdit,d.isAddAnother,e),!0})},this.extendPropertyTypePicklist=function(e){return d.caseValidCombinationService.extendValidCombinationPickList(e)},this.propertyTypeDisabled=function(){return d.isGroup&&(void 0===d.formData.group||null==d.formData.group.key)},this.onAssociateMemberChange=function(){d.formData.isAssociateMember&&(d.formData.fullMembershipDate=null)},this.onJurisdictionChange=function(){d.propertyTypeDisabled()||(d.formData.jurisdiction={code:d.formData.group.key,value:d.formData.group.value})},this.isApplyEnabled=function(){return!d.form.$pristine&&!d.form.$invalid},this.hasUnsavedChanges=function(){return d.form&&d.form.$dirty},this.dismiss=function(){d.$uibModalInstance.dismiss()},this.onNavigate=function(){return!!d.form.$pristine||(d.apply(!0),!0)},this.extendJurisdictionPicklist=function(e){var t=d,a=angular.extend({},e,{isGroup:d.isGroup,excludeCountry:"1"===t.options.type?t.options.parentId:"",latency:888});return a},this.validateDates=function(e,t,a){var i=!0;return null!==e&&null!==t&&e<t&&(i=!1,d.notificationService.alert({message:d.$translate.instant(a),title:d.$translate.instant("modal.unableToComplete")})),i},this.isAddAnother=this.options.isAddAnother,this.isGroup=this.options.isGroup,this.isEdit="edit"===this.options.mode,this.picklistValidCombination=c.validCombinationDescriptionsMap,this.formData={},this.isEdit){var p=new GroupsMaintenanceData(this.options.dataItem,this.dateHelper);this.formData=p.FormData,this.isGroup&&(this.formData.jurisdiction={code:this.options.dataItem.id,value:this.options.dataItem.name})}angular.isDefined(this.options.dataItem)&&this.options.dataItem.isAdded&&(this.isGroupDisabled=!1),this.isGroup||(this.formData.jurisdiction={code:this.options.parentId,value:this.options.jurisdiction}),this.title=this.isEdit?this.options.isGroup?".editTitleGroup":".editTitleMember":this.options.isGroup?".addTitleGroup":".addTitleMember",this.maintModalService=this.maintenanceModalService(this.$scope,this.$uibModalInstance,this.options.addItem),c.initFormData(this.formData)}return e.$inject=["$scope","$uibModalInstance","options","maintenanceModalService","notificationService","$translate","utils","workflowsEntryControlService","dateHelper","caseValidCombinationService"],e}();angular.module("inprotech.configuration.general.jurisdictions").controller("GroupMembershipMaintenanceController",GroupMembershipMaintenanceController);var GroupsMaintenanceData=function(){function e(e,t){this.data=e,this.dateHelper=t}return Object.defineProperty(e.prototype,"GridData",{get:function(){return this._gridData=this.data,this._gridData.id=angular.isDefined(this.data.group)?this.data.group.key:null,this._gridData.name=angular.isDefined(this.data.group)?this.data.group.value:null,this._gridData.propertyTypes=angular.isDefined(this.data.propertyTypeCollection)?_.map(_.sortBy(this.data.propertyTypeCollection,"code"),function(e){return e.code}).join(","):"",this._gridData.propertyTypesName=angular.isDefined(this.data.propertyTypeCollection)?_.map(_.sortBy(this.data.propertyTypeCollection,"value"),function(e){return e.value}).join(", "):"",this._gridData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FormData",{get:function(){return this._formData={group:{key:this.data.id,code:this.data.id,value:this.data.name},dateCeased:this.data.dateCeased?this.dateHelper.convertForDatePicker(this.data.dateCeased):null,dateCommenced:this.data.dateCommenced?this.dateHelper.convertForDatePicker(this.data.dateCommenced):null,fullMembershipDate:this.data.fullMembershipDate?this.dateHelper.convertForDatePicker(this.data.fullMembershipDate):null,associateMemberDate:this.data.associateMemberDate?this.dateHelper.convertForDatePicker(this.data.associateMemberDate):null,isGroupDefault:this.data.isGroupDefault,preventNationalPhase:this.data.preventNationalPhase,isAssociateMember:this.data.isAssociateMember,propertyTypeCollection:this.data.propertyTypeCollection&&this.data.propertyTypeCollection.length>0?this.data.propertyTypeCollection:[]},this._formData},enumerable:!0,configurable:!0}),e}(),ValidNumbersMaintenanceController=function(){function e(e,t,a,i,n,o,r,s,l,c,d){var p=this;if(this.$scope=e,this.$uibModalInstance=t,this.options=a,this.maintenanceModalService=i,this.caseValidCombinationService=n,this.dateHelper=o,this.workflowsEntryControlService=r,this.jurisdictionValidNumbersService=s,this.notificationService=l,this.$translate=c,this.modalService=d,this.dismiss=function(){p.$uibModalInstance.dismiss()},this.extendPicklistQuery=function(e){return p.caseValidCombinationService.extendValidCombinationPickList(e)},this.isCaseCategoryDisabled=function(){return p.caseValidCombinationService.isCaseCategoryDisabled()},this.apply=function(e){if(!p.form.$validate())return!1;var t=new ValidNumbersMaintenanceData(p.formData).GridData;return p.workflowsEntryControlService.isDuplicated(_.without(p.options.allItems,p.options.dataItem),t,["numberTypeCode","propertyTypeCode","validFrom"])?(p.notificationService.alert({message:p.$translate.instant("jurisdictions.maintenance.validNumbers.errors.duplicate"),title:p.$translate.instant("modal.unableToComplete")}),!1):(p.isEdit?t.isEdited=!0:t.isAdded=!0,p.maintModalService.applyChanges(t,p.options,p.isEdit,p.isAddAnother,e),!0)},this.onTestPatternClick=function(){p.openTestNumberPattern().then(function(e){p.maintModalService=p.maintenanceModalService(p.$scope,p.$uibModalInstance,p.options.addItem),e&&((p.isEdit&&p.formData.pattern!==e||!p.isEdit)&&p.form.pattern.$setDirty(),p.formData.pattern=e)})},this.openTestNumberPattern=function(){return p.modalService.openModal({id:"ValidnumbersTestpattern",controllerAs:"vm",bindToController:!0,pattern:p.formData.pattern?p.formData.pattern:null})},this.isApplyEnabled=function(){return!p.form.$pristine&&!p.form.$invalid},this.hasUnsavedChanges=function(){return p.form&&p.form.$dirty},this.onAdditionalValidationChanged=function(){if(p.formData.additionalValidation){var e=p.form.additionalValidation;p.jurisdictionValidNumbersService.validateStoredProcedure(p.formData.additionalValidation.value).then(function(t){e.$setValidity("invalidproc",t)})}},this.onNavigate=function(){return!!p.form.$pristine||(p.apply(!0),!0)},this.isAddAnother=this.options.isAddAnother,this.isEdit="edit"===this.options.mode,this.picklistValidCombination=n.validCombinationDescriptionsMap,this.formData={},this.isEdit){var u=new ValidNumbersMaintenanceData(this.options.dataItem,this.dateHelper);this.formData=u.FormData}this.formData.jurisdiction={code:this.options.parentId,value:this.options.jurisdiction},this.title=this.isEdit?".editTitle":".addTitle",this.maintModalService=this.maintenanceModalService(this.$scope,this.$uibModalInstance,this.options.addItem),n.initFormData(this.formData)}return e.$inject=["$scope","$uibModalInstance","options","maintenanceModalService","caseValidCombinationService","dateHelper","workflowsEntryControlService","jurisdictionValidNumbersService","notificationService","$translate","modalService"],e}();angular.module("inprotech.configuration.general.jurisdictions").controller("ValidNumbersMaintenanceController",ValidNumbersMaintenanceController);var ValidNumbersMaintenanceData=function(){function e(e,t){this.data=e,this.dateHelper=t}return Object.defineProperty(e.prototype,"GridData",{get:function(){return this._gridData=this.data,this._gridData.propertyTypeName=this.data.propertyType?this.data.propertyType.value:null,this._gridData.propertyTypeCode=this.data.propertyType.code,this._gridData.subTypeName=this.data.subType?this.data.subType.value:null,this._gridData.subTypeCode=this.data.subType?this.data.subType.code:null,this._gridData.caseTypeName=this.data.caseType?this.data.caseType.value:null,this._gridData.caseTypeCode=this.data.caseType?this.data.caseType.code:null,this._gridData.caseCategoryName=this.data.caseCategory?this.data.caseCategory.value:null,this._gridData.caseCategoryCode=this.data.caseCategory?this.data.caseCategory.code:null,this._gridData.numberTypeName=this.data.numberType?this.data.numberType.value:null,this._gridData.numberTypeCode=this.data.numberType.code,this._gridData.additionalValidationName=this.data.additionalValidation?this.data.additionalValidation.value:null,this._gridData.additionalValidationId=this.data.additionalValidation?this.data.additionalValidation.key:null,this._gridData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"FormData",{get:function(){return this._formData={propertyType:{code:this.data.propertyTypeCode,value:this.data.propertyTypeName},caseType:{code:this.data.caseTypeCode,value:this.data.caseTypeName,key:this.data.caseTypeCode},subType:{code:this.data.subTypeCode,value:this.data.subTypeName},caseCategory:{code:this.data.caseCategoryCode,value:this.data.caseCategoryName},numberType:{code:this.data.numberTypeCode,value:this.data.numberTypeName},additionalValidation:{key:this.data.additionalValidationId,code:this.data.additionalValidationId,value:this.data.additionalValidationName},pattern:this.data.pattern,displayMessage:this.data.displayMessage,warningFlag:this.data.warningFlag,validFrom:this.data.validFrom?this.dateHelper.convertForDatePicker(this.data.validFrom):null},this._formData},enumerable:!0,configurable:!0}),e}(),ValidNumbersTestPatternController=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.$uibModalInstance=t,this.options=a,this.maintenanceModalService=i,this.notificationService=n,this.$translate=o,this.dismiss=function(){r.$uibModalInstance.close()},this.apply=function(e){return r.form.$validate(),!r.form.regexPattern.$invalid&&(r.options.pattern=r.formData.pattern,r.maintModalService.applyChanges(r.formData.pattern,r.options,!1,!1,e),!0)},this.isApplyEnabled=function(){return!r.form.$pristine&&!r.form.regexPattern.$invalid},this.hasUnsavedChanges=function(){return r.form&&r.form.regexPattern.$dirty},this.onTestPatternClick=function(){if(r.formData.pattern){var e=new RegExp(r.formData.pattern);e.test(r.formData.testPatternNumber)?(r.errorPattern=null,r.notificationService.success("jurisdictions.maintenance.validNumbers.testedSuccess")):r.errorPattern=r.$translate.instant("jurisdictions.maintenance.validNumbers.invalidNumber")}},this.resetErrorPattern=function(){r.errorPattern=null,r.form.testPatternNumber.$setPristine()},this.shouldDisableTestPattern=function(){return!r.formData.pattern||!r.formData.testPatternNumber},this.errorPattern="",this.formData={},this.formData.pattern=this.options.pattern,this.maintModalService=this.maintenanceModalService(this.$scope,this.$uibModalInstance,this.options)}return e.$inject=["$scope","$uibModalInstance","options","maintenanceModalService","notificationService","$translate"],e}();angular.module("inprotech.configuration.general.jurisdictions").controller("ValidNumbersTestPatternController",ValidNumbersTestPatternController);var ChangeJurisdictionCodeController=function(){function e(e,t,a,i,n,o){var r=this;this.$uibModalInstance=e,this.notificationService=t,this.jurisdictionMaintenanceService=a,this.hotkeys=i,this.modalService=n,this.options=o,this.initializeEntity=function(){r.entity=r.options.entity},this.formValid=function(){return r.changeCodeForm.newJurisdictionCode&&r.changeCodeForm.newJurisdictionCode.$dirty&&r.changeCodeForm.newJurisdictionCode.$valid},this.cancel=function(){r.$uibModalInstance.dismiss("Cancel")},this.afterSave=function(e){"success"===e.data.result?(r.$uibModalInstance.close(),r.notificationService.success()):(r.errors=e.data.errors,r.notificationService.alert({title:"modal.unableToComplete",message:r.getError("jurisdiction").topic,errors:_.where(e.data.errors,{field:null})}))},this.afterSaveError=function(e){r.notificationService.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})},this.save=function(){return r.errors={},r.changeCodeForm.$invalid?void r.notificationService.alert({title:"modal.unableToComplete",message:"modal.alert.unsavedchanges"}):void r.notificationService.confirm({title:"Confirm Change",message:"jurisdictions.changeCode.confirmation",cancel:"Cancel","continue":"Proceed"}).then(function(){r.jurisdictionMaintenanceService.changeJurisdictionCode(r.entity).then(r.afterSave,r.afterSaveError)})},this.getError=function(e){return _.find(r.errors,function(t){return t.field===e})},this.hasUnsavedChanges=function(){return r.changeCodeForm.$dirty},this.dismissAll=function(){return r.changeCodeForm.$dirty?void r.notificationService.discard().then(function(){r.cancel()}):void r.cancel()},this.initShortcuts=function(){r.hotkeys.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){r.formValid()&&r.modalService.canOpen("ChangeJurisdictionCode")&&r.save()}}),r.hotkeys.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){r.modalService.canOpen("ChangeJurisdictionCode")&&r.dismissAll()}})},this.errors={},this.initializeEntity()}return e.$inject=["$uibModalInstance","notificationService","jurisdictionMaintenanceService","hotkeys","modalService","options"],e}();angular.module("inprotech.configuration.general.jurisdictions").controller("ChangeJurisdictionCodeController",ChangeJurisdictionCodeController),angular.module("inprotech.configuration.general.names.locality",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.names.locality").run(["modalService",function(e){e.register("LocalityMaintenance","LocalityMaintenanceController","condor/configuration/general/names/locality/locality.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.names.locality").config(["$stateProvider",function(e){e.state("locality",{url:"/configuration/general/names/locality",templateUrl:"condor/configuration/general/names/locality/locality.html",controller:"LocalityController",
controllerAs:"vm",resolve:{viewData:["LocalityService",function(e){return e.viewData()}]},data:{pageTitle:"Locality Maintenance"}})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r,s,l,c,d){var p=this;this.$scope=e,this.localityService=a,this.kendoGridBuilder=i,this.states=n,this.modalService=o,this.notificationService=s,this.$translate=l,this.hotkeys=c,this.$timeout=d,this.doSearch=function(){return p.localityService.search(p.searchCriteria,p.gridOptions.getQueryParams())},this.columns=function(){return[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.menuActions.items" data-context="locality" data-initialised="vm.menuActions.initialised()" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"locality.code",field:"code",width:"300px",oneTimeBinding:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.code"></a>'},{title:"locality.name",field:"name",width:"300px",oneTimeBinding:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.name"></a>'},{title:"locality.city",field:"city",width:"300px",oneTimeBinding:!0},{title:"locality.state",field:"state",width:"300px",oneTimeBinding:!0},{title:"locality.country",field:"country",width:"300px",oneTimeBinding:!0}]},this.buildGridOptions=function(){return p.kendoGridBuilder.buildOptions(p.$scope,{id:"searchResults",navigatable:!0,reorderable:!1,autoGenerateRowTemplate:!0,autoBind:!0,selectable:"row",scrollable:!1,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',onDataCreated:function(){p.localityService.persistSavedLocalities(p.gridOptions.data()),p.bulkMenuOperations.selectionChange(p.gridOptions.data())},read:function(){return p.doSearch()},columns:p.columns()})},this.clearAll=function(){return p.bulkMenuOperations.clearAll(p.gridOptions.data())},this.selectAll=function(e){return p.bulkMenuOperations.selectAll(p.gridOptions.data(),e)},this.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),p.bulkMenuOperations.selectionChange(p.gridOptions.data())},this.anySelected=function(){return p.bulkMenuOperations.anySelected(p.gridOptions.data())},this.actions=function(){return[{id:"edit",enabled:p.anySelected.bind(p),click:p.edit.bind(p),maxSelection:1},{id:"duplicate",enabled:p.anySelected.bind(p),click:p.duplicate.bind(p),maxSelection:1},{id:"delete",enabled:p.anySelected.bind(p),click:p.confirmAndDeleteSelectedLocality.bind(p)}]},this.buildMenu=function(){return{items:p.actions(),initialised:function(){p.gridOptions.data()&&p.bulkMenuOperations.selectionChange(p.gridOptions.data())}}},this.add=function(){var e={};p.openLocalityMaintenance(e,p.states.adding)},this.edit=function(e){var t=p.getSelectedEntityId(e);p.localityService.get(t).then(function(e){p.openLocalityMaintenance(e,p.states.updating)})},this.duplicate=function(){var e=p.getSelectedEntityId(null);p.localityService.get(e).then(function(e){var t=angular.copy(e);t.id=null,p.openLocalityMaintenance(t,p.states.duplicating)})},this.getSelectedEntityId=function(e){return void 0!==e&&null!==e?e:p.bulkMenuOperations.selectedRecord(p.gridOptions.data()).id},this.confirmAndDeleteSelectedLocality=function(){p.bulkMenuOperations.selectedRecords(p.gridOptions.data()).length<=0||p.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){p.deleteSelectedLocality()})},this.deleteSelectedLocality=function(){p.localityService.deleteSelected(p.bulkMenuOperations.selectedRecords(p.gridOptions.data())).then(function(e){if(e.data.hasError){var t=p.bulkMenuOperations.selectedRecords(p.gridOptions.data()).length===e.data.inUseIds.length,a=t?p.$translate.instant("modal.alert.alreadyInUse"):p.$translate.instant("modal.alert.partialComplete")+"<br/>"+p.$translate.instant("modal.alert.alreadyInUse"),i=t?"modal.unableToComplete":"modal.partialComplete";p.gridOptions.search().then(function(){p.notificationService.alert({title:i,message:a}),p.localityService.markInUseLocalities(p.gridOptions.data(),e.data.inUseIds),p.bulkMenuOperations.selectionChange(p.gridOptions.data())})}else p.notificationService.success(e.data.message),p.gridOptions.search()})},this.openLocalityMaintenance=function(e,t){e.currentState=t;var a={id:"LocalityMaintenance",entity:e||{},controllerAs:"vm",dataItem:p.getEntityFromGrid(e.id),allItems:p.gridOptions.data(),callbackFn:p.gridOptions.search};p.modalService.openModal(a)},this.getEntityFromGrid=function(e){return _.find(p.gridOptions.data(),function(t){return t.id===e})},this.initShortcuts=function(){var e={combo:"alt+shift+i",description:"shortcuts.add",callback:function(){p.modalService.canOpen()&&p.add()}},t={combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){p.modalService.canOpen()&&p.confirmAndDeleteSelectedLocality()}};p.hotkeys.add(e),p.hotkeys.add(t)},this.context="locality",this.gridOptions=this.buildGridOptions(),this.menuActions=this.buildMenu(),this.bulkMenuOperations=new r(this.context),this.viewData=t,this.$timeout(this.initShortcuts,500)}return e.$inject=["$scope","viewData","LocalityService","kendoGridBuilder","states","modalService","BulkMenuOperations","notificationService","$translate","hotkeys","$timeout"],e}();e.LocalityController=t,angular.module("inprotech.configuration.general.names.locality").controller("LocalityController",t)}(t=e.locality||(e.locality={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r){var s=this;this.$uibModalInstance=e,this.options=t,this.notificationService=a,this.states=i,this.localityService=n,this.hotkeys=o,this.modalService=r,this.initializeEntity=function(){null!=s.options.dataItem&&s.options.dataItem.id!==s.options.entity.id?s.localityService.get(s.options.dataItem.id).then(function(e){s.entity=e,s.entity.currentState=s.states.updating}):(s.entity=s.options.entity,s.clearCode())},this.clearCode=function(){s.entity.currentState===s.states.duplicating&&(s.entity.code=null)},this.disable=function(){return!(s.form.$dirty&&s.form.$valid)},this.save=function(){s.errors=new Array,s.form&&s.form.$validate&&s.form.$validate(),s.form.$invalid||(s.entity.currentState===s.states.adding||s.entity.currentState===s.states.duplicating?s.localityService.add(s.entity).then(s.afterSave,s.afterSaveError):s.localityService.update(s.entity).then(s.afterSave,s.afterSaveError))},this.afterSave=function(e){"success"===e.data.result.result?(s.localityService.savedIds.push(e.data.result.updatedId),s.entity.currentState===s.states.updating?s.form.$setPristine():s.$uibModalInstance.close(),s.notificationService.success(),s.options.callbackFn()):(s.errors=e.data.result.errors,s.notificationService.alert({title:"modal.unableToComplete",message:s.getError(s.errors[0].field).topic,errors:_.where(e.data.result.errors,{field:null})}))},this.hasUnsavedChanges=function(){return s.form&&s.form.$dirty},this.afterSaveError=function(e){s.errors=e.data.result.errors,s.notificationService.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})},this.getError=function(e){return _.find(s.errors,function(t){return t.field===e})},this.dismissAll=function(){return s.form.$dirty?void s.notificationService.discard().then(function(){s.cancel()}):void s.cancel()},this.cancel=function(){s.$uibModalInstance.close()},this.onCountryChanged=function(){null===s.entity.country&&(s.entity.state=null)},this.onStateChanged=function(){null!=s.entity.state&&(s.entity.country={},s.entity.country.code=s.entity.state.countryCode,s.entity.country.key=s.entity.state.countryCode,s.entity.country.value=s.entity.state.countryDescription)},this.extendStatePicklist=function(e){var t=angular.extend({},e,{country:void 0===s.entity.country||null===s.entity.country?"":s.entity.country.code,latency:888});return t},this.initShortcuts=function(){var e={combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!s.disable()&&s.modalService.canOpen("LocalityMaintenance")&&s.save()}},t={combo:"alt+shift+z",description:"shortcuts.close",callback:function(){s.modalService.canOpen("LocalityMaintenance")&&s.dismissAll()}};s.hotkeys.add(e),s.hotkeys.add(t)},this.isEdit="updating"===this.options.entity.currentState,this.errors=new Array,this.initShortcuts(),this.initializeEntity()}return e.$inject=["$uibModalInstance","options","notificationService","states","LocalityService","hotkeys","modalService"],e}();e.LocalityMaintenanceController=t,angular.module("inprotech.configuration.general.names.locality").controller("LocalityMaintenanceController",t)}(t=e.locality||(e.locality={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.baseUrl="api/configuration/names/locality/",this.search=function(e,a){return t.$http.get(t.baseUrl+"search",{params:{q:JSON.stringify(e),params:JSON.stringify(a)}}).then(function(e){return e.data})},this.viewData=function(){return t.$http.get(t.baseUrl+"viewdata").then(function(e){return e})},this.get=function(e){return t.$http.get(t.baseUrl+e).then(function(e){return e.data})},this.deleteSelected=function(e){return t.$http.post(t.baseUrl+"delete",{ids:_.pluck(e,"id")})},this.add=function(e){return t.$http.post(t.baseUrl,e)},this.update=function(e){return t.$http.put(t.baseUrl+e.id,e)},this.markInUseLocalities=function(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})},this.persistSavedLocalities=function(e){_.each(e,function(e){_.each(t.savedIds,function(t){e.id===t&&(e.saved=!0)})})},this.savedIds=[]}return e.$inject=["$http"],e}();e.LocalityService=t,angular.module("inprotech.configuration.general.names.locality").service("LocalityService",t)}(t=e.locality||(e.locality={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={})),angular.module("inprotech.configuration.general.names.namealiastype",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.names.namealiastype").run(["modalService",function(e){e.register("NameAliasTypeMaintenance","NameAliasTypeMaintenanceController","condor/configuration/general/names/namealiastype/namealiastype.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.names.namealiastype").config(["$stateProvider",function(e){e.state("namealiastype",{url:"/configuration/general/names/namealiastype",templateUrl:"condor/configuration/general/names/namealiastype/namealiastype.html",controller:"NameAliasTypeController",controllerAs:"vm",resolve:{viewData:["NameAliasTypeService",function(e){return e.viewData()}]},data:{pageTitle:"Name Alias Type Maintenance"}})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r,s,l,c,d){var p=this;this.$scope=e,this.nameAliasTypeService=a,this.kendoGridBuilder=i,this.states=n,this.modalService=o,this.notificationService=s,this.$translate=l,this.hotkeys=c,this.$timeout=d,this.doSearch=function(){return p.nameAliasTypeService.search(p.searchCriteria,p.gridOptions.getQueryParams())},this.buildGridOptions=function(){return p.kendoGridBuilder.buildOptions(p.$scope,{id:"searchResults",navigatable:!0,reorderable:!1,autoGenerateRowTemplate:!0,autoBind:!0,selectable:"row",scrollable:!1,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',onDataCreated:function(){p.nameAliasTypeService.persistSavedNameAliasTypes(p.gridOptions.data()),p.bulkMenuOperations.selectionChange(p.gridOptions.data())},read:function(){return p.doSearch()},columns:[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.nameAliasTypes.items" data-context="nameAliasTypes" data-initialised="vm.nameAliasTypes.initialised()" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"nameAliasType.type",field:"code",width:"300px",oneTimeBinding:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.code"></a>'},{title:"nameAliasType.description",field:"description",oneTimeBinding:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.description"></a>'},{title:"nameAliasType.unique",field:"isUnique",template:'<input type="checkbox" ng-model="dataItem.isUnique" disabled="disabled"></input>',width:"300px",oneTimeBinding:!0}]})},this.clearAll=function(){return p.bulkMenuOperations.clearAll(p.gridOptions.data())},this.selectAll=function(e){return p.bulkMenuOperations.selectAll(p.gridOptions.data(),e)},this.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),p.bulkMenuOperations.selectionChange(p.gridOptions.data())},this.anySelected=function(){return p.bulkMenuOperations.anySelected(p.gridOptions.data())},this.actions=function(){return[{id:"edit",enabled:p.anySelected.bind(p),click:p.edit.bind(p),maxSelection:1},{id:"duplicate",enabled:p.anySelected.bind(p),click:p.duplicate.bind(p),maxSelection:1},{id:"delete",enabled:p.anySelected.bind(p),click:p.confirmAndDeleteSelectedNameAliasType.bind(p)}]},this.buildMenu=function(){return{items:p.actions(),initialised:function(){p.gridOptions.data()&&p.bulkMenuOperations.selectionChange(p.gridOptions.data())}}},this.add=function(){var e={};p.openNameAliasTypeMaintenance(e,p.states.adding)},this.edit=function(e){var t=p.getSelectedEntityId(e);p.nameAliasTypeService.get(t).then(function(e){p.openNameAliasTypeMaintenance(e,p.states.updating)})},this.duplicate=function(){var e=p.getSelectedEntityId(null);p.nameAliasTypeService.get(e).then(function(e){var t=angular.copy(e);t.id=null,p.openNameAliasTypeMaintenance(t,p.states.duplicating)})},this.getSelectedEntityId=function(e){return void 0!==e&&null!==e?e:p.bulkMenuOperations.selectedRecord(p.gridOptions.data()).id},this.confirmAndDeleteSelectedNameAliasType=function(){p.bulkMenuOperations.selectedRecords(p.gridOptions.data()).length<=0||p.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){p.deleteSelectedNameAliasType()})},this.deleteSelectedNameAliasType=function(){p.nameAliasTypeService.deleteSelected(p.bulkMenuOperations.selectedRecords(p.gridOptions.data())).then(function(e){if(e.data.hasError){var t=p.bulkMenuOperations.selectedRecords(p.gridOptions.data()).length===e.data.inUseIds.length,a=t?p.$translate.instant("modal.alert.alreadyInUse"):p.$translate.instant("modal.alert.partialComplete")+"<br/>"+p.$translate.instant("modal.alert.alreadyInUse"),i=t?"modal.unableToComplete":"modal.partialComplete";p.gridOptions.search().then(function(){p.notificationService.alert({title:i,message:a}),p.nameAliasTypeService.markInUseNameTypeAlias(p.gridOptions.data(),e.data.inUseIds),p.bulkMenuOperations.selectionChange(p.gridOptions.data())})}else p.notificationService.success(e.data.message),p.gridOptions.search()})},this.openNameAliasTypeMaintenance=function(e,t){e.state=t;var a={id:"NameAliasTypeMaintenance",entity:e||{},controllerAs:"vm",dataItem:p.getEntityFromGrid(e.id),allItems:p.gridOptions.data(),callbackFn:p.gridOptions.search};p.modalService.openModal(a)},this.getEntityFromGrid=function(e){return _.find(p.gridOptions.data(),function(t){return t.id===e})},this.initShortcuts=function(){var e={combo:"alt+shift+i",description:"shortcuts.add",callback:function(){p.modalService.canOpen()&&p.add()}},t={combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){p.modalService.canOpen()&&p.confirmAndDeleteSelectedNameAliasType()}};p.hotkeys.add(e),p.hotkeys.add(t)},this.context="nameAliasTypes",this.gridOptions=this.buildGridOptions(),this.nameAliasTypes=this.buildMenu(),this.bulkMenuOperations=new r(this.context),this.viewData=t,this.$timeout(this.initShortcuts,500)}return e.$inject=["$scope","viewData","NameAliasTypeService","kendoGridBuilder","states","modalService","BulkMenuOperations","notificationService","$translate","hotkeys","$timeout"],e}();e.NameAliasTypeController=t,angular.module("inprotech.configuration.general.names.namealiastype").controller("NameAliasTypeController",t)}(t=e.namealiastype||(e.namealiastype={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r,s){var l=this;this.$uibModalInstance=e,this.options=t,this.notificationService=a,this.states=i,this.nameAliasTypeService=n,this.hotkeys=o,this.modalService=r,this.$timeout=s,this.initializeEntity=function(){null!=l.options.dataItem&&l.options.dataItem.id!==l.options.entity.id?l.nameAliasTypeService.get(l.options.dataItem.id).then(function(e){l.entity=e,l.entity.state=l.states.updating}):(l.entity=l.options.entity,l.clearNameAliasTypeCode())},this.clearNameAliasTypeCode=function(){l.entity.state===l.states.duplicating&&(l.entity.code=null)},this.disable=function(){return!(l.form.$dirty&&l.form.$valid)},this.save=function(){l.errors=new Array,l.form&&l.form.$validate&&l.form.$validate(),l.form.$invalid||(l.entity.state===l.states.adding||l.entity.state===l.states.duplicating?l.nameAliasTypeService.add(l.entity).then(l.afterSave,l.afterSaveError):l.nameAliasTypeService.update(l.entity).then(l.afterSave,l.afterSaveError))},this.afterSave=function(e){"success"===e.data.result.result?(l.nameAliasTypeService.savedNameAliasTypeIds.push(e.data.result.updatedId),l.entity.state===l.states.updating?l.form.$setPristine():l.$uibModalInstance.close(),l.notificationService.success(),l.options.callbackFn()):(l.errors=e.data.result.errors,l.notificationService.alert({title:"modal.unableToComplete",message:l.getError(l.errors[0].field).topic,errors:_.where(e.data.result.errors,{field:null})}))},this.hasUnsavedChanges=function(){return l.form&&l.form.$dirty},this.afterSaveError=function(e){l.errors=e.data.result.errors,l.notificationService.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})},this.getError=function(e){return _.find(l.errors,function(t){return t.field===e})},this.dismissAll=function(){return l.form.$dirty?void l.notificationService.discard().then(function(){l.cancel()}):void l.cancel()},this.cancel=function(){l.$uibModalInstance.close()},this.initShortcuts=function(){var e={combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!l.disable()&&l.modalService.canOpen("NameAliasTypeMaintenance")&&l.save()}},t={combo:"alt+shift+z",description:"shortcuts.close",callback:function(){l.modalService.canOpen("NameAliasTypeMaintenance")&&l.dismissAll()}};l.hotkeys.add(e),l.hotkeys.add(t)},this.isEdit="updating"===this.options.entity.state,this.errors=new Array,this.$timeout(this.initShortcuts,500),this.initializeEntity()}return e.$inject=["$uibModalInstance","options","notificationService","states","NameAliasTypeService","hotkeys","modalService","$timeout"],e}();e.NameAliasTypeMaintenanceController=t,angular.module("inprotech.configuration.general.names.namealiastype").controller("NameAliasTypeMaintenanceController",t)}(t=e.namealiastype||(e.namealiastype={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.baseUrl="api/configuration/names/aliastype/",this.savedNameAliasTypeIds=[],this.search=function(e,a){return t.$http.get(t.baseUrl+"search",{params:{q:JSON.stringify(e),params:JSON.stringify(a)}}).then(function(e){return e.data})},this.viewData=function(){return t.$http.get(t.baseUrl+"viewdata").then(function(e){return e})},this.get=function(e){return t.$http.get(t.baseUrl+e).then(function(e){return e.data})},this.deleteSelected=function(e){return t.$http.post(t.baseUrl+"delete",{ids:_.pluck(e,"id")})},this.add=function(e){return t.$http.post(t.baseUrl,e)},this.update=function(e){return t.$http.put(t.baseUrl+e.id,e)},this.markInUseNameTypeAlias=function(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})},this.persistSavedNameAliasTypes=function(e){_.each(e,function(e){_.each(t.savedNameAliasTypeIds,function(t){e.code===t&&(e.saved=!0)})})}}return e.$inject=["$http"],e}();e.NameAliasTypeService=t,angular.module("inprotech.configuration.general.names.namealiastype").service("NameAliasTypeService",t)}(t=e.namealiastype||(e.namealiastype={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={})),angular.module("inprotech.configuration.general.names.namerelations",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.names.namerelations").run(["modalService",function(e){e.register("NameRelationMaintenance","NameRelationMaintenanceController","condor/configuration/general/names/namerelations/namerelation.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]),angular.module("inprotech.configuration.general.names.namerelations").config(["$stateProvider",function(e){e.state("namerelations",{url:"/configuration/general/names/namerelations",templateUrl:"condor/configuration/general/names/namerelations/namerelations.html",controller:"NameRelationController",controllerAs:"vm",data:{pageTitle:"Name Relation Code Maintenance"}})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r){var s=this;this.$uibModalInstance=e,this.options=t,this.notificationService=a,this.states=i,this.nameRelationService=n,this.hotkeys=o,this.modalService=r,this.initializeForm=function(){s.nameRelationService.viewData().then(function(e){s.ethicalWallOptions=e.data.ethicalWallOptions})},this.initializeEntity=function(){null!=s.options.dataItem&&s.options.dataItem.id!==s.options.entity.id?s.nameRelationService.get(s.options.dataItem.id).then(function(e){s.entity=e,s.entity.currentState=s.states.updating}):(s.entity=s.options.entity,s.options.entity.currentState===s.states.adding&&(s.entity.ethicalWall="0"),s.clearCode())},this.clearCode=function(){s.entity.currentState===s.states.duplicating&&(s.entity.relationshipCode=null)},this.disable=function(){return!(s.form.$dirty&&s.form.$valid&&(s.entity.isEmployee||s.entity.isIndividual||s.entity.isOrganisation))},this.save=function(){s.errors=new Array,s.form&&s.form.$validate&&s.form.$validate(),s.form.$invalid||(s.entity.currentState===s.states.adding||s.entity.currentState===s.states.duplicating?s.nameRelationService.add(s.entity).then(s.afterSave,s.afterSaveError):s.nameRelationService.update(s.entity).then(s.afterSave,s.afterSaveError))},this.afterSave=function(e){"success"===e.data.result.result?(s.nameRelationService.savedIds.push(e.data.result.updatedId),s.entity.currentState===s.states.updating?s.form.$setPristine():s.$uibModalInstance.close(),s.notificationService.success(),s.options.callbackFn()):(s.errors=e.data.result.errors,s.notificationService.alert({title:"modal.unableToComplete",message:s.getError(s.errors[0].field).topic,errors:_.where(e.data.result.errors,{field:null})}))},this.hasUnsavedChanges=function(){return s.form&&s.form.$dirty},this.afterSaveError=function(e){s.errors=e.data.result.errors,s.notificationService.alert({message:"modal.alert.unsavedchanges",errors:_.where(e.data.result.errors,{field:null})})},this.getError=function(e){return _.find(s.errors,function(t){return t.field===e})},this.dismissAll=function(){return s.form.$dirty?void s.notificationService.discard().then(function(){s.cancel()}):void s.cancel()},this.cancel=function(){s.$uibModalInstance.close()},this.initShortcuts=function(){s.hotkeys.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!s.disable()&&s.modalService.canOpen("NameRelationMaintenance")&&s.save()}}),s.hotkeys.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){s.modalService.canOpen("NameRelationMaintenance")&&s.dismissAll()}})},this.isEdit="updating"===this.options.entity.currentState,this.ethicalWallOptions=[],this.errors=new Array,this.initializeForm(),this.initShortcuts(),this.initializeEntity()}return e.$inject=["$uibModalInstance","options","notificationService","states","NameRelationService","hotkeys","modalService"],e}();e.NameRelationMaintenanceController=t,angular.module("inprotech.configuration.general.names.namerelations").controller("NameRelationMaintenanceController",t)}(t=e.namerelations||(e.namerelations={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r,s,l,c){var d=this;this.$scope=e,this.nameRelationService=t,this.kendoGridBuilder=a,this.hotkeys=n,this.$timeout=o,this.modalService=r,this.states=s,this.notificationService=l,this.$translate=c,this.doSearch=function(){return d.nameRelationService.search(d.searchCriteria,d.gridOptions.getQueryParams())},this.columns=function(){return[{fixed:!0,width:"35px",template:'<ip-checkbox data-ng-id="checkbox_row_{{dataItem.id}}" ng-model="dataItem.selected" ng-change="vm.selectionChange(dataItem)"></ip-checkbox>',headerTemplate:'<div data-bulk-actions-menu data-items="vm.gridOptions.data()" data-actions="vm.menuActions.items" data-context="namerelation" data-initialised="vm.menuActions.initialised()" data-on-clear="vm.clearAll();" data-on-select-all="vm.selectAll(val)"></div>'},{title:"namerelation.relationshipcode",field:"relationshipCode",width:"300px",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.relationshipCode"></a>'},{title:"namerelation.relationshipdesc",field:"relationshipDescription",width:"300px",sortable:!0,template:'<a ng-click="vm.edit(dataItem.id)" ng-class="pointerCursor" ng-bind="dataItem.relationshipDescription"></a>'},{title:"namerelation.reverserelationship",field:"reverseDescription",width:"300px",sortable:!0},{title:"namerelation.employee",field:"isEmployee",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isEmployee" disabled="disabled"></input>'},{title:"namerelation.individual",field:"isIndividual",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isIndividual" disabled="disabled"></input>'},{title:"namerelation.organisation",field:"isOrganisation",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isOrganisation" disabled="disabled"></input>'},{title:"namerelation.crm",field:"isCrmOnly",sortable:!0,template:'<input type="checkbox" ng-model="dataItem.isCrmOnly" disabled="disabled"></input>'},{title:"namerelation.ethicalwall",field:"ethicalWallValue",width:"300px",sortable:!0}]},this.buildGridOptions=function(){return d.kendoGridBuilder.buildOptions(d.$scope,{id:"searchResults",navigatable:!0,reorderable:!1,autoGenerateRowTemplate:!0,autoBind:!0,selectable:"row",scrollable:!1,rowAttributes:'ng-class="{saved: dataItem.saved, error: dataItem.inUse === true && dataItem.selected === true}"',onDataCreated:function(){d.nameRelationService.persistSavedNameRelationship(d.gridOptions.data()),d.bulkMenuOperations.selectionChange(d.gridOptions.data())},read:function(){return d.doSearch()},columns:d.columns()})},this.clearAll=function(){return d.bulkMenuOperations.clearAll(d.gridOptions.data())},this.selectAll=function(e){return d.bulkMenuOperations.selectAll(d.gridOptions.data(),e)},this.selectionChange=function(e){return e&&e.inUse&&e.selected&&(e.inUse=!1),d.bulkMenuOperations.selectionChange(d.gridOptions.data())},this.anySelected=function(){return d.bulkMenuOperations.anySelected(d.gridOptions.data())},this.buildMenu=function(){return{items:[{id:"edit",enabled:d.anySelected.bind(d),click:d.edit.bind(d),maxSelection:1},{id:"duplicate",enabled:d.anySelected.bind(d),click:d.duplicate.bind(d),maxSelection:1},{id:"delete",enabled:d.anySelected.bind(d),click:d.confirmAndDeleteSelectedNameRelationship.bind(d)}],initialised:function(){d.gridOptions.data()&&d.bulkMenuOperations.selectionChange(d.gridOptions.data())}}},this.add=function(){var e={};d.openNameRelationMaintenance(e,d.states.adding)},this.duplicate=function(){var e=d.getSelectedEntityId(null);d.nameRelationService.get(e).then(function(e){var t=angular.copy(e);t.id=null,d.openNameRelationMaintenance(t,d.states.duplicating)})},this.getSelectedEntityId=function(e){return void 0!==e&&null!==e?e:d.bulkMenuOperations.selectedRecord(d.gridOptions.data()).id},this.openNameRelationMaintenance=function(e,t){e.currentState=t,d.modalService.openModal({id:"NameRelationMaintenance",entity:e||{},controllerAs:"vm",dataItem:d.getEntityFromGrid(e.id),allItems:d.gridOptions.data(),callbackFn:d.gridOptions.search})},this.getEntityFromGrid=function(e){return _.find(d.gridOptions.data(),function(t){return t.id===e})},this.initShortcuts=function(){d.hotkeys.add({combo:"alt+shift+i",description:"shortcuts.add",callback:function(){d.modalService.canOpen()&&d.add()}}),d.hotkeys.add({combo:"alt+shift+del",description:"shortcuts.delete",callback:function(){d.modalService.canOpen()&&d.confirmAndDeleteSelectedNameRelationship()}})},this.context="namerelation",this.gridOptions=this.buildGridOptions(),this.menuActions=this.buildMenu(),this.bulkMenuOperations=new i(this.context),this.$timeout(this.initShortcuts,500)}return e.prototype.edit=function(e){var t=this,a=this.getSelectedEntityId(e);this.nameRelationService.get(a).then(function(e){t.openNameRelationMaintenance(e,t.states.updating)})},e.prototype.confirmAndDeleteSelectedNameRelationship=function(){var e=this;this.bulkMenuOperations.selectedRecords(this.gridOptions.data()).length<=0||this.notificationService.confirmDelete({message:"modal.confirmDelete.message"}).then(function(){e.deleteSelectedNameRelationship()})},e.prototype.deleteSelectedNameRelationship=function(){var e=this;this.nameRelationService.deleteSelected(this.bulkMenuOperations.selectedRecords(this.gridOptions.data())).then(function(t){if(t.data.hasError){var a=e.bulkMenuOperations.selectedRecords(e.gridOptions.data()).length===t.data.inUseIds.length,i=a?e.$translate.instant("modal.alert.alreadyInUse"):e.$translate.instant("modal.alert.partialComplete")+"<br/>"+e.$translate.instant("modal.alert.alreadyInUse"),n=a?"modal.unableToComplete":"modal.partialComplete";e.gridOptions.search().then(function(){e.notificationService.alert({title:n,message:i}),e.nameRelationService.markInUseNameRelationship(e.gridOptions.data(),t.data.inUseIds),e.bulkMenuOperations.selectionChange(e.gridOptions.data())})}else e.notificationService.success(t.data.message),e.gridOptions.search()})},e.$inject=["$scope","NameRelationService","kendoGridBuilder","BulkMenuOperations","hotkeys","$timeout","modalService","states","notificationService","$translate"],
e}();e.NameRelationController=t,angular.module("inprotech.configuration.general.names.namerelations").controller("NameRelationController",t)}(t=e.namerelations||(e.namerelations={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.baseUrl="api/configuration/names/namerelation/",this.search=function(e,a){return t.$http.get(t.baseUrl+"search",{params:{q:JSON.stringify(e),params:JSON.stringify(a)}}).then(function(e){return e.data})},this.viewData=function(){return t.$http.get(t.baseUrl+"viewdata").then(function(e){return e})},this.get=function(e){return t.$http.get(t.baseUrl+e).then(function(e){return e.data})},this.deleteSelected=function(e){return t.$http.post(t.baseUrl+"delete",{ids:_.pluck(e,"id")})},this.add=function(e){return t.$http.post(t.baseUrl,e)},this.update=function(e){return t.$http.put(t.baseUrl+e.id,e)},this.markInUseNameRelationship=function(e,t){_.each(e,function(e){_.each(t,function(t){e.id===t&&(e.inUse=!0,e.selected=!0)})})},this.persistSavedNameRelationship=function(e){_.each(e,function(e){_.each(t.savedIds,function(t){e.id===t&&(e.saved=!0)})})},this.savedIds=[]}return e.$inject=["$http"],e}();e.NameRelationService=t,angular.module("inprotech.configuration.general.names.namerelations").service("NameRelationService",t)}(t=e.namerelations||(e.namerelations={}))}(t=e.names||(e.names={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={})),angular.module("inprotech.configuration.general.navmodal",["inprotech.core","inprotech.api","inprotech.components"]);var NavModalController=function(){function e(e){var t=this;this.$scope=e,this.onNavigate=function(e){t.$scope.$emit("modalChangeView",{dataItem:e})}}return e.$inject=["$scope"],e}(),NavModal=function(){function e(){this.templateUrl="condor/configuration/general/navmodal/directives/nav-Modal.html",this.controller=NavModalController,this.controllerAs="vm",this.bindings={allItems:"<",currentItem:"<",hasUnsavedChanges:"<",onNavigate:"<",hasPagination:"<?"}}return e}();angular.module("inprotech.configuration.general.navmodal").component("ipNavModal",new NavModal),angular.module("inprotech.configuration.general.ptosettings",["inprotech.configuration.general.ptosettings.epo","inprotech.configuration.general.ptosettings.uspto"]),angular.module("inprotech.configuration.general.ptosettings.epo",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.ptosettings.epo").config(["$stateProvider",function(e){e.state("epoSettings",{url:"/pto-settings/epo",templateUrl:"condor/configuration/general/ptosettings/epo/eposettings.html",controller:"EpoSettingsController",controllerAs:"vm",resolve:{viewData:["$http",function(e){return e.get("api/configuration/ptosettings/epo").then(function(e){return e.data.result})}]},data:{pageTitle:"EPO Integration Settings"}})}]);var EpoSettingsController=function(){function e(e,t,a){var i=this;this.service=t,this.notificationService=a,this.formData=null,this.initialData=null,this.status={verified:!1,isValid:!1,inprogress:!1},this.save=function(){i.service.save(i.formData).then(function(e){e?(i.notificationService.success(),i.tested(!0),i.saved()):(i.tested(!1),i.notificationService.alert({errors:[{message:"ptosettings.epo.test-error"}]}))})},this.discard=function(){i.status.verified=!1,i.setDataFromInitial(),i.form.$setPristine()},this.verify=function(){i.status.inprogress=!0;var e=i.copy(i.formData);i.form.$dirty||(e.consumerKey=null,e.privateKey=null),i.service.test(e).then(function(e){i.tested(e),i.status.inprogress=!1})},this.tested=function(e){i.status.isValid=e,i.status.verified=!0},this.saved=function(){i.initialData=i.copy(i.formData),i.form.$setPristine()},this.setDataFromInitial=function(){i.formData=i.copy(i.initialData)},this.copy=function(e){return angular.copy(e)},this.initialData=new EpoSettingModel(e.consumerKey,e.privateKey),this.setDataFromInitial()}return e.$inject=["viewData","EpoSettingsService","notificationService"],e}();angular.module("inprotech.configuration.general.ptosettings.epo").controller("EpoSettingsController",EpoSettingsController);var EpoSettingModel=function(){function e(e,t){this.consumerKey=e,this.privateKey=t}return e}(),EpoSettingsService=function(){function e(e){var t=this;this.$http=e,this.save=function(e){return t.$http.post("api/configuration/ptosettings/epo",JSON.stringify(e)).then(function(e){return"success"===e.data.result.status})},this.test=function(e){return t.$http.put("api/configuration/ptosettings/epo",JSON.stringify(e)).then(function(e){return"success"===e.data.result.status})}}return e.$inject=["$http"],e}();angular.module("inprotech.configuration.general.ptosettings.epo").service("EpoSettingsService",EpoSettingsService),angular.module("inprotech.configuration.general.ptosettings.uspto",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.configuration.general.ptosettings.uspto").config(["$stateProvider",function(e){e.state("tsdrSettings",{url:"/pto-settings/uspto-tsdr",templateUrl:"condor/configuration/general/ptosettings/uspto/tsdrsettings.html",controller:"TsdrSettingsController",controllerAs:"vm",resolve:{viewData:["$http",function(e){return e.get("api/configuration/ptosettings/uspto-tsdr").then(function(e){return e.data.result})}]},data:{pageTitle:"USPTO TSDR Integration Settings"}})}]);var TsdrSettingsController=function(){function e(e,t,a){var i=this;this.service=t,this.notificationService=a,this.formData=null,this.initialData=null,this.status={verified:!1,isValid:!1,inprogress:!1},this.save=function(){i.service.save(i.formData).then(function(e){e?(i.notificationService.success(),i.tested(!0),i.saved()):(i.tested(!1),i.notificationService.alert({errors:[{message:"ptosettings.uspto.tsdr.test-error"}]}))})},this.discard=function(){i.status.verified=!1,i.setDataFromInitial(),i.form.$setPristine()},this.verify=function(){i.status.inprogress=!0;var e=i.copy(i.formData);i.form.$dirty||(e.apiKey=null),i.service.test(e).then(function(e){i.tested(e),i.status.inprogress=!1})},this.tested=function(e){i.status.isValid=e,i.status.verified=!0},this.saved=function(){i.initialData=i.copy(i.formData),i.form.$setPristine()},this.setDataFromInitial=function(){i.formData=i.copy(i.initialData)},this.copy=function(e){return angular.copy(e)},this.initialData=new TsdrSettingModel(e.apiKey),this.setDataFromInitial()}return e.$inject=["viewData","TsdrSettingsService","notificationService"],e}();angular.module("inprotech.configuration.general.ptosettings.uspto").controller("TsdrSettingsController",TsdrSettingsController);var TsdrSettingModel=function(){function e(e){this.apiKey=e}return e}(),TsdrSettingsService=function(){function e(e){var t=this;this.$http=e,this.save=function(e){return t.$http.post("api/configuration/ptosettings/uspto-tsdr",JSON.stringify(e)).then(function(e){return"success"===e.data.result.status})},this.test=function(e){return t.$http.put("api/configuration/ptosettings/uspto-tsdr",JSON.stringify(e)).then(function(e){return"success"===e.data.result.status})}}return e.$inject=["$http"],e}();angular.module("inprotech.configuration.general.ptosettings.uspto").service("TsdrSettingsService",TsdrSettingsService);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.$q=t,this.siteControlService=i,this.kendoGridBuilder=n,this.notificationService=o,i.reset(),e.service=i,e.showCurrentValue=function(e){return r.showCurrentValue(e)},this.searchOptions={releases:a.releases},this.gridOptions=this.buildGridOptions(),this.canUpdateSiteControls=a.canUpdateSiteControls,this.resetGridAndFilter()}return e.prototype.resetOptions=function(){var e=this;return this.siteControlService.isDirty()?void this.notificationService.unsavedchanges().then(function(t){"Save"===t?e.save().then(function(){return e.resetGridAndFilter()}):(e.siteControlService.discard(),e.resetGridAndFilter())}):void this.resetGridAndFilter()},e.prototype.resetGridAndFilter=function(){this.form&&this.form.$reset(),this.gridOptions.clear(),this.searchCriteria={isByName:!0,isByDescription:!1,isByValue:!1,text:"",release:null,components:[],tags:[]}},e.prototype.buildGridOptions=function(){var e=this;return this.kendoGridBuilder.buildOptions(this.$scope,{id:"searchResults",pageable:{pageSize:20,pageSizes:[5,10,20,50]},navigatable:!0,reorderable:!1,detailTemplate:'<ipt-sitecontrol-detail-view data-parent="dataItem" data-can-update="vm.canUpdateSiteControls"></ipt-sitecontrol-detail-view>',autoGenerateRowTemplate:!0,selectable:"row",rowAttributes:'ng-class="{saved: $parent.service.find(dataItem.id).isSaved(), edited: $parent.service.find(dataItem.id).isDirty(), error: $parent.service.find(dataItem.id).hasError()}"',read:function(t){return e.siteControlService.search(e.searchCriteria,t)},columns:[{title:"Name",field:"name",width:"200px",oneTimeBinding:!0},{title:"Value",template:"{{ $parent.showCurrentValue(dataItem) }}",width:"150px",sortable:!1},{title:"Description",field:"description",oneTimeBinding:!0},{title:"Release",field:"release",width:"150px",oneTimeBinding:!0},{title:"Components",field:"components",width:"200px",sortable:!1,oneTimeBinding:!0}]})},e.prototype.search=function(){var e=this;return this.siteControlService.isDirty()?void this.notificationService.unsavedchanges().then(function(t){"Save"===t?e.save().then(function(){return e.searchCore()}):(e.siteControlService.discard(),e.searchCore())}):void this.searchCore()},e.prototype.searchCore=function(){var e=this;this.gridOptions.search().then(function(){e.siteControlService.reset()})},e.prototype.save=function(){var e=this;return this.siteControlService.hasError()?(this.notificationService.alert({message:"The following Site Controls have Setting Values that do not correspond to the Data Type. Change the Setting Values and save again:",errors:this.siteControlService.getInvalidSiteControls()}),this.$q.reject()):this.siteControlService.save().then(function(){e.notificationService.success()})},e.prototype.discard=function(){this.siteControlService.discard()},e.prototype.onSearchByChange=function(e){this.searchCriteria.isByName||this.searchCriteria.isByDescription||this.searchCriteria.isByValue||(this.searchCriteria[e]=!0)},e.prototype.showCurrentValue=function(e){var t=this.siteControlService.find(e.id);return t?t.value:e.value},e.prototype.isSearchDisabled=function(){return this.form.$loading||this.form.$invalid},e.$inject=["$scope","$q","viewData","SiteControlService","kendoGridBuilder","notificationService"],e}();e.SiteControlsController=t,angular.module("inprotech.configuration.general.sitecontrols").controller("SiteControlsController",t)}(t=e.sitecontrols||(e.sitecontrols={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){this.$http=e,this.$q=t,this.extObjFactory=a,this.extObjFactory=(new a).useDefaults().use("observableArray"),this.state=this.extObjFactory.createContext()}return e.prototype.search=function(e,t){var a=this.buildQuery(e);return this.$http.get("api/configuration/sitecontrols",{params:{q:JSON.stringify(a),params:JSON.stringify(t)}}).then(function(e){return e.data})},e.prototype.get=function(e){var t=this,a=this.state.find(e);if(a){var i=this.$q.defer();return i.resolve(a),i.promise}return this.$http.get("api/configuration/sitecontrols/"+e).then(function(e){var a=e.data;return t.state.attach(a)})},e.prototype.save=function(){var e=this,t=this.state.getDirtyItems(),a=t.map(function(e){return{id:e.id,value:e.value,notes:e.notes,tags:e.tags}});return this.$http.put("api/configuration/sitecontrols",a).then(function(t){return e.state.save(),t.data})},e.prototype.isDirty=function(){return this.state.isDirty()},e.prototype.discard=function(){this.state.restore()},e.prototype.reset=function(){this.state=this.extObjFactory.createContext()},e.prototype.find=function(e){return this.state.find(e)},e.prototype.hasError=function(){return this.state.hasError()},e.prototype.getInvalidSiteControls=function(){return this.state.getInvalidItems().map(function(e){return e.name})},e.prototype.buildQuery=function(e){return{isByName:e.isByName||!1,isByDescription:e.isByDescription||!1,isByValue:e.isByValue||!1,text:e.text||"",versionId:e.release?e.release.id:null,componentIds:_.map(e.components||[],function(e){return e.id}),tagIds:_.map(e.tags||[],function(e){return e.key})}},e.$inject=["$http","$q","ExtObjFactory"],e}();angular.module("inprotech.configuration.general.sitecontrols").service("SiteControlService",t)}(t=e.sitecontrols||(e.sitecontrols={}))}(t=e.general||(e.general={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var ValidDateOfLawMaintenanceController=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.kendoGridBuilder=t,this.dateHelper=a,this.states=i,this.jurisdictionMaintenanceService=n,this.inlineEdit=o,this.createObj=this.inlineEdit.defineModel([{name:"retrospectiveAction",equals:function(e,t){return e.key===t.key}},{name:"defaultEventForLaw",equals:function(e,t){return e.key===t.key}},{name:"defaultRetrospectiveEvent",equals:function(e,t){return e.key===t.key}},"key"]),this.onBeforeSave=function(e,t){r.Validate(),r.hasError()||(r.$scope.model.affectedActions=r.getDelta(),r.$scope.vm.saveWithoutValidate())},this.getDelta=function(){var e=r.inlineEdit.createDelta(r.$scope.affectedActions.gridOptions.dataSource.data(),r.convertToSaveModel);return e},this.convertToSaveModel=function(e){var t=r.$scope.model.defaultDateOfLaw,a={key:e.key,date:t.date,jurisdiction:t.jurisdiction,propertyType:t.propertyType,defaultEventForLaw:e.defaultEventForLaw,defaultRetrospectiveEvent:e.defaultRetrospectiveEvent,retrospectiveAction:e.retrospectiveAction};return a},this.onDateBlur=function(e,t){r.$scope.maintenance["vm.form"].dateOfLaw&&r.$scope.maintenance["vm.form"].dateOfLaw.$setValidity("field.errors.notunique",!0)},this.onAddClick=function(){var e=r.$scope.affectedActions.gridOptions.dataSource.total(),t=r.createObj();t.defaultEventForLaw=r.$scope.model.defaultDateOfLaw.defaultEventForLaw,t.defaultRetrospectiveEvent=r.$scope.model.defaultDateOfLaw.defaultRetrospectiveEvent,r.$scope.affectedActions.gridOptions.insertRow(e,t)},this.init=function(){r.$scope.state===r.states.adding&&r.$scope.model.validCombinationKeys&&(r.$scope.model.defaultDateOfLaw={},r.$scope.model.defaultDateOfLaw.jurisdiction=r.$scope.model.validCombinationKeys.jurisdictionModel,r.$scope.model.defaultDateOfLaw.propertyType=r.$scope.model.validCombinationKeys.propertyTypeModel)},this.Validate=function(){var e=r.itemsToValidate();_.each(e,function(e){r.checkDuplicateError(e)})},this.onSelectionChange=function(e){r.checkDuplicateError(e)},this.itemsToValidate=function(){return _.filter(r.$scope.affectedActions.gridOptions.dataSource.data(),function(e){return!e.deleted})},this.checkDuplicateError=function(e){var t=r.itemsToValidate(),a=r.createObj();a.defaultEventForLaw=r.$scope.model.defaultDateOfLaw.defaultEventForLaw,a.defaultRetrospectiveEvent=r.$scope.model.defaultDateOfLaw.defaultRetrospectiveEvent,t.push(a),r.isDuplicate(t,e)&&!e.deleted?e.error("duplicate",!0):e.error("duplicate",!1);var i=_.without(t,e);_.each(i,function(e){e.hasError()&&(r.isDuplicate(i,e)||e.error("duplicate",!1))})},this.hasError=function(){return r.inlineEdit.hasError(r.$scope.affectedActions.gridOptions.dataSource.data())},this.isDirty=function(){return r.inlineEdit.canSave(r.$scope.affectedActions.gridOptions.dataSource.data())},this.isDuplicate=function(e,t){return r.jurisdictionMaintenanceService.isDuplicated(e,t,["retrospectiveAction","defaultEventForLaw"])},this.buildGridOptions=function(){return r.kendoGridBuilder.buildOptions(r.$scope,{id:"affectedActions",scrollable:!1,reorderable:!1,navigatable:!0,serverFiltering:!1,autoBind:!0,autoGenerateRowTemplate:r.$scope.canEdit,actions:{"delete":{onClick:"dCtrl.checkDuplicateError(dataItem)"}},read:function(){if(r.$scope.model)return _.map(r.$scope.model.affectedActions,r.createObj)},rowAttributes:'ng-form="rowForm" ng-class="{error: rowForm.$invalid || dataItem.hasError(), edited: dataItem.added || dataItem.isDirty(), deleted: dataItem.deleted}"uib-tooltip="{{\'picklist.dateoflaw.duplicateEvent\' | translate}}" tooltip-enable="dataItem.error(\'duplicate\')" tooltip-class="tooltip-error" data-tooltip-placement="left"',columns:r.getColumns()})},this.getColumns=function(){return[{title:"picklist.dateoflaw.actions",fixed:!0,width:"33%",template:r.$scope.canEdit?'<span ng-if="dataItem.deleted" ng-bind="dataItem.retrospectiveAction.value"></span><ip-typeahead ng-if="!dataItem.deleted" focus-on-add label="" name="retrospectiveAction" ng-model="dataItem.retrospectiveAction" data-config="action" data-key-field="key" data-code-field="code" data-text-field="value" data-picklist-can-maintain="true" ng-change="dCtrl.onSelectionChange(dataItem)"></ip-typeahead>':'<span ng-bind="dataItem.retrospectiveAction.value"></span>'},{title:"picklist.dateoflaw.determiningEvent",fixed:!0,width:"33%",template:r.$scope.canEdit?'<span ng-if="dataItem.deleted" ng-bind="dataItem.defaultEventForLaw.value"></span><ip-typeahead ng-if="!dataItem.deleted" ip-required data-config="event" label ="" name="determiningEvent" ng-model="dataItem.defaultEventForLaw" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value" ng-change="dCtrl.onSelectionChange(dataItem)"></ip-typeahead>':'<span ng-bind="dataItem.defaultEventForLaw.value"></span>'},{title:"picklist.dateoflaw.retrospectiveEvent",fixed:!0,template:r.$scope.canEdit?'<span ng-if="dataItem.deleted" ng-bind="dataItem.defaultRetrospectiveEvent.value"></span><ip-typeahead ng-if="!dataItem.deleted" data-config="event" label ="" name="retrospectiveEvent" ng-model="dataItem.defaultRetrospectiveEvent" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"></ip-typeahead>':'<span ng-bind="dataItem.defaultRetrospectiveEvent.value"></span>'}]},this.init(),this.$scope.$parent.vm.onBeforeSave=this.onBeforeSave,this.$scope.$parent.vm.hasInlineGridError=this.hasError,this.$scope.$parent.vm.isInlineGridDirty=this.isDirty,this.$scope.canEdit=!0,this.$scope.affectedActions={},this.$scope.affectedActions.gridOptions=this.buildGridOptions(),this.$scope.model&&this.$scope.model.defaultDateOfLaw&&(this.$scope.model.defaultDateOfLaw.date=this.$scope.model.defaultDateOfLaw.date?this.dateHelper.convertForDatePicker(this.$scope.model.defaultDateOfLaw.date):null)}return e.$inject=["$scope","kendoGridBuilder","dateHelper","states","jurisdictionMaintenanceService","inlineEdit"],e}();angular.module("inprotech.picklists").controller("ValidDateOfLawMaintenanceController",ValidDateOfLawMaintenanceController),angular.module("inprotech.configuration.search",["inprotech.core","inprotech.api","inprotech.components","angular-clipboard"]),angular.module("inprotech.configuration.search").config(["$stateProvider",function(e){e.state("configurations",{url:"/configuration/search",templateUrl:"condor/configuration/search/index.html",controller:"ConfigurationsController",controllerAs:"vm",resolve:{viewData:["$http",function(e){return e.get("api/configuration/search/view").then(function(e){return e.data})}]},data:{pageTitle:"configurations.pageTitle"}})}]).run(["modalService",function(e){e.register("ConfigurationItemMaintenance","ConfigurationItemMaintenanceController","condor/configuration/search/configuration.item.maintenance.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){}return e}();e.ConfigurationItemModel=t;var a=function(){function e(){}return e}();e.Tags=a}(t=e.search||(e.search={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.configurationsService=a,this.kendoGridBuilder=i,this.featureDetection=n,this.modalService=o,this.showIeRequired=function(e){r.modalService.openModal({id:"ieRequired",controllerAs:"vm",url:r.featureDetection.getAbsoluteUrl(e)})},this.showTagList=function(e){return _.pluck(e.tags,"tagName").join(", ")},this.buildLink=function(){var e='<a ng-if="!dataItem.legacy" href="{{::dataItem.url}}"><span>{{::dataItem.name}}</span></a>',t='<a ng-if="dataItem.legacy" href="{{::dataItem.url}}" target="_blank"><span>{{::dataItem.name}}</span></a>';return r.inproVersion13||r.inproVersion16?r.isIe||(r.inproVersion16?(e='<a ng-if="!dataItem.legacy" href="{{::dataItem.url}}"><span>{{::dataItem.name}}</span></a><a ng-if="dataItem.legacy && !dataItem.ieOnly" target="_blank" href="{{::dataItem.url}}"><span>{{::dataItem.name}}</span></a>',t='<a ng-if="dataItem.legacy && dataItem.ieOnly" ng-click="vm.showIeRequired(dataItem.url)"><span>{{::dataItem.name}}</span></a>'):t='<a ng-if="dataItem.legacy" ng-click="vm.showIeRequired(dataItem.url)"><span>{{::dataItem.name}}</span></a>'):t='<span ng-if="dataItem.legacy">{{::dataItem.name}}</span>',e+t},this.checkLegacyLinkCompatibility=function(){return r.inproVersion13||r.inproVersion16?r.isIe?"":r.inproVersion16?'<ip-icon-button ng-if="dataItem.legacy && dataItem.ieOnly" id="inproVersionErrorIcon" class="btn-no-bg" button-icon="exclamation-circle" type="button" style="cursor:default" ip-tooltip="{{::\'configurations.ieRequired\' | translate }}" data-placement="top"></ip-icon-button>':'<ip-icon-button ng-if="dataItem.legacy"  id="inproVersionErrorIcon" class="btn-no-bg" button-icon="exclamation-circle" type="button" style="cursor:default" ip-tooltip="{{::\'configurations.ieRequired\' | translate }}" data-placement="top"></ip-icon-button>':'<ip-icon-button ng-if="dataItem.legacy" id="inproVersionErrorIcon" class="btn-no-bg" button-icon="exclamation-circle" type="button" style="cursor:default;color:red" ip-tooltip="{{::\'configurations.inproMinVersion\' | translate }}" data-placement="top"></ip-icon-button>'},this.edit=function(e){r.openConfigurationItemMaintenance(e)},this.openConfigurationItemMaintenance=function(e){var t={id:"ConfigurationItemMaintenance",entity:e,controllerAs:"vm",dataItem:e,allItems:r.gridOptions.data(),callbackFn:r.gridOptions.search};r.modalService.openModal(t)},this.isIe=n.isIe(),this.inproVersion13=n.hasRelease13(),this.inproVersion16=n.hasRelease16(),e.service=a,this.searchOptions={},this.canUpdate=t.canUpdate,this.gridOptions=this.buildGridOptions(),this.resetGridAndFilter()}return e.prototype.resetOptions=function(){this.resetGridAndFilter()},e.prototype.resetGridAndFilter=function(){this.form&&this.form.$reset(),this.gridOptions.clear(),this.searchCriteria={text:"",components:[],tags:[]}},e.prototype.buildGridOptions=function(){var e=this,t=[{width:"3%",template:this.checkLegacyLinkCompatibility(),oneTimeBinding:!0},{title:"configurations.name",width:"20%",template:this.buildLink(),oneTimeBinding:!0},{title:"configurations.description",field:"description",width:"30%",template:null,oneTimeBinding:!0},{title:"configurations.components",field:"components",width:"20%",sortable:!1,oneTimeBinding:!0}];return this.canUpdate&&t.push({title:"configurations.tags",width:"15%",sortable:!1,template:"<span>{{vm.showTagList(dataItem)}}</span>",oneTimeBinding:!0},{title:"configurations.actions",width:"20px",sortable:!1,template:'<ip-icon-button class="btn-no-bg" button-icon="pencil-square-o" ip-tooltip="{{::\'Edit\' | translate }}" data-ng-click="vm.edit(dataItem); $event.stopPropagation();"></ip-icon-button>',oneTimeBinding:!0}),this.kendoGridBuilder.buildOptions(this.$scope,{id:"searchResults",pageable:{pageSize:100,pageSizes:[10,20,50,100]},autoBind:!0,navigatable:!0,reorderable:!1,sortable:!1,autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{saved: dataItem.saved}"',read:function(t){return e.configurationsService.search(e.searchCriteria,t)},columns:t})},e.prototype.search=function(){this.searchCore()},e.prototype.searchCore=function(){this.gridOptions.search()},e.prototype.isSearchDisabled=function(){return this.form.$loading||this.form.$invalid},e.$inject=["$scope","viewData","ConfigurationsService","kendoGridBuilder","featureDetection","modalService"],e}();e.ConfigurationsController=t,angular.module("inprotech.configuration.search").controller("ConfigurationsController",t)}(t=e.search||(e.search={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o,r){var s=this;this.$uibModalInstance=e,this.notificationService=t,this.configurationsService=a,this.states=i,this.hotkeys=n,this.modalService=o,this.options=r,this.isEditState=function(){return s.entity.state===s.states.updating},this.disable=function(){return!(s.form.$dirty&&s.form.$valid)},this.cancel=function(){s.$uibModalInstance.close()},this.save=function(){s.form&&s.form.$validate&&s.form.$validate(),s.form.$invalid||s.configurationsService.update(s.entity).then(s.afterSave.bind(s),s.afterSaveError.bind(s))},this.afterSave=function(e){if(s.entity.state===s.states.updating){var t=_.find(s.options.allItems,function(e){return e.rowKey===s.entity.rowKey});t.tags=s.entity.tags,s.form.$setPristine()}s.notificationService.success(),s.options.callbackFn()},this.afterSaveError=function(e){s.notificationService.alert({message:"modal.alert.unsavedchanges"})},this.hasUnsavedChanges=function(){return s.form.$dirty},this.onNavigate=function(){s.states.find(s.entity).restore()},this.dismissAll=function(){return s.form.$dirty?void s.notificationService.discard().then(function(){s.cancel()}):void s.cancel()},this.initShortcuts=function(){var e={combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!s.disable()&&s.modalService.canOpen("ConfigurationItemMaintenance")&&s.save()}},t={combo:"alt+shift+z",description:"shortcuts.close",callback:function(){s.modalService.canOpen("ConfigurationItemMaintenance")&&s.dismissAll()}};s.hotkeys.add(e),s.hotkeys.add(t)},this.options.dataItem!==this.options.entity?this.entity=angular.copy(this.options.dataItem):this.entity=angular.copy(this.options.entity),this.entity.state=this.states.updating,this.initShortcuts()}return e.$inject=["$uibModalInstance","notificationService","ConfigurationsService","states","hotkeys","modalService","options"],e}();e.ConfigurationItemMaintenanceController=t,angular.module("inprotech.configuration.search").controller("ConfigurationItemMaintenanceController",t)}(t=e.search||(e.search={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(t){var a=this;this.$http=t,this.update=function(t){var i=new e.ConfigurationItemModel;return i.groupId=t.groupId,i.id=t.id,i.ids=t.ids,i.tags=_.map(t.tags||[],function(t){var a=new e.Tags;return a.id=t.id||t.key,a.key=t.id||t.key,a.tagName=t.tagName,a}),a.$http.put("api/configuration/item",i).then(function(e){_.each(e,function(e){a.updated.push(e)})})},this.updated=[]}return t.prototype.search=function(e,t){var a=this,i=this.buildQuery(e);return this.$http.get("api/configuration/search",{params:{q:JSON.stringify(i),params:JSON.stringify(t)}}).then(function(e){return _.each((e.data||{data:[]}).data,function(e){_.each(a.updated,function(t){(e.id===t||_.any(e.ids||[],function(e){return e===t}))&&(e.saved=!0)})}),e.data})},t.prototype.buildQuery=function(e){return{text:e.text||"",componentIds:_.map(e.components||[],function(e){return e.id}),tagIds:_.map(e.tags||[],function(e){return e.key})}},t.$inject=["$http"],t}();angular.module("inprotech.configuration.search").service("ConfigurationsService",t)}(t=e.search||(e.search={}))}(t=e.configuration||(e.configuration={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t=function(){function e(e){this.defaultValue=e}return e}();e.SessionCache=t;var a=function(){function e(e){var a=this;this.store=e,this.Keys={debtorRestrictionStatus:{debtors:new t({})}},this.flatten=function(e,i){if(i instanceof t)i.name=e,i.get=a.get(i),i.set=function(e){a.set(e,i)};else for(var n in i)i.hasOwnProperty(n)&&a.flatten(a.getPrefix(e,n),i[n])},this.getPrefix=function(e,t){return void 0===t&&(t=""),e?e+"."+t:t},this.flatten(null,this.Keys)}return e.prototype.get=function(e){return this.store.session.get(e.name)||e.defaultValue},e.prototype.set=function(e,t){this.store.session.set(t.name,e)},e}();e.LocalCache=a,angular.module("inprotech.core").service("localCache",["store",a])}(t=e.core||(e.core={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$rootScope=e,this.$window=t,this.a=null,this.ieData={loaded:!1,isIe:!1}}return e.prototype.isIe=function(){if(this.ieData.loaded)return this.ieData.isIe;var e=this.$window.navigator.userAgent;return(e.indexOf("MSIE ")>-1||e.indexOf("Trident/")>-1)&&(this.ieData.isIe=!0),this.ieData.loaded=!0,this.ieData.isIe},e.prototype.hasRelease13=function(){var e=this.formatMajorVersion(this.$rootScope.appContext.systemInfo.inprotechVersion);return e>=13&&e<16},e.prototype.hasRelease16=function(){var e=this.formatMajorVersion(this.$rootScope.appContext.systemInfo.inprotechVersion);return e>=16},e.prototype.getAbsoluteUrl=function(e){return this.a=this.a||document.createElement("a"),this.a.href=e,this.a.href},e.prototype.formatMajorVersion=function(e){if(e){e=e.replace("v","");var t=e.split("."),a=void 0;if(!isNaN(a=Number(t[0])))return a}return 0},e}();e.FeatureDetection=t,angular.module("inprotech.core").service("featureDetection",["$rootScope","$window",t])}(t=e.core||(e.core={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t=function(){function e(e){this.defaultValue=e}return e}();e.LocalSetting=t;var a=function(){function e(e){var a=this;this.store=e,this.Keys={caseImport:{status:{pageNumber:new t("50")},batchSummary:{pageNumber:new t("50")}},caseView:{actions:{eventPageNumber:new t("10"),eventsColumnsSelection:new t},criticalDates:{datesColumnsSelection:new t},actionPageNumber:new t("5"),importanceLevelCacheKey:new t("1"),names:{pageNumber:new t("10"),columnsSelection:new t},classes:{pageNumber:new t("10"),columnsSelection:new t},events:{due:{pageNumber:new t("10"),importanceLevelCacheKey:new t("1"),columnsSelection:new t},occurred:{pageNumber:new t("10"),importanceLevelCacheKey:new t("1"),columnsSelection:new t}},relatedCases:{columnsSelection:new t,pageNumber:new t("10")},designatedJurisdiction:{pageNumber:new t("10"),columnsSelection:new t},texts:{pageNumber:new t("10"),columnsSelection:new t},eFiling:{pageNumber:new t("10"),columnsSelection:new t,historyPageNumber:new t("10")},designElement:{pageNumber:new t("10"),columnsSelection:new t}},exchangeIntegration:{exchangeIntegrationQueue:{pageNumber:new t("50")}},accounting:{vatObligations:{columnsSelection:new t},vatLogs:{columnsSelection:new t},timesheet:{columnsSelection:new t}},policing:{savedRequests:{pageNumber:new t("20")}}},this.flatten=function(e,i){if(i instanceof t)i.name=e,i.getLocal=a.getLocal(i),i.getLocalwithSuffix=function(e){return void 0===e&&(e=""),a.getLocal(i,e)},i.setLocal=function(e,t){void 0===t&&(t=""),a.setLocal(e,i,t),t||(i.getLocal=e)},i.getSession=a.getSession(i),i.getSessionwithSuffix=function(e){return void 0===e&&(e=""),a.getSession(i,e)},i.setSession=function(e,t){void 0===t&&(t=""),a.setSession(e,i,t),t||(i.getSession=e)},i.removeLocal=function(e){void 0===e&&(e=""),a.removeLocal(i,e),i.getLocal=void 0,
i.defaultValue=void 0};else for(var n in i)i.hasOwnProperty(n)&&a.flatten(a.getPrefix(e,n),i[n])},this.getPrefix=function(e,t){return void 0===t&&(t=""),e?e+"."+t:t},this.flatten(null,this.Keys)}return e.prototype.getLocal=function(e,t){return void 0===t&&(t=""),this.store.local.get(e.name+t)||e.defaultValue},e.prototype.setLocal=function(e,t,a){void 0===a&&(a=""),this.store.local.set(t.name+a,e)},e.prototype.getSession=function(e,t){return void 0===t&&(t=""),this.store.session.get(e.name+t)||e.defaultValue},e.prototype.setSession=function(e,t,a){void 0===a&&(a=""),this.store.session.set(t.name+a,e)},e.prototype.removeLocal=function(e,t){void 0===t&&(t=""),this.store.local.remove(e.name+t)},e}();e.LocalSettings=a,angular.module("inprotech.core").service("localSettings",["store",a])}(t=e.core||(e.core={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t=function(){function e(e){this.ngZone=e}return e.prototype.runOutsideZone=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];this.ngZone.runOutsideAngular(function(){e(t)})},e}();e.Scheduler=t,angular.module("inprotech.core").service("scheduler",["ngZoneService",t])}(t=e.core||(e.core={}))}(inprotech||(inprotech={})),angular.module("inprotech.filters",[]).filter("durationFormat",["$filter",function(e){return function(t,a){return t?e("date")(new Date(0,0,0).setSeconds(t),a?"HH:mm:ss":"HH:mm"):""}}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){var a=this;this.options=e,this.$uibModalInstance=t,this.proceed=function(){a.$uibModalInstance.close(!0)},this.cancel=function(){a.$uibModalInstance.dismiss("Cancel")}}return e.$inject=["options","$uibModalInstance"],e}();e.NamesConsolidationConfirmationController=t,angular.module("inprotech.names.consolidation").controller("NamesConsolidationConfirmationController",t)}(t=e.consolidation||(e.consolidation={}))}(t=e.names||(e.names={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t,a,i,n,o,r,s,l,c,d,p){var u=this;this.$scope=t,this.kendoGridBuilder=a,this.notificationService=i,this.picklistService=n,this.kendoGridService=o,this.namesConsolidationService=r,this.$translate=s,this.modalService=l,this.messageBroker=c,this.featureDetection=d,this.scheduler=p,this.consolidateJobStatus="",this.keepAddressHistory=!1,this.keepTelecomHistory=!1,this.ignoreTypeWarnings=!1,this.ignoreFinancialWarnings=!1,this.isIe=!1,this.inproVersion16=!1,this.receiveStatusUpdate=function(){var e="name.consolidation.status";u.messageBroker.disconnect(),u.messageBroker.subscribe(e,function(e){u.scheduler.runOutsideZone(function(){var t=this;this.$scope.$apply(function(){t.processConsolidationResult(e)})})}),u.messageBroker.connect()},this.buildGridOptions=function(){var e={id:"names-consolidation-grid",autoBind:!0,pageable:!1,sortable:!0,read:function(){return u.names},autoGenerateRowTemplate:!0,rowAttributes:'ng-class="{edited: dataItem.isWarning, error: dataItem.isError}"',columns:u.getColumns(),actions:{"delete":{onClick:"vm.onDeleteClick(dataItem)"}}};return u.kendoGridBuilder.buildOptions(u.$scope,e)},this.getColumns=function(){return[{width:"30px",fixed:!0,template:'<span ng-if="::dataItem.isWarning" class="input-action tooltip-warning text-orange"><span class="cpa-icon cpa-icon-exclamation-triangle" uib-popover="{{::dataItem.validationError}}" popover-class="popover-warning"></span></span><span ng-if="::dataItem.isError" class="input-action tooltip-error text-red"><span class="cpa-icon cpa-icon-exclamation-triangle" uib-popover="{{::dataItem.validationError}}" popover-class="popover-error"></span></span>'},{title:"namesConsolidation.columns.name",field:"displayName",fixed:!0,menu:!1,template:'<ip-ie-only-url ng-if="vm.showWebLink" data-url="::vm.getNameLink(dataItem.key)" data-text="::dataItem.displayName"></ip-ie-only-url><span ng-if="!vm.showWebLink">{{::dataItem.displayName}}</span>'},{title:"namesConsolidation.columns.nameCode",field:"code",fixed:!0,menu:!1},{title:"namesConsolidation.columns.remarks",field:"remarks",fixed:!0,menu:!1},{title:"namesConsolidation.columns.nameNo",field:"key",fixed:!0,width:"200px",menu:!1},{title:"namesConsolidation.columns.dateCeased",fixed:!0,field:"ceased",width:"200px",menu:!1,template:'<ip-date model="::dataItem.ceased"></ip-date>'},{width:"30px",fixed:!0,menu:!1,template:'<button ng-disabled="vm.requestSubmitted" ng-if="!vm.targetName || vm.targetName.key!==dataItem.key" class="btn-no-bg ng-scope btn btn-icon" ng-click="vm.selectName(dataItem)" button-icon="cpa-icon-merge" uib-tooltip="{{::\'namesConsolidation.selectNameTooltip\' | translate }}"><span class="cpa-icon cpa-icon-merge"></span></button>'}]},this.openNamesPicklist=function(){u.picklistService.openModal(u.$scope,{size:"xl",displayName:"picklist.name.Name",multipick:!0,selectedItems:u.names,label:"picklist.name.Name",keyField:"key",textField:"code",apiUrl:"api/picklists/names",picklistDisplayName:"picklist.name.Name",columns:[{title:"picklist.name.Name",field:"displayName"},{title:"picklist.name.Code",field:"code"},{title:"picklist.name.Remarks",field:"remarks"}],extendQuery:function(e){return u.includeCeasedName(e)}}).then(function(e){u.names=e,u.clearErrorsAndRefreshGrid()})},this.includeCeasedName=function(e){return angular.extend({},e,{showCeased:!0})},this.onDeleteClick=function(e){return u.requestSubmitted?void(e.deleted=!1):(u.names=_.reject(u.names,function(t){return t.key===e.key}),void u.gridOptions.search())},this.selectName=function(e){u.targetName=e,u.clearErrorsAndRefreshGrid()},this.showIeRequired=function(e){u.modalService.openModal({id:"ieRequired",controllerAs:"vm",url:u.featureDetection.getAbsoluteUrl(e)})},this.getNameLink=function(e){return"../default.aspx?nameid="+encodeURIComponent(e)},this.reset=function(){(u.names&&u.names.length>0||u.targetName)&&u.notificationService.discard().then(function(){u.names=[],u.targetName=null,u.ignoreTypeWarnings=!1,u.ignoreFinancialWarnings=!1,u.consolidateJobStatus="",u.gridOptions.search()})},this.clearErrorsAndRefreshGrid=function(){u.names&&u.names.length>0&&(_.each(u.names,function(e){e.isError=!1,e.isWarning=!1,e.validationError=null}),u.ignoreTypeWarnings=!1,u.ignoreFinancialWarnings=!1,u.gridOptions.search())},this.isRunDisabled=function(){return u.requestSubmitted||!(u.targetName&&u.hasNoError())},this.runRequest=function(){var e=function(){u.namesConsolidationService.consolidate(Number(u.targetName.key),u.ignoreTypeWarnings,u.ignoreFinancialWarnings,u.keepAddressHistory,u.keepTelecomHistory,_.pluck(u.getNamesToConsolidate(),"key")).then(function(e){u.consolidateJobStatus="",e.status?(u.requestSubmitted=!0,u.notificationService.success()):(u.setValidationErrors(e.errors),u.gridOptions.search().then(function(){u.showValidationResultPopups(e.financialCheckPerformed,e.errors)}))})};u.hasNoWarning()&&u.hasNoError()?u.notificationService.confirm({title:"namesConsolidation.confirmation.title",message:"namesConsolidation.confirmation.message",cancel:"button.cancel","continue":"button.proceed"}).then(function(){e()}):e()},this.hasNoError=function(){if(u.getNamesToConsolidate().length>0){var e=_.find(u.names,function(e){return e.isError});return!e}return!1},this.hasNoWarning=function(){if(u.getNamesToConsolidate().length>0){var e=_.find(u.names,function(e){return e.isWarning});return!e}return!1},this.showValidationResultPopups=function(e,t){_.find(t,function(e){return e.isBlocking})?u.showErrorPopup(e):u.showWarningPopup(e)},this.showErrorPopup=function(e){var t="namesConsolidation.validationErrors.blockingNameType";e&&(t="namesConsolidation.validationErrors.blockingFin"),u.notificationService.alert({message:t})},this.showWarningPopup=function(e){var t=".warningPopupNameType";e&&(t=".warningPopupFin"),u.modalService.openModal({id:"NamesConsolidationConfirmation",message:t}).then(function(){u.ignoreTypeWarnings=!0,e&&(u.ignoreFinancialWarnings=!0),u.runRequest()})},this.setValidationErrors=function(e){_.each(u.names,function(t){var a=_.find(e,function(e){return t.key===e.nameNo});a&&(a.isBlocking?(t.isError=!0,t.isWarning=!1):t.isWarning=!0,t.validationError=u.$translate.instant("namesConsolidation.validationErrors."+a.error))})},this.processConsolidationResult=function(e){if(u.nameConsolidationStatus!==e){u.nameConsolidationStatus=e;var t=!1;u.requestSubmitted===!0?(e.namesCouldNotConsolidate&&e.namesCouldNotConsolidate.length>0&&_.each(e.namesCouldNotConsolidate,function(e){var a=_.find(u.names,function(t){return e===t.key});a&&(a.isError=!0,a.isWarning=!1,a.validationError=u.$translate.instant("namesConsolidation.consolidationError"),t=!0)}),e.namesConsolidated&&e.namesConsolidated.length>0&&_.each(e.namesConsolidated,function(e){var t=_.find(u.names,function(t){return e===t.key});t&&(u.names=_.reject(u.names,function(t){return t.key===e}))}),u.gridOptions.search(),e.isCompleted===!0&&(u.requestSubmitted=!1,"other"===u.consolidateJobStatus?u.consolidateJobStatus="":u.consolidateJobStatus=t?"error":"success")):e.isCompleted===!1&&(u.consolidateJobStatus="other",u.requestSubmitted=!0)}},this.getNamesToConsolidate=function(){return _.filter(u.names,function(e){return!u.targetName||u.targetName.key!==e.key})},this.showWebLink=!!e.appContext&&(!!e.appContext.user&&e.appContext.user.permissions.canShowLinkforInprotechWeb===!0),this.gridOptions=this.buildGridOptions(),this.$scope.$on("$destroy",function(){u.messageBroker.disconnect()}),this.receiveStatusUpdate(),this.isIe=this.featureDetection.isIe(),this.inproVersion16=this.featureDetection.hasRelease16()}return e.$inject=["$rootScope","$scope","kendoGridBuilder","notificationService","picklistService","kendoGridService","NamesConsolidationService","$translate","modalService","messageBroker","featureDetection","scheduler"],e}();e.NamesConsolidationController=t,angular.module("inprotech.names.consolidation").controller("NamesConsolidationController",t)}(t=e.consolidation||(e.consolidation={}))}(t=e.names||(e.names={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.$http=e}return e.prototype.consolidate=function(e,t,a,i,n,o){return this.$http.post("api/names/consolidate/"+encodeURI(e.toString()),{ignoreTypeWarnings:t,ignoreFinancialWarnings:a,namesToBeConsolidated:o,keepAddressHistory:i,keepTelecomHistory:n}).then(function(e){return e.data})},e.$inject=["$http"],e}();angular.module("inprotech.names.consolidation").service("NamesConsolidationService",t)}(t=e.consolidation||(e.consolidation={}))}(t=e.names||(e.names={}))}(inprotech||(inprotech={}));var KnownNameTypes=function(){function e(){this.Agent="A",this.Debtor="D",this.RenewalsDebtor="Z",this.Owner="O",this.Inventor="J",this.StaffMember="EMP",this.Instructor="I",this.Signatory="SIG",this.UnrestrictedNameTypes="~~~",this.Contact="~CN",this.Lead="~LD",this.CopiesTo="C",this.InstructorsClient="H",this.ChallengerOurSide="P"}return e}();angular.module("inprotech.names").service("KnownNameTypes",KnownNameTypes);var ClassItemsController=function(){function e(e,t,a){var i=this;this.$scope=e,this.states=t,this.$http=a,this.initViewData=function(){i.$scope.vm.maintenanceState===i.states.adding&&(i.$scope.vm.entry["class"]=i.$scope.vm.initialViewData["class"],i.$scope.vm.entry.subClass=i.$scope.vm.initialViewData.subClass,i.$scope.vm.entry.country=i.$scope.vm.initialViewData.countryCode,i.$scope.vm.entry.propertyType=i.$scope.vm.initialViewData.propertyType),i.subClassSelectable()&&i.subclasses()},this.subClassSelectable=function(){return _.isEmpty(i.$scope.vm.initialViewData.subClass)},this.onBeforeSave=function(e){return!_.isEmpty(e.subClass)&&_.isEmpty(e.itemNo)||_.isEmpty(e.itemNo)&&!_.isEmpty(e.language)?void i.$scope.vm.maintenance.itemno.$setValidity("required",!1):void i.$scope.vm.saveWithoutValidate()},this.subclasses=function(){i.$http.get("api/picklists/classitems/subclasses/"+i.$scope.vm.initialViewData.countryCode+"/"+i.$scope.vm.initialViewData.propertyType+"/"+i.$scope.vm.initialViewData["class"]).then(function(e){i.availableSubClasses=e.data})},this.languageDisabled=function(){return i.$scope.vm.maintenanceState===i.states.updating&&i.$scope.vm.entry&&i.$scope.vm.entry.isDefaultItem||i.$scope.vm.maintenanceState===i.states.viewing},this.isItemNoDisabled=function(){return i.$scope.vm.entry&&!i.$scope.vm.entry.subClass&&!i.$scope.vm.entry.language||i.$scope.vm.maintenanceState===i.states.viewing},this.onLanguageChange=function(){i.$scope.vm.entry.language||i.$scope.vm.entry.subClass||(i.$scope.vm.entry.itemNo=null),i.$scope.vm.maintenance.itemno.$setValidity("required",!0)},this.onSubClassChange=function(){i.$scope.vm.entry.itemNo=null,i.$scope.vm.maintenance.itemno.$setValidity("required",!0)},this.initViewData(),this.$scope.vm.onBeforeSave=this.onBeforeSave}return e.$inject=["$scope","states","$http"],e}();angular.module("inprotech.picklists").controller("classItemsController",ClassItemsController);var DataItemsPicklistController=function(){function e(e,t,a,i,n,o,r){var s=this;this.$scope=e,this.hotkeys=t,this.notificationService=i,this.$uibModal=n,this.states=o,this.$translate=r,this.initialiseSqlFields=function(e){s.$scope.vm.entry.isSqlStatement?s.$scope.vm.entry.sql.storedProcedure=null:s.$scope.vm.entry.sql.sqlStatement=null,s.$scope.vm.continueSave=!0,e(s.$scope.vm)},this.onBeforeSave=function(e,t){if(s.saveCall=!0,s.$scope.vm.maintenance.name.$dirty&&s.$scope.vm.maintenanceState===s.states.updating){var a=s.$translate.instant("dataItem.maintenance.editConfirmationMessage")+"<br/>"+s.$translate.instant("dataItem.maintenance.proceedConfirmation");s.notificationService.confirm({message:a,cancel:"Cancel","continue":"Proceed"}).then(function(){s.initialiseSqlFields(t)})}else s.initialiseSqlFields(t)},this.init=function(){s.$scope.vm.maintenanceState===s.states.adding&&(s.$scope.vm.entry.isSqlStatement=!0)},this.cancel=function(){s.$uibModal.close()},this.dismissAll=function(){return s.$scope.vm.maintenance.$dirty?void s.notificationService.discard().then(function(){s.cancel()}):void s.cancel()},this.disable=function(){return!(s.$scope.vm.maintenance.$dirty&&s.$scope.vm.maintenance.$valid)},this.initShortcuts=function(){s.hotkeys.add({combo:"alt+shift+s",description:"shortcuts.save",callback:function(){!this.disable()&&this.modalService.canOpen("DataItemMaintenance")&&this.save()}}),s.hotkeys.add({combo:"alt+shift+z",description:"shortcuts.close",callback:function(){this.modalService.canOpen("DataItemMaintenance")&&this.dismissAll()}})},this.$scope.vm.onBeforeSave=this.onBeforeSave,this.$scope.vm.updateListItemFromMaintenance=this.updateListItemFromMaintenance,this.form={},this.init()}return e.prototype.updateListItemFromMaintenance=function(e,t){e.key=t.key,e.code=t.code,e.value=t.value,e.confirmDeleteMessage="dataItem.confirmDelete"},e.$inject=["$scope","hotkeys","modalService","notificationService","$uibModal","states","$translate"],e}();angular.module("inprotech.picklists").controller("DataItemsPicklistController",DataItemsPicklistController),angular.module("inprotech.portal",["inprotech.core","inprotech.api","inprotech.components"]),angular.module("inprotech.portal").config(["$stateProvider",function(e){e.state("home",{url:"/home",templateUrl:"condor/portal/home.html",data:{pageTitle:"Home"}})}]);var MainContentController=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.splitterBuilder=t,this.menuBuilder=a,this.menuService=i,this.store=n,this.appContext=o,this.leftBarExpanded=!1,this.leftBarExpandedChoice="portal.leftbar.expanded",this.resizeKotPanel=function(e,t){var a=e.clientWidth;t?(angular.element(e).css("width",a-104),angular.element(e).css("margin-left","122px")):(angular.element(e).css("width",a+136),angular.element(e).css("margin-left","2px"))},this.resizeScrollableTopicGrid=function(e,t){var a=document.getElementsByClassName("k-grid-header")[0];if(a){var i=document.getElementsByClassName("k-grid-header-wrap")[0],n=a.clientWidth-e.clientWidth,o=document.getElementsByClassName("k-grid-content k-virtual-content")[0];angular.element(o).css("width",n),angular.element(i).css("width",n)}},this.init=function(){var e={collapsible:!1,collapsed:!1,resizable:!1,size:"40px",min:"40px",max:"160px"},t={collapsible:!1,resizable:!1,scrollable:!1},a={collapsible:!1,resizable:!1,scrollable:!1,size:"40px"};r.splitterDetails=r.splitterBuilder.BuildOptions("mainContent",{panes:[e,t,a]});var i=r;r.menuService.build().then(function(e){i.menuDetails=i.menuBuilder.BuildOptions("mainMenu",{dataSource:e})})},this.init(),this.$scope.$watch(function(){return r.leftBarExpanded},function(e,t){if(e!==t){e?r.splitterDetails.resizePane("leftBar","160px"):r.splitterDetails.resizePane("leftBar","40px");var a=document.getElementsByClassName("kot-content")[0];a&&r.resizeKotPanel(a,r.leftBarExpanded);var i=document.getElementsByTagName("ipx-topic-resolver")[0],n=document.getElementsByClassName("k-grid-content-locked")[0];i&&n&&r.resizeScrollableTopicGrid(n,r.leftBarExpanded),r.store.local.set(r.leftBarExpandedChoice,e)}}),this.$scope.$watch(function(){return angular.element(document.getElementsByClassName("kot-content")[0]).is(":visible")},function(){var e=document.getElementsByClassName("kot-content")[0];r.leftBarExpanded&&(angular.element(e).css("width",e.clientWidth-104),angular.element(e).css("margin-left","122px"))});var s=this;this.appContext.then(function(e){s.store.local["default"](s.leftBarExpandedChoice,!1),s.leftBarExpanded=s.store.local.get(s.leftBarExpandedChoice)||!1})}return e.$inject=["$scope","splitterBuilder","menuBuilder","menuService","store","appContext"],e}(),MainContent=function(){function e(){this.bindings={},this.transclude=!1,this.restrict="EA",this.templateUrl="condor/portal/main-content.html",this.controller=MainContentController,this.controllerAs="vm"}return e}();angular.module("inprotech.portal").component("mainContent",new MainContent);var MenuItemDetail=function(){function e(){}return e}(),MenuService=function(){function e(e){var t=this;this.$http=e,this.fetch=function(){return t.$http.get("api/portal/menu").then(function(e){return e.data})},this.buildMenuItem=function(e,a){var i=angular.merge({},t.menuTemplate,{text:t.getMenuText(e.icon,e.text,e.url||"",e.type,a,e.description||"",e.queryContextKey||"")});if(e.items&&e.items.length>0){i.items=[];var n=t;_.each(e.items,function(e){i.items.push(this.buildMenuItem(e))},n)}return i},this.getMenuText=function(e,t,a,i,n,o,r){var s='expanded="true"';return n&&(s='expanded="vm.leftBarExpanded"'),'<menu-item url="'+a+'" type="'+i+'" icon-name="'+e+'" id="'+(t+"_"+r)+'" text="'+t+'" query-context-key="'+r+'" '+s+' tooltip="'+o+'"></menu-item>'},this.getHomeMenu=function(){var e="#/home",a='<menu-item url="'+e+'" icon-name="cpa-icon-home" text="Home" id="Home" expanded="vm.leftBarExpanded"></menu-item>';return angular.merge({},t.menuTemplate,{text:a})},this.build=function(){var e=t,a=[];return t.fetch().then(function(t){return a.push(e.getHomeMenu()),_.each(t,function(e){a.push(this.buildMenuItem(e,!0))},e),a})},this.menuTemplate={text:null,encoded:!1}}return e.$inject=["$http"],e}();angular.module("inprotech.portal").service("menuService",MenuService),angular.module("inprotech.portfolio.cases",["inprotech.core","inprotech.api","inprotech.components"]).run(["modalService",function(e){e.register("CaseTextHistory","CaseTextHistoryController","condor/portfolio/cases/texts/case-text-history.html",{windowClass:"centered picklist-window",backdropClass:"centered",backdrop:"static",size:"lg"})}]);var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i){this.$scope=e,this.$window=t,this.caseImageService=a,this.modalService=i}return e.prototype.$onInit=function(){var e=this;this.vm=this,this.$scope.$watch("vm.imageKey",function(){e.loadImage()})},e.prototype.loadImage=function(){var e=this;this.isThumbnail||this.isFullImage||(this.maxWidth=this.$window.innerWidth-40,this.maxHeight=this.$window.innerHeight-40),this.caseImageService.getImage(this.imageKey,this.caseKey,this.maxWidth,this.maxHeight).then(function(t){e.image=t.image,e.isThumbnail&&!e.isClickable&&(e.tooltipHeight=t.originalHeight+10,e.tooltipWidth=t.originalWidth+10,t.originalHeight>e.$window.innerHeight&&(e.tooltipHeight=e.$window.innerHeight-30,e.tooltipWidth=t.originalWidth*e.tooltipHeight/t.originalHeight),e.tooltipWidth>e.$window.innerWidth&&(e.tooltipWidth=e.$window.innerWidth-30,e.tooltipHeight=t.originalHeight*e.tooltipWidth/t.originalWidth),e.tooltipOptions={position:"left",width:e.tooltipWidth,height:e.tooltipHeight,show:e.onShow,content:'<ip-case-image data-image-key="vm.imageKey" data-case-key="vm.caseKey"  data-is-thumbnail="false">'})})},e.prototype.onShow=function(e){var t=this,a=t.$angular_scope.$parent.vm;a.tooltipInstance=e.sender.popup.wrapper},e.prototype.mouseOff=function(){this.tooltipInstance&&this.tooltipInstance.hide()},e.prototype.mouseClick=function(){this.modalService.openModal({id:"CaseImageFull",controllerAs:"vm",bindToController:!0,imageKey:this.imageKey,imageTitle:this.imageTitle,imageDesc:this.imageDesc,caseKey:this.caseKey,type:"case"})},e.$inject=["$scope","$window","CaseImageService","modalService"],e}();e.CaseImageController=t,angular.module("inprotech.portfolio.cases").component("ipCaseImage",{templateUrl:"condor/portfolio/cases/case-image.html",controllerAs:"vm",bindings:{imageKey:"<",maxWidth:"<",maxHeight:"<",isThumbnail:"<",isResponsive:"<",isClickable:"<",isFullImage:"<",imageTitle:"<",imageDesc:"<",caseKey:"<"},controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.$http=e}return e.prototype.getImage=function(e,t,a,i){return this.$http.get("api/search/case/image/"+encodeURI(e.toString())+"/"+encodeURI(t.toString())+(null!=a?"?maxWidth="+encodeURI(a.toString()):"")+(null!=i?"&maxHeight="+encodeURI(i.toString()):""),{cache:!0}).then(function(e){return e.data})},e.$inject=["$http"],e}();e.CaseImageService=t,angular.module("inprotech.portfolio.cases").service("CaseImageService",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$scope=e,this.service=t,this.imageNumberToDisplay=0,this.vm=this}return e.prototype.$onInit=function(){var e=this;this.service.getCaseImages(this.viewData.caseKey).then(function(t){e.images=t,e.imagesCount=t.length,e.topic.setCount&&e.imagesCount>0&&e.topic.setCount.emit(e.imagesCount)})},e.$inject=["$scope","CaseViewImagesService"],e}();e.CaseViewImagesController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/case-images/case-view-images.html",this.bindings={viewData:"<",topic:"<"}}return e}(),i=function(){function e(){this.restrict="A"}return e.prototype.link=function(e,t){e.$watch(function(){return t[0].clientWidth},function(t){e.maxViewable=Math.floor(Number(t)/212)})},e}();e.IpCaseViewImagesWidthAwareDirective=i,angular.module("inprotech.portfolio.cases").component("ipCaseViewImages",new a),angular.module("inprotech.portfolio.cases").directive("ipCaseViewImagesWidthAware",function(){return new i})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.getCaseImages=function(e){return t.$http.get("api/case/"+e+"/images").then(function(e){return e.data})}}return e.$inject=["$http"],e}();e.CaseViewImagesService=t,angular.module("inprotech.portfolio.cases").service("CaseViewImagesService",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){this.rowsPerBlock=200,this.requestEndPage=200,this.viewStartIndex=0,this.requestStartPage=0,this.requestKeysFromServer=!0}return e.prototype.setPagingInfo=function(e,t,a){e||(e=1);var i=(e-1)*a,n=this.rowsPerBlock/a;if(i>=t?(i=t,this.requestKeysFromServer=!0):this.requestKeysFromServer=!1,this.requestKeysFromServer){var o=t+this.rowsPerBlock<(e-1)*a+this.rowsPerBlock;this.viewStartIndex=o?(e-1)*a-t:(e>n?(e%n===0?n:e%n)-1:e-1)*a,this.requestStartPage=i,this.requestEndPage=o?(e-1)*a+this.rowsPerBlock:this.rowsPerBlock}else this.viewStartIndex=(e>n?(e%n===0?n:e%n)-1:e-1)*a,this.requestStartPage=0,this.requestEndPage=this.rowsPerBlock},e}();e.CaseSearchPagingInfo=t,angular.module("inprotech.portfolio.cases").service("CaseSearchPagingInfo",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){this.$http=e,this.ids=[],this.dict=[],this.rowsPerRequest=200}return e.prototype.initIds=function(e){this.ids&&this.ids.length>0||e&&e.length>0&&(this.dict=e)},e.prototype.addToExistingIds=function(e){var t=this;if(this.dict&&this.dict.length>0&&e&&e.length>0)if(void 0===e[0].value)this.dict=this.dict.concat(e);else{var a=_.pluck(this.dict,"key");e.forEach(function(e){var i=function(t){return t===e.key},n=_.some(a,i);n||(t.dict=t.dict.concat(e))})}},e.prototype.fetchNext=function(e){var t=this;return this.lastSearch.params=_.extend(this.lastSearch.params,{skip:e,take:this.rowsPerRequest}),this.$http.post("api/search/case",{criteria:this.lastSearch.criteria,params:this.lastSearch.params}).then(function(a){return e>=t.dict.length&&t.addToExistingIds(t.createRowKeyCaseKeyMappings(a.data,t.dict.length)),t.dict})},e.prototype.getCaseKeyFromRowKey=function(e){var t=_.find(this.dict,function(t){return t.key===e});return void 0===t?null:t.value},e.prototype.createRowKeyCaseKeyMappings=function(e,t){var a,i=[];return e&&e.rows?(e.rows.forEach(function(e){i.push({key:e.rowKey.toString(),value:e.caseKey}),e.rowKey=e.rowKey.toString()}),0===t?this.dict=i:(a=this.dict).push.apply(a,i),this.dict):null},e.$inject=["$http"],e}();e.CaseSharedService=t,angular.module("inprotech.portfolio.cases").service("CaseSharedService",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(){var e=this;this.initFormData=function(t){e.formData=t,e.isInitialised=!0},this.addExtendFunctions=function(t){t.extendValidCombinationPickList=e.extendValidCombinationPickList,t.isCaseCategoryDisabled=e.isCaseCategoryDisabled,t.isDateOfLawDisabled=e.isDateOfLawDisabled,t.picklistValidCombination=e.validCombinationDescriptionsMap},this.extendValidCombinationPickList=function(t){var a=e.getValidCombinationValues("code");return angular.extend({},t,{caseType:a.caseType,jurisdiction:a.jurisdiction,propertyType:a.propertyType,caseCategory:a.caseCategory,caseTypeModel:e.formData.caseType,jurisdictionModel:e.formData.jurisdiction,propertyTypeModel:e.formData.propertyType,caseCategoryModel:e.formData.caseCategory})},this.getPropertyTypeFilter=function(){var t=e.getValidCombinationValues("value");return t.jurisdiction?{jurisdiction:t.jurisdiction}:null},this.getActionFilter=function(){var t=e.getValidCombinationValues("value");return _.all([t.caseType,t.jurisdiction,t.propertyType])?{caseType:t.caseType,jurisdiction:t.jurisdiction,propertyType:t.propertyType}:null},this.getCaseCategoryFilter=function(){var t=e.getActionFilter();return t?t:null},this.getSubTypeFilter=function(){var t=e.getValidCombinationValues("value");return _.all([t.caseType,t.jurisdiction,t.propertyType,t.caseCategory])?{caseType:t.caseType,jurisdiction:t.jurisdiction,propertyType:t.propertyType,caseCategory:t.caseCategory}:null},this.getBasisFilter=function(){var t=e.getSubTypeFilter();if(t)return t;var a=e.getValidCombinationValues("value");return _.all([a.jurisdiction,a.propertyType])?{jurisdiction:a.jurisdiction,propertyType:a.propertyType}:null},this.getDateOfLawFilter=function(){var t=e.getValidCombinationValues("value");return _.all([t.jurisdiction,t.propertyType])?{jurisdiction:t.jurisdiction,propertyType:t.propertyType}:null},this.isDateOfLawDisabled=function(){var t=!(e.formData.jurisdiction&&e.formData.propertyType);return t&&null!=e.formData.dateOfLaw&&(e.formData.dateOfLaw=null),t},this.isCaseCategoryDisabled=function(){var t=!1;return(!e.formData.caseType||_.any(e.formData.caseType)&&e.formData.caseType.length>1||e.formData.caseTypeOperator&&"0"!==e.formData.caseTypeOperator)&&(t=!0),t&&null!=e.formData.caseCategory&&(e.formData.caseCategory=null),t},this.validCombinationDescriptionsMap={propertyTypes:this.getPropertyTypeFilter,caseCategories:this.getCaseCategoryFilter,subTypes:this.getSubTypeFilter,basis:this.getBasisFilter,actions:this.getActionFilter,datesOfLaw:this.getDateOfLawFilter}}return e.prototype.resetFormData=function(){this.isInitialised=!1},e.prototype.isFormDataInitialised=function(){return this.isInitialised},e.prototype.getValidCombinationValues=function(e){var t=this.getValue("caseType",e),a=this.getValue("jurisdiction",e),i=this.getValue("propertyType",e),n=this.getValue("caseCategory",e);return{caseType:t,jurisdiction:a,propertyType:i,caseCategory:n}},e.prototype.getValue=function(e,t){return this.formData[e]?this.formData[e+"Operator"]&&"0"!==this.formData[e+"Operator"]?null:Array.isArray(this.formData[e])?1===this.formData[e].length?this.formData[e][0][t]:null:this.formData[e][t]:null},e}();e.CaseValidCombinationService=t,angular.module("inprotech.portfolio.cases").service("caseValidCombinationService",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$http=e,this.sharedService=t}return e.prototype.getOverview=function(e,t){var a=this.sharedService.getCaseKeyFromRowKey(t);return this.$http.get("api/case/"+encodeURI(a?a.toString():e)+"/overview").then(function(e){return e.data})},e.prototype.caseViewData=function(){return this.$http.get("api/case/caseview").then(function(e){return e.data})},e.prototype.getPropertyTypeIcon=function(e){return this.$http.get("api/shared/image/"+encodeURI(e.toString())+"/20/20",{cache:!0}).then(function(e){return e.data})},e.prototype.getScreenControl=function(e,t){return this.$http.get("api/case/screencontrol/"+encodeURI(e.toString())+"/"+encodeURI(t||"")).then(function(e){return e.data})},e.prototype.getIppAvailability=function(e){return this.$http.get("api/case/"+encodeURI(e.toString())+"/ipp-availability").then(function(e){return e.data})},e.prototype.getCaseSupportUri=function(e){return this.$http.get("api/case/"+encodeURI(e.toString())+"/support-email").then(function(e){return e.data})},e.prototype.getImportanceLevelAndEventNoteTypes=function(){return this.$http.get("api/case/importance-levels-note-types",{cache:!0}).then(function(e){return{importanceLevel:e.data.importanceLevel,importanceLevelOptions:e.data.importanceLevelOptions,requireImportanceLevel:e.data.requireImportanceLevel,eventNoteTypes:e.data.eventNoteTypes}})},e.prototype.getCaseWebLinks=function(e){return this.$http.get("api/case/"+encodeURI(e.toString())+"/weblinks").then(function(e){return e.data})},e.$inject=["$http","CaseSharedService"],e}();e.CaseViewService=t,angular.module("inprotech.portfolio.cases").service("CaseViewService",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){var i=this;this.$scope=e,this.kendoGridBuilder=t,this.service=a,this.loaded=!0,this.getClassKey=function(){return i.parentViewData.allowSubClassWithoutItem&&i.viewData.subClass?i.viewData["class"]+"."+i.viewData.subClass:i.viewData["class"];
},this.buildGridOptions=function(){return i.kendoGridBuilder.buildOptions(i.$scope,{id:"caseview-class-texts",navigatable:!0,selectable:"row",oneTimeBinding:!0,autoBind:!0,pageable:!1,read:function(){return i.classTexts},autoGenerateRowTemplate:!0,columns:[{title:"caseview.classes.gstText",field:"notes",sortable:!1,template:'<span ng-if="vm.parentViewData.enableRichText === true" ng-bind-html="::dataItem.notes | html"></span><div ng-if="vm.parentViewData.enableRichText !== true" style="white-space: pre-wrap;">{{::dataItem.notes}}</div>',encoded:!0},{title:"caseview.classes.language",field:"language",width:"160px",fixed:!0}]})},this.vm=this}return e.prototype.$onInit=function(){var e=this;this.viewData["class"]&&this.parentViewData.caseKey&&(this.loaded=!1,this.service.getClassTexts(this.parentViewData.caseKey,this.getClassKey()).then(function(t){e.loaded=!0,t&&t.length>0&&(e.classTexts=t)}),this.gridOptions=this.buildGridOptions())},e.$inject=["$scope","kendoGridBuilder","caseviewClassesService"],e}();e.ClassTextsController=t,angular.module("inprotech.portfolio.cases").component("ipClassTexts",{controllerAs:"vm",bindings:{viewData:"<",parentViewData:"<"},templateUrl:"condor/portfolio/cases/classes/class-texts.html",controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.kendoGridBuilder=t,this.localSettings=a,this.service=i,this.dateService=n,this.$timeout=o,this.getPageNumberLocalSetting=function(){return r.localSettings.Keys.caseView.classes.pageNumber},this.getColumnSelectionLocalSetting=function(){return r.localSettings.Keys.caseView.classes.columnsSelection},this.setGridOptionsForClasses=function(e){return e.columns.push({title:"caseview.classes.gstText",field:"gsText",template:'<span ng-if="vm.enableRichText === true" ng-bind-html="::dataItem.gsText | html"></span><div ng-if="vm.enableRichText !== true" style="white-space: pre-wrap;">{{::dataItem.gsText}}</div>',encoded:!0,fixed:!1,menu:!0,hidden:!1},{title:"caseview.classes.firstUse",field:"dateFirstUse",template:'<span>{{ dataItem.dateFirstUse | date:"'+r.dateService.dateFormat+'" }}</span>',encoded:!0,menu:!0,sortable:!0,hidden:!0,width:"20%"},{title:"caseview.classes.firstUseInCommerce",field:"dateFirstUseInCommerce",template:'<span>{{ dataItem.dateFirstUseInCommerce | date:"'+r.dateService.dateFormat+'" }}</span>',encoded:!0,menu:!0,sortable:!0,hidden:!0,width:"20%"}),e},this.buildGridOptions=function(){var e={id:"caseViewClasses",autoBind:!0,navigatable:!0,sortable:!0,reoderable:!0,selectOnNavigate:!0,pageable:{pageSize:r.getPageNumberLocalSetting().getLocal},read:function(e){return r.service.getClassesDetails(r.viewData.caseKey,e).then(function(e){return r.classesList=e,e})},onPageSizeChanged:function(e){r.getPageNumberLocalSetting().setLocal(e)},autoGenerateRowTemplate:!0,topicItemNumberKey:r.topic.key,columns:r.getColumns(),columnSelection:{localSetting:r.getColumnSelectionLocalSetting()},showExpandIfCondition:"dataItem.class",dataBound:function(e){r.$timeout(r.expandRow,10,!0,e)},detailTemplate:'<ip-class-texts view-data="::dataItem" parent-view-data="vm.viewData"></ip-class-texts>'};return e=r.setGridOptionsForClasses(e),r.kendoGridBuilder.buildOptions(r.$scope,e)},this.expandRow=function(e){var t=e.sender;t.items().each(function(e,a){var i=t.dataItem(a);i.hasMultipleLanguageClassText&&t.expandRow(t.tbody.find("tr.k-master-row:eq("+e+")"))})},this.getColumns=function(){var e=[{title:"caseview.classes.class",field:"class",fixed:!0,menu:!1,hidden:!1}];return r.viewData.usesDefaultCountryForClasses||e.splice(1,0,{title:"caseview.classes.InternationalEquivalent",field:"internationalEquivalent",fixed:!0,menu:!0,hidden:!0}),r.viewData.allowSubClassWithoutItem&&e.splice(1,0,{title:"caseview.classes.subClass",field:"subClass",fixed:!0,menu:!0,hidden:!1}),e},this.vm=this}return e.prototype.$onInit=function(){var e=this;this.gridOptions=this.buildGridOptions(),this.viewData.enableRichText=this.enableRichText,this.service.getClassesSummary(this.viewData.caseKey).then(function(t){e.vm.viewData.classesData=t})},e.$inject=["$scope","kendoGridBuilder","localSettings","caseviewClassesService","dateService","$timeout"],e}();e.CaseviewClassesController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/classes/classes.html",this.bindings={viewData:"<",enableRichText:"<",topic:"<"}}return e}();angular.module("inprotech.portfolio.cases").component("ipCaseviewClasses",new a)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.getClassesSummary=function(e){return t.$http.get("api/case/"+e+"/classesSummary").then(function(e){return e.data})},this.getClassTexts=function(e,a){return t.$http.get("api/case/"+encodeURI(e.toString())+"/"+encodeURI(a.toString())+"/classTexts").then(function(e){return e.data})}}return e.prototype.getClassesDetails=function(e,t){return this.$http.get("api/case/"+e+"/classesDetails",{params:{params:JSON.stringify(t)}}).then(function(e){return e.data})},e}();angular.module("inprotech.portfolio.cases").service("caseviewClassesService",["$http",t])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e){var t=this;this.viewData=e,this.hasCaseLinks=function(){return t.viewData&&t.viewData.length>0}}return e.$inject=["viewData"],e}();angular.module("inprotech.portfolio.cases").controller("caseWebLinkController",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.service=e,this.vm=this}return e.prototype.$onInit=function(){var e=this;this.debtor&&this.service.getRestrictions(this.debtor).then(function(t){e.severity=t.severity,e.description=t.description})},e.$inject=["debtorRestrictionsService"],e}();e.DebtorRestrictionFlagController=t,angular.module("inprotech.portfolio.cases").component("ipDebtorRestrictionFlag",{controllerAs:"vm",bindings:{debtor:"<"},templateUrl:"condor/portfolio/cases/debtor-restrictions/debtor-restrictions-indicator.html",controller:t,transclude:!0})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){var a=this;this.$http=e,this.$q=t,this.cache={},this.getRestrictions=function(e){var t=a.$q.defer(),i=a.cache[e];return i?t.resolve(i):a.$http.get("api/names/restrictions",{params:{ids:[e].join(",")}}).then(function(i){a.cache[e]=i.data[0],t.resolve(a.cache[e])}),t.promise}}return e}();angular.module("inprotech.portfolio.cases").service("debtorRestrictionsService",["$http","$q",t])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){var i=this;this.$scope=e,this.kendoGridBuilder=t,this.service=a,this.loaded=!0,this.getNameLink=function(e){return"../default.aspx?nameid="+encodeURIComponent(e)},this.buildGridOptions=function(){return i.kendoGridBuilder.buildOptions(i.$scope,{id:"caseview-designations-classes",navigatable:!0,selectable:"row",oneTimeBinding:!0,autoBind:!0,pageable:!1,read:function(){return i.classes},autoGenerateRowTemplate:!0,columns:[{title:"caseview.designatedJurisdiction.details.classes",field:"textClass",width:"160px",fixed:!0},{title:"caseview.designatedJurisdiction.details.language",field:"language",width:"160px",fixed:!0},{title:"caseview.designatedJurisdiction.details.goodsAndServices",field:"notes",sortable:!1}]})},this.vm=this}return e.prototype.$onInit=function(){var e=this;this.viewData.caseKey&&(this.loaded=!1,this.service.getSummary(this.viewData.caseKey).then(function(t){e.loaded=!0,e.details=t,t.classes&&t.classes.length>0&&(e.classes=t.classes)}),this.gridOptions=this.buildGridOptions())},e.$inject=["$scope","kendoGridBuilder","caseViewDesignationsService"],e}();e.DesignationsDetailsController=t,angular.module("inprotech.portfolio.cases").component("ipDesignationsDetails",{controllerAs:"vm",bindings:{viewData:"<",showWebLink:"<"},templateUrl:"condor/portfolio/cases/designated-jurisdiction/designation-details.html",controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n){var o=this;this.$scope=t,this.kendoGridBuilder=a,this.localSettings=i,this.service=n,this.buildGridOptions=function(){return o.kendoGridBuilder.buildOptions(o.$scope,{id:"caseview-designations",navigatable:!0,pageable:{pageSize:o.localSettings.Keys.caseView.designatedJurisdiction.pageNumber.getLocal,pageSizes:[10,20,50,100,250]},selectable:"row",scrollable:!0,resizable:!0,oneTimeBinding:!0,autoBind:!0,topicItemNumberKey:o.topic.key,read:function(e){return o.service.getCaseViewDesignatedJurisdictions(o.viewData.caseKey,e)},readFilterMetadata:function(e){return o.service.getColumnFilterData(o.viewData.caseKey,e,o.gridOptions.getFiltersExcept(e))},filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},onPageSizeChanged:function(e){o.localSettings.Keys.caseView.designatedJurisdiction.pageNumber.setLocal(e)},autoGenerateRowTemplate:!0,columns:o.getColumns(),columnSelection:{localSetting:o.localSettings.Keys.caseView.designatedJurisdiction.columnsSelection},showExpandIfCondition:"dataItem.notes || dataItem.caseKey",detailTemplate:'<ip-designations-details view-data="::dataItem" show-web-link="vm.showWebLink"></ip-designations-details>'})},this.getColumns=function(){var e=[{width:"40px",fixed:!0,sortable:!1,menu:!1,template:'<span ng-if="::dataItem.notes" class="cpa-icon text-grey-highlight cpa-icon-file-o" ip-tooltip="{{::\'caseview.designatedJurisdiction.eventNoteHover\' | translate }}" ></span>'},{title:"caseview.designatedJurisdiction.jurisdiction",field:"jurisdiction",filterable:!0,width:"160px",menu:!0},{title:"caseview.designatedJurisdiction.designatedStatus",field:"designatedStatus",filterable:!0,width:"160px",menu:!0},{title:"caseview.designatedJurisdiction.officialNumber",field:"officialNumber",width:"100px",menu:!0},{title:"caseview.designatedJurisdiction.caseStatus",field:"caseStatus",width:"160px",filterable:!0,menu:!0}];return o.isExternal&&e.push({title:"caseview.designatedJurisdiction.clientReference",field:"clientReference",width:"160px",menu:!0}),e.push({title:o.internalReferenceTitle(),field:"internalReference",menu:!0,width:"160px",template:'<a ng-if="::dataItem.canView && dataItem.caseKey" ui-sref="caseview({id: {{dataItem.caseKey}}})" target="_blank">{{dataItem.internalReference}}</a><span ng-if="::!dataItem.canView" class="cpa-icon text-grey-highlight cpa-icon-ban" ip-tooltip="{{::\'caseview.designatedJurisdiction.accessDenied\' | translate }}"></span>'},{title:"caseview.designatedJurisdiction.classes",field:"classes",menu:!0,width:"120px",hidden:!0},{title:"caseview.designatedJurisdiction.priorityDate",field:"priorityDate",menu:!0,width:"120px",hidden:!0,template:'<ip-date model="::dataItem.priorityDate"></ip-date>'},{title:"caseview.designatedJurisdiction.isExtensionState",field:"isExtensionState",menu:!0,hidden:!0,width:"80px",template:'<ip-checkbox ng-model="::dataItem.isExtensionState" disabled><ip-checkbox>'}),o.isExternal||e.push({title:"caseview.designatedJurisdiction.instructorReference",field:"instructorReference",menu:!0,width:"120px",hidden:!0},{title:"caseview.designatedJurisdiction.agentReference",field:"agentReference",menu:!0,width:"100px",hidden:!0}),o.ippAvailability.file.isEnabled&&o.ippAvailability.file.hasViewAccess&&e.unshift({width:"40px",fixed:!0,sortable:!1,field:"isFiled",menu:!1,template:'<ip-file-instruct-link case-key="::dataItem.caseKey" is-filed="::dataItem.isFiled" can-access="::dataItem.canViewInFile"></ip-file-instruct-link>'}),e},this.internalReferenceTitle=function(){return o.isExternal?"caseview.designatedJurisdiction.ourReference":"caseview.designatedJurisdiction.internalReference"},this.vm=this,this.isExternal=e.appContext.user.isExternal}return e.prototype.$onInit=function(){this.gridOptions=this.buildGridOptions()},e.$inject=["$rootScope","$scope","kendoGridBuilder","localSettings","caseViewDesignationsService"],e}();e.CaseViewDesignationsController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/designated-jurisdiction/designations.html",this.bindings={viewData:"<",topic:"<",ippAvailability:"<",showWebLink:"<"}}return e}();angular.module("inprotech.portfolio.cases").component("ipCaseViewDesignations",new a)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.getCaseViewDesignatedJurisdictions=function(e,a){return t.$http.get("api/case/"+e+"/designatedjurisdiction",{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})},this.getColumnFilterData=function(e,a,i){return t.$http.get("api/case/"+e+"/designatedjurisdiction/filterData/"+a.field,{params:{columnFilters:JSON.stringify(i)}}).then(function(e){return e.data})},this.getSummary=function(e){return t.$http.get("api/case/"+encodeURI(e.toString())+"/designationdetails").then(function(e){return e.data})}}return e}();angular.module("inprotech.portfolio.cases").service("caseViewDesignationsService",["$http",t])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.prototype.$onInit=function(){this.vm=this},e}();e.CaseHeaderFieldController=t,angular.module("inprotech.portfolio.cases").component("ipCaseHeaderField",{controllerAs:"vm",bindings:{isFirstColumn:"<",labelId:"<",value:"<",screenControl:"<"},templateUrl:"condor/portfolio/cases/directives/case-header-field.html",controller:t,transclude:!0})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$uibModalInstance=e,this.options=t,this.vm=this,this.vm.imageKey=this.options.imageKey,this.vm.imageTitle=this.options.imageTitle,this.vm.imageDesc=this.options.imageDesc,this.vm.caseKey=this.options.caseKey,this.vm.titleLimit=80}return e.prototype.close=function(){this.$uibModalInstance.close()},e.$inject=["$uibModalInstance","options"],e}();e.CaseImageFullController=t,angular.module("inprotech.portfolio.cases").controller("CaseImageFullController",t),angular.module("inprotech.portfolio.cases").run(["modalService",function(e){e.register("CaseImageFull","CaseImageFullController","condor/portfolio/cases/directives/case-image-full.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"xl"})}])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.service=e,this.encodeLinkData=function(e){return"api/search/redirect?linkData="+encodeURIComponent(JSON.stringify({namekey:e}))},this.linkText=function(){return"first"===t.vm.showCode?(t.vm.nameCode?"{"+t.vm.nameCode+"} ":"")+t.vm.name:"last"===t.vm.showCode?t.vm.name+(t.vm.nameCode?" {"+t.vm.nameCode+"}":""):t.vm.name},this.vm=this}return e.prototype.$onInit=function(){var e=this;this.showEmailLink&&this.service.getFirstEmailTemplate(this.caseKey,this.nameType).then(function(t){e.email=t})},e.$inject=["caseviewNamesService"],e}();e.CaseNameLinkController=t,angular.module("inprotech.portfolio.cases").component("ipCaseNameLink",{controllerAs:"vm",bindings:{name:"<",nameCode:"<",nameKey:"<",canLink:"<",showEmailLink:"<",caseKey:"<",nameType:"<",showCode:"<"},templateUrl:"condor/portfolio/cases/directives/case-name-link.html",controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a){this.noteText=e,this.notetype=t,this.noteTypeDescription=a}return e}();e.EventNote=t;var a=function(){function e(e,a,i){var n=this;this.$scope=e,this.kendoGridBuilder=a,this.$timeout=i,this.buildGridOptions=function(){return n.kendoGridBuilder.buildOptions(n.$scope,{id:"eventNoteDetails",autoBind:!0,pageable:!1,reorderable:!1,sortable:!1,navigatable:!0,selectOnNavigate:!0,autoGenerateRowTemplate:!0,read:function(e){if(e&&e.filters&&e.filters.length>0){var t=e.filters[0].value.split(",");return _.filter(n.eventTextItems,function(a){return"in"===e.filters[0].operator&&"notetype"===e.filters[0].field&&t.indexOf(String(a.notetype))>=0})}return n.eventTextItems},readFilterMetadata:function(e){return n.$timeout(function(){return n.filteredCategories},0)},filterOptions:{keepFiltersAfterRead:!0,sendExplicitValues:!0},columns:n.getColumns()})},this.encodeLinkData=function(e){return encodeURIComponent(JSON.stringify(e))},this.getEventitems=function(e,a){var i=[];return angular.forEach(e,function(e){var n=_.filter(a,function(t){return t.code===e.noteType});i=i.concat(e.eventText.split(/(?=\n---)/g).map(function(a){return new t(a.replace(/\n---/g,"---"),e.noteType,0===n.length?null:n[0].description)}))}),i},this.getCategories=function(e,t){var a=[];return a=_.filter(t,function(t){return""===t.code||t.isDefault||e.indexOf(t.code)>-1})},this.vm=this}return e.prototype.$onInit=function(){this.vm=this,this.categories&&this.categories.length>0&&(this.hasNoteTypes=!0),this.filteredCategories=this.notes?this.getCategories(this.notes.map(function(e){return e.noteType}),this.categories):null,this.eventTextItems=this.getEventitems(this.notes,this.filteredCategories),this.gridOptions=this.buildGridOptions()},e.prototype.getColumns=function(){var e=_.filter(this.filteredCategories,function(e){return e.isDefault}).map(function(e){return String(e.code)}),t=[{title:"caseview.actions.events.eventDetailNote",field:"notes",template:'<div ng-if="::dataItem.noteText" class="display-wrap"><ip-text-area content="::dataItem.noteText"></ip-text-area></div>'},{title:"caseview.actions.events.eventDetailType",field:"notetype",filterable:!0,defaultFilters:e,width:"160px",template:"<span>{{::dataItem.noteTypeDescription}}</span>"}];return this.hasNoteTypes||t.splice(1,1),t},e.$inject=["$scope","kendoGridBuilder","$timeout"],e}();e.EventNoteDetailsController=a,angular.module("inprotech.portfolio.cases").component("ipEventNoteDetails",{controllerAs:"vm",bindings:{notes:"<",categories:"<"},templateUrl:"condor/portfolio/cases/directives/event-note-details.html",controller:a})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){this.encodeLinkData=function(e){return encodeURIComponent(JSON.stringify(e))},this.vm=this}return e}();e.EventOtherDetailsController=t,angular.module("inprotech.portfolio.cases").component("ipEventOtherDetails",{controllerAs:"vm",bindings:{event:"<"},templateUrl:"condor/portfolio/cases/directives/event-other-details.html",controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){this.$scope=e,this.caseViewService=t}return e.prototype.$onInit=function(){var e=this;this.vm=this,this.$scope.$watch("vm.imageKey",function(){e.loadImage()})},e.prototype.loadImage=function(){var e=this;this.caseViewService.getPropertyTypeIcon(this.imageKey).then(function(t){e.image=t.image})},e.$inject=["$scope","CaseViewService"],e}();e.PropertyTypeIconController=t,angular.module("inprotech.portfolio.cases").component("ipPropertyTypeIcon",{controllerAs:"vm",bindings:{imageKey:"<"},template:'<span><img ng-src="data:image/PNG;base64,{{vm.image}}"></img></span>',controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){"use strict";var t=function(){function e(e,t){this.$scope=e,this.bus=t,this.vm=this,this.vm.hasImage=this.$scope.withImage,this.vm.viewData=this.$scope.viewData,this.vm.screenControl=this.$scope.screenControl,this.vm.isExternal=this.$scope.isExternal,this.vm.showWebLink=this.$scope.showWebLink,this.vm.hasScreenControl=this.$scope.hasScreenControl||!1}return e.$inject=["$scope"],e}();e.CaseSummaryController=t,angular.module("inprotech.portfolio.cases").controller("CaseSummaryController",t).directive("ipCaseviewSummary",["bus",function(e){return{restrict:"E",scope:{viewData:"<",screenControl:"<",withImage:"<",isExternal:"<",showWebLink:"<",hasScreenControl:"<"},bus:e,controller:"CaseSummaryController",controllerAs:"vm",bindToController:{topic:"="},template:'<div ng-include="\'condor/portfolio/cases/directives/summary-with-image.html\'" ng-if="::vm.hasImage"></div><div ng-include="\'condor/portfolio/cases/directives/summary-no-image.html\'" ng-if="::!vm.hasImage"></div>'}}])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){this.$scope=e}return e.prototype.$onInit=function(){var e=this;this.vm=this,this.$scope.$watch("vm.date",function(){e.isToday=moment().isSame(moment(e.date),"day"),e.isOverdue=moment().isSameOrAfter(moment(e.date),"day")})},e.$inject=["$scope"],e}();e.DueDateController=t,angular.module("inprotech.portfolio.cases").component("ipDueDate",{templateUrl:"condor/portfolio/cases/due-date.html",controllerAs:"vm",bindings:{date:"<",showToolTip:"@"},controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.$uibModalInstance=t,this.localSettings=a,this.kendoGridBuilder=i,this.service=n,this.options=o,this.close=function(){r.$uibModalInstance.close()},this.buildGridOptions=function(){return r.kendoGridBuilder.buildOptions(r.$scope,{id:"eFilingHistory",autoBind:!0,autoGenerateRowTemplate:!0,pageable:{pageSize:r.localSettings.Keys.caseView.eFiling.historyPageNumber.getLocal,pageSizes:[5,10,20,50,100]},reorderable:!1,sortable:{allowUnsort:!0},read:function(e){return r.service.getPackageHistory(r.caseKey,r.exchangeId,e)},onPageSizeChanged:function(e){r.localSettings.Keys.caseView.eFiling.historyPageNumber.setLocal(e)},columns:r.getColumns()})},this.getColumns=function(){return[{title:"caseview.eFilingHistory.date",field:"statusDateTime",width:"110px",template:'<ip-date-time model="::dataItem.statusDateTime"></ip-date-time>',oneTimeBinding:!0},{title:"caseview.eFilingHistory.status",field:"status",width:"110px",oneTimeBinding:!0},{title:"caseview.eFilingHistory.description",field:"statusDescription",oneTimeBinding:!0}]},this.exchangeId=this.options.exchangeId,this.caseKey=this.options.caseKey,this.packageReference=this.options.packageReference,this.gridOptions=this.buildGridOptions()}return e.$inject=["$scope","$uibModalInstance","localSettings","kendoGridBuilder","CaseviewEfilingService","options"],e}();e.CaseViewEfilingHistoryController=t,angular.module("inprotech.portfolio.cases").controller("CaseViewEfilingHistoryController",t),angular.module("inprotech.portfolio.cases").run(["modalService",function(e){e.register("ExchangeHistoryDialog","CaseViewEfilingHistoryController","condor/portfolio/cases/efiling/efiling-history.html",{windowClass:"centered",backdropClass:"centered",backdrop:"static",size:"lg"})}])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i){var n=this;this.$scope=e,this.eFilingPreview=t,this.kendoGridBuilder=a,this.service=i,this.buildGridOptions=function(){return n.kendoGridBuilder.buildOptions(n.$scope,{id:"eFilingPackageFiles",autoBind:!0,pageable:!1,autoGenerateRowTemplate:!0,sortable:{allowUnsort:!0},reorderable:!1,read:function(){return n.service.getPackageFiles(n.caseKey,n.exchangeId,n.packageSequence)},columns:n.getColumns()})},this.getColumns=function(){return[{title:"caseview.eFilingPackageFiles.description",field:"componentDescription",oneTimeBinding:!0},{title:"caseview.eFilingPackageFiles.name",field:"fileName",template:'<a ng-if="::dataItem.fileSize" ng-click="vm.clickFile(vm.caseKey, vm.packageSequence, dataItem.packageFileSequence, vm.exchangeId)" ng-class="pointerCursor" ng-bind="::dataItem.fileName" uib-tooltip="{{::\'caseview.eFilingPackageFiles.fileAvailable\' | translate }}" tooltip-class="tooltip-info"></a><span ng-if="::!dataItem.fileSize" uib-tooltip="{{::\'caseview.eFilingPackageFiles.fileUnavailable\' | translate }}" tooltip-class="tooltip-info">{{::dataItem.fileName}}</span>',oneTimeBinding:!0},{title:"caseview.eFilingPackageFiles.size",field:"fileSize",oneTimeBinding:!0},{title:"caseview.eFilingPackageFiles.type",field:"fileType",oneTimeBinding:!0}]},this.clickFile=function(e,t,a,i){var o=n.eFilingPreview;n.service.getEfilingFileData(e,t,a,i).then(function(e){o.preview(e)})},this.vm=this,this.eFilingPreview=t}return e.prototype.$onInit=function(){this.gridOptions=this.buildGridOptions()},e.$inject=["$scope","eFilingPreview","kendoGridBuilder","CaseviewEfilingService"],e}();e.CaseViewEfilingPackageFilesController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/efiling/efiling-package-files.html",this.bindings={exchangeId:"<",packageSequence:"<",caseKey:"<"}}return e}();angular.module("inprotech.portfolio.cases").component("ipCaseViewEfilingPackageFiles",new a)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$window=e,this.preview=function(e){var a=e.headers(),i=a["content-type"],n=a["x-filetype"],o=t.$window.URL,r=new Blob([e.data],{type:i}),s=o.createObjectURL(r),l=a["x-filename"];if(t.$window.navigator&&t.$window.navigator.msSaveOrOpenBlob)t.$window.navigator.msSaveOrOpenBlob(r,l);else if(_.contains(["zip","mpx",""],n.toLowerCase())){var c=t.$window.document.createElement("a");c.download=l,c.href=s,c.click()}else t.$window.open(s)}}return e}();e.EfilingPreview=t,angular.module("inprotech.portfolio.cases").service("eFilingPreview",["$window",t])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n,o){var r=this;this.$scope=e,this.kendoGridBuilder=t,this.localSettings=a,this.service=i,this.modalService=n,this.bus=o,this.reloadData=function(){r.gridOptions.search()},this.buildGridOptions=function(){return r.kendoGridBuilder.buildOptions(r.$scope,{id:"caseview-efiling",autoBind:!0,pageable:{pageSize:r.localSettings.Keys.caseView.eFiling.pageNumber.getLocal,pageSizes:[5,10,20,50]},navigatable:!0,selectOnNavigate:!0,autoGenerateRowTemplate:!0,topicItemNumberKey:r.topic.key,sortable:{allowUnsort:!0},read:function(e){return r.service.getPackages(r.viewData.caseKey,e)},onPageSizeChanged:function(e){r.localSettings.Keys.caseView.eFiling.pageNumber.setLocal(e)},columns:r.getColumns(),columnSelection:{localSetting:r.getColumnSelectionLocalSetting()},showExpandIfCondition:!0,detailTemplate:'<ip-case-view-efiling-package-files exchange-id="::dataItem.exchangeId" package-sequence="::dataItem.packageSequence" case-key="vm.viewData.caseKey"><ip-case-view-efiling-package-files/>'})},this.getColumns=function(){return[{title:"caseview.eFiling.packageType",field:"packageType",oneTimeBinding:!0,menu:!0},{title:"caseview.eFiling.packageReference",field:"packageReference",oneTimeBinding:!0,menu:!0},{width:20,template:'<span><a class="cpa-icon text-grey-highlight cpa-icon-history" ng-click="vm.openHistory(dataItem.exchangeId, dataItem.packageReference)" uib-tooltip="{{::\'caseview.eFiling.viewStatusHistory\' | translate }}" tooltip-class="tooltip-info"></a></span>'},{title:"caseview.eFiling.currentStatus",field:"currentStatus",template:'<ip-hover-help data-content="{{::dataItem.currentStatusDescription}}"><span>{{::dataItem.currentStatus}}</span></ip-hover-help>',menu:!0},{title:"caseview.eFiling.nextEventDue",field:"nextEventDue",oneTimeBinding:!0,menu:!0},{title:"caseview.eFiling.date",field:"lastStatusChange",template:'<ip-date-time model="::dataItem.lastStatusChange"></ip-date-time>',menu:!0},{title:"caseview.eFiling.user",field:"userName",oneTimeBinding:!0,menu:!0,hidden:!0},{title:"caseview.eFiling.server",field:"server",oneTimeBinding:!0,menu:!0,hidden:!0}]},this.getColumnSelectionLocalSetting=function(){return r.localSettings.Keys.caseView.eFiling.columnsSelection},this.openHistory=function(e,t){r.modalService.openModal({id:"ExchangeHistoryDialog",controllerAs:"vm",exchangeId:e,caseKey:r.viewData.caseKey,packageReference:t})},this.vm=this}return e.prototype.$onInit=function(){this.gridOptions=this.buildGridOptions(),this.subscription=this.bus.channel("policingCompleted").subscribe(this.reloadData)},e.prototype.$onDestroy=function(){this.subscription.unsubscribe()},e.$inject=["$scope","kendoGridBuilder","localSettings","CaseviewEfilingService","modalService","bus"],e}();e.CaseViewEfilingController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/efiling/efiling.html",this.bindings={viewData:"<",topic:"<"}}return e}();angular.module("inprotech.portfolio.cases").component("ipCaseViewEfiling",new a)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.getPackages=function(e,a){return t.$http.get("api/case/"+e+"/efiling",{params:{params:JSON.stringify(a)}}).then(function(e){return e.data})}}return e.prototype.getPackageFiles=function(e,t,a){return this.$http.get("api/case/"+e+"/efilingPackageFiles",{params:{"package":JSON.stringify({exchangeId:t,packageSequence:a})}}).then(function(e){return e.data})},e.prototype.getEfilingFileData=function(e,t,a,i){return this.$http.get("api/case/"+e+"/efilingPackageFileData",{responseType:"arraybuffer",params:{packageFileData:JSON.stringify({exchangeId:i,packageSequence:t,packageFileSequence:a})}}).then(function(e){return e})},e.prototype.getPackageHistory=function(e,t,a){return this.$http.get("api/case/"+e+"/efilingHistory",{params:{params:JSON.stringify(a),exchangeId:JSON.stringify(t)}}).then(function(e){return e.data})},e.$inject=["$http"],e}();e.CaseviewEfilingService=t,angular.module("inprotech.portfolio.cases").service("CaseviewEfilingService",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e}();e.FileInstructResponse=t;var a=function(){function e(e,t,a){var i=this;this.$http=e,this.notificationService=t,this.$window=a,this.link=function(){return i.$http.put("api/ip-platform/file/view-filing-instruction?caseKey="+i.caseKey).then(function(e){var t=e.data.result;return t.progressUri?i.$window.open(t.progressUri,"_blank"):i.notificationService.alert({
title:"modal.unableToComplete",message:t.errorDescription})})},this.init=function(){i.vm.showLink=i.vm.isFiled&&i.vm.canAccess,i.vm.showIconOnly=i.vm.isFiled&&!i.vm.canAccess}}return e.prototype.$onInit=function(){this.vm=this,this.init()},e.$inject=["$http","notificationService","$window"],e}();e.FileInstructLinkController=a,angular.module("inprotech.portfolio.cases").component("ipFileInstructLink",{controllerAs:"vm",bindings:{caseKey:"<",isFiled:"<",canAccess:"<"},templateUrl:"condor/portfolio/cases/ip-platform/file-instruct-link.html",transclude:!0,controller:a})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(){}return e.address=2,e.assignDate=8,e.dateCommenced=16,e.dateCeased=32,e.billPercentage=64,e.inherited=128,e.remarks=1024,e.telecom=4096,e.nationality=8192,e}();e.NameTypeFieldFlags=t;var a=function(){function e(){var e=this;this.map={address:t.address,assignDate:t.assignDate,dateCommenced:t.dateCommenced,dateCeased:t.dateCeased,billPercentage:t.billPercentage,inherited:t.inherited,remarks:t.remarks,nationality:t.nationality,telecom:t.telecom},this.shouldDisplay=function(e,t){return void 0!==_.find(t,function(t){return e&t})},this.mapFlag=function(t){return e.map[t]}}return e.factory=function(){var t=function(){return new e};return t},e}();e.DisplayableNameTypeFieldsHelper=a,angular.module("inprotech.portfolio.cases").factory("displayableFields",a.factory())}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t){var a=this;this.displayableFields=e,this.service=t,this.show=function(e){var t=a.displayableFields.mapFlag(e);return a.displayableFields.shouldDisplay(a.details.displayFlags,[t])},this.vm=this}return e.prototype.$onInit=function(){var e=this;this.vm=this,this.details.email&&this.service.getFirstEmailTemplate(this.caseId,this.details.typeId,this.details.sequence).then(function(t){e.email={recipientEmail:e.details.email,recipientCopiesTo:t.recipientCopiesTo,subject:t.subject,body:t.body}})},e.$inject=["displayableFields","caseviewNamesService"],e}();e.NameDetailsController=t,angular.module("inprotech.portfolio.cases").component("ipNameDetails",{controllerAs:"vm",bindings:{caseId:"<",details:"<"},templateUrl:"condor/portfolio/cases/names/name-details.html",controller:t})}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function t(t,a,i,n,o){var r=this;this.$scope=t,this.kendoGridBuilder=a,this.service=i,this.localSettings=n,this.displayableFields=o,this.buildGridOptions=function(){return r.kendoGridBuilder.buildOptions(r.$scope,{id:"caseViewNames"+(r.topic.contextKey||"DefaultGrid"),autoBind:!0,oneTimeBinding:!0,pageable:{pageSize:r.localSettings.Keys.caseView.names.pageNumber.getLocalwithSuffix(r.nameTypeKeys)},navigatable:!0,selectOnNavigate:!0,autoGenerateRowTemplate:!0,topicItemNumberKey:r.topic.key,showExpandIfCondition:"dataItem.canView && vm.hasDetails(dataItem)",detailTemplate:'<ip-name-details details="::dataItem" case-id="::vm.viewData.caseKey"></ip-name-details>',read:function(e){var t=r.nameTypeKeys.split(",");return r.service.getNames(r.viewData.caseKey,t,r.screenCriteriaKey,e)},onPageSizeChanged:function(e){r.localSettings.Keys.caseView.names.pageNumber.setLocal(e,r.nameTypeKeys)},columns:r.getColumns(r.viewData.displayNameVariants||!1),columnSelection:{localSetting:r.localSettings.Keys.caseView.names.columnsSelection,localSettingSuffix:r.nameTypeKeys}})},this.hasDetails=function(t){var a=e.NameTypeFieldFlags;return r.displayableFields.shouldDisplay(t.displayFlags,[a.address,a.telecom,a.assignDate,a.dateCommenced,a.dateCeased,a.billPercentage,a.remarks,a.nationality])},this.getColumns=function(e){var t=3,a=[{title:"caseview.names.type",field:"type"},{width:15,field:"shouldCheckRestrictions",sortable:!1,fixed:!0,template:'<ip-debtor-restriction-flag debtor="::dataItem.id" ng-if="::dataItem.shouldCheckRestrictions" style="margin-left: 5px"></ip-debtor-restriction-flag>'},{title:"caseview.names.name",field:"name",template:'<div ng-if="::dataItem.canView"><ip-ie-only-url ng-if="::dataItem.id && vm.showWebLink" data-url="vm.encodeLinkData(dataItem.id)" data-text="::dataItem.nameAndCode" style="display:inline-block;"></ip-ie-only-url><span ng-if="!vm.showWebLink">{{::dataItem.nameAndCode}}</span><ip-inheritance-icon inheritance-level="InheritedOrDerived" data-ng-if="::dataItem.isInherited && !vm.isExternal" style="padding-left: 5px"></ip-inheritance-icon></div><span ng-if="::!dataItem.canView" class="cpa-icon text-grey-highlight cpa-icon-ban" ip-tooltip="{{::\'common.accessDenied.nameAccessDenied\' | translate }}"></span>'},{title:"caseview.names.attention",field:"attention",template:'<div ng-if="::dataItem.canView"><ip-ie-only-url ng-if="::dataItem.attention && vm.showWebLink" data-url="vm.encodeLinkData(dataItem.attentionId)" data-text="::dataItem.attention" style="display:inline-block;"></ip-ie-only-url><span ng-if="!vm.showWebLink">{{::dataItem.attention}}</span><ip-inheritance-icon inheritance-level="InheritedOrDerived" data-ng-if="::dataItem.isAttentionDerived && !vm.isExternal" style="padding-left: 5px"></ip-inheritance-icon></div><span ng-if="::!dataItem.canView" class="cpa-icon text-grey-highlight cpa-icon-ban" ip-tooltip="{{::\'common.accessDenied.nameAccessDenied\' | translate }}"></span>'},{title:"caseview.names.reference",field:"reference"}];return r.isExternal&&(a.splice(1,1),t-=1),r.showBillPercentage&&a.push({title:"caseview.names.billPercentage",field:"billingPercentage"}),e&&a.splice(t,0,{title:"caseview.names.nameVariant",field:"nameVariant"}),a},this.encodeLinkData=function(e){return"api/search/redirect?linkData="+encodeURIComponent(JSON.stringify({nameKey:e}))},this.vm=this}return t.prototype.$onInit=function(){var e=this;this.nameTypeKeys=(this.topic.filters||{nameTypeKey:""}).nameTypeKey||"",this.showBillPercentage=this.viewData.hasBillPercentageDisplayed&&_.any(this.nameTypeKeys.split(","),function(t){return _.contains(e.viewData.hasBillPercentageDisplayed,t)}),this.gridOptions=this.buildGridOptions()},t.$inject=["$scope","kendoGridBuilder","caseviewNamesService","localSettings","displayableFields"],t}();e.CaseviewNamesController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/names/names.html",this.bindings={viewData:"<",topic:"<",screenCriteriaKey:"<",isExternal:"<",showWebLink:"<"}}return e}();angular.module("inprotech.portfolio.cases").component("ipCaseviewNames",new a)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.getNames=function(e,a,i,n){return t.$http.get("api/case/"+e+"/names",{params:{params:JSON.stringify(n),screenCriteriaKey:i,nameTypes:JSON.stringify({keys:a})}}).then(function(e){return e.data})},this.getFirstEmailTemplate=function(e,a,i){return void 0===i&&(i=null),t.$http.get("api/case/"+e+"/names/email-template",{params:{params:JSON.stringify({caseKey:e,nameType:a,sequence:i}),resolve:null==i}}).then(function(e){return(e.data||[]).length>=1?e.data[0]:null})}}return e}();angular.module("inprotech.portfolio.cases").service("caseviewNamesService",["$http",t])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n){var o=this;this.$scope=e,this.$uibModalInstance=t,this.kendoGridBuilder=a,this.caseViewCaseTextsService=i,this.options=n,this.buildGridOptions=function(){return o.kendoGridBuilder.buildOptions(o.$scope,{id:"caseViewCaseTextHistory",autoBind:!0,pageable:!1,navigatable:!0,sortable:!0,scrollable:!0,reoderable:!1,autoGenerateRowTemplate:!0,read:function(){return o.caseViewCaseTextsService.getTextHistory(o.options.dataItem.caseKey,o.options.dataItem.typeKey,o.options.dataItem.languageKey).then(function(e){if(o.viewdata=e,o.viewdata.history){o.viewdata.history[o.viewdata.history.length-1].previous=o.viewdata.history[o.viewdata.history.length-1].text;for(var t=o.viewdata.history.length-2;t>=0;t--)o.viewdata.history[t].previous=o.viewdata.history[t+1].text}return o.viewdata.history})},columns:o.getColumns()})},this.getColumns=function(){return[{title:"caseview.caseTexts.modified",field:"dateModified",width:"160px",fixed:!0,template:'<ip-date-time model="::dataItem.dateModified"></ip-date-time>'},{title:"caseview.caseTexts.text",field:"text",fixed:!0,sortable:!1,headerTemplate:'<div class="col-md-8" translate="caseview.caseTexts.text" style="height:18px;"></div><div class="input-wrap switch col-md-4" style="height:18px;"><input id="showDiffierenceSwitch" type="checkbox" ng-model="vm.showDiffierence"><label for="showDiffierenceSwitch" translate="caseview.caseTexts.showDiffierence"></label></div>',template:'<div ng-if="vm.showDiffierence" in-comparison text="{ left: dataItem.previous, right: dataItem.text}"></div><div ng-if= "!vm.showDiffierence">{{dataItem.text}}</div>'}]},this.close=function(){o.$uibModalInstance.close()},this.gridOptions=this.buildGridOptions(),this.showDiffierence=!0}return e.$inject=["$scope","$uibModalInstance","kendoGridBuilder","caseViewCaseTextsService","options"],e}();e.CaseTextHistoryController=t,angular.module("inprotech.portfolio.cases").controller("CaseTextHistoryController",t)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e,t,a,i,n){var o=this;this.$scope=e,this.kendoGridBuilder=t,this.service=a,this.localSettings=i,this.modalService=n,this.buildGridOptions=function(){return o.kendoGridBuilder.buildOptions(o.$scope,{id:"caseViewCaseTexts"+(o.topic.contextKey||""),autoBind:!0,pageable:{pageSize:o.topicSetting().pageNumber.getLocalwithSuffix(o.textTypeKeys),pageSizes:[5,10,20,50]},onPageSizeChanged:function(e){o.topicSetting().pageNumber.setLocal(e,o.textTypeKeys)},navigatable:!0,sortable:!0,reoderable:!1,resizable:!0,selectOnNavigate:!0,autoGenerateRowTemplate:!0,read:function(e){var t=o.textTypeKeys.split(",");return o.service.getTexts(o.viewData.caseKey,t,e)},columns:o.getColumns(),topicItemNumberKey:o.topic.key,columnSelection:{localSetting:o.topicSetting().columnsSelection}})},this.openTextHistoryModal=function(e){var t={id:"CaseTextHistory",controllerAs:"vm",dataItem:angular.extend(e,{caseKey:o.viewData.caseKey}),allItems:o.gridOptions.data(),callbackFn:o.gridOptions.search};o.modalService.openModal(t)},this.topicSetting=function(){return o.localSettings.Keys.caseView.texts},this.getColumns=function(){var e=[{title:"caseview.caseTexts.type",field:"type",width:"190px",fixed:!0,sortable:!1,template:"<span>{{dataItem.type}}</span>"},{title:"caseview.caseTexts.notes",field:"notes",template:'<span ng-if="vm.enableRichText === true" ng-bind-html="::dataItem.notes | html"></span><div ng-if="vm.enableRichText !== true" style="white-space: pre-wrap;">{{::dataItem.notes}}</div>'},{title:"caseview.caseTexts.language",field:"language",width:"200px",fixed:!0}];return o.keepSpecHistory===!0&&e.splice(1,0,{title:"",field:"hasHistory",width:"40px",fixed:!0,sortable:!1,template:'<a ng-click="vm.openTextHistoryModal(dataItem)" ng-if="dataItem.hasHistory === true" class="cpa-icon text-grey-highlight cpa-icon-history" ip-tooltip="{{::\'caseview.caseTexts.notesText\' | translate }}" ></a>'}),e},this.vm=this}return e.prototype.$onInit=function(){this.textTypeKeys=(this.filters||{textTypeKey:""}).textTypeKey||"",this.gridOptions=this.buildGridOptions()},e.$inject=["$scope","kendoGridBuilder","caseViewCaseTextsService","localSettings","modalService"],e}();e.CaseViewCaseTextsController=t;var a=function(){function e(){this.controller=t,this.controllerAs="vm",this.templateUrl="condor/portfolio/cases/texts/case-texts.html",this.bindings={viewData:"<",enableRichText:"<",keepSpecHistory:"<",filters:"<",topic:"<"}}return e}();angular.module("inprotech.portfolio.cases").component("ipCaseViewCaseTexts",new a)}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={}));var inprotech;!function(e){var t;!function(e){var t;!function(e){var t=function(){function e(e){var t=this;this.$http=e,this.getTexts=function(e,a,i){return t.$http.get("api/case/"+e+"/texts",{params:{params:JSON.stringify(i),textTypes:JSON.stringify({keys:a})}}).then(function(e){return e.data})},this.getTextHistory=function(e,a,i){return t.$http.get("api/case/"+e+"/textHistory",{params:{textClass:"",language:i||"",textType:a||""}}).then(function(e){return e.data})}}return e}();angular.module("inprotech.portfolio.cases").service("caseViewCaseTextsService",["$http",t])}(t=e.cases||(e.cases={}))}(t=e.portfolio||(e.portfolio={}))}(inprotech||(inprotech={})),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewClassesWrapper",angular.extend({},e,{template:'<ip-caseview-classes view-data="vmw.topic.params.viewData" enable-rich-text="vmw.topic.params.enableRichText" data-screen-criteria-key="vmw.topic.params.screenCriteriaKey" data-topic="vmw.topic" data-is-external="vmw.topic.params.isExternal" data-show-web-link="vmw.topic.params.showWebLink"></ip-caseview-classes>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewDesignatedCountriesWrapper",angular.extend({},e,{template:'<ip-case-view-designations view-data="vmw.topic.params.viewData" data-topic="vmw.topic" data-ipp-availability="vmw.topic.params.ippAvailability" data-show-web-link="vmw.topic.params.showWebLink"></ip-case-view-designations>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewEFilingWrapper",angular.extend({},e,{template:'<ip-case-view-efiling view-data="vmw.topic.params.viewData" data-topic="vmw.topic"></ip-case-view-efiling>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewEventsWrapper",angular.extend({},e,{template:'<ip-case-view-events event-type="{{ vmw.topic.params.eventType }}" view-data="vmw.topic.params.viewData" data-topic="vmw.topic"></ip-case-view-events>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewImagesWrapper",angular.extend({},e,{template:'<ip-case-view-images view-data="vmw.topic.params.viewData" data-topic="vmw.topic"></ip-case-view-images>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewNamesWrapper",angular.extend({},e,{template:'<ip-caseview-names view-data="vmw.topic.params.viewData" data-screen-criteria-key="vmw.topic.params.screenCriteriaKey" data-topic="vmw.topic" data-is-external="vmw.topic.params.isExternal" data-show-web-link="vmw.topic.params.showWebLink"></ip-caseview-names>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewSummaryWrapper",angular.extend({},e,{template:'<ip-caseview-summary view-data="vmw.topic.params.viewData" data-topic="vmw.topic" screen-control="vmw.topic.params.screenControl" with-image="vmw.topic.params.withImage && !vmw.topic.params.screenControl.imageKey.hidden" is-external="vmw.topic.params.isExternal" show-web-link="vmw.topic.params.showWebLink" has-screen-control="vmw.topic.params.hasScreenControl"></ip-caseview-summary>'}))}(),function(){var e={controllerAs:"vmw",bindings:{topic:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipCaseviewTextsWrapper",angular.extend({},e,{template:'<ip-case-view-case-texts view-data="vmw.topic.params.viewData" filters="vmw.topic.filters" enable-rich-text="vmw.topic.params.enableRichText" keep-spec-history="vmw.topic.params.keepSpecHistory" data-topic="vmw.topic"></ip-case-view-case-texts>'}))}(),function(){var e='<ip-typeahead multiselect="true" id="{{vmw.id}}" data-config="{{vmw.config}}" ng-model="vmw.value" data-extend-query="vmw.extendQuery" ng-disabled="vmw.disabled" ng-required="vmw.required" picklist-can-maintain="vmw.picklistCanMaintain" external-scope="vmw.externalScope"></ip-typeahead>',t={controllerAs:"vmw",bindings:{id:"@",config:"<",extendQuery:"<?",value:"=",disabled:"<?",required:"<?",picklistCanMaintain:"<?",externalScope:"<?"},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipTypeaheadWrapper",angular.extend({},t,{template:e.replace('multiselect="true" ',"")})),angular.module("inprotech.components.form").component("ipTypeaheadMultiWrapper",angular.extend({},t,{template:e}))}(),function(){var e={controllerAs:"vmw",bindings:{gridOptions:"="},controller:function(){this.$onInit=function(){}}};angular.module("inprotech.components.form").component("ipKendoColPickerWrapper",angular.extend({},e,{template:'<ip-kendo-column-picker data-grid-options="vmw.gridOptions"></ip-kendo-column-picker>'}))}(),angular.module("inprotech.components.grid").component("ipKendoGridWrapper",{controllerAs:"vmw",bindings:{gridOptions:"=",id:"@",searchHint:"@",showAdd:"=?",addItemName:"@",onAddClick:"&",addDisabled:"<?"},template:'<ip-kendo-grid data-grid-options="vmw.gridOptions" search-hint="vmw.searchHint" show-add="vmw.showAdd" add-item-name="{{vmw.addItemName | translate}}" on-add-click="vmw.onAddClick()"></ip-kendo-grid>',controller:["$scope","kendoGridBuilder",function(e,t){this.$onInit=function(){e.vm=this.gridOptions.context,this.gridOptions=t.buildOptions(e,this.gridOptions),this.onAddClick||(this.onAddClick=function(){})}}]}),angular.module("inprotech.components.page").component("ipResizeHandlerWrapper",{transclude:!0,template:'<div ip-resize-handler resize-handler-type="Panel"><ng-transclude></ng-transclude></div>'}),angular.module("inprotech").run(["$templateCache",function(e){e.put("condor/dashboard/dashboard.html",'<div> <ip-page-title page-title="Dashboard"></ip-page-title> <p translate="Welcome" translate-values="{name:vm.username}"></p> <div ip-resize-handler resize-handler-type="Panel"> <div ng-if="vm.debug"> <h3>Feature Pages</h3> <ul id="links"> <li> <a href="#/case/search">Case Search</a> </li> <li> <a href="#/case/searchresult?queryContext=2&q=123">Case Search Results</a> </li> <li> <a href="#/configuration/general/names/namealiastype" translate="Name Alias Type"></a> </li> <li> <a href="#/configuration/general/standinginstructions" translate="Standing Instructions"></a> </li> <li> <a href="#/configuration/general/sitecontrols" translate="siteControls.title"></a> </li> <li> <a href="#/configuration/search" translate="Configuration"></a> </li> <li> <a href="#/configuration/general/names/locality" translate="Locality"></a> </li> <li> <a href="#/configuration/general/names/namerelations" translate="Name RelationShip Code"></a> </li> <li> <a href="#/configuration/general/dataitems" translate="Data Item"></a> </li> <li> <a href="#/configuration/general/status" translate="Status"></a> </li> <li> <a href="#/configuration/general/nametypes" translate="Name Types"></a> </li> <li> <a href="#/configuration/general/numbertypes" translate="Number Types"></a> </li> <li> <a href="#/configuration/general/texttypes" translate="Text Types"></a> </li> <li> <a href="#/configuration/general/events/eventnotetypes" translate="Event Note Types"></a> </li> <li> <a href="#/configuration/general/namerestrictions" translate="Name Restrictions"></a> </li> <li> <a href="#/configuration/general/jurisdictions" translate="Jurisdictions"></a> </li> <li> <a href="#/configuration/general/validcombination" translate="Valid Combinations"></a> </li> <li> <a href="#/configuration/rules/workflows" translate="Workflow Rules"></a> </li> <li> <a href="#/policing-dashboard" translate="Policing Dashboard"></a> </li> <li> <a href="#/configuration/general/importancelevel" translate="importanceLevel.level"></a> </li> <li> <a href="#/exchange-requests" translate="Exchange Integration"></a> </li> <li> Configure Settings <ul> <li> <a href="#/integration/ptoaccess/uspto-private-pair-sponsorships" translate="USPTO Sponsorship Configuration"></a> </li> <li> <a href="#/pto-settings/epo" translate="EPO Settings"></a> </li> </ul> </li> <li>Classic <ul> <li> <a href="#/bulkcaseimport" translate="Import Cases"></a> </li> <li> <a href="#/casecomparison/inbox" translate="Case Data Comparision Inbox"></a> </li> <li> configuration <ul> <li> <a href="#/configuration/dmsintegration" translate="DMS Integration"></a> </li> </ul> </li> <li> integration <ul> <li> <a href="#/integration/externalapplication" translate="Application Link Security"></a> </li> </ul> </li> <li> <a href="#/priorartold/search" translate="Prior Art Search"></a> </li> <li> <a href="#/integration/ptoaccess" translate="Schedule Data Downloads"></a> </li> <li> <a href="#/reports" translate="Financial Reports"></a> </li> </ul> </li> <li> <a href="#/portal2" translate="Portal 2"></a> </li> </ul> </div> <div> <h3>Utilities</h3> <ul id="tools"> <li> <a href="#/configuration/system/mui/screen-translations-utility" translate="Screen Translations Utility"></a> </li> </ul> </div> <div> <h3>Dev Tools</h3> <ul id="devtools"> <li> <a href="#/dev/login">Login</a> </li> </ul> </div> <div ng-if="vm.debug"> <h3>E2E Pages</h3> <h3>Dev Pages</h3> <ul> <li> <h4>Ngjs Pages</h4> <ul> <li> <a href="#/dev/keyboardshortcut">Keyboard Shortcut Examples</a> </li> <li> <a href="#/dev/datepicker">Date Picker Examples</a> </li> <li> <a href="#/dev/sqlTextArea">SQL Text Area Examples</a> </li> <li> <a href="#/dev/grid">Grid Examples</a> </li> <li> <a href="#/dev/barchart">Bar Chart Examples</a> </li> <li> <a href="#/dev/topics">Topics Examples</a> </li> <li> <a href="#/dev/detailpage/1">Detail Page Navigation</a> </li> <li> <a href="#/dev/typeahead">Typeaheads and Picklists</a> </li> <li> <a href="#/dev/form">Form Controls Examples</a> </li> <li> <a href="#/dev/modal">Modal Examples</a> </li> <li> <a href="#/dev/menu">Menu Examples</a> </li> <li> <a href="#/dev/splitter">Splitter Examples</a> </li> </ul> </li> <li> <h4>Ng Upgraded pages</h4> <ul> <li> <a href="#/dev/ngpolicing">Policying Grid Samples</a> </li> <li> <a href="#/dev/ngdatepicker">Date Picker Samples</a> </li> <li> <a href="#/dev/qrcode">QR Code Renderer Examples</a> </li> <li> <a href="#/dev/resizer">Resize Handler Examples</a> </li> <li> <a href="#/dev/angular2shortCuts">ShortCut Examples</a> </li> </ul> </li> <li> <h4>Angular pages</h4> <ul> <li> <a href="#/dev/ngPageTitle/1">Page Title Examples</a> </li> <li> <a href="#/dev/ngStorage">Storage Examples</a> </li> <li> <a href="#/dev/validators">Form Validation Examples</a> </li> <li> <a href="#/dev/ipx-textbox">Textbox Examples</a> </li> <li> <a href="#/dev/ipx-richtext-field">Rich Text Field Example</a> </li> <li> <a href="#/dev/inlineDialog">Inline Dialog Examples</a> </li> <li> <a href="#/dev/policingStatus">Policing Status Example</a> </li> <li> <a href="#/dev/ipx-topics">Topic Example</a> </li> <li> <a href="#/dev/ngTimePicker">Time picker Example</a> </li> <li> <a href="#/dev/ipx-typeahead">Typeahead & Picklist Example</a> </li> <li> <a href="#/dev/kendo-grid">kendo grid Example</a> </li> <li> <a href="#/dev/kendo-grid-edit-drag-drop">Kendo Grid Drag Drop - With Edit Template</a> </li> <li> <a ui-sref="case.search">Case Search Builder</a> </li> <li> <a ui-sref="case.search({queryKey: -30, canEdit: true, returnFromCaseSearchResults: false})">Case Saved Search</a> </li> <li> <a ui-sref="case.search({queryKey: 52, canEdit: true, returnFromCaseSearchResults: false})">Multi-step Case Saved Search</a> </li> <li> <a ui-sref="search-results({queryKey: -2, queryContext: 2, rowKey: null})">Case Search Results</a> </li> <li> <a href="#/dev/ipx-multistepsearch">MultiStep Search Example</a> </li> </ul> <br/> </li> </ul> </div> <div ng-if="vm.e2e"> <h3>E2E Pages</h3> <ul> <li> <h4>Ngjs Pages</h4> <ul> <li> <a href="#/deve2e/detailpage">Detail Page</a> </li> <li> <a href="#/deve2e/datepicker">Date Picker</a> </li> <li> <a href="#/deve2e/picklist">Pick List</a> </li> <li> <a href="#/deve2e/grid">Kendo Grid</a> </li> <li> <a href="#/deve2e/quick-search">Quick Search</a> </li> </ul> </li> <li> <h4>Ng Upgraded pages</h4> <ul> <li> <a href="#/deve2e/ngdatepicker">Date Picker</a> </li> <li> <a href="#/deve2e/formvalidation">Form Validation</a> </li> </ul> </li> <li> <h4>Angular pages</h4> <ul> <li> <a href="#/deve2e/ipx-picklist">Picklist</a> </li> </ul> </li> </ul> </div> </div> </div>'),e.put("condor/dev/keyboard-shortcut.html",""),e.put("condor/dev/keyboardshortcut.html",'<div id="test-area" tabindex="0"> <ip-page-title page-title="Keyboard Shortcut Test"></ip-page-title> <div class="col-sm-4"> <label>Type in your shortcut in the field and click <i>Add</i>.</label> <label>Press ? to reveal the list of already added shortcuts.</label> <div class="input-wrap"> <div> <input id="test-combo" type="text" ng-model="shortcut" class="col-sm-4"> </div> <div class="row"> <button class="btn col-md-6" ng-click="addShortcut()" style="margin-left:5px;">Add this shortcut</button> </div> <div class="row"> <button class="btn col-md-6" ng-click="displayCheatSheet()" style="margin-left:5px;">Display Cheatsheet</button> </div> </div> <div ng-repeat="s in listOfShortcuts track by $index"> {{ s }} </div> </div> </div> <script> $("#test-combo").focus(); </script>'),e.put("condor/dev/login.html",'<style> div.row {\r\n\t\tmargin: 10px 5px;\r\n\t} </style> <div class="container-fluid"> <div class="row"> <div class="col-sm-2"> <button ng-click="vm.logout()">Log out</button> </div> </div> <div class="row"> <div class="col-sm-2"> <button ng-click="vm.showLogin()">Show login modal</button> </div> </div> </div> '),e.put("condor/dev/shortcutcheatsheettemplate.html",'<div> <div class="modal-header"> <h2 class="modal-title"> <translate>Keyboard Shortcuts</translate> </h2> <div class="modal-header-controls"> <ip-close-button data-ng-click="close()"></ip-close-button> </div> </div> <div style="margin:10px;"> <div class="row"> <div class="col-sm-4"> <h4 translate>Main Menu</h4> <div class="row" ng-repeat="hotkey in hotkeysList | filter:{ type: \'main\'}"> <div class="col-sm-8" class="cfp-hotkeys-text">{{ hotkey.description }}</div> <div class="col-sm-4" class="cfp-hotkeys-keys"> <span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span> </div> </div> </div> <div class="col-sm-4"> <h4 translate>Quick Menu</h4> <div class="row" ng-repeat="hotkey in hotkeysList | filter:{ type: \'quick\'}"> <div class="col-sm-8" class="cfp-hotkeys-text">{{ hotkey.description }}</div> <div class="col-sm-4" class="cfp-hotkeys-keys"> <span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span> </div> </div> </div> <div class="col-sm-4"> <h4 translate>Contextual</h4> <div class="row" ng-repeat="hotkey in hotkeysList | filter:{ type: \'context\'}"> <div class="col-sm-8" class="cfp-hotkeys-text">{{ hotkey.description }}</div> <div class="col-sm-4" class="cfp-hotkeys-keys"> <span ng-repeat="key in hotkey.format() track by $index" class="cfp-hotkeys-key">{{ key }}</span> </div> </div> </div> </div> </div> <div ng-bind-html="footer" ng-if="footer"></div> </div> '),e.put("condor/core/collapsible-panel.html",'<div id="primary-nav"> <div class="navigation fixed"> <div class="container-fluid menu-container" ng-transclude> </div> <div class="pin-menu"> <a href="" ng-click="vm.togglePinned()"> <span class="cpa-icon cpa-icon-thumb-tack ng-scope" name="thumb-tack" ng-if="!vm.pinned"></span> <span class="cpa-icon cpa-icon-thumb-tack-pushed ng-scope" name="thumb-tack-pushed" ng-if="vm.pinned"></span> </a> </div> </div> </div>'),e.put("condor/http/block.html",'<div class="row"> <i class="cpa-icon cpa-icon-circle-o-notch cpa-icon-5x cpa-icon-spin cpa-icon-wait-spinner"></i> </div> '),e.put("condor/portal/main-content.html",'<div kendo-splitter k-options="vm.splitterDetails.options" id="mainContent" class="main-content"> <div id="leftBar"> <collapsible-panel pinned="vm.leftBarExpanded"> <ul kendo-menu k-options="vm.menuDetails.options" class="navbar-nav main-menu" style="width:100%" id="mainMenu" ng-class="{\'collapsed\': !vm.leftBarExpanded}" k-ng-delay="vm.menuDetails.options"> </ul> </collapsible-panel> </div> <div id="mainPane" ng-class="{\'expanded\': vm.leftBarExpanded}" class="main-pane"> <div class="container-fluid"> <div class="row"> <div class="col-md-12"> <div ui-view></div> </div> </div> </div> </div> <div id="rightBar"> <dng-quick-nav ng-if="vm.appContext"></dng-quick-nav> </div> </div>'),e.put("condor/accounting/vat/accounting.hmrc-settings.html",' <div translate-namespace="accounting.vatHmrcSettings" ng-form="vm.form" ip-form> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save page-title="accounting.vatHmrcSettings.title" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.hasChanged()" is-discard-enabled="vm.hasChanged()"></ip-page-title-save> </div> <ip-inline-alert text=".toolTip" type="info"></ip-inline-alert> <div> <h2 translate=".addAccount"></h2> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <br/> <div class="row"> <div class="input-wrap col-sm-7"> <label translate=".hmrcApplicationName"></label> <input class="col-sm-8" name="hmrcApplicationName" type="text" ng-model="vm.viewData.hmrcSettings.hmrcApplicationName"/> </div> <ip-inline-dialog data-title="{{\'accounting.vatHmrcSettings.hmrcApplicationNameHelp.hmrcApplicationNameHeader\' | translate}}" data-content="{{\'accounting.vatHmrcSettings.hmrcApplicationNameHelp.hmrcApplicationNameHelpText\' | translate}}" placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap col-sm-7"> <label translate=".clientId"></label> <input class="col-sm-8" name="clientId" type="text" ng-model="vm.viewData.hmrcSettings.clientId"/> </div> </div> <div class="row"> <div class="input-wrap col-sm-7"> <label translate=".clientSecret"></label> <input class="col-sm-8" mask="true" name="clientSecret" type="password" ng-model="vm.viewData.hmrcSettings.clientSecret" placeholder="****************************"/> </div> </div> <div class="row"> <div class="input-wrap col-sm-7"> <label translate=".redirectUri"></label> <input class="col-sm-8" name="redirectUri" type="url" ng-model="vm.viewData.hmrcSettings.redirectUri"/> </div> <ip-inline-dialog data-title="{{\'accounting.vatHmrcSettings.redirectURIHelp.redirectUriHeader\' | translate}}" data-content="{{\'accounting.vatHmrcSettings.redirectURIHelp.redirectUriHelpText\' | translate}}" placement="right"></ip-inline-dialog> </div> <div class="input-wrap-group group-inline pull-right col-sm-7"> <div class="input-wrap"> <input type="radio" id="demo" ng-model="vm.viewData.hmrcSettings.isProduction" ng-value="false"> <label for="demo"> <span translate=".mode.demo"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="production" ng-model="vm.viewData.hmrcSettings.isProduction" ng-value="true"> <label for="production"> <span translate=".mode.production"></span> </label> </div> </div> </div> </div>'),e.put("condor/accounting/vat/accounting.vat-fulfilled.html",'<style> .padCurrency {\r\n        padding-left: 10px;\r\n        padding-right: 150px;\r\n    }\r\n    \r\n    div.vatResponse {\r\n        margin-bottom: 10px;\r\n    }\r\n    \r\n    div.declaration {\r\n        margin-top: 10px;\r\n    }\r\n    \r\n    div.vatResponse div.alert div {\r\n        margin-left: 28px;\r\n    }\r\n    \r\n    div.vatResponse div.alert ul {\r\n        margin-left: 5px;\r\n    }\r\n    \r\n    div.vatResponse div.alert-success div span {\r\n        margin-left: 5px;\r\n    }\r\n    \r\n    div.vatResponse div.alert-success label::after {\r\n        content: ": "\r\n    }\r\n    \r\n    ip-checkbox input[type="checkbox"][disabled]+label {\r\n        color: grey;\r\n    } </style> <div id="accountingVatFulfilled" translate-namespace="accounting.vatFulfilled"> <div class="modal-header"> <h2 class="modal-title"> <div translate=".submittedVatDetails"></div> </h2> <div class="modal-header-controls"> <button class="btn btn-icon cpa-icon-file-pdf-o" data-tooltip-placement="bottom" ng-class="{disabled: vm.pdfId == \'\'}" data-ng-disabled=" vm.pdfId == \'\'" uib-tooltip="{{::\'accounting.vatFulfilled.export\' | translate }}" data-ng-click="vm.exportToPdf()"></button> <ip-close-button type="button" data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="vatResponse" ng-show="vm.responseError.code || vm.responseError.message"> <div class="alert alert-danger"> <h6> <icon name="exclamation-circle"></icon><span translate=".submitFailed"></span> </h6> <div ng-show="vm.responseError.code || vm.responseError.message"> <span>{{vm.responseError.code}}: {{vm.responseError.message}}</span> </div> <ul> <li ng-repeat="e in vm.responseError.errors">{{e.code}}: {{e.message}} {{e.path}} </li> </ul> </div> </div> <div class="vatResponse" ng-show="vm.responseSuccess"> <div class="alert alert-success"> <h6> <icon name="check-circle"></icon><span translate=".vatIsFulfilled"></span> </h6> <div> <label translate=".processingDate"></label><span>{{vm.responseSuccess.processingDate}}</span> </div> <div> <label translate=".paymentIndicator"></label><span>{{vm.responseSuccess.paymentIndicator}}</span> </div> <div> <label translate=".formBundleNumber"></label><span>{{vm.responseSuccess.formBundleNumber}}</span> </div> <div> <label translate=".chargeRefNumber"></label><span>{{vm.responseSuccess.chargeRefNumber}}</span> </div> </div> </div> <div> <span translate=".vatDatePeriod"></span> <span translate=".vatFromDate" translate-values="{ from: vm.fromDate }" class="text-black-bold"></span> <span translate=".vatToPeriod"></span> <span translate=".vatToDate" translate-values="{ to: vm.toDate }" class="text-black-bold"></span> <span ng-if="vm.selectedEntitiesNames !== \'\'" translate=".vatDatePeriodTaxCodeGroup" translate-values="{ code: vm.entityTaxCode }"></span> <span ng-if="vm.selectedEntitiesNames === \'\'" translate=".vatDatePeriodTaxCode" translate-values="{ entity: vm.entityName, code: vm.entityTaxCode }"></span> </div> <div> <span ng-if="vm.selectedEntitiesNames !== \'\'">{{ vm.selectedEntitiesNames }}</span> </div> <br/> <div class="row" ng-show="vm.vatReturnDataSuccess"> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox1"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox1">{{vm.vatValues[0] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox2"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox2">{{vm.vatValues[1] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox3"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox3">{{vm.vatValues[2] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox4"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox4">{{vm.vatValues[3] | currency:""}}</span> </div> </div> <div class="row data text-black-bold"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox5"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox5">{{vm.vatValues[4] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox6"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox6">{{vm.vatValues[5] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox7"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox7">{{vm.vatValues[6] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox8"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox8">{{vm.vatValues[7] | currency:""}}</span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox9"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox9">{{vm.vatValues[8] | currency:""}}</span> </div> </div> </div> <div class="vatResponse" ng-show="vm.vatReturnDataError"> <div class="alert alert-danger"> <h6> <icon name="exclamation-circle"></icon><span translate=".vatProblemRetrieving"></span> </h6> <div> <span>{{vm.vatReturnDataError.code}}: {{vm.vatReturnDataError.message}}</span> </div> </div> </div> </div> <div class="modal-footer"> <div class="input-wrap-group group-inline pull-right"> <button type="button" class="btn" data-ng-click="vm.close()" translate="button.close" ip-focus ip-auto-focus></button> </div> </div> </div>'),
e.put("condor/accounting/vat/accounting.vat-log.html",'<style> #accounting-vat-logs>table>tbody>tr>td {\r\n        vertical-align: text-top;\r\n    } </style> <div id="accountingVatLog" translate-namespace="accounting.vatLog"> <div class="modal-header"> <h2 class="modal-title"> <div translate=".vatLogs"></div> </h2> <div class="modal-header-controls"> <ip-close-button type="button" data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <div> <span translate=".vatDatePeriod"></span> <span translate=".vatFromDate" translate-values="{ from: vm.fromDate }" class="text-black-bold"></span> <span translate=".vatToPeriod"></span> <span translate=".vatToDate" translate-values="{ to: vm.toDate }" class="text-black-bold"></span> <span ng-if="vm.selectedEntitiesNames !== \'\'" translate=".vatDatePeriodTaxCodeGroup" translate-values="{ code: vm.entityTaxCode }"></span> <span ng-if="vm.selectedEntitiesNames === \'\'" translate=".vatDatePeriodTaxCode" translate-values="{ entity: vm.entityName, code: vm.entityTaxCode }"></span> </div> <div> <span ng-if="vm.selectedEntitiesNames !== \'\'">{{ vm.selectedEntitiesNames }}</span> </div> </div> </div> <ip-kendo-grid id="vat-error-log" data-grid-options="vm.gridOptions"></ip-kendo-grid>'),e.put("condor/accounting/vat/accounting.vat-submitter.html",'<style> .padCurrency {\r\n        padding-left: 10px;\r\n        padding-right: 150px;\r\n    }\r\n    \r\n    div.vatResponse {\r\n        margin-bottom: 10px;\r\n    }\r\n    \r\n    div.declaration {\r\n        margin-top: 10px;\r\n    }\r\n    \r\n    div.vatResponse div.alert div {\r\n        margin-left: 28px;\r\n    }\r\n    \r\n    div.vatResponse div.alert ul {\r\n        margin-left: 5px;\r\n    }\r\n    \r\n    div.vatResponse div.alert-success div span {\r\n        margin-left: 5px;\r\n    }\r\n    \r\n    div.vatResponse div.alert-success label::after {\r\n        content: ": "\r\n    }\r\n    \r\n    ip-checkbox input[type="checkbox"][disabled]+label {\r\n        color: grey;\r\n    } </style> <div id="accountingVatSubmission" translate-namespace="accounting.vatSubmitter"> <div class="modal-header"> <h2 class="modal-title"> <div translate=".submitVatReturn"></div> </h2> <div class="modal-header-controls"> <button class="btn btn-icon cpa-icon-file-pdf-o" ng-class="{disabled: vm.pdfId == \'\'}" data-tooltip-placement="bottom" data-ng-disabled="vm.pdfId == \'\'" uib-tooltip="{{::\'accounting.vatSubmitter.export\' | translate }}" data-ng-click="vm.export()"></button> <ip-close-button type="button" data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="vatResponse" ng-show="vm.responseError"> <div class="alert alert-danger"> <h6> <icon name="exclamation-circle"></icon><span translate=".submitFailed"></span> </h6> <div ng-show="vm.responseError.code || vm.responseError.message"> <span>{{vm.responseError.code}}: {{vm.responseError.message}}</span> </div> <ul> <li ng-repeat="e in vm.responseError.errors">{{e.code}}: {{e.message}} {{e.path}}</li> </ul> </div> </div> <div class="vatResponse" ng-show="vm.responseSuccess"> <div class="alert alert-success"> <h6> <icon name="check-circle"></icon><span translate=".submitSuccessful"></span> </h6> <div> <label translate=".processingDate"></label><span>{{vm.responseSuccess.processingDate}}</span> </div> <div> <label translate=".paymentIndicator"></label><span>{{vm.responseSuccess.paymentIndicator}}</span> </div> <div> <label translate=".formBundleNumber"></label><span>{{vm.responseSuccess.formBundleNumber}}</span> </div> <div> <label translate=".chargeRefNumber"></label><span>{{vm.responseSuccess.chargeRefNumber}}</span> </div> </div> </div> <div> <span translate=".vatDatePeriod"></span> <span translate=".vatFromDate" translate-values="{ from: vm.fromDate }" class="text-black-bold"></span> <span translate=".vatToPeriod"></span> <span translate=".vatToDate" translate-values="{ to: vm.toDate }" class="text-black-bold"></span> <span ng-if="vm.selectedEntitiesNames !== \'\'" translate=".vatDatePeriodTaxCodeGroup" translate-values="{ code: vm.entityTaxCode }"></span> <span ng-if="vm.selectedEntitiesNames === \'\'" translate=".vatDatePeriodTaxCode" translate-values="{ entity: vm.entityName, code: vm.entityTaxCode }"></span> </div> <div> <span ng-if="vm.selectedEntitiesNames !== \'\'" id="multipleEntityNames">{{ vm.selectedEntitiesNames }}</span> </div> <br/> <div class="row"> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox1"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox1"><span ng-if="isNaN(vm.vatValues[0]) && vm.vatValues[0] !== \'\'">{{vm.vatValues[0] | translate}}</span><span ng-if="!isNaN(vm.vatValues[0]) && vm.vatValues[0] !== \'\'">{{vm.vatValues[0] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox2"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox2"><span ng-if="isNaN(vm.vatValues[1]) && vm.vatValues[1] !== \'\'">{{vm.vatValues[1] | translate}}</span><span ng-if="!isNaN(vm.vatValues[1]) && vm.vatValues[1] !== \'\'">{{vm.vatValues[1] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox3"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox3"><span ng-if="isNaN(vm.vatValues[2]) && vm.vatValues[2] !== \'\'">{{vm.vatValues[2] | translate}}</span><span ng-if="!isNaN(vm.vatValues[2]) && vm.vatValues[2] !== \'\'">{{vm.vatValues[2] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox4"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox4"><span ng-if="isNaN(vm.vatValues[3]) && vm.vatValues[3] !== \'\'">{{vm.vatValues[3] | translate}}</span><span ng-if="!isNaN(vm.vatValues[3]) && vm.vatValues[3] !== \'\'">{{vm.vatValues[3] | currency:""}}</span></span> </div> </div> <div class="row data text-black-bold"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox5"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox5"><span ng-if="isNaN(vm.vatValues[4]) && vm.vatValues[4] !== \'\'">{{vm.vatValues[4] | translate}}</span><span ng-if="!isNaN(vm.vatValues[4]) && vm.vatValues[4] !== \'\'">{{vm.vatValues[4] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox6"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox6"><span ng-if="isNaN(vm.vatValues[5]) && vm.vatValues[5] !== \'\'">{{vm.vatValues[5] | translate}}</span><span ng-if="!isNaN(vm.vatValues[5]) && vm.vatValues[5] !== \'\'">{{vm.vatValues[5] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox7"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox7"><span ng-if="isNaN(vm.vatValues[6]) && vm.vatValues[6] !== \'\'">{{vm.vatValues[6] | translate}}</span><span ng-if="!isNaN(vm.vatValues[6]) && vm.vatValues[6] !== \'\'">{{vm.vatValues[6] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox8"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox8"><span ng-if="isNaN(vm.vatValues[7]) && vm.vatValues[7] !== \'\'">{{vm.vatValues[7] | translate}}</span><span ng-if="!isNaN(vm.vatValues[7]) && vm.vatValues[7] !== \'\'">{{vm.vatValues[7] | currency:""}}</span></span> </div> </div> <div class="row data"> <div class="col-md-6"> <span class="pull-right" translate=".vatBox9"></span> </div> <div class="col-md-6"> <span class="pull-right padCurrency" id="vatBox9"><span ng-if="isNaN(vm.vatValues[8]) && vm.vatValues[8] !== \'\'">{{vm.vatValues[8] | translate}}</span><span ng-if="!isNaN(vm.vatValues[8]) && vm.vatValues[8] !== \'\'">{{vm.vatValues[8] | currency:""}}</span></span> </div> </div> </div> <div class="declaration"> <ip-checkbox ip-required ng-required name="declaration" ng-model="vm.acceptDeclaration" focus-when="vm.canProceed" ng-disabled="!vm.canProceed" label="{{\'.declaration\' | translate}}"></ip-checkbox> </div> </div> <div class="modal-footer"> <div class="input-wrap-group group-inline pull-right"> <button type="button" class="btn" data-ng-click="vm.close()" tabindex="1" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-disabled="!vm.acceptDeclaration || !vm.canProceed" tabindex="0" data-ng-click="vm.submit()" translate="button.submit"></button> </div> </div> </div>'),e.put("condor/accounting/vat/accounting.vat.html",'<ip-page-title page-title="accounting.vat.title"> <action-buttons> <button id="configureHMRC" class="btn cpa-icon-wrench pull-right" ui-sref="hmrcsettings"> <span translate="accounting.vat.configureSettings"></span> </button> </action-buttons> </ip-page-title> <div class="search-options" ng-form="vm.form" ip-form> <div class="container-fluid"> <br/> <div class="row"> <div class="col-lg-6 col-md-8 input-wrap" ng-class="{\'error\': vm.noVatNumber() && !vm.noEntitySelected()}"> <ip-dropdown ip-required required label="{{ \'accounting.vat.entity\' | translate }}" id="entityName" name="entityName" ng-model="vm.formData.entityName" options="e.formattedName for e in vm.viewData.entityNames track by e.formattedName" ng-change="vm.onEntitySelected()" error-text="vm.entityError()" ip-autofocus> </ip-dropdown> </div> <div class="col-lg-6 col-md-4"> <div class="display-inline"> <div class="input-wrap pull-left"> <label>{{\'accounting.vat.status\' | translate}}</label> </div> <ip-checkbox label="{{\'accounting.vat.open\' | translate}}" name="open" ng-model="vm.formData.open" ng-change="vm.clickStatus(\'open\')"></ip-checkbox> <span> <ip-checkbox label="{{\'accounting.vat.fulfilled\' | translate}}" name="fulfilled" ng-model="vm.formData.fulfilled" ng-change="vm.clickStatus(\'fulfilled\')"></ip-checkbox> </span> </div> </div> </div> <div class="row"> <div id="taxCode" class="col-sm-8 col-sm-offset-2" ng-if="vm.formData.multipleEntitiesSelected"> <div class="pull-left"> <label>{{\'accounting.vat.vatGroupHeading\' | translate}}</label> <br/> <label>{{ vm.formData.selectedEntitiesNames }}</label> <br/><br/> </div> </div> </div> <div class="row"> <div class="col-lg-6 col-md-8"> <ip-datepicker ip-required class="col-md-4 col-md-offset-4" id="fromDate" name="fromDate" label="{{\'accounting.vat.fromDate\' | translate}}" ng-model="vm.formData.fromDate" data-no-edit-state="true"></ip-datepicker> <ip-datepicker ip-required class="col-md-4" id="toDate" name="toDate" label="{{\'accounting.vat.toDate\' | translate}}" ng-model="vm.formData.toDate" later-than="vm.formData.fromDate" data-no-edit-state="true"></ip-datepicker> </div> <div class="col-lg-6 col-md-4"> </div> </div> </div> <div class="controls"> <button type="button" id="clear" class="btn" ng-click="vm.clear();" tabindex="-1">{{:: \'Clear\' | translate}}</button> <button type="submit" id="submit" class="btn btn-primary" ng-click="vm.search();" aria-label="{{:: \'Search\' | translate }}">{{:: \'Search\' | translate}}</button> </div> </div> <div class="table-container"> <div id="results-header" class="table-title" ng-show="vm.viewData.hasResults"> <h2> <span>{{\'accounting.vat.vatObligationsFor\' | translate}}</span> <span ng-if="vm.formData.multipleEntitiesSelected">{{\'accounting.vat.vatGroup\' | translate}} ({{\'accounting.vat.vrn\' | translate}}: {{vm.searchedEntity.taxCode}})</span> <span ng-if="!vm.formData.multipleEntitiesSelected">{{vm.searchedEntity.displayName}} ({{\'accounting.vat.vrn\' | translate}}: {{vm.searchedEntity.taxCode}})</span> </h2> </div> <ip-kendo-grid id="accounting-vat-obligations" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/classic/bulkCaseImport/batchSummary.html",'<style> .classic-pagination {\r\n        font-size: 12px;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .classic-pagination>span {\r\n        font-size: 12px;\r\n        font-family: sans-serif;\r\n        vertical-align: middle;\r\n        margin-top: 3px;\r\n    }\r\n\r\n    .classic-pagination>ul {\r\n        font-size: 13px;\r\n        padding: 3px;\r\n        border: 1px solid transparent;\r\n        background-color: transparent;\r\n        list-style: none;\r\n        display: inline;\r\n    }\r\n\r\n    .classic-pagination>ul>li {\r\n        display: inline;\r\n    }\r\n\r\n    .classic-pagination>ul>li>a,\r\n    .classic-pagination>ul>li>span {\r\n        padding: 3px 3px;\r\n        margin-left: 1px;\r\n        margin-right: 1px;\r\n        line-height: 20px;\r\n        border: 1px solid transparent;\r\n        background-color: transparent;\r\n        vertical-align: middle;\r\n    }\r\n\r\n    .classic-pagination>ul>li>a:focus {\r\n        background-color: transparent;\r\n    }\r\n\r\n    .classic-pagination>ul>li>a:hover {\r\n        color: #1c6ca2;\r\n        background-color: #eaeff2;\r\n        border-color: #c1d1d7;\r\n        z-index: 1;\r\n    }\r\n\r\n    .classic-pagination input[type="text"] {\r\n        font-size: 12px;\r\n        font-family: sans-serif;\r\n        width: 34px;\r\n        height: 24px;\r\n        margin-bottom: 0;\r\n        padding: 3px;\r\n        vertical-align: middle;\r\n        text-align: center;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="{{ \'bulkCaseImport.glbLblTitle\' | translate }}" page-subtitle="{{\'bulkCaseImport.bsLblTitle\' | translate}} ({{vm.viewData.batchIdentifier}})"> <before-title> <ip-level-up-button data-to-state="classicBulkCaseImportStatus"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <ip-kendo-grid data-id="bulkImportSummary" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/classic/bulkCaseImport/home.html",'<ip-sticky-header> <ip-page-title page-title="{{ \'bulkCaseImport.glbLblTitle\' | translate }}" page-subtitle="{{ \'bulkCaseImport.bciLblTitle\' | translate }}"> <before-title> <ip-level-up-button data-to-state="classicBulkCaseImportStatus"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h5> {{ \'bulkCaseImport.bciLblSubtitle\' | translate }} </h5> </div> </div> </div> </div> <style> div.dropzone {\r\n            padding-top: 50px;\r\n            padding-bottom: 80px;\r\n            border-radius: 10px;\r\n            border-width: 3px;\r\n            border-style: dashed;\r\n        }\r\n\r\n        div.dragover {\r\n            background: #e8e8e8;\r\n        } </style> <div class="table-container col-sm-12"> <div class="row"> <div data-ng-class="{\'col-sm-12\': noTemplates, \'col-sm-8\': !noTemplates}"> <form name="selectFile" class="form-horizontal" role="form" ng-submit="save()"> <div data-in-drag-and-drop="onSelectFile" class="alert-info dropzone text-center" id="fileDragDrop"> <div> <h3>{{ \'bulkCaseImport.bciLblDropToUpload\' | translate }}</h3> </div> <div> <h4>{{ \'bulkCaseImport.bciLblOr\' | translate }}</h4> </div> <p/> <label class="btn btn-default"> {{ \'bulkCaseImport.bciBtnSelectFile\' | translate }} <div id="filePath" data-in-input-file data-selected="onSelectFile" data-accept=".xml,.csv" style="display:none" ng-disabled="status === \'initialcheck\' || status === \'upload\' "></div> </label> <p/> <div> <h6>{{ \'bulkCaseImport.bciLblSizeLimit\' | translate }}</h6> </div> </div> </form> </div> <div class="col-sm-4" data-ng-if="!noTemplates"> <h5 class="bigger"> <span>{{\'bulkCaseImport.bciLblAvailableTemplates\' | translate}}</span> </h5> <span class="text-muted small">{{ \'bulkCaseImport.bciAvailableTemplatesInfo\' | translate }}</span> <hr/> <h6 data-ng-if="!singleSetTemplates"> <span>{{\'bulkCaseImport.bciLblAvailableDefaultTemplates\' | translate}}</span> </h6> <ul> <li data-ng-repeat="i in standardTemplates track by $index"> <a class="lighter smaller" href="{{i.link}}" target="_blank">{{i.name}}</a> </li> </ul> <br data-ng-if="!singleSetTemplates"/> <h6 data-ng-if="!singleSetTemplates"> <span>{{\'bulkCaseImport.bciLblAvailableCustomTemplates\' | translate}}</span> </h6> <ul> <li data-ng-repeat="i in customTemplates track by $index"> <a class="lighter smaller" href="{{i.link}}" target="_blank">{{i.name}}</a> </li> </ul> </div> </div> <br/> <div class="row"> <div data-ng-class="{\'col-sm-12\': noTemplates, \'col-sm-8\': !noTemplates}"> <div ng-show="status === \'upload\' || status === \'error\' || status === \'initialcheck\' "> <p text="" ng-show="status === \'initialcheck\'">{{ \'bulkCaseImport.bciLblChecking\' | translate }}</p> <p text="" ng-show="status === \'upload\'" translate="{{\'bulkCaseImport.bciLblUploading\'}}" translate-values="{ fileName: fileName}"></p> <p text="" ng-show="status === \'error\'">{{ \'bulkCaseImport.bciLblError\' | translate }} </p> <div> <div ng-class="{\'active\': (status === \'initialcheck\' || status ===\'upload\')}" class="progress progress-striped"> <div id="progressbar" style="width: 100%" ng-class="{\'progress-bar-danger\': status === \'error\'}" class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100"> </div> </div> <div class="alert alert-danger" ng-show="status === \'error\'"> <button type="button" class="close" ng-click="status = \'idle\'"> <span aria-hidden="true">&times;</span> </button> <div> <p> <strong>{{ errorHeading }}</strong> </p> <ul> <li data-ng-repeat="e in errors">{{ e.errorMessage }}</li> </ul> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put("condor/classic/bulkCaseImport/import-status-error-popup.html",'<div id="ImportStatusErrorPopup"> <div class="modal-header"> <h4 class="modal-title">{{ vm.options.details.titleResId | translate }}</h4> </div> <div class="modal-body"> <p data-ng-repeat="i in vm.options.details.issues track by $index">{{i}}</p> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="vm.ok()" translate="button.ok"></button> </div> </div>'),e.put("condor/classic/bulkCaseImport/importStatus.html",'<ip-sticky-header> <ip-page-title page-title="{{ \'bulkCaseImport.glbLblTitle\' | translate }}"> </ip-page-title> </ip-sticky-header> <ip-inline-alert ng-if="!vm.isServiceBrokerEnabled" type="warning" text="serviceBrokerDisabled"></ip-inline-alert> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h5> {{ \'bulkCaseImport.isLblSubtitle\' | translate }} <div class="pull-right"> <button id="importCases" class="btn btn-prominent" ui-sref="classicBulkCaseImport"> <span translate="{{\'bulkCaseImport.bciLblTitle\' | translate}}"></span> </button> </div> </h5> </div> </div> </div> </div> <div class="row" style="margin: 0px;"> <ip-kendo-grid data-id="importStatus" mode="search" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/classic/bulkCaseImport/mappingIssues.html",'<ip-sticky-header> <ip-page-title page-title="{{ \'bulkCaseImport.glbLblTitle\' | translate }}" page-subtitle="{{ \'bulkCaseImport.miLblTitle\' | translate }}"> <before-title> <ip-level-up-button data-to-state="classicBulkCaseImportStatus"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h5 data-ng-if="data.mappingIssues.length > 0" class="bigger lighter bci-instructions"> <i class="fa fa-info"></i>&nbsp; <span id="batchIdentifier">{{\'bulkCaseImport.miLblSubTitle\' | translate}} - <b>\'{{data.batchIdentifier}}\'</b>. </span> <a id="miTransactionLink" href="#/bulkcaseimport/batchSummary/{{data.batchId}}/mappingIssuesCases" target="_blank">{{ \'bulkCaseImport.gLblViewAffectedTransactionsInNewTab\' | translate: {issueCount: data.mappingIssueCaseCount} }}</a> </h5> </div> </div> </div> </div> <div class="table-container col-sm-12"> <div class="widget-box"> <div> <div class="widget-main no-padding" data-ng-if="data.mappingIssues.length > 0" style="overflow-x: auto"> <table class="table table-striped table-blue"> <thead> <tr> <th>{{ data.issueDescription }}</th> </tr> </thead> <tbody> <tr data-ng-repeat="n in data.mappingIssues"> <td>{{n}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div>'),e.put("condor/classic/bulkCaseImport/nameIssues.html",'<style> .no-margin {\r\n        margin-bottom: 0px;\r\n    }\r\n\r\n    .workpane {\r\n        min-height: 120px;\r\n        height: calc(45vh - 60px);\r\n        max-height: calc(45vh - 60px);\r\n        overflow: hidden;\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .workpane-details {\r\n        min-height: 80px;\r\n        height: calc(54vh - 80px);\r\n        max-height: calc(54vh - 80px);\r\n    }\r\n\r\n    .nr-row-selected {\r\n        background-color: #CACAF4;\r\n    }\r\n\r\n    .widget {\r\n        height: calc(99vh - 126px);\r\n        min-height: 150px;\r\n    }\r\n\r\n    .list {\r\n         height: calc(98vh - 180px);\r\n         overflow-y: auto;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="{{ \'bulkCaseImport.glbLblTitle\' | translate }}" page-subtitle="{{ \'bulkCaseImport.niLblTitle\' | translate }}"> <before-title> <ip-level-up-button data-to-state="classicBulkCaseImportStatus"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h5 data-ng-if="hasNameIssues()" class="bigger lighter bci-instructions"> <i class="fa fa-info"></i>&nbsp; <span id="batchIdentifier">{{\'bulkCaseImport.niLblSubTitle\' | translate}} - <b>\'{{viewData.batchIdentifier}}\'</b>. </span> <a id="niTransactionLink" href="#/bulkcaseimport/batchSummary/{{viewData.batchId}}/nameIssuesCases" target="_blank">{{ \'bulkCaseImport.gLblViewAffectedTransactionsInNewTab\' | translate: {issueCount: viewData.namingIssueCaseCount} }}</a> </h5> <h5 data-ng-if="!hasNameIssues()" class="bigger lighter bci-instructions"> <i class="fa fa-info"></i>&nbsp; <span id="batchIdentifier">{{\'bulkCaseImport.niLblSubTitleAllNamesMap\' | translate}} - <b>\'{{viewData.batchIdentifier}}\'</b>. </span> <a id="niTransactionLink" href="#/bulkcaseimport/batchSummary/{{viewData.batchId}}/nameIssuesCases">{{ \'bulkCaseImport.gLblViewAffectedTransactions\' | translate: {issueCount: viewData.namingIssueCaseCount} }}</a> </h5> </div> </div> </div> </div> <div class="table-container col-sm-12"> <div class="widget-box widget"> <div data-in-blocker="status !== \'idle\'"> <div class="widget-main" data-ng-show="hasNameIssues()" id="nameResolutionContainer"> <div class="row"> <div class="col-sm-4"> <div class="panel panel-default no-margin" id="unresolvedNamesContainer"> <div class="panel-heading"> <h3 class="panel-title">{{ \'bulkCaseImport.niUnresolvedNamesTitle\' | translate }} </h3> </div> <div class="list-group list"> <table class="table" data-in-navigate-by-keyboard data-prevent-hotkey-in-input="true" data-selected-selector=".nr-row-selected" data-key-modifier="alt" data-item-literal="{{ \'bulkCaseImport.niUnresolvedNameItemLiteral\' | translate }}"> <tr data-ng-repeat="n in viewData.nameIssues" data-ng-click="onUnresolvedNameSelected(n)" class="nr-selectable nr-row" data-ng-class="{ \'nr-row-selected\': n === selectedUnresolved }" style="overflow: hidden;"> <td class="nr-selectable cell"> <span class="nr-row-selectable">{{n.formattedName}}</span> <p class="text-muted" style="font-size: smaller"> <span class="text-right">{{n.nameType}}</span> <span data-ng-if="n.nameCode" class="text-right">{{n.nameCode}}</span> </p> </td> </tr> </table> </div> </div> </div> <div class="col-sm-8"> <div id="workPaneContainer" class="workpane"> <div class="panel panel-default no-margin" data-ng-controller="addCandidateController" style="height: 100%"> <div class="panel-heading"> <h3 class="panel-title" style="display:inline"> {{ \'bulkCaseImport.niCandidatesTableTitle\' | translate }}</h3> <ip-typeahead name="namePicklist" class="col-sm-6 no-padding pull-right position-relative" data-label="" data-config="name" ng-model="nameSelected"></ip-typeahead> <span class="clearfix"></span> </div> <div style="overflow:auto; width:100%; height: 70%"> <table class="table table-striped table-condensed" data-prevent-hotkey-in-input="true" data-in-navigate-by-keyboard data-selected-selector=".nr-row-selected" data-item-literal="{{ \'bulkCaseImport.niCandidateItemLiteral\' | translate }}" tabindex="3"> <thead> <tr> <th>{{ \'bulkCaseImport.niNameCode\' | translate }}</th> <th>{{ \'bulkCaseImport.niName\' | translate }}</th> <th>{{ \'bulkCaseImport.niFirstName\' | translate }}</th> <th>{{ \'bulkCaseImport.niSearchKey1\' | translate }}</th> <th>{{ \'bulkCaseImport.niRemarks\' | translate }}</th> <th>{{ \'bulkCaseImport.niAddress\' | translate }}</th> </tr> </thead> <tr> <td colspan="6" data-ng-if="selectedUnresolved.mapCandidates.length === 0"> <span class="text-muted" style="font-size:smaller">{{ \'bulkCaseImport.niNoMatches\' | translate }}</span> </td> </tr> <tr> <td colspan="6" data-ng-if="!selectedUnresolved.mapCandidates"> <span class="text-muted" style="font-size:smaller"> <em>{{ \'bulkCaseImport.niLoadingPotentialMatches\' | translate }}</em> </span> </td> </tr> <tr data-ng-repeat="m in selectedUnresolved.mapCandidates" data-ng-click="onCandidateSelected(m)" class="nr-selectable" data-ng-class="{ \'nr-row-selected\': m === selectedCandidate }" data-scroll-into-view="m === selectedCandidate && selectedAutomatically"> <td class="cell">{{m.nameCode}}</td> <td class="cell">{{m.name}}</td> <td class="cell">{{m.firstName}}</td> <td class="cell">{{m.searchKey1}}</td> <td class="cell">{{m.remarks}}</td> <td class="cell">{{m.formattedAddress}}</td> </tr> </table> </div> </div> </div> <div class="workpane-details"> <div class="panel panel-default no-margin" style="overflow-y: auto; height:99%"> <table class="table table-striped table-condensed" style="width: 100%;"> <colgroup> <col style="width: 180px"> <col style="width: 40%"> <col style="width: 40%"> </colgroup> <thead> <tr> <th></th> <th>{{ \'bulkCaseImport.niEdeNameTitle\' | translate }} - {{ selectedUnresolved.nameType }}</th> <th>{{ \'bulkCaseImport.niExistingNameTitle\' | translate }}</th> </tr> </thead> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niNameCode\' | translate }} </td> <td>{{ selectedUnresolved.nameCode }}</td> <td> <span data-ng-class="{ \'text-danger\': selectedCandidate && selectedUnresolved.nameCode !== selectedCandidate.nameCode && selectedCandidate.nameCode !== \'\' }">{{ selectedCandidate.nameCode }}</span> </td> </tr> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niName\' | translate }}</td> <td>{{ selectedUnresolved.formattedName }}</td> <td> <a href="{{ \'../\' + selectedCandidate.detailsLink }}" target="_blank"> <span data-ng-class="{\'text-danger\': selectedCandidate && selectedUnresolved.formattedName !== selectedCandidate.formattedName && selectedCandidate.formattedName !== \'\' }"> {{ selectedCandidate.formattedName }}</span> <span style="padding-left:10px" data-ng-show="selectedCandidate.formattedName" class="cpa-icon cpa-icon-link"></span> </a> </td> </tr> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niAddress\' | translate }} </td> <td>{{ selectedUnresolved.formattedAddress }}</td> <td> <span data-ng-class="{ \'text-danger\': selectedCandidate && selectedUnresolved.formattedAddress !== selectedCandidate.formattedAddress && selectedCandidate.formattedAddress !== \'\' }">{{ selectedCandidate.formattedAddress }}</span> </td> </tr> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niPhone\' | translate }} </td> <td>{{ selectedUnresolved.phone }}</td> <td> <span data-ng-class="{ \'text-danger\': selectedCandidate && selectedUnresolved.phone !== selectedCandidate.phone && selectedCandidate.phone !== \'\' }">{{ selectedCandidate.phone }}</span> </td> </tr> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niFax\' | translate }}</td> <td>{{ selectedUnresolved.fax }}</td> <td> <span data-ng-class="{ \'text-danger\': selectedCandidate && selectedUnresolved.fax !== selectedCandidate.fax && selectedCandidate.fax !== \'\' }">{{ selectedCandidate.fax }}</span> </td> </tr> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niEmail\' | translate }} </td> <td>{{ selectedUnresolved.email }} </td> <td> <span data-ng-class="{ \'text-danger\': selectedCandidate && selectedUnresolved.email !== selectedCandidate.email && selectedCandidate.email !== \'\' }">{{ selectedCandidate.email }}</span> </td> </tr> <tr> <td class="nr-field-name">{{ \'bulkCaseImport.niContact\' | translate }} </td> <td>{{ selectedUnresolved.contact }}</td> <td> <span data-ng-class="{ \'text-danger\': selectedCandidate && selectedUnresolved.contact !== selectedCandidate.contact && selectedCandidate.contact !== \'\' }">{{ selectedCandidate.contact }}</span> </td> </tr> <tr> <td colspan="3"> <div> <button id="btnMap" class="btn btn-primary pull-right" hotkey="{\'ctrl+m\': mapName }" hotkey-description="{{ \'bulkCaseImport.niLblMapNameExplanation\' | translate }}" style="min-width: 100px" data-ng-disabled="!selectedCandidate" data-ng-click="mapName()">{{ \'bulkCaseImport.niBtnMap\' | translate }}</button> </div> </td> </tr> </table> </div> </div> </div> </div> </div> </div> <div data-ng-show="status == \'complete\'"> <div class="widget-main" data-ng-controller="resubmitController"> <div class="row"> <div class="col-sm-12"> <h4 style="margin-top: 15px">{{ \'bulkCaseImport.niComplete\' | translate }}</h4> <h5 style="margin-top: 10px"> {{ \'bulkCaseImport.niCompleteResubmit\' | translate: {key: viewData.namingIssueCaseCount} }} </h5> </div> </div> <div class="row" style="margin: 40px">&nbsp;</div> <div class="row"> <div class="col-sm-12"> <button id="btnResubmit" class="btn btn-primary" data-ng-click="resubmitBatch()" data-ng-enabled="resubmitStatus == \'idle\'">{{ \'bulkCaseImport.niBtnResubmit\' | translate }}</button> </div> </div> </div> </div> </div> </div> </div>'),e.put("condor/classic/caseComparison/case-comparison-other-toolbar.html",'<div class="cc-toolbar" ng-if="canUndoRejectMatch()"> <div class="tooltip-wrap ng-scope" ng-class="{\'disabled\' : !canUndoRejectMatch() || saveable() }"> <button class="btn btn-sm btn-warning tooltip-info cc-toolbar-button cc-toolbar-button-left cc-toolbar-button-warning cc-toolbar-button" data-rel="tooltip" data-placement="top" title="{{\'caseComparison.ccBtnUndoRejectCaseMatchTooltip\' | translate}}" ng-click="undoRejectCaseMatch()" ng-class="{\'disabled\' : !canUndoRejectMatch() || saveable() }" id="btnUndoRejectCaseMatch" id="btnUndoRejectCaseMatch">{{ \'caseComparison.ccBtnUndoRejectCaseMatch\' | translate }}</button> </div> </div> <div class="cc-toolbar" ng-if="canRejectMatch()"> <div class="tooltip-wrap ng-scope" ng-class="{\'disabled\' : !canRejectMatch() || saveable() }"> <button class="btn btn-sm btn-warning tooltip-info cc-toolbar-button cc-toolbar-button-left cc-toolbar-button-warning cc-toolbar-button" data-rel="tooltip" data-placement="top" title="{{\'caseComparison.ccBtnRejectCaseMatchTooltip\' | translate}}" ng-click="rejectCaseMatch()" ng-class="{\'disabled\' : !canRejectMatch() || saveable() }" id="btnRejectCaseMatch" id="btnRejectCaseMatch">{{ \'caseComparison.ccBtnRejectCaseMatch\' | translate }}</button> </div> </div>'),e.put("condor/classic/caseComparison/case-comparison-toolbar.html",'<div ng-show="!shouldHideToolbar()"> <div class="cc-toolbar"> <span hotkey="{\'a a\': quickSelectAll }" hotkey-description="{{ \'caseComparison.ccSelectAllExplanation\' | translate }}" hotkey-allow-in="INPUT"></span> <div class="tooltip-wrap ng-scope" ng-class="{\'disabled\' : !canMarkReviewed() || saveable() }"> <button class="btn btn-sm btn-primary tooltip-info cc-toolbar-button cc-toolbar-button-left cc-toolbar-button-primary" ng-click="markReviewed()" ng-class="{\'disabled\' : !canMarkReviewed() || saveable() }" ng-show="notification" id="btnMarkReviewed" id="btnMarkReviewed" hotkey="{\'m r\': quickMarkReviewed }" hotkey-description="{{ \'caseComparison.ccMarkReviewedExplanation\' | translate }}" hotkey-allow-in="INPUT">{{ \'caseComparison.ccBtnMarkReviewed\' | translate }}</button> </div> <div class="tooltip-wrap ng-scope" ng-class="{\'disabled\' : !saveable() }"> <button class="btn btn-sm btn-primary tooltip-info cc-toolbar-button cc-toolbar-button-primary" data-rel="tooltip" data-placement="top" title="{{\'caseComparison.ccBtnUpdateCaseTooltip\' | translate}}" ng-disabled="!saveable()" ng-click="saveChanges()" ng-show="updateable() && isComparisonData" ng-class="{\'disabled\' : !saveable() }" id="btnUpdateCase" id="btnUpdateCase" hotkey="{\'ctrl+shift+s\': quickSaveChanges }" hotkey-description="{{ \'caseComparison.ccUpdateCaseExplanation\' | translate }}" hotkey-allow-in="INPUT">{{ \'caseComparison.ccBtnUpdateCase\' | translate }}</button> </div> </div> </div>'),
e.put("condor/classic/caseComparison/case-comparison-view.html",'<div ng-form="mainform"> <div data-ng-if="!viewData"> <div>&nbsp;</div> <span id="caseComparisonLoadSpinner" style="margin-top: 10px; margin-left: 15px;"> <em> <i class="cpa-icon cpa-icon-circle-o-notch cpa-icon-spin" style="position:fixed"></i> <span class="text-muted" style="margin-left:15px">{{ \'caseComparison.gLblLoading\' | translate }}</span> </em> </span> </div> <div data-ng-include=" \'condor/classic/caseComparison/compare-case-error.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-case-match-rejected.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-case-duplicate-indicator.html\' " data-ng-show="!viewData.rejectionResetable && viewData.hasDuplicates && !hideDuplicateWarning"></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-case-header.html\' "></div> <div data-focus-next-diff="viewData" focus-next-diff-hint="{{ \'caseComparison.ccJumpToNextDiffExplanation\' | translate }}"> <div data-ng-include=" \'condor/classic/caseComparison/compare-goods-and-services.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-names.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-official-numbers.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-parent-related-cases.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-events.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/compare-case-summary.html\' "></div> <div data-ng-include=" \'condor/classic/caseComparison/doctemplates/available-documents.html\' "></div> </div> </div>'),e.put("condor/classic/caseComparison/case-image-view.html",'<div> <div class="modal-header"> <h2 class="modal-title"> Image </h2> <div class="modal-header-controls"> <ip-close-button type="button" data-ng-click="dismiss(importDocumentForm)"></ip-close-button> </div> </div> <div class="modal-body"> <div class="scrollable text-center" dialog-inflate-height> <img ng-src="{{caseImage.getDetailUrl()}}"/> </div> </div> </div>'),e.put("condor/classic/caseComparison/compare-case-duplicate-indicator.html",'<div class="widget-box"> <div class="match-rejected" name="duplicateIndicator"> <div class="topic-header header-color-warning"> <h1> {{ \'caseComparison.ccHeadingDuplicate\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row col-xs-12 i-paddingTop"> <label class="col-xs-12">{{ \'caseComparison.ccDuplicateMatchExplanation\' | translate }}</label> </div> <div class="row col-xs-12" ng-show="viewData.updateable"> <div class="col-xs-12"> <a href="javascript:void(0)" data-ng-click="navigateToDuplicateView()">{{ \'caseComparison.ccDuplicateMatchExplanation2\' | translate}}</a> </div> </div> </div> <div class="row"> <div class="col-xs-12 i-paddingTop"> &nbsp; </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-case-error.html",'<div data-ng-show="viewData.errors"> <div> <div class="topic-header header-color-danger"> <h1> {{ \'caseComparison.ccHeadingAttention\' | translate }} </h1></div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <div style="padding: 10px" data-ng-show="mappingErrors"> <ul> <li data-ng-repeat="e in mappingErrors">{{ \'caseComparison.ccMappingError\' | translate: {key: e.key} }} <ul> <li data-ng-repeat="m in e.message"> {{m}} </li> </ul> </li> </ul> </div> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-case-header.html",'<div data-ng-show="viewData.case"> <div class="widget-box"> <div class="topic-header"> <h1> {{ \'caseComparison.ccHeadingGeneral\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table class="table table-striped table-hover"> <thead> <tr> <th style="width:20%">&nbsp;</th> <th style="width:40%">{{ \'caseComparison.gLblProductName\' | translate }}</th> <th>&nbsp;</th> <th style="width:40%">{{ externalSystem }}</th> </tr> <tr ng-show="viewData.case.messages.length"> <th></th> <th></th> <th></th> <th> <div data-ng-repeat="m in viewData.case.messages"><span class="text-muted" title="{{ \'caseComparison.ccSourceMessagesExplanation\' | translate}}"><i class="cpa-icon cpa-icon-info-circle">&nbsp;&nbsp;</i>{{::m}}</span></div> </th> </tr> </thead> <tbody> <tr> <td> <strong>{{ \'caseComparison.ccLblCaseReference\' | translate }}:</strong> </td> <td> <ip-ie-only-url style="cursor: pointer;" ng-if="::viewData.case.ref.ourValue" data-url="caseDetailsLink" data-text="viewData.case.ref.ourValue"></ip-ie-only-url> </td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.ref.updated}" name="chCaseRef" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.ref.updateable" ng-model="viewData.case.ref.updated"></ip-checkbox> </td> <td> <a ng-if="viewData.case.sourceLink" target="_blank" href="{{::viewData.case.sourceLink}}" data-ng-class="{highlight:viewData.case.ref.different && viewData.case.ref.theirValue}"> <span data-ng-if="::viewData.case.ref.theirValue" data-ng-class="{highlight:viewData.case.ref.different && viewData.case.ref.theirValue}">{{viewData.case.ref.theirValue}}</span> <span data-ng-if="::!viewData.case.ref.theirValue">{{ \'caseComparison.viewExternalSource\' | translate: {source: externalSystem} }}</span> </a> <span ng-if="!viewData.case.sourceLink" data-ng-class="{highlight:viewData.case.ref.different && viewData.case.ref.theirValue}">{{viewData.case.ref.theirValue}}</span> </td> </tr> <tr> <td> <strong>{{ \'caseComparison.ccLblTitle\' | translate }}:</strong> </td> <td>{{viewData.case.title.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.title.updated}" name="chTitle" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.title.updateable" ng-model="viewData.case.title.updated" id="cbTitle"></ip-checkbox> </td> <td> <div data-ng-class="{highlight:viewData.case.title.different && viewData.case.title.theirValue}">{{viewData.case.title.theirValue}}</div> </td> </tr> <tr ng-if="viewData.case.typeOfMark"> <td> <strong>{{ \'caseComparison.ccLblTypeOfMark\' | translate }}:</strong> </td> <td>{{viewData.case.typeOfMark.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.typeOfMark.updated}" name="chTypeOfMark" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.typeOfMark.updateable" ng-model="viewData.case.typeOfMark.updated" id="cbTypeOfMark"></ip-checkbox> </td> <td> <div data-ng-class="{highlight:viewData.case.typeOfMark.different && viewData.case.typeOfMark.theirDescription}">{{viewData.case.typeOfMark.theirDescription}}</div> </td> </tr> <tr class="case-mark" ng-if="viewData.caseImage && isTrademark"> <td> <strong>{{ \'caseComparison.ccLblMark\' | translate }}:</strong> </td> <td> <a ng-if="caseImage.getCaseImageUrl().length" ng-click="caseImage.viewCaseImage()"> <img ng-src="{{caseImage.getCaseImageUrl()}}"/> </a> </td> <td> <div style="display: inline-flex"> <ip-checkbox class="diff" ng-model="viewData.caseImage.importImage" name="chMark" ng-class="{edited: viewData.caseImage.importImage}" data-ng-show="!viewData.rejectionResetable && viewData.updateable && caseImage.getDownloadedImageUrl().length"></ip-checkbox> <ip-icon-button style="width: 25px;" ng-click="onRefresh()" button-icon="refresh" data-tooltip-placement="top" ip-tooltip="{{:: \'caseComparison.refreshImageTooltip\' | translate }}" data-ng-show="showRefresh() && !viewData.rejectionResetable && viewData.updateable && caseImage.getDownloadedImageUrl().length"></ip-icon-button> </div> </td> <td ng-if="!refreshed"> <a ng-if="caseImage.getDownloadedImageUrl().length" ng-click="caseImage.viewDownloadedImage()"> <img ng-src="{{caseImage.getDownloadedImageUrl()}}"/> </a> </td> <td ng-if="refreshed"> <a ng-if="caseImage.getRefreshImageUrl().length" ng-click="caseImage.viewDownloadedImage()"> <img ng-src="{{caseImage.getRefreshImageUrl()}}"/> </a> </td> </tr> <tr ng-show="viewData.case.status"> <td> <strong>{{ \'caseComparison.ccLblCaseStatus\' | translate }}:</strong> </td> <td>{{viewData.case.status.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.status.updated}" name="chStatus" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.status.updateable" ng-model="viewData.case.status.updated"></ip-checkbox> </td> <td> <span>{{viewData.case.status.theirValue}}</span> </td> </tr> <tr ng-show="viewData.case.statusDate"> <td> <strong>{{ \'caseComparison.ccLblStatusDate\' | translate }}:</strong> </td> <td>{{viewData.case.statusDate.ourValue | localeDate}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.statusDate.updated}" name="chStatusDate" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.statusDate.updateable" ng-model="viewData.case.statusDate.updated"></ip-checkbox> </td> <td> <span data-ng-show="viewData.case.statusDate.theirValue" data-ng-class="{highlight: viewData.case.statusDate.different}">{{viewData.case.statusDate.theirValue | localeDate}}</span> </td> </tr> <tr ng-show="viewData.case.localClasses"> <td> <strong>{{ \'caseComparison.ccLblLocalClasses\' | translate }}:</strong> </td> <td>{{viewData.case.localClasses.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.localClasses.updated}" name="chLocalClasses" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.localClasses.updateable" ng-model="viewData.case.localClasses.updated"></ip-checkbox> </td> <td> <span data-ng-class="{highlight:viewData.case.localClasses.different && viewData.case.localClasses.theirValue}">{{viewData.case.localClasses.theirValue}}</span> </td> </tr> <tr ng-show="viewData.case.intClasses"> <td> <strong>{{ \'caseComparison.ccLblIntClasses\' | translate }}:</strong> </td> <td>{{viewData.case.intClasses.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: viewData.case.intClasses.updated}" name="chIntlClasses" data-ng-show="!viewData.rejectionResetable && viewData.updateable && viewData.case.intClasses.updateable" ng-model="viewData.case.intClasses.updated"></ip-checkbox> </td> <td> <span data-ng-class="{highlight:viewData.case.intClasses.different && viewData.case.intClasses.theirValue}">{{viewData.case.intClasses.theirValue}}</span> </td> </tr> <tr ng-show="viewData.case.country"> <td> <strong>{{ \'caseComparison.ccLblCountry\' | translate }}:</strong> </td> <td>{{viewData.case.country.ourValue}}</td> <td> </td> <td> </td> </tr> <tr ng-show="viewData.case.propertyType"> <td> <strong>{{ \'caseComparison.ccLblPropertyType\' | translate }}:</strong> </td> <td>{{viewData.case.propertyType.ourValue}}</td> <td> </td> <td> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-case-match-rejected.html",'<div data-ng-show="viewData.rejectionResetable"> <div class="widget-box match-rejected" name="matchRejectedIndicator"> <div class="topic-header header-color-warning"> <h1> {{ \'caseComparison.ccHeadingRejected\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row col-xs-12 i-paddingTop"> <label class="col-xs-12">{{ \'caseComparison.ccUndoRejectMatchExplanation\' | translate }}</label> </div> <div class="row col-xs-12" ng-show="viewData.updateable"> <label class="col-xs-12">{{ \'caseComparison.ccUndoRejectMatchExplanation2\' | translate}}</label> </div> </div> <div class="row"> <div class="col-xs-12 i-paddingTop"> &nbsp; </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-case-summary.html",'<div data-ng-show="viewData.caseSummary"> <div class="widget-box"> <div class="topic-header"> <h1> {{ \'caseComparison.ccHeadingGeneral\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table class="table table-striped table-hover"> <thead> <tr> <th style="width:20%">&nbsp;</th> <th style="width:40%">{{ \'caseComparison.gLblProductName\' | translate }}</th> </tr> </thead> <tbody> <tr> <td> <strong>{{ \'caseComparison.ccLblCaseReference\' | translate }}:</strong> </td> <td>{{viewData.caseSummary.ref}}</td> </tr> <tr> <td> <strong>{{ \'caseComparison.ccLblTitleOrMark\' | translate }}:</strong> </td> <td>{{viewData.caseSummary.title}}</td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-events.html",'<div data-ng-show="viewData.events.length"> <div class="widget-box"> <div class="topic-header header-color-blue"> <h1> {{ \'caseComparison.ccHeadingEvents\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table class="table table-striped table-hover"> <thead> <tr> <th style="width:30%">&nbsp;</th> <th style="width:15%; text-align:center">{{ \'caseComparison.ccLblCycle\' | translate }}</th> <th style="width:20%">{{ \'caseComparison.gLblProductName\' | translate }}</th> <th>&nbsp;</th> <th style="width:40%" colspan="2">{{ externalSystem }}</th> </tr> </thead> <tbody> <tr data-ng-repeat="e in viewData.events"> <td> <strong>{{e.eventType}}</strong> </td> <td style="text-align:center">{{e.cycle}}</td> <td>{{e.eventDate.ourValue | localeDate}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: e.eventDate.updated}" data-ng-show="!viewData.rejectionResetable && viewData.updateable && e.eventDate.updateable" data-ng-model="e.eventDate.updated"></ip-checkbox> </td> <td class="cc-date"> <span data-ng-class="{highlight:e.eventDate.different && e.eventDate.theirValue}">{{e.eventDate.theirValue | localeDate}}</span> </td> <td> <span data-ng-show="e.eventDate.theirDescription" class="text-muted"><i class="cpa-icon cpa-icon-info-circle">&nbsp;<span>{{e.eventDate.theirDescription}}</span></i> </span> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-goods-and-services.html",'<div data-ng-controller="goodsServicesComparisonController"> <div data-ng-show="viewData.goodsServices.length"> <div class="widget-box"> <div class="topic-header header-color-blue"> <h1> {{ \'caseComparison.ccHeadingGoodsServices\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table class="table table-striped-goods-services table-hover"> <thead> <tr> <th style="width:20%">&nbsp;</th> <th style="width:40%">{{ \'caseComparison.gLblProductName\' | translate }}</th> <th>&nbsp;</th> <th style="width:40%" colspan="2">{{ externalSystem }}</th> </tr> </thead> <tbody> <tr data-ng-repeat-start="n in viewData.goodsServices" class="table-delimiter"> <td> <strong>{{ \'caseComparison.ccLblClass\' | translate }}:</strong> </td> <td>{{n.class.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: n.class.updated}" data-ng-show="!viewData.rejectionResetable && viewData.updateable && n.class.updateable" data-ng-change="toggleGoodsServicesSelection(n)" data-ng-model="n.class.updated"></ip-checkbox> </td> <td colspan="2"> <span ng-class="{highlight:n.class.different && n.class.theirValue }">{{n.class.theirValue}}</span> </td> </tr> <tr ng-if="showFirstUseDate"> <td> <strong>{{ \'caseComparison.ccLblFirstUsedDate\' | translate }}:</strong> </td> <td> <span data-ng-show="n.firstUsedDate.ourValue">{{ n.firstUsedDate.ourValue | date: firstUsedDateFormat(n.firstUsedDate.format) }}</span> </td> <td> <ip-checkbox class="diff" ng-class="{edited: n.firstUsedDate.updated}" data-ng-show="!viewData.rejectionResetable && viewData.updateable && n.firstUsedDate.updateable" data-ng-model="n.firstUsedDate.updated"></ip-checkbox> </td> <td> <span data-ng-show="n.firstUsedDate.theirValue" data-ng-class="{highlight:n.firstUsedDate.different}">{{n.firstUsedDate.theirValue | date: firstUsedDateFormat(n.firstUsedDate.format)}} </span> </td> </tr> <tr ng-if="showFirstUseDate"> <td> <strong>{{ \'caseComparison.ccLblFirstUsedInCommerceDate\' | translate }}:</strong> </td> <td>{{ n.firstUsedDateInCommerce.ourValue | date: firstUsedDateFormat(n.firstUsedDateInCommerce.format) }}</td> <td> <ip-checkbox class="diff" ng-class="{edited: n.firstUsedDateInCommerce.updated}" data-ng-show="!viewData.rejectionResetable && viewData.updateable && n.firstUsedDateInCommerce.updateable" data-ng-model="n.firstUsedDateInCommerce.updated"></ip-checkbox> </td> <td> <span data-ng-show="n.firstUsedDateInCommerce.theirValue" ng-class="{highlight:n.firstUsedDateInCommerce.different}">{{n.firstUsedDateInCommerce.theirValue | date: firstUsedDateFormat(n.firstUsedDateInCommerce.format)}}</span> </td> <td> <span data-ng-show="n.firstUsedDateInCommerce && n.firstUsedDateInCommerce.parseError" class="text-muted"><i class="cpa-icon cpa-icon-info-circle">&nbsp;<span>{{n.firstUsedDateInCommerce.parseError}}</span></i> </span> </td> </tr> <tr ng-if="showLanguage"> <td> <strong>{{ \'caseComparison.ccLblLanguage\' | translate }}:</strong> </td> <td> <select style="width: 90%;" id="ourLanguage" name="ourLanguage" ng-model="n.language.ourValue" ng-options="option.value for option in languages track by option.key" ng-change="onOurLanguageChange(n)"> <option ng-hide="!n.language.ourValue || !n.language.ourValue.value" value=""></option> </select> </td> <td></td> <td> <select ng-if="n.multipleImportedLanguage" style="width: 90%;" id="theirLanguage" name="theirLanguage" ng-model="n.language.theirValue" ng-options="option.value for option in languages track by option.key" ng-change="onTheirLanguageChange(n)"> <option ng-hide="!n.language.theirValue || !n.language.theirValue.value" value=""></option> </select> <div ng-if="!n.multipleImportedLanguage">{{ n.language.theirValue.value }}</div> </td> </tr> <tr data-ng-repeat-end class="delimiter"> <td> <strong>{{ \'caseComparison.ccLblText\' | translate }}:</strong> </td> <td> <div style="overflow: auto; max-height: 100px">{{ n.text.ourValue }}</div> </td> <td> <ip-checkbox class="diff" ng-class="{edited: n.text.updated}" data-ng-show="!viewData.rejectionResetable && viewData.updateable && n.text.updateable" data-ng-model="n.text.updated"></ip-checkbox> <div class="view-comparison-details btn-icon" data-ng-show="!viewData.rejectionResetable && viewData.updateable && (n.text.updateable || n.text.ourValue && n.text.theirValue)" data-ng-click="showTextCompare(n.text)" title="{{ \'caseComparison.ccTooltipExpandCompare\' | translate:{externalSystem: externalSystem} }}" style="margin-top:3px"> <i class="cpa-icon cpa-icon-expand"></i>&nbsp; </div> </td> <td colspan="2"> <div data-ng-class="{highlight:n.text.different && n.text.theirValue}" style="overflow: auto; max-height: 100px">{{ n.text.theirValue }}</div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div> </div>'),e.put("condor/classic/caseComparison/compare-names.html",'<div data-ng-show="viewData.caseNames.length"> <div class="widget-box"> <div class="topic-header header-color-blue"> <h1> {{ \'caseComparison.ccHeadingNames\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table class="table table-hover"> <thead> <tr> <th style="width:20%">&nbsp;</th> <th style="width:40%">{{ \'caseComparison.gLblProductName\' | translate }}</th> <th>&nbsp;</th> <th style="width:40%">{{ externalSystem }}</th> </tr> </thead> <tbody> <tr data-ng-repeat-start="cn in viewData.caseNames" class="table-delimiter"> <td> <strong>{{cn.nameType}}</strong> </td> <td> {{cn.name.ourValue}} </td> <td> <ip-checkbox class="diff" ng-class="{edited: cn.name.updated}" ng-show="!viewData.rejectionResetable && viewData.updateable && cn.name.updateable" ng-model="cn.name.updated"></ip-checkbox> </td> <td> <span data-ng-class="{highlight:cn.name.different && cn.name.theirValue}"> {{cn.name.theirValue}}</span> </td> </tr> <tr ng-show="cn.reference.ourValue || cn.reference.theirValue"> <td> <strong>{{\'caseComparison.ccReference\' | translate}}</strong> </td> <td> {{cn.reference.ourValue}} </td> <td> <ip-checkbox class="diff" ng-class="{edited: cn.reference.updated}" ng-show="!viewData.rejectionResetable && viewData.updateable && cn.reference.updateable" ng-model="cn.reference.updated"></ip-checkbox> </td> <td> <span data-ng-class="{highlight: cn.reference.different && cn.reference.theirValue}"> {{cn.reference.theirValue}} </span> </td> </tr> <tr data-ng-repeat-end class="delimiter" ng-if="cn.address.theirValue || cn.address.ourValue"> <td> <strong>{{\'caseComparison.ccAddress\' | translate}}</strong> </td> <td> <div class="address" data-ng-show="cn.address.ourValue">{{cn.address.ourValue}}</div> </td> <td> <ip-checkbox class="diff" ng-class="{edited: cn.name.updated}" ng-show="!viewData.rejectionResetable && viewData.updateable && cn.name.updateable" ng-model="cn.name.updated"></ip-checkbox> </td> <td> <div class="address" data-ng-class="{highlight:cn.address.different && cn.address.theirValue}" data-ng-show="cn.address.theirValue">{{cn.address.theirValue}}</div> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/compare-official-numbers.html",'<div data-ng-controller="officialNumbersComparisonController"> <div data-ng-show="viewData.officialNumbers.length"> <div class="widget-box"> <div class="topic-header header-color-blue"> <h1> {{ \'caseComparison.ccHeadingOffNumsAndDates\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table id="officialNumberComparisonTable" class="table table-striped table-hover"> <thead> <tr> <th style="width:20%">&nbsp;</th> <th style="width:40%">{{ \'caseComparison.gLblProductName\' | translate }}</th> <th>&nbsp;</th> <th style="width:40%">{{ externalSystem }}</th> </tr> </thead> <tbody> <tr ng-repeat-start="n in viewData.officialNumbers"> <td> <strong>{{n.numberType}}</strong> </td> <td>{{n.number.ourValue}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: n.number.updated}" ng-show="!viewData.rejectionResetable && viewData.updateable && n.number.updateable" ng-change="toggleNumberSelection(n)" data-ng-model="n.number.updated"></ip-checkbox> </td> <td> <span ng-class="{highlight:n.number.different}">{{n.number.theirValue}}</span> </td> </tr> <tr ng-repeat-end class="delimiter" ng-if="n.event"> <td> <strong>{{n.event}}</strong> </td> <td>{{n.eventDate.ourValue | localeDate}}</td> <td> <ip-checkbox class="diff" ng-class="{edited: n.eventDate.updated}" ng-show="!viewData.rejectionResetable && viewData.updateable && n.eventDate.updateable" ng-change="toggleDateSelection(n)" data-ng-model="n.eventDate.updated"></ip-checkbox> </td> <td> <span ng-class="{highlight:n.eventDate.different}">{{n.eventDate.theirValue | localeDate}}</span> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div> </div>'),e.put("condor/classic/caseComparison/compare-parent-related-cases.html",'<div data-ng-show="viewData.parentRelatedCases.length"> <div class="widget-box"> <div class="topic-header header-color-blue"> <h1> {{ \'caseComparison.ccHeadingParentRelatedCases\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <table class="table table-striped-parent-related-cases table-hover"> <thead> <tr> <th style="width:20%">&nbsp;</th> <th style="width:40%">{{ \'caseComparison.gLblProductName\' | translate }}</th> <th>&nbsp;</th> <th style="width:40%">{{ externalSystem }}</th> </tr> </thead> <tbody> <tr data-ng-repeat-start="n in viewData.parentRelatedCases" class="table-delimiter"> <td> <strong>{{ \'caseComparison.ccLblRelationship\' | translate }}:</strong> </td> <td>{{n.description.ourValue}}</td> <td>&nbsp;</td> <td> <span ng-class="{highlight:n.description.different && n.description.theirValue }">{{n.description.theirValue}}</span> </td> </tr> <tr> <td> <strong>{{ \'caseComparison.ccLblCountryCode\' | translate }}:</strong> </td> <td> <span data-ng-show="n.countryCode.ourValue">{{ n.countryCode.ourValue }}</span> </td> <td>&nbsp;</td> <td> <span data-ng-show="n.countryCode.theirValue">{{n.countryCode.theirValue}} </span> </td> </tr> <tr> <td> <strong>{{ \'caseComparison.ccLblOfficialNumber\' | translate }}:</strong> </td> <td> <span data-ng-show="n.officialNumber.ourValue">{{ n.officialNumber.ourValue }}</span> </td> <td>&nbsp;</td> <td> <span data-ng-show="n.officialNumber.theirValue" data-ng-class="{highlight:n.officialNumber.different && n.officialNumber.theirValue}">{{n.officialNumber.theirValue}} </span> <div data-ng-show="n.officialNumber.theirValue && n.registrationNumber.theirValue" data-ng-class="{highlight:n.officialNumber.different && n.officialNumber.theirValue}">{{n.registrationNumber.theirValue}} </div> </td> </tr> <tr> <td> <strong>{{ \'caseComparison.ccLblRelatedCaseReference\' | translate }}:</strong> </td> <td> <span data-ng-show="n.relatedCaseRef"><a ng-href="{{caseDetailsBaseUrl}}{{ n.relatedCaseRef }}">{{ n.relatedCaseRef }}</a></span> </td> <td>&nbsp;</td> <td>&nbsp;</td> </tr> <tr> <td> <strong>{{ \'caseComparison.ccLblPriorityDate\' | translate }}:</strong>&nbsp;&nbsp; </td> <td><span>{{ n.priorityDate.ourValue | localeDate }}</span> <span data-ng-show="n.priorityDate.ourValue && n.eventDescription.ourValue">{{ n.eventDescription.ourValue }}</span> </td> <td>&nbsp;</td> <td> <span data-ng-show="n.priorityDate.theirValue" ng-class="{highlight:n.priorityDate.different}">{{n.priorityDate.theirValue | localeDate }}&nbsp;&nbsp;</span> <span data-ng-show="n.priorityDate.theirValue && n.eventDescription.theirValue">{{ n.eventDescription.theirValue }}</span> </td> </tr> <tr data-ng-repeat-end class="delimiter"> <td> <strong>{{ \'caseComparison.ccLblParentStatus\' | translate }}:</strong> </td> <td> <span data-ng-show="n.parentStatus.ourValue">{{n.parentStatus.ourValue}} </span> </td> <td>&nbsp;</td> <td> <span data-ng-show="n.parentStatus.theirValue" data-ng-class="{highlight:n.parentStatus.different && n.parentStatus}">{{n.parentStatus.theirValue}} </span> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/detail-view.html",'<div class="comparison-container nf-detailView col-sm-9" scroll="scrollTo"> <div ng-show="!notification || !notification.type" class="text-muted explanations"> <h5 class="lighter">{{ \'caseComparison.ipInstructionsNoSelection\' | translate }}</h5> <p> </p><h5 class="lighter">{{ \'caseComparison.ipInstructionsCompare\' | translate }}</h5> <p></p> <p data-ng-if="canUpdateCase"> </p><h5 class="lighter" data-ng-if="canUpdateCase">{{ \'caseComparison.ipInstructionsUpdate\' | translate }}</h5> <p></p> </div> <div id="caseComparisonView" ng-show="notification.type == \'case-comparison\' || notification.type == \'rejected\'"> <div ng-include=" \'condor/classic/caseComparison/case-comparison-view.html\' " ng-controller="caseComparisonViewController" style="margin-bottom:20px;" id="caseComparisonDetailView" tabindex="10" ng-init="initialInit(notification)"> </div> </div> <div id="errorView" ng-show="notification.type == \'error\'" ng-include=" \'condor/classic/caseComparison/error-view.html\' " ng-controller="errorViewController"> </div> <div id="caseNotFoundView" ng-show="notification.type == \'new-case\'" class="text-muted explanations"> <h5 class="lighter" style="white-space:normal">{{ \'caseComparison.ipNoMatchingCase\' | translate }}</h5> </div> </div>'),e.put("condor/classic/caseComparison/duplicate-view.html",'<div id="inboxPage" data-in-available-height ng-init="init()"> <ip-sticky-header id="inboxHeader"> <div class="container-fluid"> <div class="row"> <ip-page-title page-title="{{\'caseComparison.ccDuplicateViewTitle\' | translate}}"> <before-title> <a href ng-click="navigateToInbox()"> <span class="cpa-icon cpa-icon-arrow-circle-nw" ip-tooltip="{{\'LevelUp\' | translate }}"></span> </a> </before-title> </ip-page-title> </div> <div class="row title-header"> <ip-inline-alert type="info" text="{{\'caseComparison.ccDuplicateViewInstr\' | translate}}" class="col-sm-12"></ip-inline-alert> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div id="inboxContainer"> <div class="widget-main no-padding notification-separator i-noMargin"> <div class="col-sm-3 notifications-container"> <notifications-list notifications="duplicates" show-view="showView(notification)" current-selection="detailView"></notifications-list> </div> <detail-view can-update-case="canUpdateCase" notification="detailView" hide-duplicate-warning="true"></detail-view> <div class="cc-toolbar-container"> <div ng-include=" \'condor/classic/caseComparison/case-comparison-other-toolbar.html\' " class="cc-toolbar-panel-other" ng-controller="caseComparisonOtherToolbarController" class="cc-toolbar-highlight" ng-show="canUpdateCase" ng-init="initialInit(detailView)"></div> <div ng-include=" \'condor/classic/caseComparison/case-comparison-toolbar.html\' " class="cc-toolbar-panel" ng-controller="caseComparisonToolbarController" class="cc-toolbar-highlight" ng-show="canUpdateCase" ng-init="initialInit(detailView)"></div> </div> </div> <div style="clear:both"></div> </div> </div> </div>'),e.put("condor/classic/caseComparison/error-details.html",'<div id="stackTraceDialog{{errorView}}"> <div class="modal-header"> <h2 class="modal-title"> {{ \'caseComparison.errTitleErrorDetails\' | translate }} </h2> <div class="modal-header-controls"> <ip-close-button type="button" data-ng-click="dismiss()"></ip-close-button> </div> </div> <div class="modal-body monospaced"> <div ng-if="errorView ===\'caseCompareErrorView\' && currentItem.category">{{ \'caseComparison.cc\' + currentItem.category + \'Message\' | translate}}</div> <div ng-if="errorView ===\'caseCompareErrorView\' && !currentItem.category">{{ \'caseComparison.ccDocDownloadFailedMessage\' | translate}}</div> <div ng-if="errorView ===\'caseCompareErrorView\' && currentItem.message" class="space-10"></div> <div>{{ currentItem.message }}</div> <div class="space-10"></div> <div> <div data-ng-if="currentItem.exceptionDetails.length === 1 && errorView ===\'errorView\'"> <div class="error-panel"> <span class="error-panel-title">{{currentItem.exceptionDetails[0].type}}</span> </div> <pre class="error-stacktrace">{{currentItem.exceptionDetails[0].details}}</pre> </div> <ul data-ng-if="currentItem.exceptionDetails.length > 1" class="list-group errorlist"> <li class="list-group-item erroritem"> <ul class="list-group-item errorlistsublist" data-ng-repeat="subError in currentItem.exceptionDetails track by $id(subError)"> <li class="list-group-item erroritem errorlistgroupItem"> <div class="error-panel"> <span class="error-panel-title">{{subError.type}}</span> </div> <div class="error-panel"> <span class="error-panel-title">{{subError.message}}</span> </div> <pre class="error-stacktrace">{{subError.details}}</pre> </li> </ul> </li> </ul> <ul data-ng-if="currentItem.length > 1 || (errorView ===\'caseCompareErrorView\' && _.isArray(currentItem))" class="list-group errorlist"> <li class="list-group-item erroritem" data-ng-repeat="e in currentItem track by $id(e)"> <ul class="list-group-item errorlistsublist" data-ng-repeat="subError in e.exceptionDetails track by $id(subError)" data-ng-if="e.exceptionDetails.length > 0"> <li class="list-group-item erroritem errorlistgroupItem"> <div class="error-panel"> <span class="error-panel-title">{{subError.type}}</span> </div> <div class="error-panel"> <span class="error-panel-title">{{subError.message}}</span> </div> <pre class="error-stacktrace">{{subError.details}}</pre> </li> </ul> </li> </ul> </div> </div> </div>'),
e.put("condor/classic/caseComparison/error-view.html",'<div> <div> <div class="topic-header header-color-danger"> <h1> {{ \'caseComparison.ccHeadingError\' | translate }} </h1> </div> <div> <div class="widget-main no-padding"> <div class="row col-xs-12 i-paddingTop"> <label class="col-xs-12">{{\'caseComparison.ipErrorInfo\'| translate}}</label> </div> <div class="row col-xs-12"> <label class="col-xs-12">{{\'caseComparison.ipErrorSubinfo\'| translate}}</label> </div> <div class="row"> <div class="col-xs-12 i-paddingTop"> <table class="table table-striped table-hover"> <thead> <tr> <th data-in-sort by="date" defaultsortdesc>{{ \'caseComparison.errLblDateOccurred\' | translate }}</th> <th width="80%">{{ \'caseComparison.errLblMessage\' | translate }}</th> <th>&nbsp;</th> </tr> </thead> <tbody> <tr data-ng-repeat="item in details | orderBy:order:reverse track by $index"> <td nowrap="nowrap"><ip-date-time model="item.date"></ip-date-time></td> <td> {{ item.message }} </td> <td> <a class="btn btn-info pull-right" data-ng-click="showStackTrace(item)">{{ \'caseComparison.errBtnMoreDetails\' | translate }}</a> </td> </tr> </tbody> </table> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/goods-services-comparison-popup.html",'<div id="goodsComparisonDialog"> <div class="modal-header"> <h2 class="modal-title">{{ \'caseComparison.gsHeadingGoodsServices\' | translate }} </h2> <div class="modal-header-controls"> <ip-close-button type="button" data-ng-click="dismiss()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row" data-ng-if="currentItem.ourValue && currentItem.theirValue"> <div class="col-xs-6"> <h5>{{ \'caseComparison.gLblProductName\' | translate }}</h5> <div class="space-10"></div> <div class="well comparison-details-dialog-left-text">{{ currentItem.ourValue}}</div> </div> <div class="col-xs-6"> <h5>{{ externalSystem }}</h5> <div class="space-10"></div> <div class="well comparison-details-dialog-right-text" in-comparison text="{ left: currentItem.ourValue, right: currentItem.theirValue}"></div> </div> </div> <div class="row" data-ng-if="currentItem.ourValue && !currentItem.theirValue"> <div class="col-xs-12"> <h5>{{ \'caseComparison.gLblProductName\' | translate }}</h5> <div class="space-10"></div> <div class="well comparison-details-dialog-single-text">{{ currentItem.ourValue }}</div> </div> </div> <div class="row" data-ng-if="!currentItem.ourValue && currentItem.theirValue"> <div class="col-xs-12"> <h5>{{ externalSystem }}</h5> <div class="space-10"></div> <div class="well comparison-details-dialog-single-text">{{ currentItem.theirValue }}</div> </div> </div> </div> </div>'),e.put("condor/classic/caseComparison/import-document.html",'<div ng-form="importDocumentForm" ip-form> <div class="modal-header"> <h2 class="modal-title"> {{ title }} </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.maintenance)"> <ip-save-button type="button" data-ng-click="save(importDocumentForm)" data-ng-disabled="!importDocumentForm.$dirty"> </ip-save-button> <ip-close-button type="button" data-ng-click="dismiss(importDocumentForm)"></ip-close-button> </div> </div> <div class="modal-subheader"> <div class="readonly-label readonly-label-navy"> <label>To Case:</label> <span ng-bind="viewData.caseRef"></span> </div> <div class="readonly-label readonly-label-navy"> <label>|</label> </div> <div class="readonly-label readonly-label-navy"> <span ng-bind=" viewData.title"></span> </div> </div> <div class="modal-body" ng-if="!imported"> <div class="row"> <ip-inline-alert type="info" text="{{ \'caseComparison.idLblSubtitle\' | translate }}" class="col-sm-12"></ip-inline-alert> </div> <div class="row" style="margin-top:5px;"> <div class="col-sm-12"> <ip-dropdown label="{{ \'caseComparison.idLblEvent\' | translate }}" ng-class="{edited: importDocumentForm.caseEvent.$dirty}" name="caseEvent" ng-model="viewData.selectedEvent" options="e.description for e in viewData.occurredEvents" ng-change="setCycle(importDocumentForm)" ip-autofocus ip-field-error="{{getEventError(importDocumentForm.caseEvent)}}"> </ip-dropdown> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-text-field name="caseEventCycle" label="{{ \'caseComparison.idLblCycle\' | translate }}" ip-required="viewData.selectedEvent" ng-model="attachment.cycle" ng-class="{edited: importDocumentForm.caseEventCycle.$dirty}" min="1" ip-data-type="positiveinteger" ng-change="cycleChanged(importDocumentForm)"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-text-field name="attachmentName" label="{{ \'caseComparison.idLblAttachmentName\' | translate }}" ip-required ng-model="attachment.attachmentName" ng-class="{edited: importDocumentForm.attachmentName.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="col-sm-4" style="margin-top:6px;"> <label class="pull-right">{{ \'caseComparison.idLblAttachmentIsPublic\' | translate }}</label> </div> <div class="col-sm-8"> <ip-checkbox name="isPublic" label="" ng-model="attachment.isPublic" ng-class="{edited: importDocumentForm.isPublic.$dirty}"></ip-checkbox> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-dropdown label="{{ \'caseComparison.idLblActivityType\' | translate }}" ng-class="{edited: importDocumentForm.activityType.$dirty}" name="activityType" ng-model="viewData.selectedActivity" options="e.description for e in viewData.activityTypes" ip-required> </ip-dropdown> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-dropdown label="{{ \'caseComparison.idLblActivityCategory\' | translate }}" ng-class="{edited: importDocumentForm.activityCategory.$dirty}" name="activityCategory" ng-model="viewData.selectedCategory" options="e.description for e in viewData.categories" ip-required> </ip-dropdown> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-dropdown label="{{ \'caseComparison.idLblAttachmentType\' | translate }}" ng-class="{edited: importDocumentForm.attachmentType.$dirty}" name="attachmentType" ng-model="viewData.selectedAttachmentType" options="e.description for e in viewData.attachmentTypes" ip-required> </ip-dropdown> </div> </div> <div class="row" style="margin-top:8px;"> <div class="col-sm-4"> <label class="pull-right">{{ \'caseComparison.idLblActivityDate\' | translate }}</label> </div> <span class="col-sm-8"> <label> {{ viewData.activityDate | localeDate}}</label> </span> </div> </div> </div>'),e.put("condor/classic/caseComparison/inbox.html",'<div id="inboxPage" data-in-available-height> <ip-sticky-header id="inboxHeader"> <div class="container-fluid"> <div class="row"> <ip-page-title page-title="{{ \'caseComparison.ipTitle\' | translate }}"></ip-page-title> </div> </div> </ip-sticky-header> <div id="inboxContainer"> <div id="noNotificationFoundBar" class="ng-hide i-lineHeight" ng-show="status !== \'loading\' && dataSources.length===0"> <p data-ng-show="status !== \'loading\'">{{ \'caseComparison.ipNoNotificationsFound\' | translate }}</p> <p data-ng-show="status === \'loading\'"> <em> <i id="inboxLoadingSpinner" class="cpa-icon cpa-icon-circle-o-notch cpa-icon-spin" style="position:fixed;"></i> <span class="text-muted marginLeft">{{ \'caseComparison.gLblLoading\' | translate }}</span> </em> </p> </div> <div id="filterSelectionBar" class="row form-inline" ng-show="dataSources.length!==0"> <div class="col-sm-8"> <ul class="nav-pills datasource-pills nav" ng-repeat="source in dataSources"> <li class="i-filter" ng-class="{\'active\': isSelected(source) }" ng-click="filteringChanged(source)"> <a href="">{{getSourceName(source.id)}} <span class="badge warning badge-left batch-sml datasource-pills-batch" id="pill{{source.id}}"> <b>{{source.count}}</b> </span> </a> </li> </ul> </div> <div class="col-sm-4 inline pull-right control-group i-lineHeight" style="text-align:right;"> <label class="inline control-label" style="line-height:40px;">{{\'caseComparison.ipInclude\' | translate }}: &nbsp; </label> <div class="inline pull-right"> <div class="inline pull-right i-filterCh"> <ip-checkbox name="includeErrors" ng-model="filterParams.includeErrors" label="{{\'caseComparison.ipIncludeErrors\' | translate}}" id="cbincludeErrors" ng-change="inclusionChanged()"></ip-checkbox> </div> <div class="inline pull-right i-filterCh"> <ip-checkbox name="includeRejected" ng-model="filterParams.includeRejected" label="{{\'caseComparison.ipIncludeRejected\' | translate}}" id="cbincludeRejected" ng-change="inclusionChanged()"></ip-checkbox> </div> <div class="inline pull-right i-filterCh"> <ip-checkbox name="includeReviewed" ng-model="filterParams.includeReviewed" label="{{\'caseComparison.ipIncludeReviewed\' | translate}}" id="cbincludeReviewed" ng-change="inclusionChanged()"></ip-checkbox> </div> </div> </div> </div> <div class="widget-main no-padding notification-separator i-noMargin"> <div class="col-sm-3 notifications-container"> <div class="col-sm-12 no-padding i-searchbarBorder" id="searchBar"> <div class="input-group"> <input class="form-control" type="text" data-ng-model="filterParams.searchText" ng-disabled="status!==\'loaded\'" ng-enter="search()" id="txtSearchText"/> <span class="input-group-btn i-searchBtnGrp"> <div class="tooltip-wrap ng-scope" ng-class="{\'disabled\' : !filterParams.searchText }" uib-tooltip="Clear"> <button type="button" class="btn btn-icon ng-scope" ng-click="cancelSearch()" ng-class="{\'disabled\' : !filterParams.searchText }" tabindex="-1"> <span class="cpa-icon cpa-icon-eraser" name="eraser"></span> </button> </div> <div class="tooltip-wrap ng-scope" ng-class="{\'disabled\' : !filterParams.searchText }" uib-tooltip="Search" style="margin-left:3px;"> <button type="button" class="btn btn-icon ng-scope" ng-click="search()" ng-class="{\'disabled\' : !filterParams.searchText }" tabindex="-1"> <span class="cpa-icon cpa-icon-search" name="eraser"></span> </button> </div> </span> </div> </div> <notifications-list notifications="notifications" show-view="showView(notification)" is-loaded="isLoaded()" current-selection="detailView" load-more="loadData()" has-more="hasMore" initial-selection="initialDetailView"> </notifications-list> </div> <detail-view can-update-case="canUpdateCase" notification="detailView" scroll-to="detailViewTop" on-navigate-to-duplicate-view="onNavigateToDuplicateView()"></detail-view> <div class="cc-toolbar-container"> <div ng-include=" \'condor/classic/caseComparison/case-comparison-other-toolbar.html\' " class="cc-toolbar-panel-other" ng-controller="caseComparisonOtherToolbarController" class="cc-toolbar-highlight" ng-show="canUpdateCase" ng-init="initialInit(detailView)"></div> <div ng-include=" \'condor/classic/caseComparison/case-comparison-toolbar.html\' " class="cc-toolbar-panel" ng-controller="caseComparisonToolbarController" class="cc-toolbar-highlight" ng-show="canUpdateCase" ng-init="initialInit(detailView)"></div> </div> </div> <div style="clear:both"></div> </div> </div>'),e.put("condor/classic/caseComparison/notifications-list.html",'<div id="notificationsList" class="col-sm-12 no-padding i-notificationList"> <div class="i-searching" ng-show="!isLoaded"> <i class="cpa-icon cpa-icon-circle-o-notch cpa-icon-spin" style="position:fixed;margin-top:-10px"></i> </div> <ul class="notifications list-group" style="margin-left: 0;" data-in-navigate-by-keyboard data-selected-selector=".notification-selected" data-key-modifier="alt" data-item-literal="{{ \'caseComparison.ipNotificationItemLiteral\' | translate }}"> <li ng-repeat="n in notifications" class="list-group-item list-group-li" ng-click="selectAndShowView(n)" data-ng-enter="selectAndShowView(n)" ng-if="notifications.length > 0" data-scroll-into-view="n === currentSelection"> <div class="nf-row" ng-class="{\'text-muted\' : false, \'notification-selected\': n===currentSelection, \'nf-info\':n.type==\'case-comparison\'|| n.type==\'new-case\', \'nf-error\':n.type==\'error\', \'nf-rejected\':n.type==\'rejected\', \'nf-row-detail\': true, \'nf-reviewed\': n.isReviewed && n.type!==\'rejected\'}" title="{{n.title}}"> <div class="nf-row-main"> <span class="badge warning badge-small">{{getSourceName(n.dataSource)}} </span> <span class="nf-row-message pull-right" ng-show="n.type==\'rejected\'"> <em>{{ \'caseComparison.ccHeadingRejected\' | translate }}</em> </span> <span class="pull-right" ng-show="n.isReviewed && n.type!==\'rejected\'"> <em>{{ \'caseComparison.ccHeadingReviewed\' | translate }}</em> </span> <div class="row"> <div class="nf-row-title col-sm-12">{{n.title}}</div> </div> <div class="row" ng-show="n.appNum"> <div class="col-sm-4">{{ \'caseComparison.ipLblApplicationNo\' | translate }}:</div> <div class="col-sm-8">{{n.appNum}}</div> </div> <div class="row" ng-show="n.pubNum"> <div class="col-sm-4">{{ \'caseComparison.ipLblPublicationNo\' | translate }}:</div> <div class="col-sm-8">{{n.pubNum}}</div> </div> <div class="row" ng-show="n.regNum"> <div class="col-sm-4">{{ \'caseComparison.ipLblRegistrationNo\' | translate }}:</div> <div class="col-sm-8">{{n.regNum}}</div> </div> <div class="row"> <div class="col-sm-4">{{ \'caseComparison.ipLblCaseRef\' | translate }}:</div> <div class="col-sm-8 nf-caseRef" style="white-space:normal">{{n.caseRef}}<em ng-hide="n.caseRef" style="white-space:normal">{{ \'caseComparison.ipNoMatchingCase\' | translate }}</em></div> </div> <div class="nf-row-date text-muted"> <span class="cpa-icon cpa-icon-clock-o"></span> <em><ip-date-time model="n.date"></ip-date-time></em> </div> </div> </div> </li> <li ng-show="isLoaded && notifications.length === 0"> <div class="nf-row" ng-class="text-danger"> <div class="nf-row-main"> <hr style="margin-bottom:2px;margin-top:2px;"> <div class="nf-row-title nf-no-data text-muted">{{\'caseComparison.ipNoNotificationsFoundForCriteria\' | translate}}</div> </div> </div> </li> </ul> <div style="text-align: center;margin-bottom:5px;" ng-show="loadMore"> <button class="btn btn-prominent" ng-click="loadMore()" id="btnLoadMore" ng-class="{\'hidden\': !hasMore}"> {{ \'caseComparison.ipShowMoreNotifications\' | translate }} </button> </div> </div>'),e.put("condor/classic/reports/financial-reports.html",'<ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title page-title="{{\'financialReports.frFinancialReportsTitle\' | translate}}"></ip-page-title> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="row" ng-repeat="category in categorisedReports"> <div class="col-sm-12"> <h3>{{category.reportCategory}}</h3> <div class="row" ng-repeat="report in category.reports"> <div class="col-sm-12"> <a href="{{ downloadLink(report.id) }}" title="Click to download this report"> <i class="fa fa-download"></i> {{report.title}} </a> {{report.description}} </div> </div> </div> </div> </div>'),e.put("condor/components/buttons/addButton.html",'<button class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button>'),e.put("condor/components/buttons/advancedSearchButton.html",'<button class="btn btn-icon btn-advancedsearch" ip-tooltip="{{:: \'button.search\' | translate }}" data-tooltip-placement="bottom"> <span class="cpa-icon cpa-icon-advanced-search"></span> </button>'),e.put("condor/components/buttons/applyButton.html",'<button class="btn btn-icon btn-save" ip-tooltip="{{:: \'button.apply\' | translate }}" data-tooltip-placement="bottom"> <icon name="check"></icon> </button>'),e.put("condor/components/buttons/clearButton.html",'<button class="btn btn-icon btn-clear" ip-tooltip="{{:: \'button.clear\' | translate }}" data-tooltip-placement="bottom"> <span class="cpa-icon cpa-icon-eraser"></span> </button>'),e.put("condor/components/buttons/closeButton.html",'<button type="button" class="btn btn-icon btn-discard" ip-tooltip="{{:: \'button.close\' | translate }}" data-tooltip-placement="bottom"> <icon name="times"></icon> </button>'),e.put("condor/components/buttons/previewButton.html",'<div class="col-sm-8 input-wrap switch"> <input id="showPreviewSwitch" type="checkbox" ng-model="isPreviewActive"> <label class="whitelabel" for="showPreviewSwitch" translate="caseSearchResults.togglePreview"></label> </div>'),e.put("condor/components/buttons/revertButton.html",'<button class="btn btn-icon btn-warning" ip-tooltip="{{:: \'button.revert\' | translate }}" data-tooltip-placement="bottom"> <icon name="revert"></icon> </button>'),e.put("condor/components/buttons/saveButton.html",'<button class="btn btn-icon btn-save" ip-tooltip="{{:: \'button.save\' | translate }}" data-tooltip-placement="bottom"> <icon name="floppy-o"></icon> </button>'),e.put("condor/components/buttons/stepButton.html",'<button class="btn btn-icon"> <span>{{stepNo}}</span> </button>'),e.put("condor/components/common-templates/designation-stage-picklist-template.html",'<ip-picklist-modal-search> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> <div class="col-sm-6"> <ip-picklist-modal-search-add></ip-picklist-modal-search-add> </div> </div> <div class="row" ng-if="!!vm.externalScope()"> <div class="col-sm-12"> <div class="inline-readonly-list"> <label translate="picklist.designationStage.jurisdiction"></label> <span>{{vm.externalScope().jurisdiction}}</span> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search> <ip-picklist-modal-maintenance></ip-picklist-modal-maintenance>'),e.put("condor/components/indicators/inheritanceIcon.html","<span class=\"cpa-icon text-blue-inherited\" ng-class=\"::{ \r\n        'cpa-icon-inheritance': vm.inheritanceLevel == null || vm.inheritanceLevel === 'Full' || vm.inheritanceLevel === 'InheritedOrDerived', \r\n        'cpa-icon-inheritance-partial': vm.inheritanceLevel === 'Partial' }\" ip-tooltip=\"{{:: vm.tooltip | translate }}\"> </span>"),e.put("condor/components/form/autocomplete-data-item.html",'<span ng-if="item[codeField] != null && item[codeField] !== \'\'"> <span ng-bind-html="item[codeField] | ipTypeaheadHighlight:searchValue"></span> </span>'),e.put("condor/components/form/autocomplete-item-code-desc.html",'<span ng-if="item[codeField] != null && item[codeField] !== \'\'"> <span>(</span> <span ng-bind-html="item[codeField] | ipTypeaheadHighlight:searchValue"></span> <span>) </span> </span> <span ng-bind-html="item[textField] | ipTypeaheadHighlight:searchValue"></span> '),e.put("condor/components/form/autocomplete-item-desc.html",'<span ng-bind-html="item[textField] | ipTypeaheadHighlight:searchValue"></span>'),e.put("condor/components/form/autocomplete-tmclass-code-desc.html",'<span>(</span> <span ng-bind-html="item.code | ipTypeaheadHighlight:searchValue"></span> <span>) </span> <span ng-bind-html="item.value | ipTypeaheadHighlight:searchValue"></span>'),e.put("condor/components/form/autocomplete.html",'<div ng-if="items != null &amp;&amp; items.length" class="autocomplete"> <ul class="suggestion-list" ng-mousedown="onClick();" ng-mouseup="onClickOff()"> <li class="suggestion-item" ng-repeat="item in items track by $index" ng-mousedown="onSelect({item:item});$event.preventDefault()" ng-class="{selected: item.$selected}"> <ng-include src="::itemTemplateUrl"></ng-include> </li> </ul> <div ng-if="total > items.length" class="suggestion-view-all"> <span>Showing {{items.length}} of {{total}} items,</span> <a href="#" ng-mousedown="onViewAll()">view more</a> </div> </div> <div ng-if="items != null &amp;&amp; !items.length" class="autocomplete"> <ul class="suggestion-list"> <li class="suggestion-item"> <i>No results found</i> </li> </ul> </div> '),e.put("condor/components/form/datepicker.html",'<div class="input-wrap date" data-ng-class="{ \'error\': showError() }"> <span class="date-content-wrap" data-ng-form="form"> <label data-ng-if="::label" for="ipDate{{::uid}}">{{::label | translate}}</label> <input type="text" id="ipDate{{::uid}}" name="datepicker" data-ng-class="{ \'saved\': isSaved, \'edited\': isDirty() && !isDisabled && !noEditState }" class="datepicker-input basic-addon-r-1" data-ng-model-options="{timezone: useLocalTimezone ? \'\' : \'utc\'}" data-uib-datepicker-popup="{{ picker.dateFormat }}" data-datepicker-options="picker.options" data-alt-input-formats="{{ picker.parseFormats }}" data-clear-text="{{::datepicker.clear | translate }}" data-close-text="{{::datepicker.close | translate }}" data-current-text="{{::datepicker.today | translate }}" data-show-button-bar="false" data-is-open="picker.opened" data-ng-model="date" data-ng-required="required" data-ng-readonly="readonly" data-ng-disabled="isDisabled" data-ng-blur="blur()" data-ng-change="onChange({selectedDate: date})"/> <span class="input-wrap-addon"> <button type="button" class="btn btn-default" data-ng-click="open($event)" data-ng-disabled="isDisabled || readonly"><i class="cpa cpa-icon-calendar"></i></button> </span> <span data-ng-if="showError()" class="input-action"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{getError() | translate:{date: errorDate} }}" tooltip-class="tooltip-error"></span> </span> </span> </div>'),e.put("condor/components/form/dropdown-operators.html",'<div class="input-wrap" ng-click="vm.ngModel.$setTouched()"> <label ng-if="::vm.label" translate="{{::vm.label}}" for="dropdown{{::vm.id}}"></label> <select ng-model="vm.model" ng-options="option.key as option.value for option in vm.options" id="dropdown{{::vm.id}}" ng-change="vm.change()" ng-disabled="vm.disabled"> </select> </div> '),e.put("condor/components/form/dropdown.html",'<div class="input-wrap" ng-class="{error: vm.ngModel.$invalid, warning: vm.ngModel.$valid && vm.warningText()}" ng-click="vm.ngModel.$setTouched()"> <label ng-if="::vm.label" translate="{{::vm.label}}" translate-values="{{vm.labelValue}}" for="dropdown{{::vm.id}}"></label> <select ng-model="vm.model" ng-options="{{vm.transform(vm.options)}}" ng-disabled="vm.disabled" ng-change="vm.change()" id="dropdown{{::vm.id}}"> <option ng-if="vm.optional" value="">{{vm.optionalValue | translate}}</option> </select> <span class="input-action tooltip-error"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{(vm.getError() || vm.errorText()) | translate }}" tooltip-class="tooltip-error"></span> </span> <span class="input-action tooltip-warning"> <span class="cpa-icon cpa-icon-exclamation-circle" uib-tooltip="{{vm.warningText() | translate }}" tooltip-class="tooltip-warning"></span> </span> </div> '),e.put("condor/components/form/grid-column-filter-datepicker.html",'<div class="input-wrap date" data-ng-class="{ \'error\': showError() }"> <span data-ng-form="form"> <input type="text" id="ipDate{{::$id}}" name="datepicker" class="datepicker-input basic-addon-r-1" data-ng-model-options="{timezone: useLocalTimezone ? \'\' : \'utc\'}" data-uib-datepicker-popup="{{ picker.dateFormat }}" data-datepicker-options="picker.options" data-alt-input-formats="{{ picker.parseFormats }}" data-clear-text="{{::datepicker.clear | translate }}" data-close-text="{{::datepicker.close | translate }}" data-current-text="{{::datepicker.today | translate }}" data-show-button-bar="false" data-is-open="picker.opened" data-ng-model="date" data-ng-blur="blur()"/> <span class="input-wrap-addon"> <button type="button" class="btn btn-default" data-ng-click="open($event)"><i class="cpa cpa-icon-calendar"></i></button> </span> </span> </div> '),e.put("condor/components/form/searchField.html",'<div class="input-wrap"> <input class="basic-addon-r-2" type="text" placeholder="Enter text to search" data-ng-model="value" data-on-enter="search()"/> <span class="input-wrap-addon"> <ip-icon-button class="btn-no-bg" button-icon="eraser" type="button" data-tooltip-placement="bottom" ip-tooltip="{{:: \'picklistmodal.clearItem\' | translate }}" data-ng-click="clear()" aria-label="search"></ip-icon-button> </span> <span class="input-wrap-addon"> <ip-icon-button class="btn-no-bg" button-icon="search" type="button" data-tooltip-placement="bottom" ip-tooltip="{{:: \'picklistmodal.searchItems\' | translate }}" ng-click="search()" aria-label="clear"></ip-icon-button> </span> </div> '),e.put("condor/components/form/sqlTextArea.html",'<div class="input-wrap" ng-class="{error: vm.ngModel.$invalid}" ng-click="vm.ngModel.$setTouched()"> <label ng-if="vm.label" translate="{{vm.label}}" for="textarea{{vm.id}}"></label> <textarea ui-codemirror="vm.codeMirrorOptions" type="text" ng-model="vm.model" ng-blur="vm.ngBlur()" ng-disabled="vm.disabled" ng-change="vm.change()" rows="{{vm.rows}}" id="textarea{{::vm.id}}" placeholder="{{:: vm.placeholder ? (vm.placeholder | translate) : \'\' }}">\r\n    </textarea> <span class="input-action tooltip-error"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{vm.getError() | translate:{ length: vm.maxLength } }}" tooltip-class="tooltip-error"></span> </span> </div>'),e.put("condor/components/form/textArea.html",'<div class="input-wrap" ng-class="{error: vm.ngModel.$invalid}" ng-click="vm.ngModel.$setTouched()"> <label ng-if="vm.label" translate="{{vm.label}}" for="textarea{{vm.id}}"></label> <textarea type="text" ng-model="vm.model" ng-blur="vm.ngBlur()" ng-disabled="vm.disabled" ng-change="vm.change()" rows="{{vm.rows}}" id="textarea{{::vm.id}}" placeholder="{{:: vm.placeholder ? (vm.placeholder | translate) : \'\' }}">\r\n    </textarea> <span class="input-action tooltip-error"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{vm.getError() | translate:{ length: vm.maxLength } }}" tooltip-class="tooltip-error"></span> </span> </div>'),e.put("condor/components/form/textDropdownGroup.html",'<div class="input-wrap" ng-class="{error: vm.ngModel.$invalid, warning: vm.ngModel.$valid && vm.warningText()}" ng-click="vm.ngModel.$setTouched()"> <label ng-if="::vm.label" translate="{{::vm.label}}"></label> <div class="col-xs-8 control-group"> <input type="text" class="col-xs-6" ng-model="vm.text" ng-disabled="vm.disabled || vm.textDisabled" ng-change="vm.change()"/> <select class="col-xs-6" ng-model="vm.option" ng-options="{{vm.transform(vm.options)}}" ng-disabled="vm.disabled" ng-change="vm.change()"> <option value=""></option> </select> </div> <span class="input-action tooltip-error"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{vm.getError() | translate }}" tooltip-class="tooltip-error"></span> </span> <span class="input-action tooltip-warning"> <span class="cpa-icon cpa-icon-exclamation-circle" uib-tooltip="{{vm.warningText() | translate }}" tooltip-class="tooltip-warning"></span> </span> </div> '),e.put("condor/components/form/textField.html",'<div class="input-wrap" ng-class="{error: vm.ngModel.$invalid, warning: vm.ngModel.$valid && vm.warningText()}" ng-click="vm.ngModel.$setTouched()"> <label ng-if="::vm.label" translate="{{vm.label}}" for="textfield{{::vm.id}}"></label> <input type="{{ vm.mask ? \'password\' : \'text\'}}" ng-blur="vm.ngBlur()" ng-model="vm.model" ng-disabled="vm.disabled" ng-change="vm.change()" ng-trim="{{vm.trim}}" id="textfield{{::vm.id}}" placeholder="{{:: vm.placeholder ? (vm.placeholder | translate) : \'\' }}"/> <span class="input-action tooltip-error"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{vm.getError() | translate:{ length: vm.maxLength, errorParam: vm.errorParam } }}" tooltip-class="tooltip-error"></span> </span> <span class="input-action tooltip-warning"> <span class="cpa-icon cpa-icon-exclamation-circle" uib-tooltip="{{vm.warningText() | translate }}" tooltip-class="tooltip-warning"></span> </span> </div>'),e.put("condor/components/form/typeahead-multiselect.html",'<div class="input-wrap" ng-class="{error: showError(), loading: state===\'loading\'}"> <label ng-if="::label" translate="{{::label}}"></label> <div class="typeahead-wrap multiselect"> <div class="tags" ng-class="{disabled:disabled}" tabindex="20" ng-keydown="onTagsKeydown($event)"> <div class="label-tag" ng-class="{selected: item.isTagSelected}" ng-repeat="item in getSelectedItems() track by $index" ng-click="onSelected($index)"> <span class="text" ng-class="{\'custom-class\': item[\'customClassTrigger\']}">{{item[tagField]}}</span> <a href="javascript:void(0)" ng-if="!disabled" class="remove" ng-click="removeItem(item);$event.stopPropagation()"> <span class="cpa-icon cpa-icon-times"></span> </a> </div> <input class="typeahead" ng-model="text" ng-disabled="disabled" ng-change="textChange()" ng-keydown="keydown($event)" ng-blur="blur($event)" id="typeahead{{::uid}}"/> </div> <ip-autocomplete data-items="results" data-total="total" data-search-value="text" data-on-view-all="openModal()" data-on-select="select(item)" data-on-click="onListClicked(true)" data-on-click-off="onListClicked(false)" id="typeahead{{::uid}}"> </ip-autocomplete> </div> <span class="input-wrap-addon" ng-if="!disabled"> <span class="btn btn-icon btn-no-bg" ng-click="$event.stopPropagation()" ng-mousedown="openModal(); $event.preventDefault()" ip-tooltip="{{::\'LookUp\' | translate}}"> <icon name="ellipsis-h"></icon> </span> </span> <span class="input-action"> <span class="cpa-icon loading-circle"></span> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{getError() | translate }}" tooltip-class="tooltip-error"></span> </span> </div> '),e.put("condor/components/form/typeahead.html",'<div class="input-wrap" ng-class="{error: showError(), loading: state===\'loading\'}"> <label ng-if="::label" translate="{{label}}" for="typeahead{{::uid}}"></label> <div class="typeahead-wrap"> <input class="typeahead basic-addon-r-1" placeholder="{{:: placeholder ? (placeholder | translate) : \'\' }}" ng-model="text" ng-disabled="disabled" ng-change="textChange()" ng-keydown="keydown($event)" ng-blur="blur($event)" id="typeahead{{::uid}}"> <ip-autocomplete data-items="results" data-total="total" data-search-value="text" data-on-view-all="openModal()" data-on-select="select(item)" data-on-click="onListClicked(true)" data-on-click-off="onListClicked(false)" id="typeahead{{::uid}}"> </ip-autocomplete> </div> <span class="input-wrap-addon" ng-if="!disabled"> <span class="btn btn-icon btn-no-bg" ng-click="$event.stopPropagation()" ng-mousedown="openModal();$event.preventDefault()" ip-tooltip="{{::\'LookUp\' | translate}}"> <icon name="ellipsis-h"></icon> </span> </span> <span class="input-action"> <span class="cpa-icon loading-circle"></span> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{getError() | translate }}" tooltip-class="tooltip-error"></span> </span> </div> '),e.put("condor/components/menu/duedate-modal.html",'<dng-due-date-search [existing-form-data]="existingFormData" [has-due-date-column]="hasDueDateColumn" [has-all-date-column]="hasAllDateColumn" [importance-level-options]="importanceLevelOptions" (search-record)="getSearchRecord($event)"></dng-due-date-search> '),e.put("condor/components/menu/menu-item-content.html",'<div class="col-sm-2" ng-if="vm.isIconDisplayed();"> <span class="cpa-icon no-color cpa-icon-lg {{vm.iconName}}"></span> </div> <div ng-class="{\'col-sm-10\': vm.isIconDisplayed(), \'col-sm-12\': !vm.isIconDisplayed()}"> <span class="nav-label" ng-show="vm.expanded">{{vm.text | translate}}</span> </div>'),e.put("condor/components/menu/menu-item.html",'<div class="menu-item row"> <div ng-if="vm.type !==\'searchPanel\'" ip-tooltip="{{ vm.expanded ? \'\' : vm.text | translate}}" data-tooltip-placement="auto top"> <a ng-href="{{vm.queryKey ? \'\' : vm.url}}" ng-click="vm.loadUrl(vm.url, vm.queryKey, $event)" id="{{vm.text}}" target="{{vm.target}}" ng-if="vm.url" class="no-color col-sm-11" ng-mouseover="vm.menuHover(vm.queryKey)" ng-mouseout="vm.menuHoverOut(vm.queryKey)"> <div ng-if="!vm.queryContextKey" ng-include="\'condor/components/menu/menu-item-content.html\'"></div> <div ng-if="vm.queryContextKey" ng-include="\'condor/components/menu/saved-search-menu-item.html\'"></div> </a> <div ng-if="vm.queryContextKey" class="col-sm-1 edit-menu"> <div ip-tooltip="{{\'savedSearch.editSavedSearch\' | translate}}" tooltip-trigger="none" tooltip-is-open="vm.editTogglePopOver" data-tooltip-placement="top"> <a data-ng-class="{\'disabled tooltip-wrap\' : !vm.IsEditable()}" ng-click="vm.editSearch(vm.queryKey, $event)"> <span class="cpa-icon cpa-icon-edit"></span> </a> </div> </div> <div ng-include="\'condor/components/menu/menu-item-content.html\'" ng-if="!vm.url" class="virtual-btn"></div> </div> <div ng-if="vm.type===\'searchPanel\'"> <span ng-click="vm.showSavedSearchMenu(true, $event, true)" ip-tooltip="{{ vm.expanded ? \'\' : vm.text | translate}}" data-tooltip-placement="auto top"> <div ng-include="\'condor/components/menu/menu-item-content.html\'" class="virtual-btn"></div> </span> <div id="{{\'search\' + vm.queryContextKey}}" class="saved-search-menu" style="display: none"> <saved-search-panel text="{{vm.text}}" url="{{vm.url}}" load-url="vm.editSearch()" icon-name="{{vm.iconName}}" query-context-key="{{vm.queryContextKey}}" child-comp-obj="vm.childCompObj"></saved-search-panel> </div> </div> </div>'),
e.put("condor/components/menu/saved-search-menu-item.html",'<div class="col-sm-2" ng-if="vm.isIconDisplayed();"> <span class="cpa-icon no-color cpa-icon-lg {{vm.iconName}}"></span> </div> <div ng-class="{\'col-sm-10\': vm.isIconDisplayed(), \'col-sm-12\': !vm.isIconDisplayed()}"> <div uib-popover="{{vm.tooltip}}" popover-trigger="none" popover-is-open="vm.togglePopOver" popover-class="popover-leftmargin" popover-placement="right"> <span class="nav-label text-elipses" ng-show="vm.expanded">{{vm.text | translate}}</span> </div> </div> '),e.put("condor/components/login/login.html",'<style> .login-loading-info {\r\n    position: absolute;\r\n    left: 39.25%;\r\n    top: 35%;\r\n    z-index: 1000;\r\n}\r\n\r\n.loader {\r\n    display: flex;\r\n    flex-direction: row;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin: 30px 0;\r\n}\r\n\r\n.spinner {\r\n    width: 100px;\r\n    height: 100px;\r\n    display: inline-block;\r\n    border-radius: 50%;\r\n    border-top-left-radius: 0;\r\n    overflow: hidden;\r\n    margin-right: 10px;\r\n}\r\n\r\n.spinner .pie {\r\n    width: 50%;\r\n    height: 50%;\r\n    float: left;\r\n    display: block;\r\n    animation: colorchange .8s infinite;\r\n}\r\n\r\n.pie.delay-1 {\r\n    animation-delay: 0.1s;\r\n}\r\n\r\n.pie.delay-2 {\r\n    animation-delay: 0.2s;\r\n}\r\n\r\n.pie.delay-3 {\r\n    animation-delay: 0.3s;\r\n}\r\n\r\n@keyframes colorchange {\r\n    0% {\r\n        background: #bf1822;\r\n    }\r\n    50% {\r\n        background: white;\r\n    }\r\n} </style> <div id="confirmModal"> <div ng-if="autoLogin"> <div class="modal-header"> <h2 class="modal-title" translate="authentication.checkingSession"></h2> </div> <div class="modal-body"> <h3 style="margin-top:0" ng-if="error" translate="{{error}}" translate-values="{param:errorParam}"></h3> <div class="loader" ng-if="!error"> <span class="spinner"> <div class="pie"></div> <div class="pie delay-1"></div> <div class="pie delay-3"></div> <div class="pie delay-2"></div> </span> </div> <div class="modal-footer" ng-if="error"> <hr/> <a href="api/signout"> <button type="button" class="btn btn-cancel" translate="authentication.backButton" ng-click="cancel()"> </button></a> </div> </div> </div> <div ng-if="!autoLogin"> <div class="modal-header"> <h2 class="modal-title" translate="authentication.sessionTimeout"></h2> </div> <div class="modal-body"> <h3 style="margin-top:0" translate="authentication.heading"></h3> <hr> <form name="form.loginForm" novalidate> <div class="input-wrap readonly-label-value"> <label translate="Username" class="ng-scope"></label> <span ng-bind="::credentials.username"></span> </div> <div class="input-wrap required" ng-class="{error: (form.loginForm.password.$invalid && form.loginForm.password.$touched) || credentials.invalidPassword}"> <label translate="Password"></label> <input ip-autofocus type="password" ng-model="credentials.password" name="password" required ng-change="credentials.invalidPassword=false"/> <span class="input-action tooltip-error" ip-tooltip="{{ (credentials.invalidPassword ? \'field.errors.invalidpassword\' : \'field.errors.required\') | translate }}"> <icon name="exclamation-triangle"></icon> </span> </div> <div class="modal-footer"> <button type="button" class="btn btn-cancel" translate="Cancel" ng-click="cancel()"></button> <button type="button" class="btn btn-primary" translate="LogIn" ng-disabled="form.loginForm.$invalid" ng-click="submit()"></button> </div> </form> </div> </div> </div> '),e.put("condor/components/modalservice/maintenance-modal-header.html",'<div class="modal-header" ip-confirm-before-page-change="vm.hasUnsavedChanges()" data-confirm-message="{{::\'ConfirmLeaveUnsavedChanges\' | translate}}"> <h2 class="modal-title" translate="{{:: vm.pageTitle}}"></h2> <div class="modal-header-controls"> <ip-checkbox ng-if=":: !vm.isEditMode" label="{{ \'modal.addAnother\' | translate}}" ng-model="vm.isAddAnother"></ip-checkbox> <ip-save-button ng-if="showSave" disabled="disabled" ng-disabled="!vm.isApplyEnabled()" ng-click="vm.onApply()"> </ip-save-button> <ip-apply-button ng-if="showApply" disabled="disabled" ng-disabled="!vm.isApplyEnabled()" ng-click="vm.onApply()"> </ip-apply-button> <ip-close-button data-ng-click="vm.doClose()"></ip-close-button> </div> </div> '),e.put("condor/components/modalservice/modal-nav.html",'<div class="modal-nav"> <div class="pull-right"> <button disabled="disabled" ng-disabled="vm.isFirstDisabled" ng-click="vm.first()" ip-tooltip="{{:: \'skipToFirst\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-angle-double-left"></span> </button> <button disabled="disabled" ng-disabled="vm.isPrevDisabled" ng-click="vm.prev()" ip-tooltip="{{:: \'Previous\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-chevron-circle-left"></span> </button> <span>{{vm.currentIndex}}</span> <span translate="of"></span> <span>{{vm.totalCount}}</span> <button disabled="disabled" ng-disabled="vm.isNextDisabled" ng-click="vm.next()" ip-tooltip="{{:: \'Next\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-chevron-circle-right"></span> </button> <button disabled="disabled" ng-disabled="vm.isLastDisabled" ng-click="vm.last()" ip-tooltip="{{:: \'skipToLast\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-angle-double-right"></span> </button> </div> </div>'),e.put("condor/components/multistepsearch/wizard.html",'<div class="multistep-wizard"> <div id="wizard" class="wizard" ng-if="vm.multistepMode"> <h3 translate="MultiStepWizard.header"></h3> <button id="btn-prev" type="button" class="btn-prev" ng-if="vm.allowNavigation" ng-click="vm.navigate(-1)" ng-disabled="vm.isScrolling"> <span aria-hidden="true" class="cpa-icon cpa-icon-lg cpa-icon-chevron-left"></span> </button> <div id="wizard-header" class="wizard-header"> <ul class="steps-indicator"> <li class="first" ng-class="{current: vm.steps[0].selected}"> <ip-step-button id="step_0" ng-click="vm.goTo(vm.steps[0], false)" step-no="1" data-default="vm.steps[0].isDefault"></ip-step-button> <a class="btn-remove" ng-if="vm.steps[0].selected && vm.steps.length > 1" ng-click="vm.removeStep(vm.steps[0])">X</a> </li> <li ng-class="{step, default: !step.selected, current: step.selected}" ng-repeat="step in vm.steps track by $index" data-tooltip-placement="bottom" ip-tooltip="{{::\'Step\' | translate }}" ng-if="$index>0"> <ip-dropdown required name="stepOperator" ng-show="{{!step.isDefault}}" class="col-sm-4" item-width="5%" ng-model="step.operator" options="option for option in vm.operators" ng-change="vm.onOperatorChange($index)"> </ip-dropdown> <ip-step-button id="step_{{$index}}" ng-click="vm.goTo(step, false)" step-no="($index + 1)" data-default="step.isDefault"></ip-step-button> <a class="btn-remove" ng-if="step.selected && vm.steps.length > 1" ng-click="vm.removeStep(step)">X</a> </li> <li class="add"> <ip-add-button ng-click="vm.addStep()" class="pull-right"></ip-add-button> </li> </ul> </div> <button id="btn-next" type="button" class="btn-next" ng-if="vm.allowNavigation" ng-click="vm.navigate(1)" ng-disabled="vm.isScrolling"> <span aria-hidden="true" class="cpa-icon cpa-icon-lg cpa-icon-chevron-right"></span> </button> </div> <div class="steps"> <ip-topics data-options="vm.options" type="simpleRestrictWidth"> <ip-topics-header> </ip-topics-header> </ip-topics> </div> </div>'),e.put("condor/components/notification/ieRequired.html",'<div id="alertModal"> <div class="modal-header"> <h2 class="modal-title" id="modalErrorLabel" translate="modal.iePopup.header"></h2> </div> <div class="modal-body"> <p translate="modal.iePopup.message"></p> <p> <span>{{vm.options.url}}</span> <span style="cursor:pointer;margin-left: 15px" class="cpa-icon cpa-icon-file-stack-o" name="file-stack-o" ip-tooltip="{{ vm.copyStatus | translate }}" ng-click="vm.copyUrl()"></span> </p> </div> <div class="modal-footer"> <button type="button" class="btn" name="cancel" data-dismiss="modal" data-ng-click="vm.cancel()" translate="button.ok"></button> </div> </div>'),e.put("condor/components/page/detail-page-nav.html",'<div ng-if="vm.visible" class="pull-right"> <button ng-disabled="vm.firstId === null" ng-click="vm.navigate(vm.firstId)" ip-tooltip="{{:: \'skipToFirst\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-angle-double-left"></span> </button> <button ng-disabled="vm.prevId === null" ng-click="vm.navigate(vm.prevId)" ip-tooltip="{{:: \'Previous\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-chevron-circle-left"></span> </button> <span name="current">{{vm.current}}</span> <span translate="of"></span> <span name="total">{{vm.total}}</span> <button ng-disabled="!vm.canFetchNext && vm.nextId == null" ng-click="vm.navigate(vm.nextId)" ip-tooltip="{{:: \'Next\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-chevron-circle-right"></span> </button> <button ng-disabled="vm.lastId === null" ng-click="vm.navigate(vm.lastId)" ip-tooltip="{{:: \'skipToLast\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-angle-double-right"></span> </button> </div>'),e.put("condor/components/panel/collapsible-panel.html",'<div id="primary-nav"> <div class="navigation fixed"> <div class="container-fluid menu-container" ng-transclude> </div> <div class="pin-menu"> <a ng-click="vm.togglePinned()"> <span class="cpa-icon cpa-icon-skip-to-last no-color" name="thumb-tack" ng-if="!vm.pinned"></span> <span class="cpa-icon cpa-icon-skip-to-first no-color" name="thumb-tack-pushed" ng-if="vm.pinned"></span> </a> </div> </div> </div>'),e.put("condor/components/searchoptions/header.html",'<div class="search-options search-options-header"> <div class="heading"> <h5 translate="searchOptions"></h5> <a class="btn btn-icon btn-no-bg" role="button" ng-click="toggleCollapse()"> <div data-tooltip-placement="left" ip-tooltip="{{:: \'collapseExpand\' | translate}}"> <icon name="chevron-up"></icon> </div> </a> </div> </div>'),e.put("condor/components/searchoptions/searchoptions.html",'<div class="search-options"> <form ng-submit="doSearch()" class="collapse in" id="searchBody"> <ng-transclude></ng-transclude> <div class="controls"> <button type="button" id="search-options-clear-btn" class="btn btn-icon" ip-tooltip="{{:: \'Clear\' | translate}}" ng-click="onClear(); setFocus()" ng-disabled="isResetDisabled()" tabindex="-1"> <icon name="eraser"></icon> </button> <button type="submit" id="search-options-search-btn" ng-mousedown="onValidate()" class="btn btn-icon" ip-tooltip="{{:: \'Search\' | translate}}" ng-disabled="isSearchDisabled()" aria-label="{{:: \'Search\' | translate }}"> <icon name="search"></icon> </button> </div> </form> </div> '),e.put("condor/components/sort/sort.html",'<a class="k-link" ng-click="onClick()"> <span ng-transclude></span> <span class="k-icon col-sortable"></span><span ng-class="{\'k-icon\' : by === (value.order), \'k-i-arrow-n\' : by === (value.order) && !(value.reverse), \'k-i-arrow-s\' : by === (value.order) && (value.reverse)}"></span> </a> '),e.put("condor/components/savedSearchPanel/saved-search-panel.html",'<div id="secondary-nav-container"> <div class="navigation fixed"> <div class="container-fluid menu-container"> <div class="saved-searches">{{\'savedSearch.caseSearch\' | translate}}</div> <div class="li-sub-section"> <a ng-click="vm.loadUrl({ url: vm.url, event: $event })" class="no-color text-center"> <div class="row"> <span class="btn-advance-search"> <span class="cpa-icon no-color cpa-icon-2x {{vm.iconName}}"></span> </span> </div> <div id="searchlink"> {{\'savedSearch.caseSearchBuilder\' | translate}} </div> </a> </div> <div class="saved-searches">{{\'savedSearch.savedSearches\' | translate}}</div> <div id="secondary-nav"> <ul style="width:100%"> <li ng-repeat="item in vm.menuDetails" ng-if="item.items === null" class="k-item"> <label class="k-link sub-menu" name="li-{{item.key}}"> <menu-item url="{{item.url}}" type="{{item.type}}" icon-name="{{item.icon}}" text="{{item.text}}" expanded="true" title="{{item.description}}" query-context-key="{{vm.queryContextKey}}" can-edit="{{item.canEdit}}" query-key="{{item.key}}"></menu-item> </label> </li> <li ng-repeat="item in vm.menuDetails" ng-if="item.items !== null" class="k-item"> <label id="{{item.text}}" ng-click="item.showItems = !item.showItems" class="k-link group-menu" uib-popover="{{item.description | translate}}"> {{item.text | translate }} <span ng-show="!item.showItems" class="pull-right cpa-icon no-color cpa-icon-chevron-down"></span> <span ng-show="item.showItems" class="pull-right cpa-icon no-color cpa-icon-chevron-up"></span> </label> <ul ng-if="item.showItems" style="width:100%"> <li ng-repeat="i in item.items" class="k-item"> <label class="k-link sub-menu" name="li-{{i.key}}"> <menu-item url="{{i.url}}" type="{{i.type}}" icon-name="{{i.icon}}" text="{{i.text}}" expanded="true" title="{{i.description}}" query-context-key="{{vm.queryContextKey}}" can-edit="{{i.canEdit}}" query-key="{{i.key}}"></menu-item> </label> </li> </ul> </li> </ul> </div> <div class="quick-search-wrap"> <input id="fiterSavedSearch" type="text" ng-model="vm.filter" placeholder="{{\'savedSearch.filter\' | translate}}" ng-change="vm.getFilteredData()" ng-keydown="$event.keyCode === 13 && vm.runSearch($event);"/> </div> </div> </div> </div>'),e.put("condor/components/tooltip/hoverHelp.html",'<span ng-if="content || title" ng-transclude class="inline-dialog" ng-class="{\'ip-hover-help\' : content}" uib-popover-template="::template" popover-title="{{title}}" uib-popover="{{content}}" popover-placement="{{::placement}}"> </span> <span ng-if="!content && !title" ng-transclude></span>'),e.put("condor/components/tooltip/inlineDialog.html",'<span class="inline-dialog" uib-popover-template="::template" popover-class="{{::popoverClass}}" popover-title="{{::title}}" uib-popover="{{content}}" popover-placement="{{::placement}}"> <icon large name="inline-help"></icon> </span>'),e.put("condor/components/typeahead/multiselect-autocomplete-add.html",'<div> <div ng-if="data.addTagLabel" class="btn btn-icon btn-no-bg"> <icon name="plus-circle"></icon> </div> <span ng-bind-html="$highlight($getDisplayText())"></span> <span ng-if="data.addTagLabel">({{data.addTagLabel | translate}})</span> </div> '),e.put("condor/components/typeahead/multiselect-input.html",'<div class="host" tabindex="-1" ng-click="eventHandlers.host.click()" ti-transclude-append> <div class="tags"> <ul class="label-inline"> <li class="label-tag" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }" ng-click="eventHandlers.tag.click(tag)"> <ti-tag-item data="::tag"></ti-tag-item> </li> </ul> <input class="input" autocomplete="off" ng-model="newTag.text" ng-model-options="{getterSetter: true}" ng-keydown="eventHandlers.input.keydown($event)" ng-focus="eventHandlers.input.focus($event)" ng-blur="eventHandlers.input.blur($event)" ng-paste="eventHandlers.input.paste($event)" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ng-disabled="disabled" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex, spellcheck: options.spellcheck}" ti-autosize> </div> </div> <span class="input-wrap-addon dropdown-button"> <a href="javascript:void(0)" tabindex="-1" data-ng-click="eventHandlers.dropdown.click()"> <icon name="chevron-down"></icon> </a> </span>'),e.put("condor/components/typeahead/multiselect-tag.html",'<span ng-bind="$getDisplayText()" class="text"></span> <a class="remove" href="javascript:void(0)" ng-click="$removeTag()"> <icon name="times"></icon> </a> '),e.put("condor/components/typeahead/multiselect.html",'<div ng-class="{error: hasError, edited: isEdited, saved: isSaved}"> <tags-input class="typeahead-multi-select" ng-model="items" display-property="{{::displayProperty}}" key-property="{{::keyProperty}}" on-tag-adding="addTag($tag)" add-from-autocomplete-only="true" placeholder="{{::placeholder | translate}}" min-length="1" allow-leftover-text="true" text="text" data-init-events="initInputEvents($events)" template="{{::tagTemplate}}" replace-spaces-with-dashes="false" input-template="condor/components/typeahead/multiselect-input.html" on-tag-removed="tagRemoved($tag)" on-tag-added="tagAdded($tag)" data-disabled="{{disabled}}" autofocus="{{::autofocus}}" ng-required="{{::required}}"> <auto-complete source="loadItems($query)" template="{{::autocompleteTemplate}}" min-length="1" debounce-delay="600" load-on-down-arrow="true" select-first-match="false" max-results-to-show="{{::maxResultCount}}" data-init-events="initAutocompleteEvents($events)" show-on-blur="true"></auto-complete> </tags-input> <span ng-show="showLoadingSpinner()" class="loading-icon loading-circle"></span> <span class="error-icon input-action tooltip-error" data-tooltip-placement="auto right" ip-tooltip="{{::\'invalidValue\' | translate}}" ng-show="hasError"> <icon name="exclamation-triangle error-icon-position"></icon> </span> </div> '),e.put("condor/configuration/search/configuration.item.maintenance.html",'<style> .input-wrap.readonly-label-value div {\r\n        vertical-align: middle !important;\r\n        line-height: 25px;\r\n        display: flex;\r\n    } </style> <div ng-form="vm.form" ip-form> <div class="modal-header"> <h2 class="modal-title"> <div translate="configurations.maintenance.title"></div> </h2> <div class="modal-header-controls"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.form)"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEditState()" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div class="input-wrap readonly-label-value"> <label translate="configurations.maintenance.name"></label> <span name="configuration-name">{{vm.entity.name}}</span> </div> </div> <div class="row"> <div class="input-wrap readonly-label-value"> <label translate="configurations.maintenance.description"></label> <div name="configuration-description">{{vm.entity.description}}</div> </div> </div> <div class="row"> <div class="input-wrap readonly-label-value"> <label translate="configurations.maintenance.components"></label> <span name="configuration-components">{{vm.entity.components}}</span> </div> </div> <div class="row"> <ip-typeahead name="tags" data-multiselect data-label="configurations.maintenance.tags" data-key-field="key" data-text-field="tagName" data-api-url="api/configuration/tags" data-picklist-display-name="Tags" data-config="tags" data-picklist-can-maintain="true" data-show-add="true" add-url="api/configuration/tags" data-picklist-columns="[{title:\'Tag Name\', field:\'tagName\'}]" ng-model="vm.entity.tags" ng-class="{edited: vm.form.tags.$dirty}" ip-autofocus="true"> </ip-typeahead> </div> </div> </div>'),e.put("condor/configuration/search/index.html",'<style> .k-master-row td {\r\n        word-break: break-word;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="configurations.title"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.resetOptions()" is-search-disabled="vm.isSearchDisabled()" on-search="vm.search()"> <div class="container-fluid"> <div class="row"> <div class="col-sm-4"> <div class="input-wrap"> <input type="text" placeholder="{{:: \'EnterTextToSearch\' | translate }}" ng-model="vm.searchCriteria.text" ip-autofocus> </div> </div> <div class="col-sm-8" ng-form="vm.form" ip-form> <ip-typeahead class="col-sm-6" name="components" data-multiselect data-label="configurations.components" data-key-field="id" data-text-field="componentName" data-api-url="api/configuration/components" data-picklist-display-name="Components" data-picklist-columns="[{title:\'Component Name\', field:\'componentName\'}]" ng-model="vm.searchCriteria.components"> </ip-typeahead> <ip-typeahead class="col-sm-6" data-ng-show="vm.canUpdate" name="tags" data-multiselect data-label="configurations.tags" data-key-field="key" data-text-field="tagName" data-api-url="api/configuration/tagslist" data-picklist-display-name="Tags" data-config="tags" data-picklist-can-maintain="true" data-show-add="false" data-picklist-columns="[{title:\'Tag Name\', field:\'tagName\'}]" ng-model="vm.searchCriteria.tags"> </ip-typeahead> </div> </div> </div> </ip-search-options> <div class="table-container"> <div class="table-title"> <h2 translate="configurations.summary"></h2> </div> <div> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions" data-search-hint="{{ :: \'configurations.resultsFound\' | translate }}"></ip-kendo-search-grid> </div> </div> </div>'),e.put("condor/dev/datepicker/datepicker.html",'<ip-sticky-header> <ip-page-title page-title="Date Picker Examples"></ip-page-title> </ip-sticky-header> <div kendo-splitter> <div>A</div> <div>B</div> </div> <div class="container-fluid"> <h2>Date Picker</h2> <div class="row" ng-form="vm.formEmpty"> <ip-datepicker name="empty" label="Empty" ng-model="vm.empty.date" class="col-sm-6"></ip-datepicker> <div class="col-sm-4 col-sm-offset-2"> <pre> {{ { model: vm.empty } | json}} </pre> </div> </div> <hr/> <div class="row"> <ip-datepicker label="Default to Today" ng-model="vm.initialised.date" class="col-sm-6"></ip-datepicker> <div class="col-sm-4 col-sm-offset-2"> <pre> {{vm.initialised | json}} </pre> </div> </div> <hr/> <div class="row"> <ip-datepicker label="Disabled" ng-model="vm.disabled.date" is-disabled="vm.disabled.isDisabled" class="col-sm-6"></ip-datepicker> <div class="col-sm-2"> <label> <input type="checkbox" ng-model="vm.disabled.isDisabled"/> <span>Disabled</span> </label> </div> </div> <hr/> <div class="row"> <ip-datepicker label="Readonly" ng-model="vm.readonly.date" readonly="vm.readonly.isReadOnly" class="col-sm-6"></ip-datepicker> <div class="col-sm-2"> <label> <input type="checkbox" ng-model="vm.readonly.isReadOnly"/> <span>Read Only</span> </label> </div> </div> <hr/> <div class="row" ng-form="vm.form0"> <ip-datepicker name="required" label="Required" ng-model="vm.required.date" class="col-sm-6" required></ip-datepicker> </div> <hr/> <div class="row" ng-form="vm.form2"> <ip-datepicker name="external" label="Form" ng-model="vm.external.date" class="col-sm-6"></ip-datepicker> <div class="col-sm-2"> <button ng-click="vm.form2.external.$setValidity(\'random\', false)">Add error</button> <button ng-click="vm.form2.external.$reset()">Reset</button> </div> <div class="col-sm-4"> <pre> {{ { model: vm.external, errors: vm.form2.external.$error } | json}} </pre> </div> </div> <hr/> <div class="row"> <ip-datepicker label="Saved" ng-model="vm.saved.date" class="col-sm-6 saved"></ip-datepicker> </div> <hr/> <div class="row"> <ip-datepicker label="Edited" ng-model="vm.modified.date" class="col-sm-6 edited"></ip-datepicker> </div> <hr/> <div class="row"> <ip-datepicker label="No Edit State" ng-model="vm.modified.date" class="col-sm-6" no-edit-state="true"></ip-datepicker> </div> </div>'),e.put("condor/dev/barchart/barchart.html",'<ip-page-title page-title="Bar Chart Example"></ip-page-title> <div class="row"> <div class="col-sm-6"> <div class="chart-wrap" style="position: relative;"> <kendo-chart kendo-chart-resize id="chart" k-options="vm.chartOptions" k-rebind="vm.theme"> </kendo-chart> <div class="chart-loading"></div> </div> <div class="row" style="text-align:center"> <button ng-click="vm.chartOptions.refreshData()">Refresh</button> <button ng-click="vm.changeTheme()">Change Theme</button> </div> </div> <vr/> <div class="col-sm-6"> <h2>Features <ul> <li>Displays load icon while fetching data</li> <li>Color theme can be changed. Current one is hard coded. However, it should ideally be getting picked from design guide</li> <li>All the text on graph - title, axis names, series names can be translated</li> <li>Tooltip displayed on hover of each column</li> <li>On window resize graph is resized accordingly</li> </ul> <br> Note: The colour theme, change theme and refresh button are demonstration purpose only. The latency is added while getting data. </h2></div> </div> '),e.put("condor/dev/form/index.html",'<ip-page-title page-title="Form Controls Examples"></ip-page-title> <h1>Text Dropdown Group</h1> <div ng-form="vm.form" ip-form> <div class="row"> <ip-text-dropdown-group required ip-data-type="integer" ng-model="vm.model1" label="Example 1" options="item.value as item.name for item in vm.options" class="col-sm-6" is-text-disabled="vm.isTextDisabled"></ip-text-dropdown-group> <div class="col-sm-6">{{vm.model1 | json}}</div> </div> <div class="row"> <ip-text-dropdown-group required ng-model="vm.model2" label="Example 2" class="col-sm-6" options="item.name for item in vm.options"></ip-text-dropdown-group> <div class="col-sm-6">{{vm.model2 | json}}</div> </div> <div class="row"> <ip-text-dropdown-group label="Example 3" class="col-sm-6" options="item.name for item in vm.options" disabled="{{vm.isDisabled}}"></ip-text-dropdown-group> <div class="col-sm-6"> <label> <input ng-model="vm.isDisabled" type="checkbox"/>Disabled</label> </div> </div> <div class="row"> <ip-text-dropdown-group label="Example 4" class="col-sm-6 edited" options="item.name for item in vm.options"></ip-text-dropdown-group> </div> <div class="row"> <ip-text-dropdown-group label="Example 5" class="col-sm-6 saved" options="item.name for item in vm.options"></ip-text-dropdown-group> </div> <div class="row"> <ip-text-dropdown-group label="Warning" class="col-sm-6 saved" options="item.name for item in vm.options" ng-model="vm.model1" warning-text="vm.getWarningText()"> </ip-text-dropdown-group> </div> </div> <h1>Dropdown</h1> <div> <div class="row"> <ip-dropdown ng-model="vm.dd.model1" label="Example 1" options="item.value as item.name for item in vm.options" class="col-sm-6"></ip-dropdown> <div class="col-sm-6">{{vm.dd.model1 | json}}</div> </div> <div ng-form="vm.dd.form" ip-form class="row"> <ip-dropdown ip-required ng-model="vm.dd.model2" label="Example 2" class="col-sm-6" options="item.value as item.name for item in vm.options"></ip-dropdown> <div class="col-sm-1"> <div class="input-wrap"> <button ng-click="vm.dd.form.$validate()">Validate</button> <button ng-click="vm.dd.form.$reset()">Reset</button> </div> </div> <div class="col-sm-3"> {{vm.dd.model2 | json}} </div> </div> <div class="row"> <ip-dropdown label="Example 3" class="col-sm-6" options="item.value as item.name for item in vm.options" ng-disabled="vm.dd.disabled"></ip-dropdown> <div class="col-sm-6"> <label> <input ng-model="vm.dd.disabled" type="checkbox"/> <span>Disabled</span> </label> </div> </div> <div class="row"> <ip-dropdown label="Example 4" class="col-sm-6 edited" options="item.value as item.name for item in vm.options"></ip-dropdown> </div> <div class="row"> <ip-dropdown label="Example 5" class="col-sm-6 saved" options="item.value as item.name for item in vm.options"></ip-dropdown> </div> <div class="row"> <ip-dropdown label="Warning" class="col-sm-6" options="item.value as item.name for item in vm.options" ng-model="vm.dd.model1" warning-text="vm.getWarningText()"> </ip-dropdown> </div> </div> <h1>Checkboxes &amp; Radio Buttons </h1> <div class="row"> <div class="col-sm-6"> <ip-checkbox label="Option 1" ng-model="vm.checkbox1"></ip-checkbox> <ip-checkbox label="Option 2" ng-model="vm.checkbox2"></ip-checkbox> <ip-checkbox label="Option 3" ng-model="vm.checkbox3" disabled="disabled"></ip-checkbox> </div> <div class="col-sm-6"> {{vm.checkbox1 | json}} {{vm.checkbox2 | json}} {{vm.checkbox3 | json}} </div> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap-group group-inline"> <ip-radio-button label="Option 1" ng-value="true" ng-model="vm.radio1"></ip-radio-button> <ip-radio-button label="Option 2" ng-value="false" ng-model="vm.radio1"></ip-radio-button> <ip-radio-button label="Option 3" ng-model="vm.radio1" disabled="disabled"></ip-radio-button> </div> </div> <div class="col-sm-6"> {{vm.radio1 | json}} </div> </div> <h1>Text Fields</h1> <div class="row" ng-form="vm.form1"> <div class="col-sm-3"> <ip-text-field name="textfield1" label="Example 1" ng-model="vm.textfield1" ng-class="{edited: vm.form1.textfield1.$dirty}"></ip-text-field> </div> <div class="col-sm-3"> {{vm.textfield1 | json}} </div> </div> <div class="row" ng-form="vm.form2" ip-form> <div class="col-sm-3"> <ip-text-field name="textfield2" label="Example 2" ng-model="vm.textfield2" required></ip-text-field> </div> <div class="col-sm-1"> <div class="input-wrap"> <button ng-click="vm.form2.$validate()">Validate</button> <button ng-click="vm.form2.$reset()">Reset</button> </div> </div> <div class="col-sm-3"> {{vm.textfield2 | json}} </div> </div> <div class="row" ng-form="vm.form3" ip-form> <div class="col-sm-3"> <ip-text-field name="textfield2" label="Example 3" ng-model="vm.textfield3" ip-required class="saved"></ip-text-field> </div> <div class="col-sm-1"> <div class="input-wrap"> <button ng-click="vm.form3.$validate()">Validate</button> <button ng-click="vm.form3.$reset()">Reset</button> </div> </div> <div class="col-sm-3"> {{vm.textfield3 | json}} </div> </div> <div class="row"> <div class="col-sm-3"> <ip-text-field label="Example 4" ng-disabled="vm.isDisabled2"></ip-text-field> </div> <div class="col-sm-3"> <ip-checkbox label="Disabled" ng-model="vm.isDisabled2"></ip-checkbox> </div> </div> <div class="row"> <div class="col-sm-3"> <ip-text-field multiline name="textfield1" label="Example 5" ng-model="vm.textfield5" class="saved"></ip-text-field> </div> <div class="col-sm-3"> {{vm.textfield5 | json}} </div> </div> <div class="row" ng-form="vm.form4" ip-form> <div class="col-sm-3"> <ip-text-field multiline name="textfield2" label="Example 6" ng-model="vm.textfield6" required></ip-text-field> </div> <div class="col-sm-1"> <div class="input-wrap"> <button ng-click="vm.form4.$validate()">Validate</button> <button ng-click="vm.form4.$reset()">Reset</button> </div> </div> <div class="col-sm-3"> {{vm.textfield6 | json}} </div> </div> <div class="row" ng-form="vm.form5" ip-form> <div class="col-sm-3"> <ip-text-field multiline name="textfield7" label="Example 7" ng-model="vm.textfield7" ip-required class="edited"></ip-text-field> </div> <div class="col-sm-1"> <div class="input-wrap"> <button ng-click="vm.form5.$validate()">Validate</button> <button ng-click="vm.form5.$reset()">Reset</button> </div> </div> <div class="col-sm-3"> {{vm.textfield7 | json}} </div> </div> <div class="row"> <div class="col-sm-3"> <ip-text-field name="textfield8" label="Example 9" ng-model="vm.textfield8" ip-field-error="{{vm.errorMessage}}"></ip-text-field> </div> <div class="col-sm-3"> <ip-text-field label="Error" ng-model="vm.errorMessage"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-3"> <ip-text-field multiline label="Example 8" disabled="disabled"></ip-text-field> </div> </div>'),e.put("condor/dev/grid/grid.html",'<ip-page-title page-title="Grid Examples"></ip-page-title> <div ip-resize-handler resize-handler-type="Panel"> <h2>Delete Grid</h2> <button ng-click="vm.save()">Save</button> <kendo-grid k-options="vm.deleteGridOptions"></kendo-grid> <h2>Grid with Sorting, Paging, and Filtering</h2> <kendo-grid k-options="vm.gridOptions"></kendo-grid> <h2>Search Grid</h2> <button ng-click="vm.runSearch()">Search</button> <button ng-click="vm.resetSearch()">Reset</button> <button ng-click="vm.runSearchNoResults()">Search With No Results</button> <ip-kendo-search-grid data-grid-options="vm.searchGridOptions"></ip-kendo-search-grid> <h2>Add Grid</h2> <ip-kendo-grid data-grid-options="vm.addGridOptions" data-show-add="true" data-on-add-click="vm.onAdd()" data-add-item-name="{{\'Instructor\' | translate}}"></ip-kendo-grid> <br/> <span>Add Count: {{vm.addCount}}</span> </div>'),
e.put("condor/dev/gridColumn/gridColumn.html",'<h1>{{vm.test}}</h1> <div class="gridColumn"> <span class="cpa-icon cpa-icon-plus-circle" name="plus-circle"></span> <div> <ul> <li> <input type="checkbox"/> <label>abc</label> </li> <li> <input type="checkbox"/> <label>bbb</label> </li> <li> <input type="checkbox"/> <label>ccc</label> </li> </ul> </div> </div> <div class="k-animation-container" style="display: none; width: 160px; height: 30px; margin-left: -2px; padding-left: 2px; padding-right: 2px; padding-bottom: 4px; overflow: visible; display: block; position: absolute; top: 109.2px; z-index: 1060; left: 30px; box-sizing: content-box;"> <div class="k-column-menu k-popup k-group k-reset k-state-border-up" data-role="popup" style="display: block; position: absolute; font-size: 12px; font-family: noto_sansregular, &quot;Open sans&quot;, Helvetica, Arial, sans-serif; font-stretch: normal; font-style: normal; font-weight: normal; line-height: 17.1428px;"> <ul data-role="menu" class="k-widget k-reset k-header k-menu-vertical" tabindex="0" role="menubar"> <li class="k-item k-columns-item k-state-default k-first k-last" role="menuitem" style="z-index: auto;"> <span class="k-link"> <span class="k-sprite k-i-columns"></span>Columns <span class="k-icon k-i-arrow-e"></span> </span> <div class="k-animation-container" style="width: 86px; height: 86px; margin-left: -2px; padding-left: 2px; padding-right: 2px; padding-bottom: 4px; overflow: hidden;  position: absolute; z-index: 10002; top: 0px; left: 158px; box-sizing: content-box;"> <ul class="k-group k-menu-group k-popup k-reset" role="menu" data-role="popup" style="max-height: 741.4px; \r\n                            overflow: auto;  \r\n                            position: absolute; \r\n                            font-size: 12px; \r\n                            font-family: noto_sansregular, \'Open sans\', Helvetica, Arial, sans-serif; \r\n                            font-stretch: normal; \r\n                            font-style: normal; \r\n                            font-weight: normal; \r\n                            line-height: normal;" aria-hidden="true"> <li class="k-item k-state-default k-first" role="menuitem"> <span class="k-link"> <input type="checkbox" data-field="code" data-index="1" data-locked="false">Code</span> </li> <li class="k-item k-state-default" role="menuitem"> <span class="k-link"> <input type="checkbox" data-field="alias" data-index="3" data-locked="false">Aliases</span> </li> <li class="k-item k-state-default k-last" role="menuitem"> <span class="k-link"> <input type="checkbox" data-field="maxCycles" data-index="4" data-locked="false">Cycles</span> </li> </ul> </div> </li> </ul> </div> </div>'),e.put("condor/dev/modal/modal.html",'<div class="row"> <button ng-click="vm.openNav()">Navigation buttons</button> </div> '),e.put("condor/dev/modal/navigation.html",'<div> <div class="modal-header"> <h2 class="modal-title">Modal Navigation</h2> </div> <div class="modal-subheader"> <ip-modal-nav all-items="::vm.options.allItems" current-item="::vm.options.currentItem" on-navigate="::vm.onNavigate"> </ip-modal-nav> </div> <div class="modal-body"> <h1>{{vm.options.currentItem}}</h1> </div> </div> '),e.put("condor/dev/menu/test.html",'<head> <style> html {\r\n            font-size: 14px;\r\n            font-family: Arial, Helvetica, sans-serif;\r\n        } </style> <title></title> <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.common-material.min.css"/> <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.material.min.css"/> <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.material.mobile.min.css"/> <script src="https://kendo.cdn.telerik.com/2017.2.621/js/kendo.all.min.js"></script> </head> <div id="example" ng-controller="MenuController"> <div class="demo-section k-content"> <div kendo-splitter> <div>A</div> <div>B</div> </div> <div> <h4>Menu orientation</h4> <select kendo-drop-down-list k-ng-model="menuOrientation" k-value-primitive="true"> <option value="horizontal">Horizontal</option> <option value="vertical">Vertical</option> </select> </div> <div> <h4 style="padding-top: 2em;">Preview</h4> <ul kendo-menu k-orientation="menuOrientation" k-rebind="menuOrientation" k-on-select="onSelect(kendoEvent)" class="col-sm-2" style="border:1px solid lightgrey"> <li> Dashboard </li> <li> Advanced Search <ul> <li>Case</li> <li>Names</li> <li>Opportunities</li> </ul> </li> <li> Create <ul style="width:300px;"> <li> <div id="template" style="padding: 10px;"> <h2>Cases</h2> <div class="row"> <div style="text-align:middle;" class="col-sm-3"> <i class="cpa-icon cpa-icon-add-file cpa-icon-3x"></i> <h6>Case</h6> </div> <div style="text-align:middle;" class="col-sm-4"> <i class="cpa-icon cpa-icon-add-file cpa-icon-3x"></i> <h6>Case Takeover</h6> </div> <div style="text-align:middle;" class="col-sm-3"> <i class="cpa-icon cpa-icon-add-file cpa-icon-3x"></i> <h6>Opportunity</h6> </div> </div> <h2 class="row">Names</h2> <div class="row"> <div style="text-align:middle;" class="col-sm-3"> <i class="cpa-icon cpa-icon-add-file cpa-icon-3x"></i> <h6>Organisation</h6> </div> <div style="text-align:middle;" class="col-sm-3"> <i class="cpa-icon cpa-icon-add-file cpa-icon-3x"></i> <h6>Individual</h6> </div> <div style="text-align:middle;" class="col-sm-3"> <i class="cpa-icon cpa-icon-add-file cpa-icon-3x"></i> <h6>Staff</h6> </div> </div> </div> </li> </ul> </li> <li> Workflow Wizard </li> <hr style="margin:0px"/> <li> Docketing Wizard </li> </ul> </div> </div> </div>'),e.put("condor/dev/splitter/test.html",'<head> <title></title> <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.common-material.min.css"/> <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.material.min.css"/> <link rel="stylesheet" href="https://kendo.cdn.telerik.com/2017.2.621/styles/kendo.material.mobile.min.css"/> <script src="https://kendo.cdn.telerik.com/2017.2.621/js/kendo.all.min.js"></script> </head> <div id="example"> <div class="demo-section k-content"> <div kendo-splitter="splitter"> <div>Pane 1</div> <div>Pane 2</div> </div> </div> </div>'),e.put("condor/dev/page/navigation.html",'<ip-sticky-header> <ip-page-title page-title="Detail Page Navigation"></ip-page-title> <ip-detail-page-nav data-last-search="vm.lastSearch" data-router-state="dev/detailpage"> </ip-detail-page-nav> <p>Page: {{vm.id}}</p> </ip-sticky-header>'),e.put("condor/dev/topics/characteristics.html",'<div class="container-fluid"> <div class="row"> <div class="col-sm-6"> <div class="input-wrap"> <label>Criteria Number</label> <input/> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap"> <label>Criteria Name</label> <input/> </div> </div> </div> </div> '),e.put("condor/dev/topics/events.html",'<kendo-grid id="eventResults" k-options="vm.gridOptions"> </kendo-grid> '),e.put("condor/dev/topics/topics.html",'<ip-sticky-header> <ip-page-title page-title="Topics Examples"></ip-page-title> <ip-search-options> <div class="input-wrap"> <input type="text"> </div> </ip-search-options> </ip-sticky-header> {{\'\' | moment}} <ip-topics data-options="vm.options"> </ip-topics> '),e.put("condor/dev/typeahead/custom-autocomplete-item.html",'<div> <p ng-bind="::item.id"></p> <p ng-bind="::item.description"></p> </div>'),e.put("condor/dev/typeahead/custom-picklist-modal.html",'<ip-picklist-modal-search> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> <div class="col-sm-6"> <ip-picklist-modal-search-add></ip-picklist-modal-search-add> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap"> <label for="selection">Custom List</label> <select name="options" id="selection" data-ng-model="vm.externalScope.selectedItem" data-ng-options="item.value for item in vm.externalScope.list"></select> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search> <ip-picklist-modal-maintenance></ip-picklist-modal-maintenance> '),e.put("condor/dev/typeahead/index.html",'<ip-sticky-header> <ip-page-title page-title="Typeaheads and Picklists"></ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <h1>Testing with different Typeaheads</h1> <div class="container-fluid"> <div class="background-image"> <div class="row background-image"> <label for="chooseConfig"> <h3>Choose Typeahead Config:</h3> </label> <select name="chooseConfig" id="chooseConfig" ng-model="vm.selectedConfig" ng-options="config.label for config in vm.availableConfigs track by config.config"></select> </div> <div class="row"> <dev-typeahead-dynamic-presenter config="vm.selectedConfig.config" label="vm.selectedConfig.label"></dev-typeahead-dynamic-presenter> </div> </div> </div> <hr/> <div class="container-fluid"> <h2>Designation Stage Pick List</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="designationStage" data-extend-query="vm.designationStage.extendQuery" data-external-scope="vm.designationStage.externalScope" ng-model="vm.designationStage"></ip-typeahead> <div class="col-sm-4"> <div>model: {{vm.designationStage | json}}</div> </div> </div> <h2>Additional Number Pattern Validation Pick List</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="additionalNumberValidation" data-extend-query="vm.additionalNumberValidation.extendQuery" ng-model="vm.additionalNumberValidation" data-picklist-can-maintain="true"></ip-typeahead> <div class="col-sm-4"> <div>model: {{vm.additionalNumberValidation | json}}</div> </div> </div> <h2>Text Type Pick List</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="textType" data-extend-query="vm.textType.extendQuery" ng-model="vm.textType"></ip-typeahead> <div class="col-sm-2"> <input type="checkbox" ng-model="vm.textType.caseOnly">Case Only </div> <div class="col-sm-4"> <div>model: {{vm.textType | json}}</div> </div> </div> <h2>International Trade Mark Classes</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-key-field="key" data-code-field="code" data-text-field="code" data-config="tmClass" ng-model="vm.tmClass"></ip-typeahead> </div> <h2>WIP Template Pick List with Case</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="case" ng-model="vm.wipTemplateCase"></ip-typeahead> <ip-typeahead class="col-sm-6" data-config="wipTemplate" ng-model="vm.wipTemplate" data-extend-query="vm.extendWipTemplatePicklist"></ip-typeahead> </div> </div> <hr/> <h1>Interaction States and Behaviour</h1> <div class="container-fluid"> <h2>Single Select with autofocus (Restmod Api)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="document" data-state="vm.state1" ip-autofocus ng-model="vm.model1"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state1}}</div> <div>model: {{vm.model1 | json}}</div> </div> </div> <h2>Multiple Select (Restmod Api)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect="true" data-label="Jurisdiction" data-placeholder="Instruction Type" data-max-results="20" data-key-field="id" data-code-field="id" data-text-field="description" data-restmod-api="jurisdictions" data-picklist-display-name="Jurisdiction" data-item-template-url="condor/components/form/autocomplete-item-code-desc.html" data-state="vm.state2" ng-model="vm.countries"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state2}}</div> <div>model: {{vm.countries | json}}</div> </div> </div> <h2>Single Select (Simple Api abc)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-picklist-can-maintain="true" data-label="Criteria" data-key-field="id" data-text-field="description" data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-picklist-display-name="Criteria" data-picklist-columns="[{title:\'Criteria No\', field:\'id\'}, {title:\'Description\', field:\'description\'}]" data-state="vm.state3" ng-model="vm.model3"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state3}}</div> <div>model: {{vm.model3 | json}}</div> </div> </div> <h2>Multiple Select (Simple Api)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect data-label="Criteria" data-key-field="id" data-text-field="description" data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-state="vm.state4" data-picklist-display-name="Criteria" data-picklist-columns="[{title:\'Criteria No\', field:\'id\'}, {title:\'Description\', field:\'description\'}]" ng-model="vm.model4"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state4}}</div> <div>model: {{vm.model4 | json}}</div> </div> </div> <h2>Multiple Select with Multi-pick pick list (Simple Api)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multipick data-multiselect data-label="Criteria" data-key-field="id" data-text-field="description" data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-state="vm.state4a" data-picklist-display-name="Criteria" data-picklist-columns="[{title:\'Criteria No\', field:\'id\'}, {title:\'Description\', field:\'description\'}]" ng-model="vm.model4a"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state4a}}</div> <div>model: {{vm.model4a | json}}</div> </div> </div> <h2>Custom Template</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect data-label="Criteria" data-key-field="id" data-tag-field="id" data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-item-template-url="condor/dev/typeahead/custom-autocomplete-item.html" data-state="vm.state5" data-picklist-display-name="Criteria" data-picklist-columns="[{title:\'Description\', field:\'description\'}]" ng-model="vm.model5"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state5}}</div> <div>model: {{vm.model5 | json}}</div> </div> </div> <h2>Use pre-defined configuration (Simple Api)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect data-config="dev.criteria" data-state="vm.state7" ng-model="vm.model7"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state7}}</div> <div>model: {{vm.model7 | json}}</div> </div> </div> <h2>Use pre-defined configuration (Restmod Api)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect data-config="instructionType" data-picklist-can-maintain="true" data-state="vm.state7a" ng-model="vm.model7a"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state7a}}</div> <div>model: {{vm.model7a | json}}</div> </div> </div> <h2>Integrate with ng-change (Simple Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="dev.criteria" data-state="vm.state8" ng-change="vm.selectedModel1 = vm.model8" ng-model="vm.model8"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state8}}</div> <div>selected item (ng-change): {{vm.selectedModel1 | json}}</div> </div> </div> <h2>Integrate with ng-change (Multiple Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect data-config="dev.criteria" data-state="vm.state9" ng-change="vm.selectedModel2 = vm.model9" ng-model="vm.model9"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state9}}</div> <div>selected item (ng-change): {{vm.selectedModel2 | json}}</div> </div> </div> <h2>Disabled (Single Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6" ng-disabled="vm.disabled1" data-config="instructionType" data-picklist-can-maintain="true" data-state="vm.state10" ng-model="vm.model10"> </ip-typeahead> <div class="col-sm-2"> <label> <input type="checkbox" ng-model="vm.disabled1"/> <span>Disabled</span> </label> </div> <div class="col-sm-4"> <div>state: {{vm.state10}}</div> <div>model: {{vm.model10 | json}}</div> </div> </div> <h2>Disabled (Multiple Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-multiselect ng-disabled="vm.disabled2" data-config="instructionType" data-picklist-can-maintain="true" data-state="vm.state11" ng-model="vm.model11"> </ip-typeahead> <div class="col-sm-2"> <label> <input type="checkbox" ng-model="vm.disabled2"/> <span>Disabled</span> </label> </div> <div class="col-sm-4"> <div>state: {{vm.state11}}</div> <div>model: {{vm.model11 | json}}</div> </div> </div> <h2>Internal error integrated with ng-form</h2> <div class="row" ng-form="vm.form1"> <ip-typeahead name="jurisdiction" class="col-sm-6" data-config="jurisdiction" data-state="vm.state12" ng-model="vm.country" data-picklist-can-maintain="true"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state12}}</div> <div>errors: {{vm.form1.jurisdiction.$error | json}}</div> <div>model: {{vm.country | json}}</div> </div> </div> <h2>External error integrated with ng-form</h2> <div class="row" ng-form="vm.form2"> <ip-typeahead name="jurisdiction2" class="col-sm-6" data-config="jurisdiction" data-state="vm.state13" ng-model="vm.model13" data-picklist-can-maintain="true"> </ip-typeahead> <div class="col-sm-2"> <button ng-click="vm.form2.jurisdiction2.$setValidity(\'maxlength\', false)">Add error</button> <button ng-click="vm.form2.jurisdiction2.$reset()">Reset</button> </div> <div class="col-sm-4"> <div>state: {{vm.state13}}</div> <div>errors: {{vm.form2.jurisdiction2.$error | json}}</div> <div>model: {{vm.model13 | json}}</div> </div> </div> <h2>Integrate with angular validators (Single Select)</h2> <div class="row" ng-form="vm.form3"> <ip-typeahead name="jurisdiction3" required class="col-sm-6" data-label="Country" data-picklist-display-name="Country" data-config="jurisdiction" data-state="vm.state14" ng-model="vm.model14" data-picklist-can-maintain="true"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state14}}</div> <div>errors: {{vm.form3.jurisdiction3.$error | json}}</div> <div>model: {{vm.model14 | json}}</div> </div> </div> <h2>Integrate with angular validators (Multiple Select)</h2> <div class="row" ng-form="vm.form4"> <ip-typeahead name="jurisdiction4" class="col-sm-6" required data-multiselect data-config="jurisdiction" data-state="vm.state15" ng-model="vm.model15" data-picklist-can-maintain="true"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state15}}</div> <div>errors: {{vm.form4.jurisdiction4.$error | json}}</div> <div>model: {{vm.model15 | json}}</div> </div> </div> <h2>Custom picklist template</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="instructionType" data-state="vm.state16" data-picklist-template-url="condor/dev/typeahead/custom-picklist-modal.html" data-external-scope="vm.customPicklistModal" data-extend-query="vm.customPicklistModal.extendQuery" ng-model="vm.model16"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state16}}</div> <div>model: {{vm.model16 | json}}</div> <div>outgoing request: {{vm.customPicklistModal.outgoingRequest | json}}</div> <div>selected items: {{vm.customPicklistModal.selectedItem | json}}</div> </div> </div> <h2>Check loading state</h2> <div class="row" ng-form="vm.form5" ip-form> <ip-typeahead name="component" class="col-sm-6" data-label="Component" data-key-field="id" data-text-field="componentName" data-api-url="api/dev/typeahead/multiselect?latency=1000&q=" data-picklist-display-name="Component" data-picklist-columns="[{title:\'Name\', field:\'componentName\'}]" data-state="vm.state17" data-loading="vm.loading17" ng-model="vm.model17"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state17}}</div> <div>vm.loading: {{vm.loading17}}</div> <div>vm.form.component.loading: {{vm.form5.component.$loading}}</div> <div>vm.form.loading: {{vm.form5.$loading}}</div> </div> </div> <h2>Check loading state and error state through ng-form</h2> <div class="row" ng-form="vm.form6" ip-form> <ip-typeahead name="component1" class="col-sm-3" data-label="Component1" data-key-field="id" data-text-field="componentName" data-api-url="api/dev/typeahead/multiselect?latency=1000&q=" data-picklist-display-name="Component" data-picklist-columns="[{title:\'Name\', field:\'componentName\'}]" ng-model="vm.model18"> </ip-typeahead> <ip-typeahead name="component2" class="col-sm-3" data-label="Component2" data-key-field="id" data-text-field="componentName" data-api-url="api/dev/typeahead/multiselect?latency=1000&q=" data-picklist-display-name="Component" data-picklist-columns="[{title:\'Name\', field:\'componentName\'}]" ng-model="vm.model19"> </ip-typeahead> <div class="col-sm-6"> <div>form.error: {{vm.form6.$error | json}}</div> <div>form.loading: {{vm.form6.$loading}}</div> </div> </div> <h2>Reset (Single Select)</h2> <div class="row" ng-form="vm.form7" ip-form> <ip-typeahead name="field20" class="col-sm-6" data-config="dev.criteria" ng-model="vm.model20"> </ip-typeahead> <div class="col-sm-2"> <button ng-click="vm.form7.field20.$reset()">field.reset</button> <button ng-click="vm.form7.$reset()">form.reset</button> </div> <div class="col-sm-4"> <div>model: {{vm.model20 | json}}</div> <div>form.error: {{vm.form7.field20.$error | json}}</div> </div> </div> <h2>Reset (Multiple Select)</h2> <div class="row" ng-form="vm.form8" ip-form> <ip-typeahead name="field21" class="col-sm-6" data-multiselect data-config="dev.criteria" ng-model="vm.model21"> </ip-typeahead> <div class="col-sm-2"> <button ng-click="vm.form8.field21.$reset()">field.reset</button> <button ng-click="vm.form8.$reset()">form.reset</button> </div> <div class="col-sm-4"> <div>model: {{vm.model21 | json}}</div> <div>form.error: {{vm.form8.field21.$error | json}}</div> </div> </div> <h2>Saved state (Single Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6 saved" data-config="instructionType" data-picklist-can-maintain="true" ng-model="vm.model22"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state22}}</div> <div>model: {{vm.model22 | json}}</div> </div> </div> <h2>Saved state (Multiple Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6 saved" data-multiselect data-config="instructionType" data-picklist-can-maintain="true" ng-model="vm.model23"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state23}}</div> <div>model: {{vm.model23 | json}}</div> </div> </div> <h2>Edited state (Single Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6 edited" data-config="instructionType" data-picklist-can-maintain="true" ng-model="vm.model24"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state24}}</div> <div>model: {{vm.model24 | json}}</div> </div> </div> <h2>Edited state (Multiple Select)</h2> <div class="row"> <ip-typeahead class="col-sm-6 edited" data-multiselect data-config="instructionType" data-picklist-can-maintain="true" ng-model="vm.model25"> </ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state25}}</div> <div>model: {{vm.model25 | json}}</div> </div> </div> <h2>Miscellaneous pick lists</h2> <div class="row"> <ip-typeahead class="col-sm-6" data-config="dataItem" ng-model="vm.model26"></ip-typeahead> </div> <div class="row"> <ip-typeahead class="col-sm-6 edited" data-config="images" ng-model="vm.model26"></ip-typeahead> <div class="col-sm-6"> <div>state: {{vm.state26}}</div> <div>model: {{vm.model26 | json}}</div> </div> </div> <div class="row"> <ip-typeahead data-multiselect class="col-sm-6" data-config="dataItemGroup" ng-model="vm.model27"></ip-typeahead> </div> <div class="row"> <ip-typeahead class="col-sm-6" id="jurisdiction-group-picklist" name="jurisdictions" data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.model29" data-extend-query="vm.extendJurisdictionPicklist"></ip-typeahead> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead id="examination-picklist" name="examinationType" data-config="examinationType" data-picklist-can-maintain="true" ng-model="vm.examinationType"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="caseFamily" data-config="caseFamily" data-multiselect data-multipick data-picklist-can-maintain="false" ng-model="vm.caseFamily"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="instruction" data-config="instruction" ng-model="vm.model30"> </ip-typeahead></div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="characteristic" data-config="characteristic" ng-model="vm.model31"> </ip-typeahead></div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="keywords" data-config="keyword" data-picklist-can-maintain="false" ng-model="vm.keyword"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="keywords" data-config="keyword" data-picklist-can-maintain="false" ng-model="vm.keyword"></ip-typeahead> </div> </div> <div style="height: 300px">&nbsp;</div> </div> </div>'),e.put("condor/dev/sqlTextArea/sql-text-area.html",'<ip-sticky-header> <ip-page-title page-title="SQL Text Area Examples"></ip-page-title> </ip-sticky-header> <div class="container-fluid"> <h2>SQL Text Area</h2> <div class="row"> <ip-text-field multiline rows="8" ip-sql-highlight ng-model="vm.validData.value"> </ip-text-field> </div> <h2>SQL Text Area (ReadOnly)</h2> <div class="row"> <ip-text-field multiline rows="8" ip-sql-highlight disabled="true" ng-model="vm.validData.value"> </ip-text-field> </div> <h2>Non SQL Text Area</h2> <div class="row"> <ip-text-field multiline rows="8" ng-model="vm.validData.value"> </ip-text-field> </div> <h2>Output Markup</h2> <div class="row"> <div ng-bind-html="vm.validData.value | html" id="valueLabel"> </div> </div> </div>'),e.put("condor/dev-e2e/datepicker/datepicker.html",'<div> <h2>Datepicker Test Page</h2> <p>Testing date picker text box</p> <p>Entring date manually, returns a previous day, for the when DST is applied, if the local time zone applies DST. This is important part to test, because machine timezone setting may effect the outcome. </p> <h2>Controls</h2> <div class="row"> <div class="col-sm-12 col-sm-offset-1"> <label class="col-sm-1" style="text-align:right;margin-top:5px;">Test date</label> <ip-datepicker id="testDate" name="testDate" class="col-sm-2" ng-model="vm.testDate"> </ip-datepicker> <button class="col-sm-1" id="evaluateButton">Evaluate</button> </div> </div> <div class="row"> <div class="col-sm-12 col-sm-offset-1"> <label class="col-sm-1" style="text-align:right;margin-top:5px;">Value</label> <label class="col-sm-2" style="margin-top:5px;margin-left:2px;" id="valueLabel">{{vm.testDate}}</label> </div> </div> <h2>Populate</h2> <div class="row"> <label class="col-sm-1">Existing Date</label> <ip-datepicker id="existingDate" name="existingDate" class="col-sm-2" ng-model="vm.existingDate" ng-change="vm.onExistingDateChange()"></ip-datepicker> <label class="col-sm-2" style="margin-top:5px;margin-left:2px;" id="existingDateLabel">{{vm.existingDate}}</label> </div> <div class="row"> <label class="col-sm-1">Repopulated Date</label> <ip-datepicker id="repopulateDate" name="repopulateDate" class="col-sm-2" ng-model="vm.repopulateDate"></ip-datepicker> <label class="col-sm-2" style="margin-top:5px;margin-left:2px;" id="repopulateDateLabel">{{vm.repopulateDate}}</label> </div> </div> '),e.put("condor/dev-e2e/grid/grid.test.html",'<ip-sticky-header page-title="Grid Test"> </ip-sticky-header> <div class="table-container"> <h2>Pageable Grid</h2> <ip-kendo-grid data-id="pagableGridTest" data-grid-options="vm.gridOptions"> </ip-kendo-grid> </div> <div class="row"> <label>Result:</label> <input type="text" id="selectedItemsResult" ng-model="vm.selectedItems"> </div>'),e.put("condor/dev-e2e/detail-page/detailPage.test.html",'<ip-page-title-save page-title="Detail Page Tests" is-save-enabled="vm.isDirty()"></ip-page-title-save> <div ng-form="vm.form"> <p>Common components for detail pages can be tested here.</p> <div class="row"> <ip-typeahead id="picklist" class="col-sm-6" data-label="Criteria" data-key-field="id" data-text-field="description" data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-picklist-display-name="Criteria" data-picklist-columns="[{title:\'Criteria No\', field:\'id\'}, {title:\'Description\', field:\'description\'}]" data-state="vm.state" ng-model="vm.model"> </ip-typeahead> </div> </div>'),e.put("condor/dev-e2e/picklist/picklist.test.html",'<form ng-submit="submitForm()"> <div ng-form="vm.form"> <p>Common components for pick lists can be tested here.</p> <div class="row"> <div class="col-sm-6"> <h2>Multipick Pick List</h2> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead id="multipickPicklist" data-multiselect data-multipick data-label="Criteria" data-key-field="id" data-tag-field="id" data-text-field="description" data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-picklist-display-name="Criteria" data-picklist-columns="[{title:\'Criteria No\', field:\'id\'}, {title:\'Description\', field:\'description\'}]" data-state="vm.state" ng-model="vm.model"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <h2>Maintenance Pick List</h2> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="e2eEventGroup" data-config="eventGroup" data-label="picklist.event.maintenance.group" ng-model="vm.group" data-picklist-can-maintain="true" data-extend-query="vm.setTableType"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <h2>Pick List Validation</h2> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="caseType" data-config="caseType" ng-model="vm.caseType"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="jurisdiction" data-config="jurisdiction" ng-model="vm.jurisdiction" data-picklist-can-maintain="true"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="propertyType" data-config="propertyType" ng-model="vm.propertyType"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <h2>Pick list form submission</h2> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="numberType" data-config="numberType" ng-model="vm.numberType"></ip-typeahead> </div> <div class="col-sm-2"> <button type="submit">submit</button> </div> </div> <div class="row"> <div class="col-sm-3"> <span>result: </span> <input type="text" id="formResult" ng-model="vm.formResult"> </div> </div> </div> </form>'),e.put("condor/dev-e2e/quick-search/quick-search.test.html",'<ip-page-title-save page-title="Quick Search Test"> </ip-page-title-save> <div ng-form="vm.form"> <div class="row"> <ip-quick-search class="col-sm-2"> </ip-quick-search> </div> </div>'),e.put("condor/dev-e2e/sqlTextArea/sql-text-area.test.html",'<ip-sticky-header> <ip-page-title page-title="SQL Text Area Examples"></ip-page-title> </ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-text-field multiline rows="8" id="sqlTextArea" ip-sql-highlight ng-model="vm.validData.value"> </ip-text-field> <ip-text-field multiline rows="8" id="nonSQLTextArea" ng-model="vm.validData.value"> </ip-text-field> <div ng-bind-html="vm.validData.value | html" id="valueLabel"> </div> </div> </div>'),e.put("condor/names/consolidation/names-consolidation-confirmation.html",'<div id="namesConsolidationConfirmationController" translate-namespace="namesConsolidation.validationErrors"> <div class="modal-header"> <h2 class="modal-title" translate=".confirmationTitle"></h2> </div> <div class="modal-body"> <div class="input-wrap" translate="{{vm.options.message}}"></div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div>'),e.put("condor/names/consolidation/names-consolidation.html",'<ip-sticky-header> <ip-page-title page-title="namesConsolidation.title"> <action-buttons> <ip-clear-button ng-click="vm.reset()" ng-disabled="vm.requestSubmitted"></ip-clear-button> <ip-icon-button class="btn-advancedsearch" ng-click="vm.runRequest()" ip-tooltip="{{:: \'namesConsolidation.runTooltip\' | translate }}" data-tooltip-placement="bottom" id="execute-names-consolidation" button-icon="gears" ng-disabled="vm.isRunDisabled()"></ip-icon-button> </action-buttons> </ip-page-title> </ip-sticky-header> <div class="name-consolidation" ip-resize-handler resize-handler-type="Panel"> <div class="col-sm-12"> <ip-inline-alert ng-if="vm.requestSubmitted" type="info" text="namesConsolidation.inProgress"></ip-inline-alert> <ip-inline-alert ng-if="!vm.requestSubmitted && vm.consolidateJobStatus === \'error\'" type="danger" text="namesConsolidation.consolidationErrorMessage"></ip-inline-alert> <ip-inline-alert ng-if="!vm.requestSubmitted && vm.consolidateJobStatus === \'success\'" type="success" text="namesConsolidation.consolidationSuccessMessage"></ip-inline-alert> </div> <br/> <div class="table-container"> <div class="table-title"> <h5 translate="namesConsolidation.gridHeader"></h5> <div class="pull-right"> <button type="button" id="names-add-btn" class="btn btn-icon" ip-tooltip="{{:: \'namesConsolidation.addNameTooltip\' | translate}}" ng-click="vm.openNamesPicklist()" ng-disabled="vm.requestSubmitted"> <icon name="plus-circle"></icon> </button> </div> </div> <br/> <ip-kendo-grid id="names-consolidation-grid" data-grid-options="vm.gridOptions" data-show-add="!vm.requestSubmitted" data-on-add-click="vm.openNamesPicklist()" data-add-item-name="{{\'namesConsolidation.newNameGridLabel\' | translate}}"></ip-kendo-grid> </div> <div class="row topic-container"></div> <div class="table-container" ng-class="{\'greyBoxWithLabels\':vm.targetName}" style="margin-top: 50px;"> <div class="table-title row"> <div class="col-lg-7 col-sm-12"> <h5 translate="namesConsolidation.picklistLabel"></h5> <ip-typeahead id="names-picklist" class="col-sm-8" data-config="name" data-label="" ng-model="vm.targetName" data-extend-query="vm.includeCeasedName" ng-change="vm.clearErrors()" ng-disabled="vm.requestSubmitted"></ip-typeahead> </div> <div class="col-lg-5 col-sm-12"> <ip-checkbox ng-model="vm.keepAddressHistory" label="namesConsolidation.keepAddressHistory"></ip-checkbox> <ip-checkbox ng-model="vm.keepTelecomHistory" label="namesConsolidation.keepTelecomHistory"></ip-checkbox> </div> </div> <div class="row" ng-if="vm.targetName"> <div class="col-sm-4"> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label translate="namesConsolidation.columns.name"></label> <a ng-if="::vm.showWebLink && (!vm.isIe && !vm.inproVersion16)" ng-click="vm.showIeRequired(vm.getNameLink(vm.targetName.key))" class="text"><span>{{ vm.targetName.displayName }}</span></a> <a ng-if="::vm.showWebLink && (vm.isIe || vm.inproVersion16)" href="{{vm.getNameLink(vm.targetName.key)}}" class="text" target="_blank"><span>{{ vm.targetName.displayName }}</span></a> <span ng-if="::!vm.showWebLink">{{vm.targetName.displayName}}</span> </div> </div> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label translate="namesConsolidation.columns.nameCode"></label> <span>{{vm.targetName.code}}</span> </div> </div> </div> <div class="col-sm-4"> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label translate="namesConsolidation.columns.remarks"></label> <span>{{vm.targetName.remarks}}</span> </div> </div> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label translate="namesConsolidation.columns.nameNo"></label> <span>{{vm.targetName.key}}</span> </div> </div> </div> <div class="col-sm-4"> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label translate="namesConsolidation.columns.dateCeased"></label> <ip-date model="vm.targetName.ceased"></ip-date> </div> </div> </div> </div> </div></div>'),
e.put("condor/picklists/basis/basis.html",'<div translate-namespace="picklist.basis" data-ng-controller="basisController as c"> <div ng-if="!vm.externalScope[(vm.entity || \'combination\')]()"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="2" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <div class="input-wrap-group"> <span class="input-wrap"></span> <ip-checkbox name="convention" ng-model="vm.entry.convention" label=".Convention" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.convention.$dirty}"></ip-checkbox> </div> </div> </div> </div> <div ng-if="!!vm.externalScope[(vm.entity || \'combination\')]()"> <ip-valid-picklist-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-can-maintain="false" data-entity-type="basis" update-item="vm.updateListItemFromMaintenance"></ip-valid-picklist-maintenance> </div> </div>'),e.put("condor/picklists/actions/actions.html",'<style> .radio-width-small {\r\n        width: 27% !important;\r\n    } </style> <div data-ng-controller="actionsController as aCtrl" ng-init="aCtrl.init(vm.maintenanceState, vm.entry)"> <div translate-namespace="picklist.action" ng-if="!vm.externalScope[(vm.entity || \'combination\')]()"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="2" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <div class="input-wrap" data-ng-class="{ required: !vm.maintenance.cycles, \'error\': vm.maintenance.cycles.$touched && !vm.maintenance.cycles.$valid || !vm.maintenance.cycles.$pristine && !vm.maintenance.cycles.$valid}"> <label translate=".NoOfCycles"></label> <input name="cycles" data-ng-model="vm.entry.cycles" required="!vm.maintenance.cycles" type="number" ng-disabled="vm.maintenanceState === \'viewing\' || vm.entry.unlimitedCycles || !aCtrl.canEnterMaxCycles" data-ng-class="{\'edited\': vm.maintenance.cycles.$dirty }" ng-maxlength="4" min="1" max="9999"/> <span data-ng-if="vm.maintenance.cycles.$touched && !vm.maintenance.cycles.$valid || !vm.maintenance.cycles.$pristine && !vm.maintenance.cycles.$valid"> <span class="input-action tooltip-error custom-size" data-ng-if="!vm.maintenance.cycles.$valid || vm.entry.$error(\'cycles\')"> <span data-ng-if="vm.maintenance.cycles.$error.required" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate}}" tooltip-class="tooltip-error"></span> <span data-ng-if="vm.maintenance.cycles.$error.max" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.max\' | translate:{ max: 9999 } }}" tooltip-class="tooltip-error"> </span> <span data-ng-if="vm.maintenance.cycles.$error.min" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.min\' | translate:{ min: 1 } }}" tooltip-class="tooltip-error"> </span> <span data-ng-if="vm.maintenance.cycles.$error.maxlength" class="input-action tooltip-error" data-tooltip-placement="right" ip-tooltip="{{::\'field.errors.maxlength\' | translate:{ length: 4 } }}"> <icon name="exclamation-triangle"></icon> </span> </span> </span></div> </div> <div class="col-sm-4"> <ip-checkbox name="unlimitedCycles" label="picklist.event.maintenance.unlimited" ng-model="vm.entry.unlimitedCycles" ng-change="aCtrl.toggleMaxCycle(vm); vm.maintenance.cycles.$dirty = true;"></ip-checkbox> </div> </div> <div class="row"> <div class="col-sm-8"> <div class="input-wrap"> <ip-dropdown ip-required name="importanceLevel" label=".ImportanceLevel" data-ng-model="vm.entry.importanceLevel" options="il.level as il.description for il in aCtrl.importanceLevels" ng-class="{\'edited\': vm.maintenance.importanceLevel.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'"> </ip-dropdown> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline col-sm-9"> <span class="input-wrap radio-width-small"></span> <ip-radio-button label=".Renewal" value="renewal" ng-model="vm.entry.actionType" name="Renewal" ng-class="{edited: vm.maintenance.Renewal.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'"> </ip-radio-button> <ip-radio-button label=".Examination" value="examination" ng-model="vm.entry.actionType" name="Examination" ng-class="{edited: vm.maintenance.Examination.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'"> </ip-radio-button> <ip-radio-button label=".Other" value="other" ng-model="vm.entry.actionType" name="Other" ng-class="{edited: vm.maintenance.Other.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'"> </ip-radio-button> </div> </div> </div> <div ng-if="!!vm.externalScope[(vm.entity || \'combination\')]()"> <ip-valid-picklist-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-can-maintain="false" data-entity-type="action"></ip-valid-picklist-maintenance> </div> </div>'),e.put("condor/picklists/case-categories/case-categories.html",'<div data-ng-controller="caseCategoriesController as iCtrl" ng-init="iCtrl.init(vm.maintenanceState, vm.entry)" translate-namespace="picklist.casecategory" ng-if="!vm.externalScope[(vm.entity || \'combination\')]()"> <div class="row"> <div class="col-sm-8 input-wrap"> <label translate="picklist.casetype.Type"></label> <span class="text" style="line-height: 25px;margin-left:5px;">{{vm.entry.caseTypeDescription}}</span> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="2" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> </div> <div ng-if="!!vm.externalScope[(vm.entity || \'combination\')]()"> <ip-valid-picklist-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-can-maintain="false" data-entity-type="category"></ip-valid-picklist-maintenance> </div>'),e.put("condor/picklists/cases/cases-typeahead-template.html",'<span>(</span><span ng-bind-html="item.code | ipTypeaheadHighlight:searchValue"></span><span>)</span> <span ng-bind-html="item.value | ipTypeaheadHighlight:searchValue"></span> '),e.put("condor/picklists/checklist/checklist.html",'<style> .radio-width-small {\r\n        width: 27% !important;\r\n    } </style> <div translate-namespace="picklist.checklist" data-ng-controller="checklistController as iCtrl" ng-init="iCtrl.init(vm.maintenanceState, vm.entry)"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="input-wrap-group group-inline col-sm-9"> <span class="input-wrap radio-width-small"></span> <ip-radio-button label=".Renewal" value="renewal" ng-model="vm.entry.checklistType" name="Renewal" ng-class="{edited: vm.maintenance.Renewal.$dirty}"> </ip-radio-button> <ip-radio-button label=".Examination" value="examination" ng-model="vm.entry.checklistType" name="Examination" ng-class="{edited: vm.maintenance.Examination.$dirty}"> </ip-radio-button> <ip-radio-button label=".Other" value="other" ng-model="vm.entry.checklistType" name="Other" ng-class="{edited: vm.maintenance.Other.$dirty}"> </ip-radio-button> </div> </div> </div>'),e.put("condor/picklists/case-types/case-types.html",'<div translate-namespace="picklist.casetype" data-ng-controller="caseTypesController as c"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="1" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="pkActualCaseType" data-label=".ActualCaseType" data-key-field="key" data-text-field="value" ip-field-error="{{vm.entry.$error(\'pkActualCaseType\').message | translate}}" ng-class="{edited: vm.maintenance.pkActualCaseType.$dirty}" data-api-url="api/picklists/casetypes/actual" data-picklist-display-name="Actual Case Type" data-picklist-columns="[{title:\'Description\', field:\'value\'}, {title:\'Code\', field:\'code\'}]" ng-model="vm.entry.actualCaseType"></ip-typeahead> </div> <div class="col-sm-2"> <ip-inline-dialog data-content="{{::\'validcombinations.actualCaseTypeIcon\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div>'),e.put("condor/picklists/class-items/class-items.html",'<style> .modal-text-small {\r\n        margin-left: 70px;\r\n        width: 50% !important;\r\n    } </style> <div data-ng-controller="classItemsController as ctrl" translate-namespace="picklist.classitem"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="class" ng-disabled="true" label=".Class" ng-model="vm.entry.class" data-ng-maxlength="5"></ip-text-field> </div> </div> <div ng-if="ctrl.subClassSelectable()" class="row"> <div class="col-sm-8"> <ip-dropdown name="subclass" ng-disabled="vm.maintenanceState == \'viewing\'" label=".SubClass" ng-model="vm.entry.subClass" options="subClass for subClass in ctrl.availableSubClasses" ng-class="{edited: vm.maintenance.subclass.$dirty}" ng-change="ctrl.onSubClassChange();"> </ip-dropdown> </div> </div> <div ng-if="!ctrl.subClassSelectable()" class="row"> <div class="col-sm-8"> <ip-text-field name="subclass" label=".SubClass" ng-disabled="true" ng-model="vm.entry.subClass"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="itemno" label=".ItemNumber" ng-model="vm.entry.itemNo" data-ng-maxlength="20" ng-disabled="ctrl.isItemNoDisabled();" ip-field-error="{{vm.entry.$error(\'itemNo\').message | translate}}" ng-class="{edited: vm.maintenance.itemno.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field multiline rows="3" name="itemdescription" ip-required label=".ItemDescription" ng-disabled="vm.maintenanceState == \'viewing\'" ng-model="vm.entry.itemDescription" ip-field-error="{{vm.entry.$error(\'itemDescription\').message | translate}}" ng-class="{edited: vm.maintenance.itemdescription.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-typeahead name="language" class="col-sm-8" ng-disabled="ctrl.languageDisabled()" data-config="language" ng-model="vm.entry.language" ng-change="ctrl.onLanguageChange();" ng-class="{edited: vm.maintenance.language.$dirty}"></ip-typeahead> <ip-inline-dialog data-content="{{::\'picklist.classitem.tooltipDefaultItemInfo\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div>'),e.put("condor/picklists/data-items/data-items.html",'<style> .input-top-margin {\r\n        margin-top: -7%;\r\n    }\r\n    \r\n    .input-left-margin {\r\n        margin-left: -4%;\r\n    }\r\n    \r\n    .input-textfield-margin {\r\n        margin-left: -25.5%;\r\n    }\r\n    \r\n    .input-textfield-margin-left {\r\n        margin-left: -17%;\r\n    }\r\n    \r\n    .input-checkbox-margin-left {\r\n        margin-left: 27%;\r\n    } </style> <div data-ng-controller="DataItemsPicklistController as ctrl"> <ip-data-item-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-src="picklist" data-save-call="ctrl.saveCall"></ip-data-item-maintenance> </div>'),e.put("condor/picklists/data-item-group/data-item-group.html",'<div data-ng-controller="dataitemgroupController as c"> <div translate-namespace="picklist.dataitemgroup"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="description" ip-required ip-autofocus label=".Description" ng-model="vm.entry.value" data-ng-maxlength="40" ng-class="{edited: vm.maintenance.description.$dirty}" ip-field-error="{{vm.entry.$error(\'description\').message | translate}}"> </ip-text-field> </div> </div> </div> </div>'),e.put("condor/picklists/dates-of-law/dates-of-law.html",'<div ng-if="!!vm.externalScope[(vm.entity || \'combination\')]()"> <div data-ng-controller="datesOfLawController as c"> <ip-valid-picklist-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-can-maintain="true" data-entity-type="dateoflaw" on-before-save="vm.onBeforeSave" save-without-validate="c.saveWithoutValidate" has-inline-grid-error="vm.hasInlineGridError" is-inline-grid-dirty="vm.isInlineGridDirty"></ip-valid-picklist-maintenance> </div> </div>'),e.put("condor/picklists/events/confirm-propagatechanges.html",'<style> .propagechanges-chkbox-margin {\r\n        margin-left: 20%;\r\n    }\r\n    .info-dialog-margin {\r\n        margin-left: -20%;\r\n        margin-top: 1%;\r\n    }\r\n    .confirm-btn-margin {\r\n        margin-top: 1%;\r\n    } </style> <div id="confirmPropagateEventChanges" translate-namespace="picklist.event.maintenance.confirmPropagateChanges"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div class="row"> <span translate=".message"></span> </div> <br> <div id="updatedFields" class="row input-wrap-group"> <ul> <li ng-repeat="item in vm.updatedFields">{{\'picklist.event.maintenance.\' + item.id | translate}}</li> </ul> </div> <div class="row" translate=".confirm"> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-6 propagechanges-chkbox-margin"> <ip-checkbox label=".checkboxLabel" ng-model="vm.propagateChanges"></ip-checkbox> </div> <div class="col-sm-3 info-dialog-margin"> <ip-inline-dialog data-content="{{:: \'picklist.event.maintenance.confirmPropagateChanges.information\' | translate}}" popover-placement="auto"></ip-inline-dialog> </div> <div class="input-wrap-group group-inline pull-right confirm-btn-margin"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div>'),e.put("condor/picklists/events/events.html",'<style> div.picklist-window div.modal-content {\r\n        width: 770px;\r\n        margin: 0 auto;\r\n    }\r\n    \r\n    .label-legend {\r\n        font-weight: bold;\r\n        font-size: 120%;\r\n        margin-right: 10px;\r\n    }\r\n    \r\n    ip-text-field.half-length .input-wrap input {\r\n        width: 16.66667% !important;\r\n        margin-right: 0px !important;\r\n        float: left;\r\n    }\r\n    \r\n    ip-text-field.half-length .input-wrap .input-action {\r\n        margin-left: 8px;\r\n        position: relative !important;\r\n    }\r\n    \r\n    .input-wrap input.col-sm-2 {\r\n        width: 16.66667% !important;\r\n        margin-right: 0px !important;\r\n    }\r\n    \r\n    .input-action.custom-size {\r\n        margin-left: 8px;\r\n        position: relative !important;\r\n    }\r\n    \r\n    .input-action.custom-size:not(:last-child) {\r\n        top: -20px;\r\n    } </style> <div data-ng-controller="eventsController as c"> <div class="row" data-ng-if="c.isEventNumberVisible"> <div class="input-wrap"> <label translate="picklist.event.maintenance.number"></label> <label class="col-sm-1" name="eventNumber">{{vm.entry.key}}</label> </div> </div> <div class="row"> <ip-text-field name="description" label="picklist.event.maintenance.description" ng-model="c.formData.description" ng-class="{edited: c.formData.isDirty(\'description\')}" ip-required ng-maxlength="100" ip-autofocus ng-disabled="c.isReadOnly"></ip-text-field> </div> <div class="row"> <ip-text-field name="code" label="picklist.event.maintenance.code" ng-model="c.formData.code" class="half-length" ng-class="{edited: c.formData.isDirty(\'code\')}" ng-maxlength="10" ng-disabled="c.isReadOnly"></ip-text-field> </div> <div class="row"> <div class="input-wrap" ng-class="{required: !c.formData.unlimitedCycles, \'error\': c.formData.isDirty(\'maxCycles\') && !vm.maintenance.maxCycles.$valid || vm.entry.$error(\'maxCycles\')}"> <label translate="picklist.event.maintenance.maxCycles"></label> <input type="number" name="maxCycles" class="col-sm-2 pull-left custom-size" data-ng-model="c.formData.maxCycles" data-ng-class="{edited: c.formData.isDirty(\'maxCycles\')}" data-ng-disabled="c.formData.unlimitedCycles || !c.canEnterMaxCycles && c.isReadOnly" required="!c.formData.unlimitedCycles" ng-maxlength="4" min="1" max="9999"/> <span class="input-action tooltip-error custom-size" data-ng-if="!c.formData.unlimitedCycles && !vm.maintenance.maxCycles.$valid || vm.entry.$error(\'maxCycles\')"> <span data-ng-if="vm.maintenance.maxCycles.$error.required" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate}}" tooltip-class="tooltip-error"></span> <span data-ng-if="vm.maintenance.maxCycles.$error.max" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.max\' | translate:{ max: 9999 } }}" tooltip-class="tooltip-error"> </span> <span data-ng-if="vm.maintenance.maxCycles.$error.min" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.min\' | translate:{ min: 1 } }}" tooltip-class="tooltip-error"> </span> </span> <ip-checkbox name="unlimitedCycles" label="picklist.event.maintenance.unlimited" ng-model="c.formData.unlimitedCycles" ng-value="true" ng-class="{edited: c.formData.isDirty(\'unlimitedCycles\')}" ng-click="c.toggleMaxCycle($event)" ng-disabled="c.isReadOnly"></ip-checkbox> </div> </div> <div class="row"> <ip-text-field multiline name="notes" label="picklist.event.maintenance.notes" ng-model="c.formData.notes" ng-maxlength="254" ng-class="{edited: c.formData.isDirty(\'notes\')}" ng-disabled="c.isReadOnly"></ip-text-field> </div> <div class="text-wrap"> <span class="label-legend" translate="picklist.event.maintenance.importanceLevels"></span> </div> <div class="row"> <div class="input-wrap required" ng-class="{\'error\': c.isReady && !c.formData.internalImportance}"> <label translate="picklist.event.maintenance.internalImportance"></label> <select name="internalImportance" class="pull-left" ng-options="i.id as i.name for i in c.supportData.importanceLevels" ng-model="c.formData.internalImportance" ng-class="{edited: c.formData.isDirty(\'internalImportance\')}" ng-change="c.setClientImportance()" ng-disabled="c.isReadOnly"> <option value="" ng-if="!c.formData.internalImportance"></option> </select> <span class="input-action tooltip-error" data-ng-if="c.isReady && !c.formData.internalImportance"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate }}" tooltip-class="tooltip-error"> </span> </span> </div> </div> <div class="row"> <div class="input-wrap required" ng-class="{ \'error\': c.isReady && !c.formData.clientImportance }"> <label translate="picklist.event.maintenance.clientImportance"></label> <select name="clientImportance" class="pull-left" ng-options="i.id as i.name for i in c.supportData.importanceLevels" ng-model="c.formData.clientImportance" ng-class="{edited: c.formData.isDirty(\'clientImportance\')}" ng-disabled="c.isReadOnly"> <option value="" ng-if="!c.formData.clientImportance"></option> </select> <span class="input-action tooltip-error" data-ng-if="c.isReady && !c.formData.clientImportance"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate }}" tooltip-class="tooltip-error"> </span> </span> </div> </div> <div class="text-wrap"> <span class="label-legend" translate="picklist.event.maintenance.characteristics"></span> </div> <div class="row"> <ip-typeahead name="category" data-config="eventCategory" ng-model="c.formData.category" ng-class="{edited: c.formData.isDirty(\'category\')}" ng-disabled="c.isReadOnly" data-picklist-can-maintain="true"></ip-typeahead> </div> <div class="row"> <ip-typeahead name="eventGroup" data-config="eventGroup" data-label="picklist.event.maintenance.group" ng-model="c.formData.group" ng-class="{edited: c.formData.isDirty(\'group\')}" data-picklist-can-maintain="true" ng-disabled="c.isReadOnly"></ip-typeahead> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span class="col-sm-6"></span> <ip-checkbox name="isAccountingEvent" ng-model="c.formData.isAccountingEvent" label="picklist.event.maintenance.accountingEvent" ng-value="true" ng-class="{edited: c.formData.isDirty(\'isAccountingEvent\')}" ng-disabled="c.isReadOnly"></ip-checkbox> <ip-inline-dialog data-title="{{:: \'picklist.event.maintenance.accountingEvent\' | translate}}" data-content="{{:: \'picklist.event.maintenance.accountingEventInfo\' | translate}}"></ip-inline-dialog> </div> </div> <div class="row"> <div class="text-wrap col-sm-3"> <span class="label-legend" translate="picklist.event.maintenance.sharedEventNotes"> </span> </div> <div class="col-sm-9"> <ip-inline-dialog data-title="{{:: \'picklist.event.maintenance.sharedEventNotes\' | translate}}" data-content="{{:: \'picklist.event.maintenance.sharedEventNotesInfo\' | translate}}"></ip-inline-dialog> </div> </div> <div class="row"> <ip-typeahead name="notesGroup" data-config="eventNoteGroup" data-label="picklist.event.maintenance.eventNoteGroup" ng-model="c.formData.notesGroup" ng-class="{edited: c.formData.isDirty(\'notesGroup\')}" data-picklist-can-maintain="true" ng-disabled="c.isReadOnly"></ip-typeahead> </div> <div class="row"> <div class="input-wrap-group"> <span class="input-wrap"></span> <ip-radio-button name="sharedByCurrentCycle" label="picklist.event.maintenance.shareCurrentCycle" ng-value="false" ng-model="c.formData.notesSharedAcrossCycles" ng-class="{edited: c.formData.isDirty(\'notesSharedAcrossCycles\')}" ng-disabled="c.isReadOnly"></ip-radio-button> <ip-radio-button name="sharedByAllCycles" label="picklist.event.maintenance.shareAllCycles" ng-value="true" ng-model="c.formData.notesSharedAcrossCycles" ng-class="{edited: c.formData.isDirty(\'notesSharedAcrossCycles\')}" ng-disabled="c.isReadOnly"></ip-radio-button> </div> </div> <div class="text-wrap"> <span class="label-legend" translate="picklist.event.maintenance.policing"></span> </div> <div class="row"> <div class="col-sm-11"> <ip-typeahead name="controllingAction" data-picklist-can-maintain="true" data-config="action" data-label="picklist.event.maintenance.controllingAction" ng-model="c.formData.controllingAction" ng-class="{edited: c.formData.isDirty(\'controllingAction\')}" ng-disabled="c.isReadOnly"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-11"> <ip-typeahead name="draftCaseEvent" data-config="event" data-label="picklist.event.maintenance.draftCaseEvent" ng-model="c.formData.draftCaseEvent" ng-class="{edited: c.formData.isDirty(\'draftCaseEvent\')}" data-picklist-can-maintain="false" ng-disabled="c.isReadOnly"></ip-typeahead> </div> <div class="col-sm-1"> <ip-inline-dialog data-title="{{:: \'picklist.event.maintenance.draftCaseEvent\' | translate}}" data-content="{{:: \'picklist.event.maintenance.draftCaseEventInfo\' | translate}}"></ip-inline-dialog> </div> </div> <div class="row"> <div class="input-wrap-group"> <span class="input-wrap"></span> <ip-checkbox name="recalcEventDate" ng-model="c.formData.recalcEventDate" label="picklist.event.maintenance.allowDateRecalc" ng-value="true" ng-class="{edited: c.formData.isDirty(\'recalcEventDate\')}" ng-disabled="c.isReadOnly"></ip-checkbox> </div> <div class="input-wrap-group"> <span class="input-wrap"></span> <ip-checkbox name="suppressCalculation" ng-model="c.formData.suppressCalculation" label="picklist.event.maintenance.suppressDueDateCalc" ng-value="true" ng-class="{edited: c.formData.isDirty(\'suppressCalculation\')}" ng-disabled="c.isReadOnly"></ip-checkbox> </div> <div class="input-wrap-group"> <span class="input-wrap"></span> <ip-checkbox name="allowPoliceImmediate" ng-model="c.formData.allowPoliceImmediate" label="picklist.event.maintenance.allowPoliceImmediate" ng-value="true" ng-class="{edited: c.formData.isDirty(\'allowPoliceImmediate\')}" ng-disabled="c.isReadOnly"></ip-checkbox> </div> </div> </div>'),e.put("condor/picklists/event-categories/event-categories.html",'<div translate-namespace="picklist.eventCategory" data-ng-controller="eventCategoriesController as c"> <div class="row"> <ip-text-field name="name" label=".name" ng-model="vm.entry.name" ng-class="{edited: vm.maintenance.name.$dirty}" ip-required ng-maxlength="50" ip-autofocus ip-field-error="{{vm.entry.$error(\'name\').message | translate}}" ng-disabled="vm.maintenanceState === \'viewing\'"></ip-text-field> </div> <div class="row"> <ip-text-field name="description" label=".description" ng-model="vm.entry.description" ng-class="{edited: vm.maintenance.description.$dirty}" ng-maxlength="254" multiline rows="3" ng-disabled="vm.maintenanceState === \'viewing\'"></ip-text-field> </div> <div class="row"> <ip-typeahead name="imageDescription" label=".image" ng-class="{edited: vm.maintenance.imageDescription.$dirty}" data-config="images" ng-model="vm.entry.imageData" ip-required ng-disabled="vm.maintenanceState === \'viewing\'" data-extend-query="c.eventCategoryImages.extendQuery" ip-field-error="{{vm.entry.$error(\'imageDescription\').message | translate}}"></ip-typeahead> <div class="input-wrap-group"> <span></span> <div class="input-wrap col-sm-6"> <img ng-if="vm.entry.imageData" ng-src="data:image/jpeg;base64,{{vm.entry.imageData.image}}" style="max-width: 420px"> </div> </div> </div> </div> '),e.put("condor/picklists/instruction-types/instruction-types.html",'<div data-ng-controller="instructionTypesController as itCtrl"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label="picklist.instructiontype.Code" ng-model="vm.entry.code" data-ng-maxlength="3" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label="picklist.instructiontype.Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-dropdown ip-required ng-class="{edited: vm.maintenance.recordedAgainst.$dirty}" name="recordedAgainst" label="picklist.instructiontype.RecordedAgainst" ng-model="vm.entry.recordedAgainstId" options="nt.key as nt.value for nt in itCtrl.nameTypes"> </ip-dropdown> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-dropdown ng-class="{edited: vm.maintenance.restrictedBy.$dirty}" name="restrictedBy" label="picklist.instructiontype.RestrictedBy" ng-model="vm.entry.restrictedById" options="nt.key as nt.value for nt in itCtrl.nameTypes"> </ip-dropdown> </div> </div> </div> '),e.put("condor/picklists/instructions/instructions.html",'<div data-ng-controller="instructionsController as iCtrl" ng-init="iCtrl.init(vm.maintenanceState, vm.entry)"> <div class="row"> <div class="col-sm-8"> <div class="input-wrap required" data-ng-class="{ \'error\': vm.maintenance.description.$touched || !vm.maintenance.description.$pristine && !vm.maintenance.description.$valid || vm.entry.$error(\'description\')}"> <label translate="picklist.instruction.Description"></label> <input name="description" data-ng-model="vm.entry.description" type="text" required="required" data-ng-class="{\'edited\': vm.maintenance.description.$dirty }" data-ng-maxlength="50" ip-autofocus> <span data-ng-if="vm.maintenance.description.$touched || !vm.maintenance.description.$pristine && !vm.maintenance.description.$valid || vm.entry.$error(\'description\')"> <span data-ng-if="vm.maintenance.description.$error.required" class="input-action tooltip-error" data-tooltip-placement="right" ip-tooltip="{{::\'field.errors.required\' | translate }}"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.maintenance.description.$error.maxlength" class="input-action tooltip-error" data-tooltip-placement="right" ip-tooltip="{{::\'field.errors.maxlength\' | translate:{ length: 50 } }}"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.entry.$error(\'description\')" class="input-action tooltip-error" data-tooltip-placement="right" ip-tooltip="{{ vm.entry.$error(\'description\').message | translate }}"> <icon name="exclamation-triangle"></icon> </span> </span> </div> </div> </div> <div class="row"> <div class="col-sm-8"> <div class="input-wrap required" data-ng-class="{ \'error\': !vm.maintenance.type.$touched && !vm.maintenance.type.$valid || vm.entry.$error(\'typeId\') }"> <label translate="picklist.instruction.TypeDescription"></label> <select name="type" required="required" data-ng-options="it.id as it.description for it in iCtrl.instructionTypes" data-ng-model="vm.entry.typeId" data-ng-class="{\'edited\': vm.maintenance.type.$dirty}"> </select> <span data-ng-if="!vm.maintenance.type.$touched && !vm.maintenance.type.$valid || vm.entry.$error(\'typeId\')" class="input-action tooltip-error" data-tooltip-placement="right" ip-tooltip="{{ vm.entry.$error(\'typeId\').message | translate }}"> <icon name="exclamation-triangle"></icon> </span> </div> </div> </div> </div> '),e.put("condor/picklists/nametypegroup/nametypegroup.html",'<div data-ng-controller="nametypegroupController as c"> <div translate-namespace="picklist.nametypegroup"> <div class="row"> <div class="col-sm-12"> <ip-text-field name="groupName" ip-required ip-autofocus label=".groupName" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.groupName.$dirty}" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"> </ip-text-field> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-typeahead id="nametype-picklist" data-multiselect data-label=".members" name="nameType" data-config="nameType" ng-model="vm.entry.nameType" ng-class="{edited: vm.maintenance.nameType.$dirty}"> </ip-typeahead> </div> </div> </div> </div>'),
e.put("condor/picklists/property-types/property-types.html",'<div data-ng-controller="propertyTypesController as c" translate-namespace="picklist.propertytype" ng-if="!vm.externalScope[(vm.entity || \'combination\')]()"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="1" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" ng-class="{edited: vm.maintenance.value.$dirty}" data-ng-maxlength="50" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-dropdown required label=".maintenance.allowSubClass" name="allowSubClass" ng-model="vm.entry.allowSubClass" options="option.key as option.value for option in c.subClassType" ng-class="{edited: vm.maintenance.allowSubClass.$dirty}" ng-change="c.allowSubClassChange(vm.maintenanceState)"> </ip-dropdown> </div> <ip-inline-dialog data-content="{{::\'picklist.propertytype.maintenance.allowSubClassInfoMessage\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div data-ng-if="vm.entry.crmOnly || vm.maintenanceState === \'viewing\'" class="row"> <div class="col-sm-8"> <div class="input-wrap-group"> <span class="input-wrap"></span> <ip-checkbox name="crmOnly" ng-model="vm.entry.crmOnly" label=".maintenance.crmOnly" ng-disabled="true" ng-class="{edited: vm.maintenance.crmOnly.$dirty}"></ip-checkbox> </div> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="imageDescription" label=".Icon" ng-class="{edited: vm.maintenance.imageDescription.$dirty}" data-config="images" ng-model="vm.entry.imageData" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'imageDescription\').message | translate}}" data-extend-query="c.propertyTypeImages.extendQuery"></ip-typeahead> <div class="input-wrap-group"> <span></span> <div class="input-wrap col-sm-6"> <img ng-if="vm.entry.imageData" ng-src="data:image/jpeg;base64,{{vm.entry.imageData.image}}" style="max-width: 420px"> </div> </div> </div> </div> </div> <div ng-if="!!vm.externalScope[(vm.entity || \'combination\')]()"> <ip-valid-picklist-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-can-maintain="false" data-entity-type="propertyType"></ip-valid-picklist-maintenance> </div>'),e.put("condor/picklists/relationships/relationships.html",'<div data-ng-controller="relationshipController as rCtrl"> <div translate-namespace="picklist.relationship"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="3" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" ng-class="{edited: vm.maintenance.value.$dirty}" data-ng-maxlength="50" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-typeahead class="col-sm-8" name="fromEvent" ng-model="vm.entry.fromEvent" data-config="event" data-label=".fromEvent" data-picklist-can-maintain="true" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.fromEvent.$dirty}" ng-change="rCtrl.onEventChange(vm.entry, \'fromEvent\', vm.maintenance)" ip-field-error="{{vm.entry.$error(\'fromEvent\').message}}"></ip-typeahead> <ip-inline-dialog class="col-sm-1" data-content="{{::\'picklist.relationship.fromEventHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div> <ip-typeahead class="col-sm-8" name="toEvent" ng-model="vm.entry.toEvent" data-config="event" data-label=".toEvent" data-picklist-can-maintain="true" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.toEvent.$dirty}" ng-change="rCtrl.onEventChange(vm.entry, \'toEvent\', vm.maintenance)" ip-field-error="{{vm.entry.$error(\'toEvent\').message}}"></ip-typeahead> </div> <ip-inline-dialog class="col-sm-1" data-content="{{::\'picklist.relationship.toEventHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div> <ip-typeahead class="col-sm-8" name="displayEvent" ng-model="vm.entry.displayEvent" data-config="event" data-label=".displayEvent" data-picklist-can-maintain="true" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.displayEvent.$dirty}"></ip-typeahead> <ip-inline-dialog class="col-sm-1" data-content="{{::\'picklist.relationship.displayEventHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field multiline name="notes" label=".notes" ng-model="vm.entry.notes" ng-class="{edited: vm.maintenance.notes.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-4 col-sm-offset-3"> <ip-checkbox name="earliestDateFlag" ng-model="vm.entry.earliestDateFlag" label=".earliestDateFlag" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.earliestDateFlag.$dirty}"></ip-checkbox> <ip-inline-dialog class="col-sm-offset-1" data-content="{{::\'picklist.relationship.earliestDataFlagHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div class="col-sm-3 col-sm-offset-3"> <ip-checkbox name="pointsToParent" ng-model="vm.entry.pointsToParent" label=".pointsToParent" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.pointsToParent.$dirty}"></ip-checkbox> </div> <ip-inline-dialog data-content="{{::\'picklist.relationship.pointsToParentHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="col-sm-3 col-sm-offset-3"> <ip-checkbox name="showFlag" ng-model="vm.entry.showFlag" label=".showFlag" ng-disabled="vm.maintenanceState === \'viewing\'" ng-init="rCtrl.init(vm)" ng-class="{edited: vm.maintenance.showFlag.$dirty}"></ip-checkbox> </div> <ip-inline-dialog data-content="{{::\'picklist.relationship.showFlagHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="col-sm-3 col-sm-offset-3"> <ip-checkbox name="reportPriorArt" ng-model="vm.entry.priorArtFlag" label=".reportPriorArt" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.reportPriorArt.$dirty}"></ip-checkbox> </div> <ip-inline-dialog data-content="{{::\'picklist.relationship.reportPriorArtHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div>'),e.put("condor/picklists/tablecodes/tablecodes.html",'<div data-ng-controller="tableCodesController as c" translate-namespace="picklist.tablecode"> <div class="row" ng-if="vm.maintenanceState === \'viewing\' || vm.maintenanceState === \'updating\'"> <div class="input-wrap"> <label translate=".id"></label> <label class="col-sm-1" name="eventNumber">{{vm.entry.key}}</label> </div> </div> <div class="row"> <ip-text-field name="value" ip-required ip-autofocus label=".description" ng-model="vm.entry.value" data-ng-maxlength="80" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}" multiline rows="3"></ip-text-field> </div> <div class="row"> <ip-text-field name="code" label=".userCode" ng-model="vm.entry.code" data-ng-maxlength="50" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}" multiline rows="3"></ip-text-field> </div> </div> '),e.put("condor/picklists/sub-types/sub-types.html",'<div translate-namespace="picklist.subtype" data-ng-controller="subTypesController as aCtrl"> <div ng-if="!vm.externalScope[(vm.entity || \'combination\')]()"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="code" ip-required ip-autofocus label=".Code" ng-model="vm.entry.code" data-ng-maxlength="2" ng-disabled="vm.maintenanceState === \'updating\' || vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.maintenance.code.$dirty}" ip-field-error="{{vm.entry.$error(\'code\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-text-field name="value" ip-required label=".Description" ng-model="vm.entry.value" data-ng-maxlength="50" ng-class="{edited: vm.maintenance.value.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'" ip-field-error="{{vm.entry.$error(\'value\').message | translate}}"></ip-text-field> </div> </div> </div> <div ng-if="!!vm.externalScope[(vm.entity || \'combination\')]()"> <ip-valid-picklist-maintenance data-model="vm.entry" data-maintenance="vm.maintenance" data-state="vm.maintenanceState" data-can-maintain="false" data-entity-type="subtype" update-item="vm.updateListItemFromMaintenance"></ip-valid-picklist-maintenance> </div> </div>'),e.put("condor/picklists/tags/tags.html",'<div data-ng-controller="tagsController as c"> <div translate-namespace="picklist.tags"> <div class="row"> <div class="col-sm-8"> <ip-text-field name="tagName" ip-required ip-autofocus label=".TagName" ng-model="vm.entry.tagName" data-ng-maxlength="30" ng-class="{edited: vm.maintenance.tagName.$dirty}" ip-field-error="{{vm.entry.$error(\'tagName\').message | translate}}"> </ip-text-field> </div> </div> </div> </div>'),e.put("condor/processing/exchange/requests.html",'<ip-sticky-header> <ip-page-title page-title="exchangeIntegration.title" page-subtitle="exchangeIntegration.queue.title"> <action-buttons> <button id="configure" class="btn cpa-icon-wrench pull-right" ui-sref="exchangeSettings"> <span translate="exchangeIntegration.settings.link"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div class="table-container" ip-resize-handler resize-handler-type="Panel"> <ip-kendo-grid data-id="exchangeRequestList" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> '),e.put("condor/portfolio/cases/case-image.html",'<div> <img ng-if="vm.isThumbnail" ng-src="data:image/PNG;base64,{{vm.image}}" alt="{{vm.imageTitle}}" kendo-tooltip k-options="vm.tooltipOptions" class="case-image-thumbnail" ng-class="{\'img-responsive\': vm.isResponsive}" ng-mouseleave="vm.mouseOff()" ng-click="vm.mouseClick()"> <div ng-if="!vm.isThumbnail"> <img ng-src="data:image/PNG;base64,{{vm.image}}" alt="{{vm.imageTitle}}"> </div> </div>'),e.put("condor/portfolio/cases/due-date.html",'<span ng-if="vm.isOverdue && !vm.isToday" class="text text-red-dark tooltip-error ip-hover-help" ip-tooltip="{{::\'cases.eventOverdue\' | translate }}">{{vm.date | localeDate}}</span> <span ng-if="vm.isOverdue && vm.isToday" class="text text-black-bold ip-hover-help" ip-tooltip="{{::\'cases.dueToday\' | translate }}">{{vm.date | localeDate}}</span> <span ng-if="!vm.isOverdue && !vm.showToolTip" class="text">{{vm.date | localeDate}}</span> <span ng-if="!vm.isOverdue && vm.showToolTip" ip-tooltip="{{::\'cases.dueDate\' | translate }}" class="text ip-hover-help text-blue-inherited">{{vm.date | localeDate}}</span>'),e.put("condor/classic/caseComparison/doctemplates/available-documents.html",'<div class="import-documents" data-ng-show="documentsViewData.length && viewData.case"> <div class="widget-box"> <div class="topic-header header-color-blue"> <h1> {{ \'caseComparison.ccHeadingAvailableDocuments\' | translate }} </h1> </div> <div data-ng-controller="availableDocumentsController"> <div class="widget-main no-padding"> <div class="row"> <div class="col-xs-12"> <div ng-include="docTemplate"></div> </div> </div> </div> </div> </div> <div class="space-10"></div> </div>'),e.put("condor/classic/caseComparison/doctemplates/document-description-template.html",'<div class="text-left" ng-if="!documentCanBeDownloaded(d)">{{d.description}}</div> <a href="{{ downloadLink(d) }}" target="_blank" ng-if="documentCanBeDownloaded(d)">{{d.description}}</a> <div class="text-left" data-ng-show="d.eventUpdatedDescription"> <span class="text-muted"><span>{{ \'caseComparison.ccEventUpdated\' | translate }}: </span>{{ d.eventUpdatedDescription }}<span class="text-muted" data-ng-show="d.eventUpdatedCycle"><span>, {{ \'caseComparison.ccEventUpdatedCycle\' | translate }}</span> {{ d.eventUpdatedCycle }}</span></span> </div> '),e.put("condor/classic/caseComparison/doctemplates/epo-documents.html",'<table class="table table-hover table-striped"> <thead> <tr> <th class="text-center cc-datecolumn" nowrap="nowrap">{{ \'caseComparison.ccLblEpoDocumentDate\' | translate }}</th> <th style="width:auto">{{ \'caseComparison.ccLblEpoDocumentType\' | translate }}</th> <th class="text-center" style="width:15%">{{ \'caseComparison.ccLblEpoDocumentProcedure\' | translate }}</th> <th class="text-center" style="width:15%">{{ \'caseComparison.ccLblEpoNumberOfPages\' | translate }}</th> <th style="width:120px" data-ng-show="!viewData.errors">&nbsp;</th> </tr> </thead> <tbody> <tr data-ng-repeat="d in documentsViewData" ng-class="{\'cc-redRow\': documentHasErrors(d)}"> <td class="text-center cc-datecolumn">{{d.mailRoomDate | localeDate}}</td> <td> <div ng-include="\'condor/classic/caseComparison/doctemplates/document-description-template.html\'"></div> </td> <td class="text-center">{{d.category}}</td> <td class="text-center">{{d.pageCount}}</td> <td class="text-center" ng-show="!viewData.errors"> <span data-ng-if="d.status == \'Failed\'" class="btn btn-danger cc-fixedwidth" ng-click="setErrors(d.errors)">{{ \'caseComparison.ccDocDownloadFailed\' | translate }} </span> <span data-ng-if="d.status == \'Downloaded\'"> <button data-ng-if="!d.imported && viewData.updateable" class="btn btn-info diff" ng-click="importDocument(d)">{{ \'caseComparison.ccBtnAttach\' | translate }}</button> <span data-ng-if="d.imported" class="btn disabled">{{ \'caseComparison.ccLblAttached\' | translate }}</span> <span data-ng-if="!d.imported && !viewData.updateable" class="btn disabled">{{ \'caseComparison.ccLblNotAttached\' | translate }}</span> </span> </td> </tr> </tbody> </table>'),e.put("condor/classic/caseComparison/doctemplates/uspto-private-pair-documents.html",'<table class="table table-hover table-striped"> <thead> <tr> <th class="text-center cc-datecolumn" nowrap="nowrap">{{ \'caseComparison.ccLblUsptoPrivatePairMailRoomDate\' | translate }}</th> <th class="text-center" style="width:14%">{{ \'caseComparison.ccLblDocumentCode\' | translate }}</th> <th style="width:auto">{{ \'caseComparison.ccLblDocumentDescription\' | translate }}</th> <th class="text-center" style="width:15%">{{ \'caseComparison.ccLblDocumentCategory\' | translate }}</th> <th class="text-center" style="width:10%">{{ \'caseComparison.ccLblPageCount\' | translate }}</th> <th style="width:120px" data-ng-show="!viewData.errors"> <button data-ng-if="canSendAllToDms()" data-ng-click="sendAllToDms()" class="btn btn-info diff" id="sendAllButton">{{ \'caseComparison.ccBtnSendAllToDms\' | translate }}</button> </th> </tr> </thead> <tbody> <tr data-ng-repeat="d in documentsViewData" ng-class="{\'cc-redRow\': documentHasErrors(d)}"> <td class="text-center cc-datecolumn">{{d.mailRoomDate | localeDate}}</td> <td class="text-center">{{d.code}}</td> <td> <div ng-include="\'condor/classic/caseComparison/doctemplates/document-description-template.html\'"></div> </td> <td class="text-center">{{d.category}}</td> <td class="text-center">{{d.pageCount}}</td> <td class="text-center" ng-show="!viewData.errors" data-ng-switch="documentStatus(d)"> <span data-ng-switch-when="Failed" class="btn btn-danger cc-fixedwidth" ng-click="setErrors(d.errors)">{{ \'caseComparison.ccDocDownloadFailed\' | translate }}</span> <span data-ng-switch-when="FailedToSendToDms" class="btn btn-danger cc-fixedwidth" ng-click="setErrors(d.errors)">{{ \'caseComparison.ccDocSendToDmsFailed\' | translate }}</span> <button data-ng-switch-when="Attach" class="btn btn-info diff" ng-click="importDocument(d)">{{ \'caseComparison.ccBtnAttach\' | translate }}</button> <span data-ng-switch-when=""></span> <span data-ng-switch-default class="btn disabled">{{ \'caseComparison.ccLbl\' + documentStatus(d) | translate }}</span> </td> </tr> </tbody> </table>'),e.put("condor/classic/caseComparison/doctemplates/uspto-tsdr-documents.html",'<table class="table table-hover table-striped"> <thead> <tr> <th class="text-center cc-datecolumn" nowrap="nowrap">{{ \'caseComparison.ccLblUsptoTsdrMailDate\' | translate }}</th> <th style="width:auto">{{ \'caseComparison.ccLblUsptoTsdrDocumentDescription\' | translate }}</th> <th class="text-center" style="width:15%">{{ \'caseComparison.ccLblUsptoTsdrDocumentCode\' | translate }}</th> <th style="width:120px" data-ng-show="!viewData.errors"> <button data-ng-if="canSendAllToDms()" data-ng-click="sendAllToDms()" class="btn btn-info diff" id="sendAllButton">{{ \'caseComparison.ccBtnSendAllToDms\' | translate }}</button> </th> </tr> </thead> <tbody> <tr data-ng-repeat="d in documentsViewData" ng-class="{\'cc-redRow\': documentHasErrors(d)}"> <td class="text-center cc-datecolumn">{{d.mailRoomDate | localeDate}}</td> <td> <div ng-include="\'condor/classic/caseComparison/doctemplates/document-description-template.html\'"></div> </td> <td class="text-center">{{d.category}}</td> <td class="text-center" ng-show="!viewData.errors" data-ng-switch="documentStatus(d)"> <span data-ng-switch-when="Failed" class="btn btn-danger cc-fixedwidth" ng-click="setErrors(d.errors)">{{ \'caseComparison.ccDocDownloadFailed\' | translate }}</span> <span data-ng-switch-when="FailedToSendToDms" class="btn btn-danger cc-fixedwidth" ng-click="setErrors(d.errors)">{{ \'caseComparison.ccDocSendToDmsFailed\' | translate }}</span> <button data-ng-switch-when="Attach" class="btn btn-info diff" data-ng-click="importDocument(d)">{{ \'caseComparison.ccBtnAttach\' | translate }}</button> <span data-ng-switch-when=""></span> <span data-ng-switch-default class="btn disabled">{{ \'caseComparison.ccLbl\' + documentStatus(d) | translate }}</span> </td> </tr> </tbody> </table>'),e.put("condor/classic/integration/externalApplication/external-application-description.html","<div> <span> <strong>{{ vm.model.name }} </strong> </span> <div class=\"text-muted\"> <strong>{{ 'externalApplication.iealblToken' | translate }}:</strong>&nbsp; {{vm.model.token}} </div> <div class=\"text-muted\"> <strong>{{ 'externalApplication.iealblActive' | translate }}:</strong>&nbsp; {{vm.model.isActive ? ('externalApplication.iealblYes' | translate) : ('externalApplication.iealblNo' | translate) }} </div> <div class=\"text-muted\"> <strong>{{ 'externalApplication.iealblExpiredDate' | translate }}:</strong>&nbsp; {{vm.model.expiryDate | date : dd-MMM-yyyy}} </div> </div>"),e.put("condor/classic/integration/externalApplication/external-application-token-edit.html",'<div class="modal-header"> <h2 class="modal-title"> <div> {{\'externalApplication.iealblEdit\' | translate}} </div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body" ng-form="vm.form" ip-form> <div class="row"> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label for="token">{{\'externalApplication.iealblName\' | translate}}</label> <span id="token" ng-bind="::vm.externalApp.name"></span> </div> </div> </div> <div class="row"> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label for="token">{{\'externalApplication.iealblToken\' | translate}}</label> <span id="token" ng-bind="::vm.externalApp.token"></span> </div> </div> </div> <div class="row"> <div class="input-wrap"> <ip-datepicker id="expiryDate" name="expiryDate" ng-model="vm.selectedDate" later-than="vm.minStartDate" label="{{\'externalApplication.iealblExpiredDate\' | translate}}"></ip-datepicker> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span></span> <div class="input-wrap" ng-class="{\'edited\': vm.form.isActive.$dirty}"> <input type="checkbox" id="isActive" name="isActive" ng-model="vm.externalApp.isActive"/> <label for="isActive">{{\'externalApplication.iealblActive\' | translate}}</label> </div> </div> </div> </div>'),e.put("condor/classic/integration/externalApplication/external-application-token.html",'<style> .external-application-button {\r\n        margin-right: 8px;\r\n        margin-top: 8px;\r\n        min-width: 100px;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="{{ \'externalApplication.iealblTitle\' | translate }}"></ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12 chart-container"> <div class="table-container"> <div class="table-title"> <h2 translate="{{ \'externalApplication.iealblTableTitle\' | translate }}"></h2> <span style="margin-left: 8px;"> <ip-inline-dialog placement="right" data-content="{{ \'externalApplication.iealblSubtitle\' | translate }}"></ip-inline-dialog> </span> </div> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions" data-search-hint="{{ :: \'dataDownload.uspto.noCertificatesFound\' | translate }}"></ip-kendo-search-grid> </div> </div> </div> </div>'),e.put("condor/classic/integration/ptoaccess/download-type-tooltip.html",'<div> <p> <span translate="dataDownload.newSchedule.initialmatchingverification"></span> </p> <p> <span translate="dataDownload.newSchedule.ongoingVarificationTooltip"></span> </p> </div>'),e.put("condor/classic/integration/ptoaccess/error-details-dialog.html",'<div class="modal-header"> <h2 class="modal-title"> <div translate="dataDownload.schedule.errorDetails"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-close-button data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-inline-alert type="info" text="dataDownload.schedule.errorDetailsSubtitle"></ip-inline-alert> <div class="vertical-scroll"> <div ng-repeat="l in vm.errorDetails.log track by $index"> <br/> <div class="error-panel"><strong>{{l.message}} @ attempt {{l.dispatchCycle}} on <ip-date-time model="l.date"></ip-date-time></strong> </div> <div class="error-stacktrace monospaced"> <div ng-repeat="e in l.exceptionDetails track by $index"> <p>{{e.type}}: {{e.message}}</p> <pre>{{e.details}}</pre> </div> </div> </div> </div> </div>'),e.put("condor/classic/integration/ptoaccess/failure-summary-source.html",'<div data-ng-if="vm.showRecoverableCasesHint()"> <div class="alert alert-warning" style="display:block; margin-bottom: 10px"> <icon name="info-circle"></icon> <span data-ng-show="!vm.recoverPossible">{{::\'dataDownload.failureSummary.recoveryInProgress\' | translate}}</span> <span data-ng-show="vm.recoverPossible">{{::\'dataDownload.failureSummary.total\' | translate}} <a href="javascript:void(0)" data-ng-click="vm.showRecoverableCases()"> <span>{{::vm.failedCount}}</span> case(s) </a> <span data-ng-if="vm.failedDocumentCount>0" data-ng-show="vm.failedDocumentCount && vm.failedCount">, </span> <a href="javascript:void(0)" data-ng-if="vm.failedDocumentCount>0" data-ng-click="vm.showRecoverableDocuments()"> <span>{{::vm.failedDocumentCount}}</span> document(s) </a> {{::\'dataDownload.failureSummary.failedToDownload\' | translate}} <button class="btn btn-sm btn-primary" data-ng-click="vm.recover()">{{::\'dataDownload.schedule.retry\' | translate}}</button> </span> </div> </div> <div ng-repeat="message in vm.scheduleMessages"> <ip-schedule-message-alert data-message="message"></ip-schedule-message-alert> </div> <div style="margin-bottom:10px;" class="row" data-ng-if="vm.showRecoverableCasesHint()"> <ip-kendo-grid data-id="{{::vm.dataSource}}Grid" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/classic/integration/ptoaccess/failure-summary.html",'<ip-sticky-header> <div class="page-title"> <h2> <ip-level-up-button data-to-state="classicPtoAccess.Schedules"></ip-level-up-button> <span> {{ \'dataDownload.schedules.title\' | translate }}  {{ \'dataDownload.failureSummary.title\' | translate }}</span> </h2> </div> </ip-sticky-header> <br/> <br/> <br/> <ip-topics data-options="vm.topicOptions"></ip-topics> <br/>'),e.put("condor/classic/integration/ptoaccess/new-schedule.html",'<div ng-form="vm.form.maintenance" ip-form> <style> .input-group-addon {\r\n            background-color: transparent;\r\n            border: inherit;\r\n            border-radius: 3px;\r\n            color: inherit;\r\n        }\r\n        \r\n        .form-control {\r\n            border-radius: 3px !important;\r\n            height: 25px;\r\n            padding-top: 3px;\r\n            padding-left: 8px;\r\n            font: inherit;\r\n        }\r\n        \r\n        .form-control.edited {\r\n            border: 2px solid #FEB81C !important;\r\n            padding-top: 2px;\r\n            padding-left: 7px;\r\n        }\r\n        \r\n        .form-control:focus {\r\n            transition: none;\r\n            border: 1px solid #ccc;\r\n            border-radius: 3px !important;\r\n            box-shadow: none;\r\n        }\r\n        \r\n        .mandatory-asterisk {\r\n            margin-left: 3px;\r\n            color: #E90101;\r\n        }\r\n        \r\n        .input-action.error .cpa-icon {\r\n            color: #E90101;\r\n        } </style> <div class="modal-header"> <h2 class="modal-title"> <div translate="dataDownload.newSchedule.title"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <h3> <span class="label-legend" translate="dataDownload.schedule.definition"></span> <ip-inline-dialog data-content="{{::\'dataDownload.newSchedule.description\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row" class="input-wrap"> <div> <ip-text-field name="schedule" ip-required label="dataDownload.newSchedule.name" ng-model="vm.schedule.name" ng-class="{\'edited\': vm.form.maintenance.schedule.$dirty}" data-ng-maxlength="50" ip-field-error="{{vm.getError(\'name\').message | translate}}" ip-autofocus></ip-text-field> </div> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.maintenance.selectedDataSource.$dirty}" ip-required name="selectedDataSource" label="dataDownload.newSchedule.dataSource" ng-model="vm.selectedDataSource" options="ad.name for ad in vm.availableDataSources" ip-field-error="{{vm.getError(\'selectedDataSource\').message | translate}}" ng-change="vm.onSelectedDataSourceChanged(vm.selectedDataSource)"> </ip-dropdown> </div> <div ng-if="vm.caseSourceTemplate" data-ng-include="vm.caseSourceTemplate"></div> <div ng-if="vm.downloadTypeTemplate" data-ng-include="vm.downloadTypeTemplate"></div> <ip-schedule-frequency schedule="vm.schedule" maintenance="vm.form.maintenance"></ip-schedule-frequency> </div> </div>'),e.put("condor/classic/integration/ptoaccess/recoverable-dialog.html",'<div class="modal-header"> <h2 class="modal-title"> <div translate="dataDownload.schedule.failures"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-close-button data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-inline-alert type="info" text="dataDownload.schedule.recoverableCasesPrompt"></ip-inline-alert> <div class="table-container" style="padding-top: 10px"> <ip-kendo-search-grid data-id="recoverableCasesGrid" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/classic/integration/ptoaccess/recoverable-documents-dialog.html",'<div class="modal-header"> <h2 class="modal-title"> <div translate="dataDownload.schedule.failures"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-close-button data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-inline-alert type="info" text="dataDownload.schedule.recoverableDocumentsPrompt"></ip-inline-alert> <div class="table-container" style="padding-top: 10px"> <ip-kendo-search-grid data-id="recoverableDocumentsGrid" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/classic/integration/ptoaccess/schedule-case-source-component.html",'<div class="row"> <h3> <span class="label-legend" translate="dataDownload.newSchedule.caseSource"></span> <ip-inline-dialog data-content="{{::\'dataDownload.newSchedule.caseSourceHint\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="savedQuerySelected" name="savedQuerySelected" label="dataDownload.newSchedule.savedQuery" data-config="dataDownloadCaseQueries" ng-model="vm.savedQuerySelected" ip-required ng-change="vm.onPicklistSelectionChanged(\'savedQuerySelected\')" ng-class="{edited: vm.maintenance.savedQuerySelected.$dirty}" data-picklist-can-maintain="false"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="runAsUserSelected" name="runAsUserSelected" label="dataDownload.newSchedule.runAs" data-config="internalUsers" ng-model="vm.runAsUserSelected" ip-required ng-change="vm.onPicklistSelectionChanged(\'runAsUserSelected\')" ng-class="{edited: vm.maintenance.runAsUserSelected.$dirty}" data-picklist-can-maintain="false"> </ip-typeahead> </div>'),e.put("condor/classic/integration/ptoaccess/schedule-case-source.html",'<ip-schedule-case-source schedule="vm.schedule" maintenance="vm.form.maintenance"></ip-schedule-case-source>'),e.put("condor/classic/integration/ptoaccess/schedule-definition.html",'<div class="row"> <div class="input-wrap large readonly-label-value"> <label translate="dataDownload.schedule.name"></label> <span ng-bind="::vm.schedule.name"></span> </div> <div class="input-wrap large readonly-label-value"> <label translate="dataDownload.schedule.source"></label> <span>{{ :: \'dataDownload.dataSource.\' + vm.schedule.dataSource | translate }}</span> </div> <div class="input-wrap large readonly-label-value"> <label ng-if="!vm.hideDetailsLabel" translate="dataDownload.schedule.details"></label> <span data-ng-init="vm.model = vm.schedule" ng-include="vm.template"></span> </div> </div>'),e.put("condor/classic/integration/ptoaccess/schedule-description.html",'<span> <strong><a data-ng-click="vm.details(vm.model.id)" data-ng-class="pointerCursor" data-ng-bind="vm.model.name"></a></strong> <span data-ng-include="vm.model.template"></span> <div class="text-muted"> {{::vm.description}} <span data-ng-show="vm.model.type !== vm.continuousRecurrence"> <span data-ng-show="vm.model.nextRun"> <span translate="dataDownload.schedules.startsAt"></span>: <span data-ng-bind="vm.model.startTime"></span>. </span> </span> <span data-ng-show="vm.model.type === vm.continuousRecurrence"> <span translate="dataDownload.schedules.runsContinuously"></span>. </span> <span data-ng-show="vm.model.expiresAfter"> <br/> <span translate="dataDownload.schedules.expiresAfter"> </span>: <ip-date model="vm.model.expiresAfter"></ip-date> </span> </div> </span>'),e.put("condor/classic/integration/ptoaccess/schedule-download-type-component.html",'<div class="row" data-ng-if="vm.downloadTypes"> <div class="row"> <h3> <span class="label-legend" translate="dataDownload.newSchedule.downloadTypeTitle"></span> <ip-inline-dialog data-ng-if="vm.isDataSourceIpOne" data-template="condor/classic/integration/ptoaccess/download-type-tooltip.html" data-placement="right"></ip-inline-dialog> </h3> </div> <ip-dropdown ng-class="{edited: vm.maintenance.selectedDownloadType.$dirty}" ip-required name="selectedDownloadType" label="dataDownload.newSchedule.downloadType" ng-model="vm.selectedDownloadType" options="option.label for option in vm.downloadTypes track by option.type" data-ng-change="vm.downloadTypeChanged()"> </ip-dropdown> </div>'),
e.put("condor/classic/integration/ptoaccess/schedule-download-type.html",'<ip-schedule-download-type schedule="vm.schedule" maintenance="vm.form.maintenance"></ip-schedule-download-type>'),e.put("condor/classic/integration/ptoaccess/schedule-frequency-component.html",'<div class="row"> <h3> <span class="label-legend" translate="dataDownload.newSchedule.frequency"></span> </h3> </div> <div class="row"> <div class="input-wrap"> <div class="input-wrap-group group-inline"> <label style="margin-top:2px"> <span translate="dataDownload.newSchedule.recurrence"></span><span class="mandatory-asterisk">*</span> </label> <ip-radio-button ng-if="!vm.schedule.isContinuousAvailable" label="dataDownload.newSchedule.recurring" value="{{vm.recurrence.recurring}}" ng-model="vm.schedule.recurrence" name="recurrence2" ng-class="{edited: vm.maintenance.recurrence2.$dirty }" ng-change="vm.recurrenceChanged()"> </ip-radio-button> <ip-radio-button ng-if="!vm.schedule.isContinuousAvailable" label="dataDownload.newSchedule.runOnce" value="{{vm.recurrence.runOnce}}" ng-model="vm.schedule.recurrence" name="recurrence1" ng-class="{edited: vm.maintenance.recurrence1.$dirty }" ng-change="vm.recurrenceChanged()"> </ip-radio-button> <ip-radio-button ng-if="vm.schedule.isContinuousAvailable" label="dataDownload.newSchedule.continuous" value="{{vm.recurrence.continuous}}" ng-model="vm.schedule.recurrence" name="recurrence3" ng-class="{edited: vm.maintenance.recurrence3.$dirty }" ng-change="vm.recurrenceChanged()"> </ip-radio-button> <span ng-if="vm.schedule.continuousDuplicate === true" class="error input-action" style="width: auto; margin-top: -7px"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{ \'dataDownload.newSchedule.errors.duplicate-continuous\' | translate }}" tooltip-class="tooltip-error"></span> </span> </div> </div> <hr/> <div class="row" data-ng-if="vm.schedule.recurrence === vm.recurrence.recurring"> <div class="input-wrap-group group-inline pull-right" style="margin-right:30px; padding-bottom:10px"> <span class="input-wrap" data-ng-repeat="d in vm.availableDays" data-ng-class="{ edited: !d.selected, error: !vm.runOnDaysValid }"> <input type="checkbox" id="dayOptions{{d.day}}" ng-model="d.selected" data-ng-required="!vm.runOnDaysValid"> <label for="dayOptions{{d.day}}"> <span style="padding-right:0px">{{d.name}}</span> </label> </span> <span data-ng-if="!vm.runOnDaysValid" class="error input-action"> <span class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{ \'dataDownload.newSchedule.errors.at-least-one-day-required\' | translate }}" tooltip-class="tooltip-error"></span> </span> </div> </div> <div class="row" data-ng-if="vm.schedule.recurrence === vm.recurrence.recurring"> <div class="form-group input-wrap"> <div class="input-group col-sm-8 col-sm-offset-2" style="padding-right: 51px; padding-left: 30px"> <span class="input-group-addon">{{ \'dataDownload.newSchedule.startTime\' | translate }}</span> <select id="starthour" name="starthour" class="form-control" data-ng-model="vm.selectedHour" data-ng-change="vm.timeSelectionChanged()" data-ng-required ng-class="{edited: vm.timeEdited() }"> <option>00</option> <option>01</option> <option>02</option> <option>03</option> <option>04</option> <option>05</option> <option>06</option> <option>07</option> <option>08</option> <option>09</option> <option>10</option> <option>11</option> <option>12</option> <option>13</option> <option>14</option> <option>15</option> <option>16</option> <option>17</option> <option>18</option> <option>19</option> <option>20</option> <option>21</option> <option>22</option> <option>23</option> </select> <span class="input-group-addon">: </span> <select id="startminute" name="startminute" class="form-control" data-ng-model="vm.selectedMinutes" data-ng-change="vm.timeSelectionChanged()" data-ng-required data-ng-required ng-class="{edited: vm.timeEdited() }"> <option>00</option> <option>05</option> <option>10</option> <option>15</option> <option>20</option> <option>25</option> <option>30</option> <option>35</option> <option>40</option> <option>45</option> <option>50</option> <option>55</option> </select> </div> </div> </div> <div class="row" data-ng-if="vm.schedule.recurrence === vm.recurrence.recurring"> <ip-datepicker style="margin-left:7px" id="expiresAfter" data-is-dirty="vm.schedule.expiresAfter" name="expiresAfter" label="{{ \'dataDownload.newSchedule.expiresAfter\' | translate }}" ng-model="vm.expiresAfter"></ip-datepicker> </div> <div class="row" data-ng-if="vm.schedule.recurrence === vm.recurrence.runOnce"> <ip-checkbox class="col-sm-offset-4" label="{{ \'dataDownload.newSchedule.asSoonAsPossible\' | translate}}" ng-model="vm.schedule.runNow" ng-class="{edited: !vm.schedule.runNow }" ng-change="vm.runNowChanged()"></ip-checkbox> </div> <div class="row" data-ng-if="vm.schedule.recurrence === vm.recurrence.runOnce"> <ip-datepicker style="margin-left:7px" id="runOn" name="runOn" label="{{ \'dataDownload.newSchedule.on\' | translate }}" data-is-dirty="vm.dateEdited()" data-is-disabled="vm.schedule.runNow" ng-model="vm.runOn" data-ng-required="!vm.schedule.runNow && vm.schedule.runOnce"></ip-datepicker> </div> <div class="row" data-ng-if="vm.schedule.recurrence === vm.recurrence.runOnce"> <div class="form-group input-wrap"> <div class="input-group col-sm-8 col-sm-offset-2" style="padding-right: 51px; padding-left: 30px"> <span class="input-group-addon">{{ \'dataDownload.newSchedule.startTime\' | translate }}</span> <select id="runoncestarthour" name="runoncestarthour" class="form-control" data-ng-model="vm.selectedHour" data-ng-change="vm.timeSelectionChanged()" data-ng-disabled="vm.schedule.runNow" data-ng-required ng-class="{edited: vm.timeEdited() }"> <option>00</option> <option>01</option> <option>02</option> <option>03</option> <option>04</option> <option>05</option> <option>06</option> <option>07</option> <option>08</option> <option>09</option> <option>10</option> <option>11</option> <option>12</option> <option>13</option> <option>14</option> <option>15</option> <option>16</option> <option>17</option> <option>18</option> <option>19</option> <option>20</option> <option>21</option> <option>22</option> <option>23</option> </select> <span class="input-group-addon">: </span> <select id="runoncestartminute" name="runoncestartminute" class="form-control" data-ng-model="vm.selectedMinutes" data-ng-change="vm.timeSelectionChanged()" data-ng-disabled="vm.schedule.runNow" data-ng-required ng-class="{edited: vm.timeEdited() }"> <option>00</option> <option>05</option> <option>10</option> <option>15</option> <option>20</option> <option>25</option> <option>30</option> <option>35</option> <option>40</option> <option>45</option> <option>50</option> <option>55</option> </select> </div> </div> </div> </div>'),e.put("condor/classic/integration/ptoaccess/schedule-item.html","<div>{{ vm.model.extension.SavedQueryName }} - {{ 'dataDownload.schedules.runAs' | translate }} {{ vm.model.extension.RunAsUserName }} </div>"),e.put("condor/classic/integration/ptoaccess/schedule-message-alert.html",'<div data-ng-if="vm.message"> <div class="alert alert-info" style="display:block; margin-bottom: 10px"> <icon name="info-circle"></icon> <span> {{::(\'dataDownload.schedule.\' + vm.message.message) | translate}} <a data-ng-if="vm.message.link" href="{{vm.message.link.url}}">{{:: (\'dataDownload.schedule.\' + vm.message.link.text) | translate}}</a> </span> </div> </div>'),e.put("condor/classic/integration/ptoaccess/schedule-recent-history.html",""),e.put("condor/classic/integration/ptoaccess/schedule-recoverable-cases-alert.html",'<div data-ng-if="vm.disabledSchedule" class="alert alert-warning" style="display:block; margin-bottom: 10px"> <icon name="info-circle"></icon> <span>{{::\'dataDownload.failureSummary.disabledSchedule\' | translate}}</span> </div> <div data-ng-if="vm.showRecoverableCasesHint() || vm.showRecoverableDocumentsHint()"> <div class="alert alert-warning" style="display:block; margin-bottom: 10px"> <icon name="info-circle"></icon> <span data-ng-switch="vm.recoveryScheduleStatus"> <span data-ng-switch-when="Pending">{{::\'dataDownload.schedule.recoveryPending\' | translate}}</span> <span data-ng-switch-when="Running">{{::\'dataDownload.schedule.recoveryRunning\' | translate}}</span> <span data-ng-switch-when="Idle" data-ng-show="::vm.recoverableCasesCount || vm.showRecoverableDocumentsHint()">{{::\'There are\' | translate}} <a href="javascript:void(0)" data-ng-show="vm.recoverableCasesCount" data-ng-click="vm.showRecoverableCases()" id="recoverableCasesCount"> <span>{{::vm.recoverableCasesCount}}</span> case(s) </a> <span data-ng-show="vm.recoverableCasesCount && vm.recoverableDocumentsCount">, </span> <a href="javascript:void(0)" data-ng-click="vm.showRecoverableDocuments()" id="recoverableDocumentsCount" data-ng-show="vm.recoverableDocumentsCount"> <span>{{::vm.recoverableDocumentsCount}}</span> document(s) </a> {{::\'dataDownload.schedule.for this Schedule did not download. Click Retry to download.\' | translate}} <button class="btn btn-sm btn-primary" data-ng-click="vm.recover()">{{::\'dataDownload.schedule.retry\' | translate}}</button> </span> </span> </div> </div>'),e.put("condor/classic/integration/ptoaccess/schedule.html",'<ip-sticky-header> <div class="page-title"> <h2> <ip-level-up-button data-to-state="classicPtoAccess.Schedules"></ip-level-up-button> <span> {{ \'dataDownload.schedules.title\' | translate }}  {{ \'dataDownload.schedule.subtitle\' | translate }}</span> </h2> </div> </ip-sticky-header> <br/> <br/> <br/> <ip-topics data-options="vm.topicOptions"> <ip-topics-header> <ip-inline-alert ng-if="vm.viewData.missingBackgroundProcessLoginId" text="{{::\'dataDownload.newSchedule.errors.background-process-loginid\'|translate}}" type="danger"></ip-inline-alert> <ip-schedule-recoverable-cases-alert data-model="vm.viewData"></ip-schedule-recoverable-cases-alert> <ip-schedule-message-alert data-message="vm.viewData.scheduleMessage"></ip-schedule-message-alert> </ip-topics-header> </ip-topics>'),e.put("condor/classic/integration/ptoaccess/schedules.html",'<style> .schedule-button {\r\n        margin-right: 8px;\r\n        margin-top: 8px;\r\n        min-width: 100px;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="dataDownload.schedules.title"> </ip-page-title> </ip-sticky-header> <br> <br> <br> <div ip-resize-handler resize-handler-type="Panel"> <div class="table-container"> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="dataDownload.schedules.schedulesSectionTitle"></h2> <span style="margin-left: 8px;"> <ip-inline-dialog placement="bottom" data-content="{{::\'dataDownload.schedules.subtitle\'|translate}}"></ip-inline-dialog> </span> <div class="pull-right"> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.onAdd()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </div> </div> </div> </div> </div> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions" data-search-hint="{{ :: \'dataDownload.schedules.noSchedulesFound\' | translate }}"></ip-kendo-search-grid> </div> <hr data-ng-if="vm.schedules.length > 0"> <div class="row" data-ng-if="vm.schedules.length > 0"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="dataDownload.schedules.downloadFailureSummary"></h2> </div> </div> </div> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <span translate="dataDownload.schedules.downloadFailureSummaryExplanation"></span> <br/> <br/> <div> <a ui-sref="classicPtoAccess.FailureSummary"> <button id="failureSummary" class="btn btn-prominent clear"> <span translate="dataDownload.schedules.downloadFailureSummaryButton"></span> </button> </a> </div> </div> </div> </div> </div> </div> <br>'),e.put("condor/classic/scripts/controls/datePicker.html",' <ip-datepicker ng-model="bindValue" min-date="minDate"></ip-datepicker> '),e.put("condor/classic/schemaMapping/lists/add-mapping.html",'<style> .header-info {\r\n        float: right;\r\n        margin-right: -20px;\r\n        margin-top: -35px;\r\n    } </style> <div id="createMapping" ng-form="vm.form" translate-namespace="schemaMapping" ip-form> <div class="modal-header"> <h2 class="modal-title" translate=".usTitleAddMapping"></h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button ng-click="vm.save()" id="Save" ng-disabled="!(vm.form.$dirty && vm.form.$valid)"></ip-save-button> <ip-close-button ng-click="vm.dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div class="modal-body"> <div class="container-fluid"> <div class="row"> <ip-text-field name="packageName" label=".usLblForSchema" ng-model="vm.newMapping.schemaPackage.name" ng-disabled="true"> </ip-text-field> </div> <div class="row"> <ip-text-field name="mappingName" label=".usLblMappingName" ng-model="vm.newMapping.mappingName" ip-required auto-focus ip-field-error="{{ vm.newMapping.error | translate }}" ng-class="{\'edited\': vm.form.mappingName.$dirty}" data-ng-change="vm.newMapping.error= null"> </ip-text-field> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.rootNode.$dirty}" name="rootNode" label=".usLblSelectRootNode" ng-model="vm.newMapping.selectedNode" options="nodes.name for nodes in vm.newMapping.rootNodes" class="ip-dropdown" ip-required> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.copyFrom.$dirty}" name="copyFrom" label=".usLblImportMapping" ng-model="vm.newMapping.copyMappingFrom" options="mapping.name for mapping in vm.mappings" class="ip-dropdown"> </ip-dropdown> </div> <div ng-if="vm.newMapping.selectedNode.isDtdFile"> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".usLblIncludeHeader" class="ng-scope"></span> <ip-checkbox ng-model="vm.newMapping.selectedNode.shouldAddDocType" name="shouldAddDocType" ng-class="{edited: vm.form.shouldAddDocType.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <ip-text-field name="fileRef" ng-model="vm.newMapping.selectedNode.fileRef" ng-class="{\'edited\': vm.form.fileRef.$dirty}" ip-required="vm.newMapping.selectedNode.shouldAddDocType" ng-disabled="!vm.newMapping.selectedNode.shouldAddDocType" label="schemaMapping.usLblXmlHeaderToInclude"> </ip-text-field> </div> <div class="row"> <div class="readonly-label-group" ng-if="vm.newMapping.selectedNode.shouldAddDocType"> <div class="input-wrap medium readonly-label-value"> <label style="visibility: hidden">Doc Type</label> <span class="col-sm-7 text-muted">{{vm.getDocTypeText()}}</span> </div> </div> </div> </div> </div> </div></div>'),e.put("condor/classic/schemaMapping/lists/delete-schema-confirmation.html",'<div id="confirmDeleteModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="confirmDeletion"></h2> </div> <div class="modal-body"> <div translate-namespace="schemaMapping"> <p translate=".usLblDeleteSchemaConfirm"></p> <p> <strong>{{ vm.selectedSchemaName }}</strong> </p> <div data-ng-if="vm.relatedMappings.length > 0"> <p translate=".usLblDeleteRelatedMappingsConfirm"></p> <ul ng-repeat="m in vm.relatedMappings track by $index"> <li>{{m}}</li> </ul> </div> <div data-ng-if="!vm.relatedMappings.length"> <p translate=".usLblNoRelatedMappings"></p> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="cancel()" translate="Cancel"></button> <button type="button" class="btn btn-discard" data-ng-click="confirm()" translate="Delete"></button> </div> </div>'),e.put("condor/classic/schemaMapping/lists/mappings-list.html",'<ip-kendo-grid data-id="mappings" data-grid-options="vm.gridOptions" data-search-hint="{{:: \'schemaMapping.usLblNoMappingsSubHeading \' | translate}}"></ip-kendo-grid>'),e.put("condor/classic/schemaMapping/lists/schema-editor.html",'<style> .info-row {\r\n        margin-bottom: 10px;\r\n    }\r\n    \r\n    .details {\r\n        margin-top: 10px;\r\n    } </style> <div id="SchemaMappingAddSchema" ng-form="vm.form" ip-form translate-namespace="schemaMapping"> <div class="modal-header"> <h2 class="modal-title" translate=".usBtnAddSchemaPackage"></h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button ng-click="vm.save()" id="Save" ng-disabled="!(vm.form.$dirty && vm.form.$valid)"></ip-save-button> <ip-close-button ng-click="vm.dismissAll()" id="dismissAll"></ip-close-button> </div> <div class="row"> <ip-inline-alert ng-if="!vm.details.spackage.isValid" type="danger"> <span translate=".spInvalidPackage"></span> <span ng-if="vm.details.error" translate="{{\'.\' + vm.details.error}}"></span> <span ng-if="!vm.details.error" translate=".spErrorUnspecified"></span> </ip-inline-alert> <ip-inline-alert ng-if="vm.details.spackage.isValid" type="success" text=".spValidPackage"> </ip-inline-alert> </div> </div> <div class="modal-body"> <div class="container-fluid"> <div class="row"> <div class="col-sm-5 details"> <ip-text-field name="packageName" ip-required label="schemaMapping.usLblSchema" ng-model="vm.details.spackage.name" ng-class="{\'edited\': vm.form.packageName.$dirty}" data-ng-maxlength="50" ip-autofocus ng-change="vm.nameError = null" ip-field-error="{{vm.nameError | translate}}"> </ip-text-field> </div> <div class="col-sm-7"> <form name="selectFile" class="form-horizontal fullWidth relative" role="form"> <div data-in-drag-and-drop="onSelectFile" class="text-center dropzone alert-info"> <div data-ng-if="status === \'uploading\'" style="margin-left:10px; top:15%" class="relative"> <p class="pull-left">{{ \'.usLblUploading\' | translate: fileName }}</p> <div data-ng-if="status !== \'idle\'" class="progress progress-striped active" style="width:98%"> <div class="progress-bar" role="progressbar" style="width:100%" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100"> </div> </div> </div> <div style="top:10%" class="relative" data-ng-if="status !== \'uploading\'"> <div class="row"> <h3 class="min-margin" style="text-align: center" translate=".usLblDropToUpload"></h3> </div> <div class="row"> <h4 class="min-margin" translate=".usLblOr"></h4> </div> <div class="row"> <label class="btn btn-default">{{\'schemaMapping.usBtnSelectFile\' | translate}} <div id="filePath" data-in-input-file data-selected="vm.onSelectFile" data-accept=".xsd,.dtd" class="hide" data-ng-disabled="status === \'uploading\' "> </div> </label> </div> </div> </div> </form> </div> </div> <hr/> <div class="row" style="margin-top:10px;"> <div class="col-sm-5"> <h4 translate=".spLblMissingDependecies"></h4> <div style="margin-top:10px;"> <div data-ng-if="status===\'loading\'">Loading</div> <span class="text-muted" data-ng-show="!vm.details.missingDependencies || vm.details.missingDependencies.length === 0" translate=".spLblMissingDependenciesMessage"></span> <ul data-ng-show="vm.details.missingDependencies && vm.details.missingDependencies.length > 0"> <li data-ng-repeat="m in vm.details.missingDependencies" style="overflow-wrap:break-word;"> {{m}} </li> </ul> </div> </div> <div class="col-sm-7"> <div class="row"> <h4 translate=".spLblSchemaFiles"></h4> </div> <div class="row"> <div data-ng-if="status===\'loading\'">Loading</div> <div data-ng-show="status!==\'loading\'"> <ip-kendo-grid data-id="schemas" data-grid-options="vm.fileGridOptions" data-search-hint=".spLblNoFiles" data-show-add="false"> </ip-kendo-grid> </div> </div> </div> </div> </div> </div> </div>'),e.put("condor/classic/schemaMapping/lists/schemas-list.html",'<h1 class="pull-right"> <button class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.onClickAdd()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </h1> <ip-kendo-grid data-id="schemas" data-grid-options="vm.gridOptions" data-search-hint="{{:: \'schemaMapping.usLblNoSchema\' | translate}}" data-show-add="true" data-on-add-click="vm.onClickAdd()" data-add-item-name="{{\'schemaMapping.usBtnAddSchemaPackage\' | translate}}"> </ip-kendo-grid>'),e.put("condor/classic/schemaMapping/lists/upload.html",'<div> <ip-sticky-header> <ip-page-title page-title="{{ ::\'schemaMapping.usLblTitle\' | translate}}"> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-topics data-options="vm.details.topicControl"></ip-topics> </div> </div>'),e.put("condor/classic/schemaMapping/mapping/mapping.html",'<style> .page-content {\r\n        padding-bottom: 0;\r\n    }\r\n    \r\n    .lightBorder {\r\n        border: lightGrey solid 1px;\r\n    }\r\n    \r\n    .smallText {\r\n        font-size: 13px;\r\n    }\r\n    \r\n    .smallLineHeight {\r\n        line-height: 1.2;\r\n    }\r\n    \r\n    .visiblie-splitter {\r\n        height: 100%;\r\n    }\r\n    \r\n    .visiblie-splitter .k-splitbar {\r\n        width: 2px !important;\r\n        visibility: visible !important;\r\n    }\r\n    \r\n    .visiblie-splitter .k-pane {\r\n        overflow: auto !important;\r\n    }\r\n    \r\n    .remaining-height {\r\n        height: calc(100vh - 148px);\r\n    }\r\n    \r\n    .details {\r\n        padding-left: 10px;\r\n        padding-right: 10px;\r\n    }\r\n    \r\n    .padding-top {\r\n        padding-top: 10px;\r\n    }\r\n    \r\n    .header {\r\n        background-color: #F5F5F5;\r\n        border-bottom: solid transparent 3px;\r\n        padding: 5px;\r\n    }\r\n    \r\n    .details h1 {\r\n        margin: 0px;\r\n    }\r\n    \r\n    .left-margin {\r\n        margin-left: 6px;\r\n    }\r\n    \r\n    .hide-label label {\r\n        visibility: hidden\r\n    }\r\n    \r\n    .active-topic {\r\n        border: 3px solid transparent;\r\n        border-bottom: #CACAF4 1px solid;\r\n        padding: 5px;\r\n    }\r\n    \r\n    .active-topic:hover {\r\n        border: 3px solid #4C4CD7!important;\r\n    }\r\n    \r\n    .min-padding {\r\n        padding: 5px\r\n    } </style> <div ng-form="form" ip-form translate-namespace="schemaMapping"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save page-title="Schema Mapping - Configure Mapping" on-save="save(form)" on-discard="discard(form)" is-save-enabled="isSaveEnabled(form)" is-discard-enabled="isSaveEnabled(form)"> <ip-level-up-button data-to-state="schemamapping.list"></ip-level-up-button> </ip-page-title-save> </div> <div class="row title-header workflow-details"> <div class="col-sm-8"> <div class="readonly-label-group"> <div class="readonly-label-value"> <label translate="schemaMapping.mpLblId"></label> <span>{{mappingInfo.id}}</span> </div> </div> </div> <div class="pull-right"> <a ng-disabled="isSaveEnabled(form)" class="btn" translate="schemaMapping.mpBtnGenerate" ui-sref="schemamapping.xml({id: mappingInfo.id})" target="_blank"></a> </div> </div> </div> </ip-sticky-header> <div class="remaining-height"> <div class="container-fluid"> <ip-text-field name="mappingName" ip-required label="schemaMapping.usLblMappingName" ng-model="mappingInfo.name" ng-class="{\'edited\': form.mappingName.$dirty}" ip-autofocus class="col-sm-5"> </ip-text-field> <div ng-if="mappingInfo.isDtdFile" class="col-sm-7 pull-right"> <div class="col-sm-4"> <ip-checkbox ng-model="mappingInfo.shouldAddDocType" name="shouldAddDocType" ng-class="{edited: form.shouldAddDocType.$dirty}" label="schemaMapping.usLblIncludeHeader"></ip-checkbox> </div> <div class="col-sm-8"> <ip-text-field name="fileRef" ng-model="mappingInfo.fileRef" ng-class="{\'edited\': form.fileRef.$dirty}" ip-required ng-disabled="!mappingInfo.shouldAddDocType" label="schemaMapping.usLblXmlHeaderToInclude"> </ip-text-field> </div> </div> </div> <div kendo-splitter k-options="splitterDetails.options" class="visiblie-splitter"> <div id="treePane"> <treecontrol class="tree-light" tree-model="structure" options="opts" on-selection="showDetails(node)" expanded-nodes="expandedNodes" selected-node="current.node"> <span>{{node.name}}</span> <i ng-if="node.isRequired" class="danger cpa-icon cpa-icon-asterisk" title="{{\'schemaMapping.mpLblNodeMandatory\' | translate}}"></i> <i ng-if="isMapped(node)" class="green cpa-icon cpa-icon-sitemap" title="{{\'schemaMapping.mpLblNodeMapped\' | translate}}"></i> <i ng-if="hasError(node)" class="orange cpa-icon cpa-icon-exclamation-triangle" title="{{\'schemaMapping.mpLblNodeError\' | translate}}"></i> <i ng-if="node.nodeType ===\'Choice\'" class="blue cpa-icon cpa-icon-list-ul" title="{{\'schemaMapping.mpLblNodeChoice\' | translate}}"></i> <i ng-if="node.nodeType ===\'Sequence\'" class="blue cpa-icon-retweet"></i> <i ng-if="isDocItemSelected(node)" class="green cpa-icon-treeview" title="{{\'schemaMapping.mpLblDocItemSelected\' | translate}}"></i> <span data-ng-if="isRoot(node) && isExpanding()">{{\'schemaMapping.mpLblNodeExpanding\' | translate}}</span> </treecontrol> </div> <div id="detailsPane" class="details"> <div class="container-fluid"> <div class="row padding-top"> <ip-inline-alert ng-if="!current" type="info" id="nothing-selected-hint" text=".mpLblNodeEdit" class="col-sm-12"></ip-inline-alert> </div> <div class="row" ng-if="current" ng-init="keys=[\'namespace\', \'line\', \'column\', \'defaultValue\', \'fixedValue\', \'minOccurs\', \'maxOccurs\', \'use\']"> <div class="row header"> <h1 class="col-sm-3">Details</h1> <a href="javascript:void(0)" ng-click="expandDetails = !expandDetails;" class="pull-right"> <span ng-if="!expandDetails" translate="schemaMapping.mpLblNodeShowDetails"></span> <span ng-if="expandDetails" translate="schemaMapping.mpLblNodeHideDetails"></span> </a> </div> <div> <div class="row"> <div class="readonly-label-group"> <div class="input-wrap large readonly-label-value"> <label ng-if="current.node.nodeType == \'attribute\'" translate="schemaMapping.mpLblNodeAttribute"></label> <label ng-if="current.node.nodeType == \'element\'" translate="schemaMapping.mpLblNodeElement"></label> <label ng-if="current.node.nodeType != \'element\' && current.node.nodeType != \'attribute\'" translate="Node Type"></label> <span ng-bind="current.node.name"></span> </div> </div> </div> <div class="row"> <div class="readonly-label-group" ng-if="current.node[\'typeName\'] != null"> <div class="input-wrap large readonly-label-value"> <label translate=".mpLblNodetypeName"></label> <span ng-bind="current.node[\'typeName\']"></span> </div> </div> </div> <div class="row"> <div class="col-sm-11 col-sm-offset-1" ng-if="current.node.nodeType == \'Choice\'"> <ip-inline-alert type="info" text=".mpLblNodeChoiceInfo"></ip-inline-alert> <ul> <li ng-repeat="node in current.node.children track by $index" ng-click="showDetails(node)"> <a>{{node.name}}</a> </li> </ul> </div> </div> <div class="row"> <div class="readonly-label-group" ng-if="current.node[\'typeName\'] != null"> <div class="input-wrap large readonly-label-value"> <label translate="Requirement"></label> <span>{{current.isRequired ? \'Mandatory\' : \'Optional\'}}</span> </div> </div> </div> <div data-ng-if="expandDetails" class="row"> <div class="readonly-label-group" ng-if="current.node[key] != null" ng-repeat="key in keys"> <div class="input-wrap large readonly-label-value"> <label>{{(\'schemaMapping.mpLblNode\' + key) | translate}}:</label> <span>{{current.node[key]}}</span> </div> </div> </div> <div class="row header"> <h1>{{\'schemaMapping.mapTo\' | translate}}</h1> </div> <div class="active-topic" ng-if="current"> <h2>{{\'schemaMapping.dataItem\' | translate}}</h2> <div class="row"> <div class="row"> <ip-typeahead name="docItemPicklist" label="schemaMapping.dataItem" data-config="dataItem" ng-model="model.docItems[current.node.id]" class="col-sm-6" data-picklist-can-maintain="true" ng-change="current.docItem(model.docItems[current.node.id].key, model.docItems[current.node.id].code);"> </ip-typeahead> </div> <div ng-if="model.docItems[current.node.id]"> <div ng-if="model.docItems[current.node.id].error"> <ip-inline-alert type="danger" class="col-sm-12"> <span translate="schemaMapping.mpErrorDocItemNotFound" translate-values="{docitemId: model.docItems[current.node.id].id}"></span> </ip-inline-alert> </div> <div ng-if="!model.docItems[current.node.id].error"> <div class="row"> <div class="readonly-label-group"> <div class="input-wrap large readonly-label-value"> <label>{{ \'schemaMapping.mpLblDocItemDescription\' | translate }}</label> <span class="col-sm-10">{{model.docItems[current.node.id].description}}</span> </div> </div> </div> <div class="row"> <div class="readonly-label-group"> <div class="input-wrap large readonly-label-value"> <label>{{ \'schemaMapping.mpLblDocItemSQLStatement\' | translate }}</label> <pre class="col-sm-10 min-padding">{{model.docItems[current.node.id].sql}}</pre> </div> </div> <div> <div ng-if="(model.docItems[current.node.id].parameters | filter:filterParameters:true).length" class="col-sm-8"> <div> <h3>{{ \'schemaMapping.mpLblDocItemParameters\' | translate }}</h3> </div> <div class="row"> <div ng-repeat="param in model.docItems[current.node.id].parameters | filter:filterParameters:true" class="left-margin"> <ip-text-field label="{{param.name}} ({{param.type}}) " ng-model="param.value"></ip-text-field> </div> </div> </div> <div ng-if="model.docItems[current.node.id].columns" class="col-sm-4"> <div> <h3>{{ \'schemaMapping.mpLblDocItemReturnColumns\' | translate }}</h3> </div> <div class="row"> <div ng-repeat="column in model.docItems[current.node.id].columns" class="left-margin"> <label>{{column.name}}</label> <span ng-if="column.type">({{column.type}})</span> </div> </div> </div> </div> </div> </div> </div> </div> </div> <div ng-if="current.type.canHaveValue && current.docItemColumns().length" class="active-topic"> <h2>{{\'schemaMapping.dataItemColumn\' | translate}}</h2> <div class="row"> <ip-dropdown label=".mpLblDocItemSelectColumn" ng-model="model.docItemColumns[current.node.id]" options="m.label group by m.group for m in current.docItemColumns()" class="ip-dropdown col-sm-6"> </ip-dropdown> </div> </div> <div ng-if="current.type.canHaveValue" class="active-topic"> <h2>{{\'schemaMapping.maptovalue\' | translate}}</h2> <div id="type-specific-details"> <div class="readonly-label-group"> <div class="input-wrap large readonly-label-value"> <label> {{\'schemaMapping.mpLblNodeDefaultValueTitle\' | translate }}</label> <span>{{current.underlyingType().dataType}}</span> </div> </div> <div ng-if="current.type.unionTypes" class="col-sm-offset-1"> <span>{{\'schemaMapping.selectFrom\' | translate}}</span> <div class="readonly-label-group" ng-repeat="t in current.type.unionTypes"> <div class="input-wrap medium col-sm-offset-1"> <ip-radio-button label="{{t}}" value="{{t}}" ng-model="model.selectedUnionTypes[current.node.id]"></ip-radio-button> </div> </div> </div> <div ng-if="current.underlyingType().inputType != null" ng-init="keys=[\'pattern\', \'length\', \'minLength\', \'maxLength\', \'minInclusive\', \'maxInclusive\', \'minExclusive\', \'maxExclusive\', \'totalDigits\']"> <div class="readonly-label-group" ng-if="current.underlyingType().restrictions[key]" ng-repeat="key in keys"> <div class="input-wrap medium readonly-label-value"> <label>{{(\'schemaMapping.mpLblRestriction\' + key) | translate}}</label> <span>{{current.underlyingType().restrictions[key]}}</span> </div> </div> <form name="nodeForm" novalidate> <div class="row"> <div class="col-sm-6"> <ng-include src="\'condor/classic/schemaMapping/mapping/inputs/\' + current.underlyingType().inputType + \'.html\'"></ng-include> </div> </div> <div ng-show="isInputInvalid(nodeForm)" class="alert alert-danger">{{ \'schemaMapping.mpErrorRestrictionEnterValid\' | translate }} {{current.getUnderlyingType().dataType}} {{ \'schemaMapping.mpErrorRestrictionEnterValidValue\' | translate }}</div> </form> </div> </div> </div> </div> </div> </div> </div> </div> </div> </div>'),e.put("condor/classic/schemaMapping/xmlgeneration/generateXml.html",'<style> .remaining-height {\r\n        height: calc(100vh - 190px);\r\n    }\r\n    \r\n    .margin-top {\r\n        margin-top: 5px;\r\n    }\r\n    \r\n    textarea {\r\n        border: 1px solid #CCCCCC;\r\n        resize: none;\r\n    }\r\n    \r\n    textarea:focus {\r\n        border: 1px solid #CCCCCC !important;\r\n    }\r\n    \r\n    .wrap-text {\r\n        white-space: pre-wrap;\r\n    }\r\n    \r\n    ip-inline-alert>.alert {\r\n        display: inline-flex;\r\n    }\r\n\r\n    .results-pane {\r\n        overflow: auto;\r\n        max-height: calc(100vh - 100px);\r\n    } </style> <div ng-form="form" ip-form translate-namespace="schemaMapping"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title page-title="Schema Mapping - Generate XML"> <before-title> <ip-level-up-button data-to-state="schemamapping.mapping" additional-state-params="{id: id}"></ip-level-up-button> </before-title> </ip-page-title> </div> <div class="row title-header"> <div class="col-sm-8"> <div class="readonly-label-group"> <div class="readonly-label-value"> <label translate="schemaMapping.mpLblMappingName"></label> <span>{{mappingName}}</span> </div> </div> </div> </div> </div> </ip-sticky-header> <div class="container-fluid results-pane"> <form ng-submit="generateXml()" class="row"> <ip-text-field label=".xmlLblEntryPoint" ng-model="details.entryPoint" ip-autofocus class="col-sm-5"></ip-text-field> <div class="margin-top"> <button type="submit" data-ng-disabled="status === \'generating\'" class="btn btn-prominent">{{\'schemaMapping.xmlBtnGenerate\' | translate}}</button> <button type="button" class="btn" ng-click="downloadXml()" data-ng-disabled="status === \'generating\'" class="col-sm-offset-1">{{\'schemaMapping.xmlBtnDownload\' | translate}}</button> </div> </form> <div data-ng-if="status === \'generating\'" class="row"> <br/> <span>{{ \'schemaMapping.xmlLblGenerating\' | translate }}</span> </div> <div data-ng-if="status !== \'idle\'" class="progress progress-striped active" class="row"> <div class="progress-bar" style="width: 100%" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="100"> </div> </div> <ip-inline-alert type="info" class="col-sm-12 wrap-text" ng-if="errorContainsTempNameSpace()" text="schemaMapping.xmlErrorContainsTempNamespaceInfo"> </ip-inline-alert> <ip-inline-alert ng-if="error.length" type="danger" class="col-sm-12 margin-top"> <div class="wrap-text">{{error}}</div> </ip-inline-alert> <div class="row"> <textarea id="generatedXml" readonly="readonly" ng-show="xml.length" ng-model="xml" class="remaining-height col-sm-12 margin-top"></textarea> </div> </div></div>'),
e.put("condor/components/bulkactions/directives/menu.html",'<div class="dd-menu"> <button class="btn btn-icon btn-next dd-link" ng-disabled="isEmptyList()" uib-tooltip="{{::\'bulkactionsmenu.tooltip\' | translate }}"> <icon name="list-ul"></icon> <span class="badge" data-ng-show="isManualSelection()">{{ items.selected }}</span> </button> <div class="dd-dropdown" style="display: none;" data-ng-if="actionItems.length > 0"> <div data-ng-include="\'condor/components/bulkactions/directives/standardmenu.html\'"></div> <div class="group-heading" data-ng-if="actionItems.length > 0"> <span translate="bulkactionsmenu.actions"></span> </div> <div class="group"> <ul> <li ng-repeat="a in actionItems"> <a id="bulkaction_{{context}}_{{a.id}}" ng-click="a.invokeIfEnabled()" data-ng-class="{disabled: a.shouldDisable()}"> <icon name="{{a.icon}}" large></icon> <span translate="{{ a.text }}"></span> </a> </li> </ul> </div> </div> </div>'),e.put("condor/components/bulkactions/directives/standardmenu.html",'<div class="group-heading selected"> <span>{{ paging.available ? \'bulkactionsmenu.selectionNoTotalCount\': \'bulkactionsmenu.selection\' | translate: {count: items.selected, all: items.totalCount} }}</span> </div> <div class="group"> <ul> <li ng-if="!paging.available"> <a name="selectall" data-ng-click="doSelectAll($event)" id="{{context}}_selectall" tabindex="{{::tabIndex}}"> <icon name="check"></icon> <span>{{ isAllSelected() ? \'bulkactionsmenu.deselectFullSet\' : \'bulkactionsmenu.selectFullSet\' | translate}}</span> </a> </li> <li ng-if="paging.available"> <a name="selectpage" data-ng-click="doSelectThisPage($event)" id="{{context}}_selectpage" tabindex="{{::tabIndex}}"> <icon name="check"></icon> <span>{{(isSelectPage ? \'bulkactionsmenu.deselectPage\' : \'bulkactionsmenu.selectPageOnly\') | translate}}</span> </a> </li> <li> <a data-ng-click="doClear()" data-ng-class="{disabled: isClearDisabled()}" data-ng-disabled="isClearDisabled()" tabindex="{{::tabIndex+1}}"> <icon name="times"></icon> <span translate="bulkactionsmenu.clear" translate-values="{count: items.selected}"></span> </a> </li> </ul> </div>'),e.put("condor/components/grid/directives/kendoColumnFilterDatePicker.html",'<select id="dateOperator{{column.field}}" ng-model="column.filter.operator" ng-required> <option value="gte">{{ ::\'grid.columns.dateoperators.gte\' | translate }}</option> <option value="eq">{{ ::\'grid.columns.dateoperators.eq\' | translate }}</option> <option value="lt">{{ ::\'grid.columns.dateoperators.lt\' | translate }}</option> <select> <ip-datepicker id="date{{column.field}}" use-local-timezone="true" column-filter="true" name="date" ng-model="column.filter.date"></ip-datepicker></select></select>'),e.put("condor/components/grid/directives/kendoColumnFilterText.html",'<select id="textOperator{{column.field}}" ng-model="column.filter.operator" ng-required> <option value="startswith">{{ ::\'grid.columns.textoperators.startswith\' | translate }}</option> <option value="contains">{{ ::\'grid.columns.textoperators.contains\' | translate }}</option> <option value="eq">{{ ::\'grid.columns.textoperators.eq\' | translate }}</option> </select> <div class="input-wrap"> <input id="text{{column.field}}" type="text" name="text" ng-model="column.filter.text"> </div> '),e.put("condor/components/grid/directives/kendoColumnPicker.html",'<div class="grid-columns grid-columns-page"> <button class="btn btn-icon" ng-class="{expand: vm.isExpand,\'icon-left\': !iconRight,\'icon-right\': iconRight}" ng-click="vm.showColumns(); vm.isExpand = !vm.isExpand;"> <icon name="bars-vertical" data-tooltip-placement="top" ip-tooltip="{{::\'columnSelection.columns\' | translate }}"></icon> </button> <div class="grid-columns-list" ng-show="vm.isExpand" ng-class="\'columns-\'+vm.position" tabindex="-1" ng-blur="vm.isExpand=false"> <div class="header" translate="columnSelection.selection" translate-values="{ count: vm.selectedColumnsLength(), all: vm.removableColumns.length}"></div> <ul> <li ng-repeat="item in vm.removableColumns" data-field="{{item.field}}"> <input type="checkbox" ng-disabled="vm.isLastSelectedColumn() && item.isShown" ng-model="item.isShown" ng-click="vm.toggleColumn(item)"> <label ng-click="vm.toggleColumn(item)">{{item.title}}</label> </li> </ul> <div class="footer"> <a translate="columnSelection.reset" ng-click="vm.reset()"></a> </div> </div> </div>'),e.put("condor/components/grid/directives/kendoNormalGrid.html",'<div> <div class="kendo-search-grid-placeholder"></div> <div ng-hide="showAdd || hideNoResults" translate="grid.messages.noItems"></div> <button ng-show="showAdd" ng-click="onAddClick()" ng-disabled="addDisabled" class="btn btn-link grid-message"> <icon name="plus-circle"></icon> <em translate="grid.messages.addItem" translate-values="addLabelParams"></em> </button> </div> '),e.put("condor/components/grid/directives/kendoSearchGrid.html",'<div> <div class="kendo-search-grid-placeholder" ng-keydown="keydown($event)"></div> <ip-inline-alert ng-hide="hideSearchHint" text="{{:: searchHint ? searchHint : \'performSearchHint\'}}" type="info"></ip-inline-alert> <ip-inline-alert ng-hide="hideNoResults" text="{{ noResultsHint ? noResultsHint : \'noResultsFound\'}}" type="info"></ip-inline-alert> </div> '),e.put("condor/components/notification/notificationservice/alert.html",'<div id="alertModal"> <div class="modal-header"> <h2 class="modal-title" id="modalErrorLabel" translate="{{options.title}}"></h2> </div> <div class="modal-body"> <p translate="{{options.message}}" translate-values="options.messageParams"></p> <p ng-repeat="error in options.errors" class="text-grey-dark-alert"> {{ error.message | translate }}</p> <p ng-if="options.actionMessage" translate="{{options.actionMessage}}"></p> </div> <div class="modal-footer"> <button type="button" class="btn" data-dismiss="modal" name="cancel" data-ng-click="cancel()" translate="{{options.okButton}}"></button> </div> </div>'),e.put("condor/components/notification/notificationservice/confirm.html",'<div id="confirmModal" class="confirmModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="{{::options.title}}"></h2> </div> <div class="modal-footer"> <div class="modal-footer-message"> <p translate="{{options.message}}" translate-values="options.messageParams"></p> <br ng-if="options.message && options.message !== undefined"> <div ng-repeat="message in options.messages"> <p translate="{{::message}}"></p> <br> </div> </div> <div class="buttons"> <button type="button" class="btn" data-ng-click="cancel()" translate="{{::options.cancel}}"></button> <button type="button" class="btn btn-primary" data-ng-click="confirm()" translate="{{::options.continue}}"></button> </div> </div> </div>'),e.put("condor/components/notification/notificationservice/confirmDelete.html",'<div id="confirmDeleteModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="confirmDeletion"></h2> </div> <div class="modal-body"> <p translate="{{options.message}}" translate-values="options.messageParams"></p> </div> <div class="modal-footer"> <button type="button" name="Cancel" class="btn" data-ng-click="cancel()" translate="Cancel"></button> <button type="button" name="delete" class="btn btn-discard" data-ng-click="confirm()" translate="Delete"></button> </div> </div> '),e.put("condor/components/notification/notificationservice/discardchanges.html",'<div translate-namespace="modal.discardchanges" id="discardChangesModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate=".title"></h2> </div> <div class="modal-body"> <p translate=".discardMessage"></p> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="cancel()" translate=".cancel"></button> <button type="button" class="btn btn-discard" data-ng-click="confirm()" translate=".discardButton"></button> </div> </div> '),e.put("condor/components/notification/notificationservice/info.html",'<div id="confirmModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="{{options.title}}"></h2> </div> <div class="modal-body"> <p translate="{{options.message}}" translate-values="options.messageParams"></p> <input ng-if="options.sessionChkBox" type="checkbox" name="">{{options.chkBoxLabel}}<br> </div> <div class="modal-footer"> <button type="button" class="btn" data-dismiss="modal" data-ng-click="$close(\'Close\')" translate="button.ok"></button> </div> </div> '),e.put("condor/components/notification/notificationservice/unsavedchanges.html",'<div id="modal-unsaved-changes"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="modal.unsavedchanges.title"></h2> </div> <div class="modal-body"> <p translate="modal.unsavedchanges.message"></p> <p translate="modal.unsavedchanges.confirmation"></p> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-discard" data-ng-click="confirm()" translate="button.discard"></button> <button type="button" class="btn btn-primary" data-ng-click="confirm(\'Save\')" translate="button.save"></button> </div> </div> '),e.put("condor/components/page/title/page-title-save.html",'<div class="page-title" ip-confirm-before-page-change="isSaveEnabled()" data-confirm-message="{{::\'ConfirmLeaveUnsavedChanges\' | translate}}"> <h2> <span ng-transclude></span> <span ng-if="pageSubtitle">{{::pageTitle | translate}}  {{::pageSubtitle | translate}}</span> <span ng-if="!pageSubtitle">{{::pageTitle | translate}}</span> </h2> <div class="controls"> <ip-icon-button ng-if="isDeleteAvailable" disabled="disabled" ng-disabled="!isDeleteEnabled()" data-tooltip-placement="bottom" ip-tooltip="{{::\'Delete\' | translate }}" ng-click="onDelete()" button-icon="trash-o"></ip-icon-button> <ip-revert-button disabled="disabled" ng-if="isDiscardAvailableInternal" ng-disabled="!isDiscardEnabled()" ng-click="doDiscard()"></ip-revert-button> <ip-save-button disabled="disabled" ng-if="isSaveAvailableInternal" ng-disabled="!isSaveEnabled()" ng-click="onSave()"></ip-save-button> </div> </div> '),e.put("condor/components/page/title/page-title.html",'<div class="page-title"> <h2> <span ng-transclude="beforeTitle"></span> <span ng-if="pageSubtitle">{{::pageTitle | translate}}  {{::pageSubtitle | translate: pageSubtitleTranlslateValues}}</span> <span ng-if="!pageSubtitle">{{::pageTitle | translate}}</span> <span ng-if="pageDescription">{{::pageDescription | translate}}</span> <span ng-transclude="afterTitle"></span> </h2> <div class="controls"> <div class="action-buttons" ng-transclude="actionButtons"></div> </div> </div>'),e.put("condor/components/picklist/modals/picklist.html",'<ip-picklist-modal-search> <style ng-if="vm.hasColumnMenu"> ip-picklist-modal-search div.modal-body {\r\n        min-height: 255px;\r\n    } </style> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> <div class="ip-picklist-modal-search-flex"> <ip-picklist-modal-customize-columns ng-if="vm.hasColumnMenu"></ip-picklist-modal-customize-columns> <ip-picklist-modal-search-add></ip-picklist-modal-search-add> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search> <ip-picklist-modal-maintenance></ip-picklist-modal-maintenance> '),e.put("condor/components/topics/directives/topic-menu-item.html",'<span translate="{{topic.title}}" title="{{:: \'sections.emptySection\' | translate}}" class="emptyTopic" ng-if="topic.isEmpty()"></span> <span translate="{{topic.title}}" ng-if="!topic.isEmpty()"></span> <span id="topicDataCount" class="badge topics pull-right"></span> <span ng-if="topic.hasError === true || topic.hasError()" class="cpa-icon cpa-icon-exclamation-triangle" name="exclamation-triangle"></span>'),e.put("condor/components/topics/directives/topics-simple.html",'<div name="topics" class="topics-simple" ip-resize-handler resize-handler-type="Panel"> <div class="topic-menu"> <div class="tab-content"> <div role="tabpanel" class="tab-pane content-block active"> <ul ip-resize-handler> <li ng-repeat="topic in options.topics" ng-class="{active: topic.isActive}" ng-click="selectTopic(topic, true)" data-topic-ref="{{topic.key}}"> <div> <ng-include src="::topicMenuItemTemplateUrl"></ng-include> </div> </li> </ul> </div> </div> </div> <div class="topics-container" ng-class="{\'topics-container-slim\': restrictWidth}"> <div ng-repeat="topic in options.topics"> <div class="topic-container" ng-class="{active: topic.isActive, \'no-separator\': topic.noSeparator}" ng-click="selectTopic(topic, false)" data-topic-key="{{topic.key}}"> <h1 ng-if="::topic.title" translate="{{::topic.title}}"></h1> <ip-topic-content></ip-topic-content> </div> </div> </div> </div>'),e.put("condor/components/topics/directives/topics.html",'<div name="topics" class="topics" ip-resize-handler resize-handler-type="Panel"> <div class="topic-menu"> <div> <ul class="nav nav-tabs"> <li class="active" ng-show="options.topics" ng-click="selectTab(\'topics\')" ng-style="{\'width\': isActionsTabVisible() ?  (hasSubSections() ? \'143px\' : \'123px\') : \'204px\' }"> <a data-toggle="tab"> <span translate="sections.title"></span> </a> </li> <li ng-show="isActionsTabVisible()" ng-click="selectTab(\'actions\')"> <a data-toggle="tab"> <span translate="sections.actions"></span> </a> </li> </ul> <div class="tab-content"> <div role="tabpanel" class="tab-pane content-block" ng-class="{active: currentTab === \'topics\'}" ng-style="{ \'width\': hasSubSections() ? \'224px\' : \'204px\' }"> <ul ip-resize-handler> <li ng-repeat="topic in ::options.topics" ng-class="{active: topic.isActive, \'group-section\': topic.isGroupSection}" ng-click="selectTopic(topic, true)" data-topic-ref="{{topic.key}}"> <div ng-class="{\'group-section\': topic.isGroupSection}" class="topic-section-text-wrap"> <ng-include src="::topicMenuItemTemplateUrl"></ng-include> </div> <ul ng-if="topic.topics" class="sub-section"> <li ng-repeat="topic in ::topic.topics" ng-class="{active: topic.isActive, \'sub-menu\': topic.isSubSection}" ng-click="selectTopic(topic, true); $event.stopPropagation()" data-topic-ref="{{topic.key}}" class="topic-section-text-wrap"> <ng-include src="::topicMenuItemTemplateUrl"></ng-include> </li> </ul> </li> </ul> </div> <div ng-show="isActionsTabVisible()" role="tabpanel" class="tab-pane content-block" ng-class="{active: currentTab === \'actions\'}" ng-style="{ \'width\': hasSubSections() ? \'225.5px\': \'205.5px\' }"> <ul> <li ng-repeat="action in ::options.actions" data-action-key="{{action.key}}" ng-click="action.action()" ng-disabled="action.disabled" ng-class="{ disabled: action.disabled }"> <span translate="{{action.title}}" ip-tooltip="{{:: action.tooltip | translate }}"></span> </li> </ul> </div> </div> </div> </div> <div class="topics-container" ng-class="{ \'with-subsection\':  hasSubSections() }"> <div ng-transclude="header"></div> <div ng-repeat="topic in ::options.topics"> <div class="topic-container" ng-if="!topic.isGroupSection" ng-class="{active: topic.isActive, \'no-separator\': topic.noSeparator}" ng-click="selectTopic(topic, false)" data-topic-key="{{topic.key}}" data-topic-suffix="{{topic.suffix}}" data-topic-context-key="{{topic.contextKey}}"> <h1 ng-if="::topic.title" translate="{{::topic.title}}"></h1> <span id="topicDataCount" class="badge topics header"></span> <ip-inline-dialog ng-if="::topic.infoTemplate" data-template="{{::topic.infoTemplate}}" style="top:0px;" data-placement="auto"></ip-inline-dialog> <ip-inline-dialog ng-if="::topic.info" data-content="{{:: topic.info | translate }}" data-placement="auto"></ip-inline-dialog> <h2 ng-if="::topic.subTitle" translate="{{::topic.subTitle}}"> <span translate="{{::topic.subTitle}}"></span> <ip-inline-dialog ng-if="::topic.subTitleInfoTemplate" data-template="{{::topic.subTitleInfoTemplate}}"></ip-inline-dialog> </h2> <ip-topic-content></ip-topic-content> </div> <div class="topic-group" ng-if="topic.isGroupSection" ng-class="{active: topic.isActive}"> <div class="topic-container group-section" ng-click="selectTopic(topic, false)" data-topic-key="{{topic.key}}" data-topic-suffix="{{topic.suffix}}" data-topic-context-key="{{topic.contextKey}}"> <h1 ng-if="::topic.title" translate="{{::topic.title}}"></h1> <ip-inline-dialog ng-if="::topic.info" data-content="{{:: topic.info | translate }}"></ip-inline-dialog> <h2 ng-if="::topic.subTitle" translate="{{::topic.subTitle}}"></h2> </div> <div class="topic-container" ng-repeat="subTopic in ::topic.topics" ng-class="{active: subTopic.isActive, \'no-separator\': subTopic.noSeparator}" ng-click="selectTopic(subTopic, false)" data-topic-key="{{subTopic.key}}"> <h1 ng-if="::subTopic.title" translate="{{::subTopic.title}}"></h1> <span id="topicDataCount" class="badge topics header"></span> <ip-inline-dialog ng-if="::subTopic.infoTemplate" placement="auto" data-template="{{::subTopic.infoTemplate}}"></ip-inline-dialog> <ip-inline-dialog ng-if="::subTopic.info" placement="auto top" data-content="{{:: subTopic.info | translate }}"></ip-inline-dialog> <h2 ng-if="::subTopic.subTitle"> <span translate="{{::subTopic.subTitle}}"></span> <ip-inline-dialog ng-if="::subTopic.subTitleInfoTemplate" data-template="{{::subTopic.subTitleInfoTemplate}}"></ip-inline-dialog> </h2> <ip-topic-content></ip-topic-content> </div> </div> </div> </div> </div>'),e.put("condor/configuration/general/dataitem/dataitem.html",'<ip-sticky-header> <ip-page-title page-title="dataItem.dataItemMaintenance"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.resetSearchCriteria();" on-search="vm.search()"> <div class="container-fluid"> <div class="row"> <div class="col-sm-5"> <div class="input-wrap" style="padding-top:6px"> <input type="text" placeholder="{{:: \'EnterTextToSearch\' | translate }}" ng-model="vm.searchCriteria.text" ip-autofocus> </div> </div> <div class="col-sm-7"> <div class="input-wrap"> <ip-typeahead id="dataitem-group-picklist" data-picklist-can-maintain="true" data-multiselect data-config="dataItemGroup" ng-model="vm.searchCriteria.group"></ip-typeahead> </div> </div> </div> <div class="row"> <div class="col-sm-5"> <div class="input-wrap" style="padding-top:6px"> <ip-checkbox label="{{ \'dataItem.filterBySQL\' | translate}}" ng-model="vm.searchCriteria.includesql"></ip-checkbox> <ip-inline-dialog class="nudge-left" data-content="{{:: \'dataItem.filterBySqlInformation\' | translate}}"></ip-inline-dialog> </div> </div> </div> </div> </ip-search-options> <div class="table-container"> <div class="table-title"> <h2 translate="searchResult"></h2> <button type="button" id="dataitem-add-btn" class="btn btn-icon pull-right" ip-tooltip="{{:: \'Add\' | translate}}" ng-click="vm.add()"> <icon name="plus-circle"></icon> </button> </div> <ip-kendo-grid mode="search" data-id="searchResults" data-grid-options="vm.gridOptions"> </ip-kendo-grid></div> </div>'),e.put("condor/configuration/general/dataitem/dataitem.maintenance.html",'<div ng-form="vm.form.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="dataItem.maintenance.addDataItem"></div> <div ng-switch-when="duplicating" translate="dataItem.maintenance.duplicateDataItem"></div> <div ng-switch-default translate="dataItem.maintenance.editDataItem"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.form.maintenance)"></ip-close-button> </div> </div> <div class="title-header"> <ip-nav-modal ng-if="vm.isEditState()" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges" has-pagination="true"> </ip-nav-modal> </div> <div class="modal-body"> <ip-data-item-maintenance data-model="vm.entity" data-maintenance="vm.form.maintenance" data-src="configuration" data-state="vm.entity.state" data-errors="vm.errors"></ip-data-item-maintenance> </div> </div>'),e.put("condor/configuration/general/dataitem/typeahead-entrypoint-template.html",'<span>(</span> <span ng-bind-html="item.name | ipTypeaheadHighlight:searchValue"></span> <span>) </span> <span ng-bind-html="item.description | ipTypeaheadHighlight:searchValue"></span>'),e.put("condor/configuration/general/importancelevel/importancelevel.html",'<ip-sticky-header> <ip-page-title-save ng-init="vm.initShortcuts()" page-title="importanceLevel.maintenance" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.isSaveEnabled()" is-discard-enabled="vm.isDiscardEnabled()"></ip-page-title-save> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="container-fluid"> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()"></ip-add-button> </div> </div> <div class="table-container"> <div class="inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid data-id="importanceGrid" data-grid-options="vm.gridOptions" data-show-add="true" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'importanceLevel.level\' | translate}}"> </ip-kendo-grid> </div> </div> </div>'),e.put("condor/configuration/general/namerestrictions/namerestrictions.html",'<ip-sticky-header> <ip-page-title page-title="nameRestriction.nameRestrictionMaintenance">\\ <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="container-fluid"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.gridOptions.search()"></ip-search-field> </div> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/namerestrictions/namerestrictions.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 72px;\r\n        width: 50% !important;\r\n    } </style> <div ng-form="vm.form.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="nameRestriction.maintenance.addNameRestriction"></div> <div ng-switch-when="duplicating" translate="nameRestriction.maintenance.duplicateNameRestriction"></div> <div ng-switch-default translate="nameRestriction.maintenance.editNameRestriction"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEditState()" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row" class="input-wrap"> <div> <ip-text-field name="description" class="col-sm-10" ip-required label="Description" ng-model="vm.entity.description" ng-class="{\'edited\': vm.form.maintenance.description.$dirty}" data-ng-maxlength="50" ip-field-error="{{vm.getError(\'description\').message | translate}}" ip-autofocus></ip-text-field> </div> </div> <div class="row"> <ip-dropdown class="col-sm-10" ng-class="{edited: vm.form.maintenance.action.$dirty}" ip-required name="action" label="nameRestriction.actionToBeTaken" ng-model="vm.selectedAction" options="option.description for option in vm.actionOptions track by option.type" ng-change="vm.onActionChanged()"> </ip-dropdown> <ip-inline-dialog class="col-sm-1" data-content="{{::\'nameRestriction.maintenance.actionHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row" class="input-wrap"> <div> <ip-text-field class="col-sm-10 modal-text-small" name="password" label="nameRestriction.password" ng-model="vm.entity.password" data-ng-maxlength="10" ng-disabled="vm.isPasswordDisabled()" ng-class="{\'edited\': vm.form.maintenance.password.$dirty}" ip-field-error="{{vm.getError(\'password\').message | translate}}"></ip-text-field> </div> </div> </div> </div>'),e.put("condor/configuration/general/numbertypes/numbertypes.changecode.html",'<style> .modal-text-small {\r\n        margin-left: 60px;\r\n        width: 40% !important;\r\n    }\r\n    \r\n    .modal-label-align-left {\r\n        margin-left: -75px;\r\n    } </style> <div ng-form="vm.changeCodeForm" ip-form> <div class="modal-header"> <h2 class="modal-title"> <div translate="numberType.changeCode.changeNumberTypeCode"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.changeCodeForm)"> <ip-save-button type="button" data-ng-click="vm.save(vm.changeCodeForm)" data-ng-disabled="!vm.formValid()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.changeCodeForm)"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div class="input-wrap"> <label translate="numberType.changeCode.currentCode" class="col-sm-4 modal-label-align-left"></label> <span class="input-wrap col-sm-4">{{vm.entity.numberTypeCode}}</span> </div> </div> <div class="row"> <div> <ip-text-field name="newNumberTypeCode" class="modal-text-small col-sm-6" ip-required label="numberType.changeCode.newCode" ng-model="vm.entity.newNumberTypeCode" ng-class="{\'edited\': vm.changeCodeForm.newNumberTypeCode.$dirty}" data-ng-maxlength="vm.options.maxNumberTypeLength" ng-disabled="vm.isEditState()" ip-field-error="{{vm.getError(\'numberTypeCode\').message | translate}}"></ip-text-field> <ip-inline-dialog class="col-sm-1" data-content="{{::\'numberType.changeCode.newCodeHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div> </div>'),e.put("condor/configuration/general/numbertypes/numbertypes.html",'<ip-sticky-header> <ip-page-title page-title="numberType.numberTypeMaintenance"> <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div class="container-fluid" ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.gridOptions.search()"></ip-search-field> </div> <div class="col-sm-2"> <br> <span style="line-height: 30px;"> <a role="button" id="numbertype-priority-link" translate="numberType.setPriorityOrder" data-ng-click="vm.launchNumberTypesPriorityOrder()"></a> </span> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/numbertypes/numbertypes.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 92px;\r\n        width: 25% !important;\r\n    }\r\n    \r\n    .modal-checkbox-offset {\r\n        margin-left: 135px;\r\n    } </style> <div ng-form="vm.form.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="numberType.maintenance.addNumberType"></div> <div ng-switch-when="duplicating" translate="numberType.maintenance.duplicateNumberType"></div> <div ng-switch-default translate="numberType.maintenance.editNumberType"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.form.maintenance)"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.form.maintenance)"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEditState()" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div> <ip-text-field name="numberTypeCode" class="modal-text-small col-sm-8" ip-required label="Code" ng-model="vm.entity.numberTypeCode" ng-class="{\'edited\': vm.form.maintenance.numberTypeCode.$dirty}" data-ng-maxlength="vm.options.maxNumberTypeLength" ng-disabled="vm.isEditState()" ip-field-error="{{vm.getError(\'numberTypeCode\').message | translate}}" ip-autofocus="{{vm.entity.state === \'adding\' || vm.entity.state === \'duplicating\'}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field class="col-sm-8" name="name" ip-required label="Description" ng-model="vm.entity.numberTypeDescription" data-ng-maxlength="30" ng-class="{\'edited\': vm.form.maintenance.name.$dirty}" ip-autofocus="{{vm.entity.state === \'updating\'}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-6 modal-checkbox-offset"> <ip-checkbox name="issuedByIpOffice" ng-model="vm.entity.issuedByIpOffice" label="numberType.issuedByIpOffice" ng-class="{edited: vm.form.maintenance.issuedByIpOffice.$dirty}" ng-disabled="vm.maintenanceState === \'viewing\'"></ip-checkbox> </div> </div> <div class="row"> <div> <ip-typeahead class="col-sm-8" name="relatedEvent" ng-model="vm.entity.relatedEvent" data-config="event" data-label="numberType.relatedEvent" data-picklist-can-maintain="true" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.form.maintenance.relatedEvent.$dirty}"></ip-typeahead> <ip-inline-dialog class="col-sm-1" data-content="{{::\'numberType.relatedEventHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div> <ip-typeahead class="col-sm-8" name="dataItem" ng-model="vm.entity.dataItem" data-config="dataItem" data-label="numberType.dataItem" ng-disabled="vm.maintenanceState === \'viewing\'" ng-class="{edited: vm.form.maintenance.dataItem.$dirty}" data-picklist-can-maintain="true"></ip-typeahead> <ip-inline-dialog class="col-sm-1" data-content="{{::\'numberType.dataItemHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div> </div>'),e.put("condor/configuration/general/numbertypes/numbertypes.order.html",'<style> #validNumberTypesResults>table tbody tr {\r\n        cursor: move;\r\n    }\r\n    \r\n    tbody>.k-state-selected {\r\n        background-color: #D2E7F3 !important;\r\n        color: black !important;\r\n    } </style> <form name="NumberTypesOrder" novalidate> <div class="modal-header" ng-init="vm.initShortcuts()"> <h2 class="modal-title" translate="numberType.setPriorityOrder"></h2> <div class="modal-header-controls"> <button type="button" id="btnUp" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'numberType.moveUp\' | translate }}" data-ng-disabled="vm.disableUpButton" ng-click="vm.moveUp()"> <span class="cpa-icon cpa-icon-arrow-up"></span> </button> <button type="button" id="btnDown" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'numberType.moveDown\' | translate }}" data-ng-disabled="vm.disableDownButton" ng-click="vm.moveDown()"> <span class="cpa-icon cpa-icon-arrow-down"></span> </button> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="!vm.hasChanges"></ip-save-button> <ip-close-button data-ng-click="vm.dismiss()"></ip-close-button> </div> </div> <div id="modal-content" class="modal-body"> <ip-inline-alert text="numberType.numberTypesSearchHint" type="info"></ip-inline-alert> <br/> <kendo-grid id="validNumberTypesResults" k-options="vm.gridOptions"></kendo-grid> <ip-inline-alert data-ng-if="vm.displayNoItems" text="{{::\'noResultsFound\'}}" type="info"></ip-inline-alert> </div> </form>'),
e.put("condor/configuration/general/nametypes/nametypes.html",'<ip-sticky-header> <ip-page-title page-title="nameType.nameTypeMaintenance"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.resetSearchCriteria();vm.gridOptions.search()" on-search="vm.gridOptions.search()"> <div class="container-fluid"> <div class="row"> <div class="col-sm-5"> <div class="input-wrap"> <input type="text" placeholder="{{:: \'EnterTextToSearch\' | translate }}" ng-model="vm.searchCriteria.text" ip-autofocus> </div> </div> <div class="col-sm-7"> <ip-typeahead id="nametype-group-picklist" data-multiselect data-label="nameType.maintenance.nameTypeGroup" name="nameTypeGroup" data-config="nameTypeGroup" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.nameTypeGroup"> </ip-typeahead> </div> </div> </div> <div class="row"> <div class="col-sm-3" style="padding-left: 20px"> <a role="button" id="nametype-priority-link" translate="nameType.setPriorityOrder" data-ng-click="vm.launchNameTypesPriorityOrder()"></a> </div> </div> </ip-search-options> <div class="table-container"> <div class="table-title"> <h2 translate="searchResult"></h2> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </div> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/nametypes/nametypes.maintenance.html",'<style> .modal-text-small {\r\n    margin-left: 10px;\r\n    width: 25% !important;\r\n}\r\n\r\n.label-legend {\r\n    font-weight: bold;\r\n    font-size: 120%;\r\n    margin-right: 10px;\r\n}\r\n\r\n.label-inner-legend {\r\n    font-weight: bold;\r\n    font-size: 110%;\r\n    margin-left: 10px;\r\n}\r\n\r\n.modal-footer-message {\r\n    text-align: left;\r\n    float: left;\r\n\r\n    p {\r\n        margin-bottom: 0;\r\n        line-height: 25px;\r\n    }\r\n}\r\n\r\n.input-wrap-group>span~.input-wrap {\r\n    width: 75%;\r\n}\r\n\r\n.input-wrap-group .input-wrap {\r\n    padding: 3px 6px 3px 3px;\r\n    margin: 0;\r\n}\r\n\r\n.inline-dialog {\r\n    top: -2px;\r\n}\r\n\r\n.ip-text-field-alignment-width {\r\n    width: 30% !important;\r\n}\r\n\r\n.input-left-margin {\r\n    margin-left: -19%;\r\n} </style> <div ng-form="vm.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="nameType.maintenance.addNameType"></div> <div ng-switch-when="duplicating" translate="nameType.maintenance.duplicateNameType"></div> <div ng-switch-default translate="nameType.maintenance.editNameType"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div> <ip-text-field name="nameTypeCode" class="pull-left modal-text-small col-sm-4" ip-required label="Code" ng-model="vm.entity.nameTypeCode" ng-class="{\'edited\': vm.maintenance.nameTypeCode.$dirty}" data-ng-maxlength="3" ng-disabled="{{vm.entity.state === \'updating\'}}" ip-field-error="{{vm.getError(\'nameTypeCode\').message | translate}}" ip-autofocus="{{vm.entity.state === \'duplicating\'}}"></ip-text-field> <ip-text-field class="pull-left modal-text col-sm-7" name="name" ip-required label="Description" ng-model="vm.entity.name" data-ng-maxlength="50" ng-class="{\'edited\': vm.maintenance.name.$dirty}"></ip-text-field> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.nameTypeEntryLimits"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.minAndMaxAllowed\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap-group group-inline"> <span translate="nameType.maintenance.minimumAllowedForCase" class="pull-left input-wrap"></span> <ip-radio-button label="0" value="0" ng-model="vm.entity.minAllowedForCase" name="min_0" ng-class="{edited: vm.maintenance.min_0.$dirty}"> </ip-radio-button> <ip-radio-button label="1" value="1" ng-model="vm.entity.minAllowedForCase" name="min_1" ng-class="{edited: vm.maintenance.min_1.$dirty}"> </ip-radio-button> </div> </div> <div class="col-sm-6"> <div class="input-wrap-group group-inline"> <span translate="nameType.maintenance.maximumAllowedForCase" class="pull-left input-wrap"></span> <ip-text-field name="maximumAllowed" ip-data-type="nonnegativeinteger" class="pull-left ip-text-field-alignment-width" ng-model="vm.entity.maximumAllowed" data-ng-class="{edited: vm.maintenance.maximumAllowed.$dirty}" ng-change="vm.onChange(vm.entity.maximumAllowed)"> </ip-text-field> </div> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.namePicklistRestrictedTo"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.nameRestrictions\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-3" label="nameType.maintenance.organisation" ng-model="vm.entity.allowOrganisationNames" name="chkOrganisation" ng-class="{edited: vm.maintenance.chkOrganisation.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-2" label="nameType.maintenance.clients" ng-model="vm.entity.allowClientNames" name="chkClient" ng-class="{edited: vm.maintenance.chkClient.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-2" label="nameType.maintenance.suppliers" ng-model="vm.entity.allowSuppliers" name="chkSupplier" ng-class="{edited: vm.maintenance.chkSupplier.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-4" label="nameType.maintenance.sameNameType" ng-model="vm.entity.isClassified" name="chkSameNameTypes" ng-change="vm.isClassifiedChange()" ng-class="{edited: vm.maintenance.chkSameNameTypes.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-3" label="nameType.maintenance.individuals" ng-model="vm.entity.allowIndividualNames" name="chkIndividual" ng-class="{edited: vm.maintenance.chkIndividual.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.staffMembers" ng-model="vm.entity.allowStaffNames" name="chkStaff" ng-class="{edited: vm.maintenance.chkStaff.$dirty}"></ip-checkbox> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.showDataFields"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.showDataFieldsHint\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-3" label="nameType.maintenance.attention" ng-model="vm.entity.isAttentionDisplayed" name="chkContact" ng-class="{edited: vm.maintenance.chkContact.$dirty}" ng-click="vm.toggleSelection(\'isStandardNameDisplayed\')"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.address" ng-model="vm.entity.isAddressDisplayed" name="chkAddress" ng-class="{edited: vm.maintenance.chkAddress.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.assignDate" ng-model="vm.entity.isAssignDateDisplayed" name="chkAssignDate" ng-class="{edited: vm.maintenance.chkAssignDate.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.comments" ng-model="vm.entity.isRemarksDisplayed" name="chkRemarks" ng-class="{edited: vm.maintenance.chkRemarks.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-3" label="nameType.maintenance.reference" ng-model="vm.entity.isReferenceNumberDisplayed" name="chkReferenceNo" ng-class="{edited: vm.maintenance.chkReferenceNo.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.correspondence" ng-model="vm.entity.isCorrespondenceDisplayed" name="chkCorrespondence" ng-class="{edited: vm.maintenance.chkCorrespondence.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.commenceDate" ng-model="vm.entity.isDateCommencedDisplayed" name="chkCommenceDate" ng-class="{edited: vm.maintenance.chkCommenceDate.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.billPercent" ng-model="vm.entity.isBillPercentDisplayed" name="chkBillPercent" ng-class="{edited: vm.maintenance.chkBillPercent.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-3" label="nameType.maintenance.nameVariant" ng-model="vm.entity.isNameVariantDisplayed" name="chkNameVariant" ng-class="{edited: vm.maintenance.chkNameVariant.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.nationality" ng-model="vm.entity.isNationalityDisplayed" name="chkNationality" ng-class="{edited: vm.maintenance.chkNationality.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.expiryDate" ng-model="vm.entity.isDateCeasedDisplayed" name="chkExpiryDate" ng-class="{edited: vm.maintenance.chkExpiryDate.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="nameType.maintenance.inherited" ng-model="vm.entity.isInheritedDisplayed" name="chkInheritance" ng-class="{edited: vm.maintenance.chkInheritance.$dirty}"></ip-checkbox> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.ethicalWallOption"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.ethicalWallSettings\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap-group"> <ip-radio-button class="col-sm-3" label="nameType.maintenance.notApplicable" value="notApplicable" ng-model="vm.entity.ethicalWallOption" name="notApplicable" ng-class="{edited: vm.maintenance.notApplicable.$dirty}"> </ip-radio-button> <ip-radio-button class="col-sm-3" label="nameType.maintenance.allowAccess" value="allowAccess" ng-model="vm.entity.ethicalWallOption" name="allowAccess" ng-class="{edited: vm.maintenance.allowAccess.$dirty}"> </ip-radio-button> <ip-radio-button class="col-sm-3" label="nameType.maintenance.denyAccess" value="denyAccess" ng-model="vm.entity.ethicalWallOption" name="denyAccess" ng-class="{edited: vm.maintenance.denyAccess.$dirty}"> </ip-radio-button> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.otherOptions"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.otherSettings\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox label="nameType.maintenance.saveNameStreet" ng-model="vm.entity.isNameStreetSaved" name="chkSaveNameStreet" ng-class="{edited: vm.maintenance.chkSaveNameStreet.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox label="nameType.maintenance.checkNameRestrictions" ng-model="vm.entity.isEnforceNameRestriction" name="chkNameRestriction" ng-class="{edited: vm.maintenance.chkNameRestriction.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox label="nameType.maintenance.crmUseOnly" ng-model="vm.entity.allowCrmNames" name="chkCRMOnly" ng-class="{edited: vm.maintenance.chkCRMOnly.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group group-inline col-sm-8"> <span translate="nameType.maintenance.displayNameCode"></span> <ip-radio-button label="nameType.maintenance.start" value="start" ng-model="vm.entity.displayNameCode" name="displayStart" ng-class="{edited: vm.maintenance.displayStart.$dirty}"> </ip-radio-button> <ip-radio-button label="nameType.maintenance.end" value="end" ng-model="vm.entity.displayNameCode" name="displayEnd" ng-class="{edited: vm.maintenance.displayEnd.$dirty}"> </ip-radio-button> <ip-radio-button label="nameType.maintenance.none" value="none" ng-model="vm.entity.displayNameCode" name="displayNone" ng-class="{edited: vm.maintenance.displayNone.$dirty}"> </ip-radio-button> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.setDefaultRelationship"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.setDefaultRelationshipHint\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="col-sm-7"> <div class="input-wrap"> <ip-typeahead name="nameType" data-config="nameType" ng-change="vm.onPathNameTypeChanged()" ng-class="{edited: vm.maintenance.nameType.$dirty}" ng-model="vm.entity.pathNameTypePickList"></ip-typeahead> </div> </div> </div> <div class="row"> <div class="col-sm-9"> <div class="input-wrap col-sm-3"></div> <div class="input-wrap-group col-sm-7"> <ip-checkbox label="nameType.maintenance.updateWhenParentNameChanges" ng-model="vm.entity.updateFromParentNameType" name="chkUpdateFromParent" ng-disabled="!vm.entity.pathNameTypePickList" ng-class="{edited: vm.maintenance.chkUpdateFromParent.$dirty}"></ip-checkbox> </div> </div> </div> <div class="row"> <div class="col-sm-9" style="margin-left:-5.5%"> <div class="input-wrap"> <ip-typeahead name="relationship" data-label="nameType.maintenance.relationship" data-key-field="key" data-text-field="value" data-api-url="api/configuration/nameRelationships" data-picklist-display-name="nameType.maintenance.relationship" data-picklist-columns="[{title:\'Relationship Description\', field:\'relationDescription\'}, {title:\'Reverse Description\', field:\'reverseDescription\'}, {title:\'Code\', field:\'key\'}]" ng-model="vm.entity.pathNameRelation" ng-change="vm.onPathNameTypeChanged()" ng-disabled="!vm.entity.pathNameTypePickList" ng-class="{edited: vm.maintenance.relationship.$dirty}"> </ip-typeahead> </div> </div> </div> <div class="row"> <div class="col-sm-9"> <div class="input-wrap col-sm-3"></div> <div class="text-wrap"> <span class="label-inner-legend" translate="nameType.maintenance.ifRelationshipNotFound"></span> </div> </div> </div> <div class="row"> <div class="col-sm-9"> <div class="input-wrap col-sm-3"></div> <div class="input-wrap-group col-sm-7"> <ip-checkbox label="nameType.maintenance.useNameType" ng-model="vm.entity.useNameType" name="chkUseNameType" ng-disabled="!vm.entity.pathNameRelation" ng-click="vm.toggleSelection(\'useHomeNameRelationship\')" ng-class="{edited: vm.maintenance.chkUseNameType.$dirty}"></ip-checkbox> </div> </div> </div> <div class="row"> <div class="col-sm-9"> <div class="input-wrap col-sm-3"></div> <div class="input-wrap-group col-sm-7"> <ip-checkbox label="nameType.maintenance.useHomeNameRelationship" ng-model="vm.entity.useHomeNameRelationship" name="chkUseHomeName" ng-disabled="!vm.entity.pathNameRelation" ng-click="vm.toggleSelection(\'useNameType\')" ng-class="{edited: vm.maintenance.chkUseHomeName.$dirty}"></ip-checkbox> </div> </div> </div> <div class="row"> <div class="col-sm-9"> <div class="input-wrap col-sm-3"></div> <div class="text-wrap"> <span class="label-inner-legend" translate="nameType.maintenance.ifThatDoesntWork"></span> </div> </div> </div> <div class="row"> <div> <div class="input-wrap col-sm-11"> <ip-typeahead name="defaultToName" data-label="nameType.maintenance.defaultTo" data-config="name" data-picklist-display-name="DefaultTo" ng-model="vm.entity.defaultName" ng-class="{edited: vm.maintenance.defaultToName.$dirty}"> </ip-typeahead> </div> </div> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.changeEvent"></span> <ip-inline-dialog data-content="{{::\'nameType.maintenance.changeEventHint\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <ip-typeahead class="col-sm-7" id="change-event-picklist" name="event" data-config="event" data-picklist-can-maintain="true" ng-change="eventChanged()" ng-class="{edited: vm.maintenance.event.$dirty}" ng-model="vm.entity.changeEvent"> </ip-typeahead> </div> <div class="row"> <ip-typeahead class="col-sm-7" data-config="nameType" name="futureNameType" data-label="nameType.maintenance.futureNameType" data-picklist-display-name="nameType.maintenance.futureNameType" ng-model="vm.entity.futureNameTypePickList" ng-class="{edited: vm.maintenance.futureNameType.$dirty}"> </ip-typeahead> </div> <div class="row"> <ip-typeahead class="col-sm-7" data-config="nameType" name="oldNameType" data-label="nameType.maintenance.oldNameType" data-picklist-display-name="nameType.maintenance.oldNameType" ng-model="vm.entity.oldNameTypePickList" ng-class="{edited: vm.maintenance.oldNameType.$dirty}"> </ip-typeahead> </div> <br/> <div class="text-wrap"> <span class="label-legend" translate="nameType.maintenance.nameTypeGroup"></span> </div> <div> <div> <ip-typeahead class="input-left-margin" id="nametype-group-picklist" data-multiselect data-label="nameType.maintenance.groupsBelongingTo" name="nameTypeGroup" data-config="nameTypeGroup" data-picklist-can-maintain="true" ng-class="{edited: vm.maintenance.nameTypeGroup.$dirty}" ng-model="vm.entity.nameTypeGroup"> </ip-typeahead> </div> </div> </div> </div>'),e.put("condor/configuration/general/nametypes/nametypes.order.html",'<style> #validNameTypesResults>table tbody tr {\r\n        cursor: move;\r\n    }\r\n    \r\n    tbody>.k-state-selected {\r\n        background-color: #D2E7F3 !important;\r\n        color: black !important;\r\n    } </style> <form name="NameTypesOrder" novalidate> <div class="modal-header" ng-init="vm.initShortcuts()"> <h2 class="modal-title" translate="nameType.setPriorityOrder"></h2> <div class="modal-header-controls"> <button type="button" id="btnUp" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'nameType.moveUp\' | translate }}" data-ng-disabled="vm.disableUpButton" ng-click="vm.moveUp()"> <span class="cpa-icon cpa-icon-arrow-up"></span> </button> <button type="button" id="btnDown" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'nameType.moveDown\' | translate }}" data-ng-disabled="vm.disableDownButton" ng-click="vm.moveDown()"> <span class="cpa-icon cpa-icon-arrow-down"></span> </button> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="!vm.hasChanges"></ip-save-button> <ip-close-button data-ng-click="vm.dismiss()"></ip-close-button> </div> </div> <div id="modal-content" class="modal-body"> <ip-inline-alert text="nameType.nameTypesSearchHint" type="info"></ip-inline-alert> <br/> <kendo-grid id="validNameTypesResults" k-options="vm.gridOptions"></kendo-grid> <ip-inline-alert data-ng-if="vm.displayNoItems" text="{{::\'noResultsFound\'}}" type="info"></ip-inline-alert> </div> </form>'),e.put("condor/configuration/general/standinginstructions/standinginstructions.html",'<ip-sticky-header> <ip-page-title-save page-title="Standing Instructions Maintenance" on-save="si.save()" on-discard="si.discard()" is-save-enabled="si.savable()" is-discard-enabled="si.isDirty()"></ip-page-title-save> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <h5 translate="SelectInstructionType" style="margin-left:8px"></h5> <div class="container-fluid"> <div class="row" ng-form="si.instrTypeForm" ip-form> <ip-typeahead class="col-sm-6" id="instructiontype-picklist" data-config="instructionType" data-picklist-can-maintain="true" ng-disabled="si.isDirty()" ng-change="si.typeChanged()" ng-model="si.selectedInstrType" ip-autofocus> </ip-typeahead> </div> <hr/> <div class="row" ng-form name="si.form" form-ext> <div class="col-sm-6"> <div class="table-container" id="instructions-grid"> <div class="table-title"> <h2 translate="Standing Instructions"></h2> <div class="pull-right"> <a href="" class="btn btn-icon add-row" data-tooltip-placement="top" ip-tooltip="{{:: \'addRow\'| translate}}" ng-click="si.addInstruction()" ng-disabled="!si.instrType.id"> <icon name="plus-circle"></icon> </a> </div> </div> <table class="table table-striped" cellspacing="0" width="100%"> <thead> <tr> <th class="icon-column"></th> <th translate="Description"></th> </tr> </thead> <tbody> <tr ng-repeat="instr in si.instrType.instructions.items track by $index" ng-click="si.selectInstruction(instr)" ng-class="{\'selected\': si.selectedInstr === instr}"> <td> <span class="cpa-icon cpa-icon-trash-o" ng-click="si.confirmDelete(instr,\'instr\', $index)"></span> </td> <td> <div class="input-wrap" ng-class="{ \'error\': (!instr.newlyAdded &amp;&amp; si.form.instr{{$index}}.$invalid) || (instr.newlyAdded &amp;&amp; !si.form.instr{{$index}}.$error.required &amp;&amp; si.form.instr{{$index}}.$invalid) || instr.serverError, \'deleted\': instr.isDeleted , \'saved\': instr.isSaved &amp;&amp; !instr.isDeleted}"> <input input-ext type="text" ng-model="instr.obj.description" ng-class="{ \'edited\' : si.form.instr{{$index}}.$dirty }" name="instr{{$index}}" ng-focus="si.selectInstruction(instr)" ng-maxlength="50" required on-value-change="instr.changeStatus(isReverted);si.resetUniquenessError(\'instr\', si.instrType.instructions.items.length)" validator-funcs="{isUnique: si.UniqueInstruction}" ng-model-options="{ allowInvalid: true }" focus-if="instr.newlyAdded" ng-blur="instr.resetNewlyAdded()" data-ng-disabled="instr.isDeleted"/> <span class="input-action tooltip-error" data-tooltip-placement="bottom" ng-show="(!instr.newlyAdded &amp;&amp; si.form.instr{{$index}}.$invalid) || (instr.newlyAdded &amp;&amp; !si.form.instr{{$index}}.$error.required &amp;&amp; si.form.instr{{$index}}.$invalid) || instr.serverError" ip-tooltip="{{si.getErrorText(instr, \'instr\', $index) | translate:\'{ length: 50 }\' }}"> <span class="cpa-icon cpa-icon-exclamation-triangle"></span> </span> </div> </td> </tr> </tbody> </table> <ip-inline-alert data-ng-hide="si.instrType.id" text="ChooseInstructionType" type="info"></ip-inline-alert> </div> </div> <div class="col-sm-6"> <div class="table-container" id="characteristics-grid"> <div class="table-title"> <h2 translate="Characteristics"></h2> <div class="pull-right"> <a href="" class="btn btn-icon add-row" data-tooltip-placement="top" ip-tooltip="{{:: \'addRow\'| translate}}" ng-click="si.addCharacteristics()" ng-disabled="!si.instrType.id"> <icon name="plus-circle"></icon> </a> </div> </div> <table class="table table-striped" cellspacing="0" width="100%"> <thead> <tr> <th class="icon-column"></th> <th translate="Description"></th> <th translate="Assigned" class="col-sm-2"></th> </tr> </thead> <tbody> <tr ng-repeat="characteristic in si.instrType.characteristics.items track by $index"> <td> <span class="cpa-icon cpa-icon-trash-o" ng-click="si.confirmDelete(characteristic, \'char\', $index)"></span> </td> <td> <div class="input-wrap required" ng-class="{ \'error\': (!characteristic.newlyAdded &amp;&amp; si.form.char{{$index}}.$invalid) || (characteristic.newlyAdded &amp;&amp; !si.form.char{{$index}}.$error.required &amp;&amp; si.form.char{{$index}}.$invalid) || characteristic.serverError, \'deleted\': characteristic.isDeleted, \'saved\': characteristic.isSaved &amp;&amp; !characteristic.isDeleted}"> <input input-ext type="text" ng-model="characteristic.obj.description" name="char{{$index}}" ng-class="{ \'edited\' : {{ \'si.form.char\'+ $index}}.$dirty}" focus-if="characteristic.newlyAdded" ng-blur="characteristic.resetNewlyAdded()" on-value-change="characteristic.changeStatus(isReverted); si.resetUniquenessError(\'char\', si.instrType.characteristics.items.length)" required ng-maxlength="50" validator-funcs="{isUnique: si.UniqueCharacteristic}" ng-model-options="{ allowInvalid: true }" data-ng-disabled="characteristic.isDeleted"/> <span class="input-action tooltip-error" data-tooltip-placement="bottom" ip-tooltip="{{si.getErrorText(characteristic, \'char\', $index) | translate:\'{ length: 50 }\' }}" ng-show="(!characteristic.newlyAdded &amp;&amp; si.form.char{{$index}}.$invalid) || (characteristic.newlyAdded &amp;&amp; !si.form.char{{$index}}.$error.required &amp;&amp; si.form.char{{$index}}.$invalid) || characteristic.serverError"> <span class="cpa-icon cpa-icon-exclamation-triangle"></span> </span> </div> </td> <td> <div class="input-wrap switch" ng-class="{ \'saved\' : si.isSaved(characteristic.obj.id), \'edited\': si.isUpdated(characteristic.obj.id)}"> <input input-ext type="checkbox" id="selected{{$index}}" name="selected{{$index}}" ng-model="characteristic.obj.selected" ng-disabled="!si.selectedInstr.obj.id || si.selectedInstr.isDeleted || characteristic.isDeleted" on-value-change="si.valueChangedAssignedChar(characteristic, isReverted)"> <label for="selected{{$index}}"> <span></span> </label> </div> </td> </tr> </tbody> </table> <ip-inline-alert data-ng-hide="si.instrType.id" text="ChooseInstructionTypeChar" type="info"></ip-inline-alert> </div> </div> </div> </div> </div>'),e.put("condor/configuration/general/sitecontrols/sitecontrols.html",'<style> .k-master-row td {\r\n        word-break: break-word;\r\n    } </style> <ip-sticky-header> <ip-page-title-save page-title="siteControls.title" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="service.isDirty()" is-discard-enabled="service.isDirty()"></ip-page-title-save> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.resetOptions()" is-search-disabled="vm.isSearchDisabled()" on-search="vm.search()"> <div class="input-wrap-group group-inline"> <div class="input-wrap"> <input type="checkbox" id="search-options-name" ng-model="vm.searchCriteria.isByName" ng-change="vm.onSearchByChange(\'isByName\')"> <label for="search-options-name"> <span translate="Name"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="search-options-description" ng-model="vm.searchCriteria.isByDescription" ng-change="vm.onSearchByChange(\'isByDescription\')"> <label for="search-options-description"> <span translate="Description"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="search-options-value" ng-model="vm.searchCriteria.isByValue" ng-change="vm.onSearchByChange(\'isByValue\')"> <label for="search-options-value"> <span translate="Value"></span> </label> </div> </div> <div class="input-wrap"> <input type="text" ng-model="vm.searchCriteria.text" ip-autofocus> </div> <div class="row" ng-form="vm.form" ip-form> <div class="col-sm-4"> <ip-typeahead name="components" data-multiselect data-label="Components" data-key-field="id" data-text-field="componentName" data-api-url="api/configuration/components" data-picklist-display-name="Components" data-picklist-columns="[{title:\'Component Name\', field:\'componentName\'}]" ng-model="vm.searchCriteria.components"> </ip-typeahead> </div> <div class="col-sm-4"> <div class="input-wrap"> <label translate="fromRelease"></label> <select ng-model="vm.searchCriteria.release" ng-options="option.value for option in vm.searchOptions.releases track by option.id"> <option value="" translate="All"></option> </select> </div> </div> <div class="col-sm-4"> <ip-typeahead name="tags" data-multiselect data-label="Tags" data-key-field="key" data-text-field="tagName" data-api-url="api/configuration/tagslist" data-picklist-display-name="Tags" data-config="tags" data-picklist-can-maintain="true" data-show-add="false" data-picklist-columns="[{title:\'Tag Name\', field:\'tagName\'}]" ng-model="vm.searchCriteria.tags"> </ip-typeahead> </div> </div> </ip-search-options> <div class="table-container"> <div class="table-title"> <h2 translate="siteControls.summary"></h2> </div> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/texttypes/texttypes.changecode.html",'<style> .modal-text-small {\r\n        margin-left: 60px;\r\n        width: 40% !important;\r\n    }\r\n    \r\n    .modal-label-align-left {\r\n        margin-left: -75px;\r\n    } </style> <div ng-form="vm.changeCodeForm" ip-form> <div class="modal-header"> <h2 class="modal-title"> <div translate="textType.changeCode.changeTextTypeCode"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.changeCodeForm)"> <ip-save-button type="button" data-ng-click="vm.save(vm.changeCodeForm)" data-ng-disabled="!vm.formValid()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.changeCodeForm)"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div class="input-wrap"> <label translate="textType.changeCode.currentCode" class="col-sm-4 modal-label-align-left"></label> <span class="input-wrap col-sm-4">{{vm.entity.id}}</span> </div> </div> <div class="row"> <div> <ip-text-field name="newTextTypeCode" class="modal-text-small col-sm-6" ip-required label="textType.changeCode.newCode" ng-model="vm.entity.newTextTypeCode" ng-class="{\'edited\': vm.changeCodeForm.newTextTypeCode.$dirty}" data-ng-maxlength="2" ng-disabled="vm.isEditState()" ip-field-error="{{vm.getError(\'textTypeCode\').message | translate}}" ip-autofocus="true"></ip-text-field> <ip-inline-dialog class="col-sm-1" data-content="{{::\'textType.changeCode.newCodeHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div> </div>'),e.put("condor/configuration/general/texttypes/texttypes.html",'<style> .k-grid-header th.k-header {\r\n        overflow: visible;\r\n    }\r\n\r\n    .k-grid-header-wrap,\r\n    .k-grid-footer-wrap {\r\n        overflow: visible;\r\n    }\r\n\r\n    a {\r\n        cursor: pointer;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="textType.textTypeMaintenance"> <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div class="container-fluid" ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.search()"></ip-search-field> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/texttypes/texttypes.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 92px;\r\n        width: 25% !important;\r\n    }\r\n    \r\n    .modal-checkbox-offset {\r\n        margin-left: 135px;\r\n    } </style> <div ng-form="vm.form.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="textType.maintenance.addTextType"></div> <div ng-switch-when="duplicating" translate="textType.maintenance.duplicateTextType"></div> <div ng-switch-default translate="textType.maintenance.editTextType"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.form.maintenance)"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.form.maintenance)"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEditState()" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div> <ip-text-field name="textTypeCode" class="modal-text-small col-sm-8" ip-required label="Code" ng-model="vm.entity.id" ng-class="{\'edited\': vm.form.maintenance.textTypeCode.$dirty}" data-ng-maxlength="2" ng-disabled="vm.isEditState()" ip-field-error="{{vm.getError(\'textTypeCode\').message | translate}}" ip-autofocus="{{vm.entity.state === \'adding\' || vm.entity.state === \'duplicating\'}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field class="col-sm-8" name="description" ip-required label="Description" ng-model="vm.entity.description" data-ng-maxlength="50" ng-class="{\'edited\': vm.form.maintenance.description.$dirty}" ip-autofocus="{{vm.entity.state === \'updating\'}}"></ip-text-field> </div> </div> <div class="row col-sm-9"> <div class="col-sm-1"></div> <div class="input-wrap-group group-inline"> <span translate="textType.applicableFor" class="input-wrap"></span> <ip-radio-button name="usedByCases" label="textType.forCases" ng-value="false" ng-model="vm.entity.usedByName" ng-change="vm.onUsedByNameChange()" ng-class="{edited: vm.form.maintenance.usedByCases.$dirty}"></ip-radio-button> <ip-radio-button name="usedByNames" label="textType.forNames" ng-value="true" ng-model="vm.entity.usedByName" ng-class="{edited: vm.form.maintenance.usedByNames.$dirty}"></ip-radio-button> <ip-inline-dialog data-content="{{::\'textType.applicableForHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div class="input-wrap-group group-inline col-sm-8 modal-checkbox-offset"> <ip-checkbox name="usedByEmployee" ng-model="vm.entity.usedByEmployee" label="textType.staff" ng-class="{edited: vm.form.maintenance.usedByEmployee.$dirty && vm.entity.usedByName}" ng-disabled="vm.entity.usedByName === false"></ip-checkbox> <ip-checkbox name="usedByIndividual" ng-model="vm.entity.usedByIndividual" label="textType.individual" ng-class="{edited: vm.form.maintenance.usedByIndividual.$dirty && vm.entity.usedByName}" ng-disabled="vm.entity.usedByName === false"></ip-checkbox> <ip-checkbox name="usedByOrganisation" ng-model="vm.entity.usedByOrganisation" label="textType.organisation" ng-class="{edited: vm.form.maintenance.usedByOrganisation.$dirty && vm.entity.usedByName}" ng-disabled="vm.entity.usedByName === false"></ip-checkbox> </div> </div> </div> </div>'),
e.put("condor/configuration/general/status/status.html",'<style> .filter-label {\r\n        width: auto !important;\r\n        margin-left: 5px;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="status.statusMaintenance"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.resetSearchCriteria();vm.gridOptions.search()" on-search="vm.gridOptions.search()"> <div class="input-wrap"> <input type="text" placeholder="{{:: \'SearchByDescription\' | translate }}" ng-model="vm.searchCriteria.text" ip-autofocus aria-label="{{:: \'SearchByDescription\' | translate }}"> </div> </ip-search-options> <div class="table-container"> <div class="table-title"> <h2 translate="status.statusSummary"></h2> </div> <div class="input-wrap-group group-inline"> <span class="filter-label" translate="status.filterText"></span> <div class="input-wrap"> <input type="radio" id="case-status" name="filter-option" ng-model="vm.filterCriteria.forCase" ng-click="vm.toggleFilterOption(\'forCase\')" ng-value="true"> <label for="case-status"> <span translate="status.caseStatus"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="renewal-status" name="filter-option" ng-model="vm.filterCriteria.forRenewal" ng-click="vm.toggleFilterOption(\'forRenewal\')" ng-value="true"> <label for="renewal-status"> <span translate="status.renewalStatus"></span> </label> </div> <div class="input-wrap no-hover pull-right" ng-if="vm.supportData.permissions.canCreate"> <button id="addStatus" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{:: \'Add\' | translate }}" data-ng-click="vm.addStatus();" aria-label="{{:: \'Add\' | translate }}"> <icon name="plus-circle"></icon> </button> </div> </div> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/status/status.maintenance.html",'<div ng-form="vm.maintenance" ip-form> <div translate-namespace="status"> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate=".maintenance.addStatus"></div> <div ng-switch-when="updating" translate=".maintenance.editStatus"></div> <div ng-switch-when="duplicating" translate=".maintenance.duplicateStatus"></div> </h2> <div class="modal-header-controls" ip-confirm-before-page-change="vm.maintenance.$dirty" data-confirm-message="{{:: \'ConfirmLeaveUnsavedChanges\' | translate}}" ng-init="vm.initShortcuts()"> <ip-save-button type="submit" data-ng-disabled="vm.disable()" data-ng-click="vm.save()"></ip-save-button> <ip-close-button type="button" data-ng-click="vm.dismissAll();"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <ip-text-field name="internalName" ip-required label=".internalDesc" ng-model="vm.entity.name" ng-class="{edited: vm.maintenance.internalName.$dirty}" data-ng-maxlength="50" data-ng-disabled="{{vm.entity.disabled}}" ip-field-error="{{vm.getError(\'internalName\').message | translate}}"></ip-text-field> </div> <div class="row"> <ip-text-field name="externalName" label=".externalDesc" ng-model="vm.entity.externalName" ng-class="{edited: vm.maintenance.externalName.$dirty}" data-ng-maxlength="50" data-ng-disabled="{{vm.entity.disabled}}"></ip-text-field> </div> <br/> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".maintenance.statusType" class="col-sm-6"></span> <ip-radio-button class="col-sm-3" label=".caseStatus" value="case" ng-model="vm.entity.statusType" name="caseStatus" ng-class="{edited: vm.maintenance.caseStatus.$dirty}"> </ip-radio-button> <ip-radio-button class="col-sm-3" label=".renewalStatus" value="renewal" ng-model="vm.entity.statusType" name="renewalStatus" ng-class="{edited: vm.maintenance.renewalStatus.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".statusSummary" class="col-sm-6"></span> <ip-radio-button class="col-sm-3" label=".pending" value="pending" ng-model="vm.entity.statusSummary" name="pending" ng-class="{edited: vm.maintenance.pending.$dirty}"> </ip-radio-button> <ip-radio-button class="col-sm-2" style="margin-left: 18px" label=".registered" value="registered" ng-model="vm.entity.statusSummary" name="registered" ng-class="{edited: vm.maintenance.registered.$dirty}"> </ip-radio-button> <ip-radio-button class="col-sm-1" label=".dead" value="dead" ng-model="vm.entity.statusSummary" name="dead" ng-class="{edited: vm.maintenance.dead.$dirty}"> </ip-radio-button> </div> </div> <br/> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".maintenance.functionsAllowed" class="col-sm-4"></span> <ip-checkbox class="col-sm-4" name="policeRenewals" ng-model="vm.entity.policeRenewals" label=".maintenance.policeRenewals" ng-class="{edited: vm.maintenance.policeRenewals.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-4" style="margin-left:20px" name="policeExamination" ng-model="vm.entity.policeExam" label=".maintenance.policeExamination" ng-class="{edited: vm.maintenance.policeExamination.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span class="col-sm-4"></span> <ip-checkbox class="col-sm-4" name="policeOther" ng-model="vm.entity.policeOtherActions" label=".maintenance.policeOther" ng-class="{edited: vm.maintenance.policeOther.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-4" style="margin-left:42px" name="produceLetters" ng-model="vm.entity.lettersAllowed" label=".maintenance.produceLetters" ng-class="{edited: vm.maintenance.produceLetters.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span class="col-sm-4"></span> <ip-checkbox class="col-sm-4" name="generateCharges" ng-model="vm.entity.chargesAllowed" label=".maintenance.generateCharges" ng-class="{edited: vm.maintenance.generateCharges.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-4" style="margin-left:7px" name="priorArt" ng-model="vm.entity.priorArtFlag" label=".maintenance.priorArtRelatedCases" ng-class="{edited: vm.maintenance.priorArt.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span class="col-sm-4"></span> <ip-checkbox class="col-sm-4" name="remindersAllowed" ng-model="vm.entity.remindersAllowed" label=".maintenance.remindersAllowed" ng-class="{edited: vm.maintenance.remindersAllowed.$dirty}"></ip-checkbox> </div> </div> <br/> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".maintenance.preventTransactionFor" class="col-sm-4"></span> <ip-checkbox class="col-sm-2" name="billing" ng-model="vm.entity.preventBilling" label=".maintenance.billing" ng-class="{edited: vm.maintenance.billing.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-2" name="prepayment" ng-model="vm.entity.preventPrepayment" label=".maintenance.prepayment" ng-class="{edited: vm.maintenance.prepayment.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-2" name="wip" ng-model="vm.entity.preventWip" label=".maintenance.wip" ng-class="{edited: vm.maintenance.wip.$dirty}"></ip-checkbox> </div> </div> <br/> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".maintenance.passwordRequiredOn"></span> <ip-checkbox class="col-sm-4" name="manualStatusChange" ng-model="vm.entity.confirmationRequired" label=".maintenance.manualStatusChange" ng-class="{edited: vm.maintenance.manualStatusChange.$dirty}"></ip-checkbox> </div> </div> <br/> <div class="row"> <div class="col-sm-12"> <div class="input-wrap"> <label translate=".maintenance.reasonStopPaying"></label> <select class="col-sm-5 pull-left modal-select" name="stoppayreasons" ng-options="r.name for r in vm.supportData.stopPayReasons track by r.id" ng-model="vm.entity.stopPayReason" data-ng-class="{\'edited\': vm.maintenance.stoppayreasons.$dirty}"> <option ng-hide="!vm.entity.stopPayReason.name" value=""></option> </select> </div> </div> </div> <br/> </div> </div> </div>'),e.put("condor/configuration/general/validcombination/copyvalidcombination-confirmation.html",'<style> #confirmModal ul {\r\n    list-style-type: none;\r\n    padding-bottom: 5px;\r\n    padding-top: 5px;\r\n}\r\n\r\n#confirmModal li {\r\n    color: #909090;\r\n    list-style: none;\r\n}\r\n#confirmModal .modal-body{\r\n    padding-left: 15px;\r\n} </style> <div id="confirmModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="{{options.title}}"></h2> </div> <div class="modal-body"> <p>{{options.confirmationMessage | translate}} {{options.fromJurisdiction}}</p> <ul> <li ng-repeat="characteristic in options.selectedCharacterisics" class="listStyle"> {{characteristic.description | translate}} </li> </ul> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="cancel()" translate="{{options.cancel}}"></button> <button type="button" class="btn btn-primary" data-ng-click="confirm()" translate="{{options.continue}}"></button> </div> </div> '),e.put("condor/configuration/general/validcombination/typeahead-jurisdiction-template.html",'<div> <span>(</span> <span ng-bind-html="$highlight(data.id)"></span> <span>)&nbsp;</span> <span ng-bind-html="$highlight(data.description)"></span> </div>'),e.put("condor/configuration/general/validcombination/validcombination-confirmation.html",'<style> #confirmModal ul {\r\n    list-style-type: none;\r\n    padding-bottom: 5px;\r\n    padding-top: 5px;\r\n}\r\n\r\n#confirmModal li {\r\n    color: #909090;\r\n    list-style: none;\r\n}\r\n#confirmModal .modal-body{\r\n    padding-left: 15px;\r\n} </style> <div id="confirmModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="{{options.title}}"></h2> </div> <div class="modal-body"> <div>{{options.validationMessage}}</div> <ul> <li ng-repeat="description in options.countries" class="listStyle"> {{description}} </li> </ul> <div>{{options.confirmationMessage}}</div> <ul ng-show="options.validCountries"> <li ng-repeat="description in options.validCountries" class="listStyle"> {{description}} </li> </ul> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="cancel()" translate="{{options.cancel}}"></button> <button type="button" class="btn btn-primary" data-ng-click="confirm()" translate="{{options.continue}}"></button> </div> </div> '),e.put("condor/configuration/general/validcombination/validcombination-resultset.html",'<div class="table-container"> <ipt-valid-combination-summary add-valid-combination="vc.add()" search-type="{{vc.context}}"> <ip-kendo-search-grid data-id="validCombinationSearchResults" data-grid-options="vc.gridOptions" data-search-hint="validcombinations.validCombinationSearchHint" data-no-results-hint="{{vc.noResultsHint}}"></ip-kendo-search-grid> </ipt-valid-combination-summary> </div> '),e.put("condor/configuration/general/validcombination/validcombination-summary.html",'<style> .k-grid-header th.k-header {\r\n    overflow: visible;\r\n}\r\n\r\n.k-grid-header-wrap,\r\n.k-grid-footer-wrap {\r\n    overflow: visible;\r\n} </style> <div class="table-container"> <div class="table-title"> <h2 translate="validcombinations.summary"></h2> <div class="controls" ng-hide="searchType == \'jurisdiction\'"> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="addValidCombination()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </div> </div> </div> <div ng-transclude></div> '),e.put("condor/configuration/general/validcombination/validcombination.copy.html",'<style> .checkbox-left-label {\r\n        margin-top: 2px;\r\n    } </style> <div ng-form="vm.jurisdictions"> <div class="row"> <ip-typeahead id="from-jurisdiction" name="fromJurisdiction" data-label="validcombinations.copyFromJurisdiction" data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.copyEntity.fromJurisdiction" ng-change="vm.fromJurisdictionDirty = true" ng-class="{edited: vm.fromJurisdictionDirty}" ip-required> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="to-jurisdiction" name="toJurisdictions" data-multiselect data-label="validcombinations.copyToJurisdiction" data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.copyEntity.toJurisdictions" ng-change="vm.toJurisdictionDirty = true" ng-class="{edited: vm.toJurisdictionDirty}" ip-required> </ip-typeahead> </div> <div class="row"> <div class="input-wrap required"> <label class="text-right col-sm-4 checkbox-left-label" translate="validcombinations.copy"></label> <div class="col-sm-7 input-wrap-group"> <div class="input-wrap"> <input type="checkbox" id="chkSelectAll" name="chkSelectAll" ng-model="vm.copyEntity.selectAll" ng-change="vm.selectAll()"> <label for="chkSelectAll"> <span translate="validcombinations.selectAll"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkPropertyType" name="chkPropertyType" ng-model="vm.copyEntity.propertyType" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.propertyType)"> <label for="chkPropertyType"> <span translate="validcombinations.propertyType"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkCategory" name="chkCategory" ng-model="vm.copyEntity.category" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.category)"> <label for="chkCategory"> <span translate="validcombinations.category"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkSubType" name="chkSubType" ng-model="vm.copyEntity.subType" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.subType)"> <label for="chkSubType"> <span translate="validcombinations.subType"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkBasis" name="chkBasis" ng-model="vm.copyEntity.basis" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.basis)"> <label for="chkBasis"> <span translate="validcombinations.basis"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkAction" name="chkAction" ng-model="vm.copyEntity.action" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.action)"> <label for="chkAction"> <span translate="validcombinations.action"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkStatus" name="chkStatus" ng-model="vm.copyEntity.status" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.status)"> <label for="chkStatus"> <span translate="validcombinations.status"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkChecklist" name="chkChecklist" ng-model="vm.copyEntity.checklist" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.checklist)"> <label for="chkChecklist"> <span translate="validcombinations.checklist"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="chkRelationship" name="chkRelationship" ng-model="vm.copyEntity.relationship" ng-change="vm.selectAnyCharacteristic(vm.copyEntity.relationship)"> <label for="chkRelationship"> <span translate="validcombinations.relationship"></span> </label> </div> </div> </div> </div> </div>'),e.put("condor/configuration/general/validcombination/validcombination.html",'<style> #action-priority-link {\r\n        cursor: pointer;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="Valid Combinations"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.reset(true)" on-search="vm.search(true)" is-search-disabled="vm.isDefaultSelection() || vm.hasErrors()" is-reset-disabled="vm.isResetDisabled()"> <div class="row"> <div class="input-wrap col-sm-6"> <label translate="validcombinations.characteristic"></label> <select name="searchcharacteristic" ng-options="r.description for r in vm.searchOptions track by r.type" ng-model="vm.selectedSearchOption" ng-change="vm.onSearchbyChanged()" data-placement="right" ip-autofocus></select> </div> <div class="col-sm-2"> <ip-inline-dialog data-content="{{::\'validcombinations.characteristicInstruction\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <hr/> <div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'casetype\')"> <ip-typeahead id="case-type-picklist" name="caseType" data-config="caseType" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.caseType" ng-change="vm.caseTypeChanged()"> </ip-typeahead> </div> </div> <div class="row"> <div ng-if="vm.evalPicklistVisibility(\'jurisdiction\')"> <div class="col-sm-6"> <ip-typeahead id="jurisdiction-picklist" data-multiselect name="jurisdictions" data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.jurisdictions" ng-change="vm.onCountryChange()"></ip-typeahead> </div> <div class="col-sm-5"> <ip-checkbox label="validcombinations.defaultJurisdiction" ng-model="vm.searchCriteria.viewDefault" ng-change="vm.onViewDefaultChange()"></ip-checkbox> <ip-inline-dialog class="col-sm-offset-1" data-content="{{::\'validcombinations.defaultJurisdictionHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'propertytype\')"> <ip-typeahead id="property-type-picklist" name="propertyType" data-config="propertyType" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.propertyType" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'casecategory\')"> <ip-typeahead id="case-category-picklist" name="caseCategory" ng-disabled="vm.isCaseCategoryDisabled()" data-config="caseCategory" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.caseCategory" data-extend-query="vm.extendCaseCategoryPicklsit" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'subtype\')"> <ip-typeahead id="sub-type-picklist" name="subType" data-config="subType" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.subType" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'basis\')"> <ip-typeahead id="basis-picklist" name="basis" data-config="basis" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.basis" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'relationship\')"> <ip-typeahead id="relationship-picklist" name="relationship" data-config="relationship" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.relationship"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'status\')"> <ip-typeahead id="status-picklist" name="status" data-config="status" data-picklist-can-maintain="false" ng-model="vm.searchCriteria.status"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6" ng-if="vm.evalPicklistVisibility(\'checklist\')"> <ip-typeahead id="checklist-picklist" name="checklist" data-config="checklist" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.checklist"> </ip-typeahead> </div> </div> <div class="row"> <div ng-if="vm.evalPicklistVisibility(\'action\')"> <ip-typeahead class="col-sm-6" id="action-picklist" data-config="action" data-picklist-can-maintain="true" ng-model="vm.searchCriteria.action"></ip-typeahead> <span style="line-height: 30px;"> <a id="action-priority-link" translate="validcombinations.setActionDisplayOrder" data-ng-click="vm.launchActionOrder()"></a> </span> </div> </div> </div> </ip-search-options> <div ng-if="vm.isDefaultSelection()"> <div class="table-container"> <ipt-valid-combination-summary add-valid-combination="vm.add()" search-type="default"> <ip-kendo-search-grid data-id="validCombinationSearchResults" data-grid-options="vm.gridOptions" data-search-hint="validcombinations.validCombinationSearchHint"></ip-kendo-search-grid> </ipt-valid-combination-summary> </div> </div> <div ui-view></div> </div>'),e.put("condor/configuration/general/validcombination/validcombination.maintenance.html",'<style> .label-legend {\r\n        font-weight: bold;\r\n        font-size: 120%;\r\n        margin-right: 10px;\r\n    }\r\n    \r\n    .input-wrap-group {\r\n        padding-left: 0px !important\r\n    }\r\n    \r\n    .input-wrap-group .input-wrap {\r\n        padding: 3px 6px 3px 3px;\r\n        margin: 0;\r\n    }\r\n    \r\n    .input-wrap-group > label {\r\n        padding-top: 5px;\r\n    }\r\n    \r\n    .input-wrap-group .modal-text {\r\n        margin-left: 25px;\r\n    }\r\n    \r\n    .modal-md {\r\n        max-width: 450px !important;\r\n    }\r\n    \r\n    .modal-dialog < #alertModal {\r\n        max-width: 450px !important;\r\n    } </style> <div ng-form="vm.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="validcombinations.addValidCombination"></div> <div ng-switch-when="duplicating" translate="validcombinations.duplicateValidCombination"></div> <div ng-switch-default translate="validcombinations.editValidCombination"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.maintenance)"> <ip-save-button type="button" data-ng-click="vm.save(vm.maintenance)" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button type="button" data-ng-click="vm.dismissAll(vm.maintenance)"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row" ng-show="vm.entity.state == \'adding\'"> <div class="input-wrap-group group-inline"> <div class="input-wrap"> </div> <div class="input-wrap"> <input type="radio" id="new" name="new" ng-value="false" ng-model="vm.isCopy" ng-change="vm.isCopyChanged(vm.maintenance)"> <label for="new"> <span translate="validcombinations.newValidCombination"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="copy" name="copy" ng-value="true" ng-model="vm.isCopy" ng-change="vm.isCopyChanged(vm.maintenance)"> <label for="copy"> <span translate="validcombinations.copyValidCombination"></span> </label> </div> </div> <hr/> </div> <div ng-switch on="vm.isCopy"> <div ng-switch-when="false"> <div class="row"> <div class="input-wrap required col-sm-11"> <label translate="validcombinations.characteristic"></label> <select name="searchcharacteristic-maintenance" ng-options="r.description for r in vm.characteristics track by r.type" ng-model="vm.selectedCharacteristic" ng-change="vm.onCharacteristicsChanged(vm.maintenance)" required="required" ng-disabled="vm.entity.state != \'adding\'" ip-autofocus="{{vm.selectedCharacteristic.type === \'default\'}}"></select> </div> </div> <div ng-switch on="vm.selectedCharacteristic.type"> <div ng-switch-when="default"></div> <div ng-switch-default> <div ng-if="vm.selectedCharacteristic.type !== \'default\'" class="col-sm-11"> <ip-valid-combination-maintenance ip-controller-parser="vm.controllerName" data-entity="vm.entity" data-maintenance="vm.maintenance" data-search-criteria="vm.searchCriteria" data-template-url="vm.templateUrl" data-clear-picklist-model="vm.clearPicklistModel" data-launch-action-order="vm.launchActionOrder"></ip-valid-combination-maintenance> </div> </div> </div> </div> <div ng-switch-when="true"> <ip-copy-valid-combination data-copy-entity="vm.copyEntity" data-maintenance="vm.maintenance" controller-name="CopyValidCombinationController" template="\'condor/configuration/general/validcombination/validcombination.copy.html\'" data-enable-copy-save="vm.enableCopySave"></ip-copy-valid-combination> </div> </div> </div> </div> '),e.put("condor/configuration/system/mui/screen-translations-utility.html",'<style> .input-wrap.translation {\r\n        padding-top: 0px !important;\r\n        padding-bottom: 0px !important;\r\n    }\r\n\r\n    .input-wrap.translation textarea {\r\n        min-width: 300px;\r\n        width: calc(100% - 21px) !important;\r\n    }\r\n\r\n    .gap {\r\n        margin-right: 10px !important;\r\n    } </style> <ip-sticky-header> <div class="page-title" ip-confirm-before-page-change="service.isDirty()" data-confirm-message="{{::\'ConfirmLeaveUnsavedChanges\' | translate}}"> <h1 translate="{{:: \'screenlabels.title\' | translate }}"></h1> <div class="controls"> <button class="btn btn-icon btn-icon-download gap" ip-tooltip="{{:: \'screenlabels.download\' | translate }}" data-tooltip-placement="bottom" ng-click="vm.download()"> <icon name="cpa-icon cpa-icon-download"></icon> </button> <ip-revert-button ng-disabled="!service.isDirty()" ng-click="vm.discard()"></ip-revert-button> <ip-save-button ng-disabled="!service.isDirty()" ng-click="vm.save()"></ip-save-button> </div> </div> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.resetOptions()" on-search="vm.search()" is-search-disabled="vm.isSearchDisabled()"> <div ng-form="vm.searchForm" ip-form> <div class="row"> <div class="col-sm-6"> <div class="input-wrap"> <label translate="screenlabels.language"></label> <select name="language" ng-options="r.description for r in vm.languages track by r.culture" ng-model="vm.selectedLanguage" ip-autofocus></select> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap"> <label translate="screenlabels.textContaining"></label> <input type="text" ng-model="vm.searchCriteria.text"> </div> </div> <div class="col-sm-6"> <div class="input-wrap-group group-inline"> <div class="input-wrap"> <ip-checkbox label="screenlabels.rotYetTranslated" name="search-options-untranslated" ng-model="vm.searchCriteria.isRequiredTranslationsOnly"></ip-checkbox> </div> </div> </div> </div> </div> </ip-search-options> <h2 translate="{{ vm.heading() }}" translate-values="{ languageCode: vm.resultLanguageDescription }"></h2> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> <ip-inline-alert ng-if="vm.showNoResults()" text="NoResultsToDisplay" type="info"></ip-inline-alert> </div>'),e.put("condor/processing/exchange/configuration/view.html",'<style> div.exchange-settings .input-wrap.switch [type="checkbox"]+label {\r\n        padding-left: 45px !important;\r\n    }\r\n\r\n    div.exchange-settings .input-wrap input[type="url"]+label {\r\n        margin-left: -100px;\r\n    }\r\n\r\n    .ews-server-url {\r\n        min-width: 300px !important;\r\n    }\r\n\r\n    .test-connection {\r\n        margin-right: 4px;\r\n    } </style> <div translate-namespace="exchangeIntegration.settings"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save page-title="exchangeIntegration.title" page-subtitle="exchangeIntegration.settings.title" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.isSaveEnabled()" is-discard-enabled="vm.isDiscardEnabled()"></ip-page-title-save> </div> <div class="row title-header"> <div class="col-sm-12"> <button id="configure" class="btn btn-default cpa-icon-list-alt clear pull-right" ui-sref="exchangeRequests"> <span translate="exchangeIntegration.link"></span> </button> </div> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="col-sm-2"></div> <div class="exchange-settings col-sm-10" ng-form="vm.form" ip-form> <div class="row"> <h2> <span translate=".serviceType.title"></span> <ip-inline-dialog placement="auto" data-title="{{:: \'exchangeIntegration.settings.serviceType.title\' | translate}}" data-content="{{:: \'exchangeIntegration.settings.serviceType.info\' | translate}}"> </ip-inline-dialog> </h2> </div> <br/> <div class="row"> <div class="col-sm-7"> <div class="input-wrap col-sm-4"> <input type="radio" name="serviceType" id="serviceType-ews" ng-model="vm.formData.serviceType" value="Ews"/> <label for="serviceType-ews" translate=".serviceType.exchangeEws"></label> </div> <div class="input-wrap col-sm-8"> <input type="radio" name="serviceType" id="serviceType-graph" ng-model="vm.formData.serviceType" value="Graph"/> <label for="serviceType-graph" translate=".serviceType.exchangeGraph"></label> </div> </div> </div> <br/> <br/> <div ng-show="vm.formData.serviceType === \'Ews\'"> <div class="row"> <h2 translate=".server.title"></h2> </div> <br/> <div class="row"> <div class="input-wrap col-sm-7 required" ng-class="{error: vm.form.server.$invalid}"> <label translate=".server.label"></label> <input class="col-sm-8" name="server" type="url" data-ng-model="vm.formData.server" required data-ng-class="{edited: vm.formData.isDirty(\'server\')}"/> <span class="input-action tooltip-error pull-left" ng-if="vm.form.server.$invalid"> <span data-ng-if="vm.form.server.$error.required" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate}}" tooltip-class="tooltip-error"></span> <span data-ng-if="vm.form.server.$error.url" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.invalidurl\' | translate}}" tooltip-class="tooltip-error"></span> </span> </div> <ip-inline-dialog data-title="{{:: \'exchangeIntegration.settings.server.label\' | translate}}" data-content="{{:: \'exchangeIntegration.settings.server.info\' | translate}}" popover-class="ews-server-url" placement="bottom"> </ip-inline-dialog> </div> <br/> <br/> <div class="row"> <h2 translate=".administrator-details.title"></h2> <span translate=".administrator-details.description"></span> </div> <br/> <br/> <div class="row"> <ip-text-field class="col-sm-7" name="userName" required label=".administrator-details.userName.label" ng-model="vm.formData.userName" ng-class="{edited: vm.formData.isDirty(\'userName\')}"> </ip-text-field> <ip-inline-dialog data-title="{{:: \'exchangeIntegration.settings.administrator-details.userName.label\' | translate}}" data-content="{{:: \'exchangeIntegration.settings.administrator-details.userName.info\' | translate}}" placement="bottom"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap col-sm-7 required" ng-class="{error: vm.form.password.$invalid && (!vm.passwordExists || vm.formData.isDirty(\'password\'))}"> <label translate=".administrator-details.password.label"></label> <input name="password" placeholder="{{vm.passwordPlaceholder()}}" type="password" data-ng-model="vm.formData.password" required data-ng-class="{edited: vm.formData.isDirty(\'password\')}"/> <span class="input-action tooltip-error" ng-if="vm.form.password.$invalid"> <span data-ng-if="vm.form.password.$error.required" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate}}" tooltip-class="tooltip-error"></span> </span> </div> </div> <div class="row"> <ip-text-field class="col-sm-7" name="domain" label=".administrator-details.userDomain" ng-model="vm.formData.domain" ng-class="{edited: vm.formData.isDirty(\'domain\')}"></ip-text-field> </div> </div> <div ng-show="vm.formData.serviceType === \'Graph\'"> <div class="row"> <h2> <span translate=".exchangeGraph.title"></span> <ip-inline-dialog placement="auto" data-title="{{:: \'exchangeIntegration.settings.exchangeGraph.title\' | translate}}" data-content="{{:: \'exchangeIntegration.settings.exchangeGraph.info\' | translate}}"> </ip-inline-dialog> </h2> </div> <br/> <br/> <div class="row"> <ip-text-field class="col-sm-7" name="tenantId" required label=".exchangeGraph.tenantId" ng-model="vm.formData.tenantId" ng-class="{edited: vm.formData.isDirty(\'tenantId\')}"> </ip-text-field> </div> <div class="row"> <ip-text-field class="col-sm-7" name="clientId" required label=".exchangeGraph.clientId" ng-model="vm.formData.clientId" ng-class="{\'edited\': vm.formData.isDirty(\'clientId\')}"> </ip-text-field> </div> <div class="row"> <div class="input-wrap col-sm-7 required" ng-class="{error: vm.form.clientSecret.$invalid && (!vm.clientSecretExists || vm.formData.isDirty(\'clientSecret\'))}"> <label translate=".exchangeGraph.clientSecret"></label> <input name="clientSecret" placeholder="{{vm.clientSecretPlaceholder()}}" type="password" data-ng-model="vm.formData.clientSecret" required data-ng-class="{edited: vm.formData.isDirty(\'clientSecret\')}"/> <span class="input-action tooltip-error" ng-if="vm.form.clientSecret.$invalid"> <span data-ng-if="vm.form.clientSecret.$error.required" class="cpa-icon cpa-icon-exclamation-triangle" uib-tooltip="{{::\'field.errors.required\' | translate}}" tooltip-class="tooltip-error"></span> </span> </div> </div> <div class="row"> <ip-text-field class="col-sm-7" name="redirectUri" multiline="true" disabled="disabled" rows="4" label=".exchangeGraph.redirectUri" ng-model="vm.defaultRedirectUri"></ip-text-field> <div class="col-sm-2"> <ip-inline-dialog placement="auto" data-content="{{:: \'exchangeIntegration.settings.exchangeGraph.redirectUriInfo\' | translate}}"> </ip-inline-dialog> </div> </div> </div> <br/> <br/> <div class="row"> <h2> <span translate=".integrationOptions.title"></span> <ip-inline-dialog placement="auto" data-title="{{:: \'exchangeIntegration.settings.integrationOptions.title\' | translate}}" data-content="{{:: \'exchangeIntegration.settings.integrationOptions.info\' | translate}}"> </ip-inline-dialog> </h2> </div> <br/> <div class="input-wrap-group"> <div class="input-wrap"> <div class="col-sm-2"> <span> <br/> </span> </div> <div class="input-wrap col-sm-8 switch" ng-class="{edited: vm.formData.isDirty(\'isReminderEnabled\')}"> <input type="checkbox" id="serviceReminder" ng-model="vm.formData.isReminderEnabled"> <label for="serviceReminder" translate=".integrationOptions.reminderAndDueDates"> </label> </div> </div> <div class="input-wrap"> <div class="col-sm-2"> <span> <br/> </span> </div> <div class="input-wrap col-sm-8 switch" ng-class="{edited: vm.formData.isDirty(\'isDraftEmailEnabled\')}"> <input type="checkbox" id="serviceDraftEmail" ng-model="vm.formData.isDraftEmailEnabled"> <label for="serviceDraftEmail" translate=".integrationOptions.savingDraftEmail"> </label> </div> </div> <div class="input-wrap"> <div class="col-sm-2"> <span> <br/> </span> </div> <div class="input-wrap col-sm-8 switch" ng-class="{edited: vm.formData.isDirty(\'isBillFinalisationEnabled\')}"> <input type="checkbox" id="serviceBillFinalisation" ng-model="vm.formData.isBillFinalisationEnabled"> <label for="serviceBillFinalisation" translate=".integrationOptions.reviewingInvoices"> </label> </div> </div> </div> <br/> <br/> <div class="setting"> <div class="row"> <div class="col-lg-6"> <h2> <span translate=".testConnection.title"></span> <ip-inline-dialog data-title="{{:: \'exchangeIntegration.settings.testConnection.title\' | translate}}" data-content="{{:: \'exchangeIntegration.settings.testConnection.Info\' | translate}}"> </ip-inline-dialog> </h2> </div> </div> </div> <div class="text-wrap"> <span translate=".testConnection.description" class="col-sm-8"></span> </div> <br/> <div class="input-wrap-group"> <div class="col-sm-1"> <span> <br/> </span> </div> <div class="col-sm-8"> <div> <div class="test-connection pull-left"> <button ng-if="!vm.canCheckStatus()" id="testConnection" class="btn btn-prominent clear" translate=".testConnection.button" disabled="disabled"></button> <button ng-if="vm.canCheckStatus()" id="testConnection" class="btn btn-prominent clear" ng-click="vm.checkStatus()" translate=".testConnection.button"></button> </div> <span class="col-sm-9" ng-if="(vm.isConnectionOk || vm.isConnectionFail) && vm.canCheckStatus()" ng-class="{\'alert-success\': vm.isConnectionOk, \'alert-danger\': vm.isConnectionFail}"> <span class="cpa-icon cpa-icon-lg" ng-class="{\'cpa-icon-check-circle\': vm.isConnectionOk, \'cpa-icon-exclamation-triangle\': vm.isConnectionFail}"></span> <span ng-if="vm.isConnectionOk" translate=".testConnection.Ok"></span> <span ng-if="vm.isConnectionFail" translate=".testConnection.Fail"></span> </span> <div ng-if="vm.statusCheckInProgress && !vm.isConnectionFail && !vm.isConnectionOk"> <span translate=".testConnection.InProgress"> </span> </div> </div> </div> </div> <br/> <br/> <br/> </div> </div> </div>'),
e.put("condor/portfolio/cases/case-images/case-view-images.html",'<style> @media only screen and (min-width: 750px) {\r\n        .space-images {\r\n            margin: 20px;\r\n        }\r\n    }\r\n\r\n    @media only screen and (min-width: 1400px) {\r\n        .space-images {\r\n            margin: 5px;\r\n        }\r\n    }\r\n\r\n    .space-images {\r\n        min-height: 250px;\r\n        max-width: 202px;\r\n        border: solid 1px;\r\n        border-color: gray;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .space-images .imageDesc {\r\n        background-color: gray;\r\n        color: white;\r\n        visibility: hidden;\r\n        position: absolute;\r\n        bottom: 0;\r\n        text-align: left;\r\n        width: 100%;\r\n        max-height: 35px;\r\n      }\r\n\r\n    .overflow { /* space for ellipsis */\r\n        overflow: hidden;\r\n        padding-right: 1rem;\r\n    }\r\n\r\n    .overflow::before {\r\n        position: absolute;\r\n        content: "...";\r\n        bottom: 0px;\r\n        right: 1px;\r\n    }\r\n\r\n    .overflow::after {\r\n        content: "";\r\n        position: absolute;\r\n        right: 0;\r\n        width: 1rem;\r\n        height: 1.5rem;\r\n        background-color:gray; \r\n    }\r\n\r\n    .space-images:hover .imageDesc {\r\n        visibility: visible;\r\n    }\r\n\r\n    figure.figurefx {\r\n        margin: 0px !important;\r\n        background-color: white;\r\n        min-height: 213px;\r\n        max-width: 200px;\r\n        text-align: center;\r\n        cursor: pointer;\r\n    } </style> <div class="row" ip-case-view-images-width-aware> <div ng-if="vm.imagesCount===0" translate="caseview.caseImages.noImages"></div> <div ng-repeat="n in vm.images" class="pull-left space-images" ng-if="$index < maxViewable || vm.showAll"> <figure class="pull-left figurefx"> <h5>{{n.imageType}}</h5> <ip-case-image data-case-key="n.caseKey" data-image-key="n.imageKey" data-image-title="\'caseview.caseImages.imageView\' | translate" data-image-desc="n.imageDescription" data-is-thumbnail="true" data-max-width="200" data-max-height="194" data-is-responsive="false" data-is-clickable="true"></ip-case-image> <div ng-if="n.firmElementId"> <div class="text-grey-dark"> <label translate="caseview.caseImages.firmElement"></label> </div> <span>{{n.firmElementId}}</span> </div> </figure> <div class="imageDesc overflow"> {{n.imageDescription}} </div> </div> </div> <div style="text-align: left;margin-bottom:5px;" ng-show="vm.imagesCount > maxViewable"> <button class="btn" id="btnLoadMoreImages" ng-click="vm.showAll =!vm.showAll"> {{vm.showAll ? \'caseview.caseImages.showLessImages\' : \'caseview.caseImages.showAllImages\' | translate}} </button> </div>'),e.put("condor/portfolio/cases/classes/class-texts.html",'<div ng-if="!vm.loaded"> <p translate="Loading"></p> </div> <div ng-if="vm.loaded" class="row col-sm-11"> <div class="row"> <ip-kendo-grid id="caseview-class-texts" ng-if="vm.classTexts" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/portfolio/cases/classes/classes.html",'<div class="row"> <div class="col-sm-5"> <div class="row"> <div class="field-label col-sm-6"> <label translate="{{!vm.viewData.usesDefaultCountryForClasses ? \'caseview.classes.localClasses\' : \'caseview.classes.classes\'}}"></label> </div> <div class="col-sm-6"> <span class="text">{{::vm.viewData.classesData.localClasses}}</span> </div> </div> <div class="row"> <div class="field-label col-sm-6"> <label translate="{{!vm.viewData.usesDefaultCountryForClasses ? \'caseview.classes.totalLocal\' : \'caseview.classes.totalClass\'}}"></label> </div> <div class="col-sm-6"> <span class="text">{{vm.viewData.classesData.totalLocal}}</span> </div> </div> <div class="row" ng-if="vm.viewData.allowSubClass"> <div class="field-label col-sm-6"> <label translate="caseview.classes.totalItems"></label> </div> <div class="col-sm-6"> <span class="text">{{::vm.viewData.classesData.totalItem}}</span> </div> </div> </div> <div class="col-sm-7" ng-if="!vm.viewData.usesDefaultCountryForClasses"> <div class="row"> <div class="field-label col-sm-6"> <label translate="caseview.classes.internationalClasses"></label> </div> <div class="col-sm-6"> <span class="text">{{::vm.viewData.classesData.internationalClasses}}</span> </div> </div> <div class="row"> <div class="field-label col-sm-6"> <label translate="caseview.classes.totalInternational"></label> </div> <div class="col-sm-6"> <span class="text">{{::vm.viewData.classesData.totalInternational}}</span> </div> </div> </div> </div> <div class="row"> <div class="ip-picklist-modal-search-flex"> <ip-kendo-column-picker id="caseViewClassesColumnSelection" grid-options="vm.gridOptions"></ip-kendo-column-picker> </div> </div> <div class="row"> <ip-kendo-grid data-id="caseViewClasses" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/context-nav/case-web-links.html",'<div id="user-quick-links" class="col-sm-12"> <ul ng-repeat="group in vm.viewData"> <h3 class="groupHeader">{{::group.groupName}}</h3> <li ng-repeat="link in group.links track by $index" ng-class="$index % 2 == 0 && \'even\' || \'oddLine\'"> <a href="{{::link.url}}" target="_blank" uib-popover="{{::link.linkDescription}}" popover-placement="right">{{::link.linkTitle}}</a> </li> <hr ng-if="$first && vm.viewData.length>1"> </ul> <br/> <div ng-if="::!vm.hasCaseLinks()" class="alert alert-info"><i class="cpa-icon cpa-icon-info-circle"></i>&nbsp;<span translate="caseWebLinks.noCaseWebLinks"></span></div> </div>'),e.put("condor/portfolio/cases/debtor-restrictions/debtor-restrictions-indicator.html","<span ng-if=\"vm.severity\" class=\"cpa-icon cpa-icon-flag debtor-restrictions\" ng-class=\"::{ \r\n    'error': vm.severity === 'error', \r\n    'warning': vm.severity === 'warning',\r\n    'info': vm.severity === 'information' }\" ip-tooltip=\"{{:: vm.description }}\"> </span>"),e.put("condor/portfolio/cases/directives/case-header-field.html",'<div class="row" ng-if="!vm.screenControl.hidden"> <div class="field-label" ng-class="::{ \'col-sm-6\': vm.isFirstColumn, \'col-sm-4\': !vm.isFirstColumn}"> <label ng-if="vm.screenControl">{{vm.screenControl.label}}</label> <label ng-if="!vm.screenControl" translate="{{vm.labelId}}"></label> </div> <div ng-class="::{ \'col-sm-6\': vm.isFirstColumn, \'col-sm-8\': !vm.isFirstColumn}" ng-transclude> <span class="text">{{::vm.value}}</span> </div> </div>'),e.put("condor/portfolio/cases/directives/case-image-full.html",'<div class="modal-header" style="margin-bottom: 0px;"> <h2 class="modal-title"> <div ng-attr-translate="{{!vm.imageTitle ? \'cases.fullImage\' : undefined}}">{{vm.imageTitle | limitTo:vm.titleLimit}}{{vm.imageTitle.length > vm.titleLimit ? \'...\' : \'\'}}</div> </h2> <div class="modal-header-controls"> <ip-close-button type="button" data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="search-options h5" style="padding: 2px; margin:0px;"> {{vm.imageDesc}} </div> <div class="modal-body"> <ip-case-image data-image-key="vm.imageKey" data-case-key="vm.caseKey" data-image-title="vm.imageTitle" data-image-desc="vm.imageDesc" data-is-thumbnail="false" data-is-full-image="true"></ip-case-image> </div>'),e.put("condor/portfolio/cases/directives/case-name-link.html",'<ip-ie-only-url ng-if="::vm.canLink" style="cursor: pointer; display: inline-block;" data-url="::vm.encodeLinkData(vm.nameKey)" data-text="::vm.linkText()"></ip-ie-only-url> <span ng-if="::!vm.canLink">{{vm.linkText()}}</span> <span ng-if="::vm.showEmailLink" style="margin-left: 5px"><ip-email-link ng-if="vm.email" data-model="vm.email" data-show-icon="::vm.showEmailLink"></ip-email-link></span>'),e.put("condor/portfolio/cases/directives/event-note-details.html",'<div class="row"> <ip-kendo-grid data-id="eventNoteDetails" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/directives/event-other-details.html",'<div class="content row" ng-if="vm.event.eventDueDate || vm.event.eventDefinition || vm.event.name || vm.event.fromCaseKey "> <div class="container-fluid col-md-6"> <div class="row" ng-if="::vm.event.eventDueDate"> <div class="field-label col-sm-5"> <label translate="caseview.events.orignialDueDate"></label> </div> <div class="col-sm-6"> <ip-date model="::vm.event.eventDueDate"></ip-date> </div> </div> <div class="row" ng-if="::vm.event.eventDefinition"> <div class="field-label col-sm-5"> <label translate="caseview.events.definition"></label> </div> <div class="col-sm-6"> <span class="text">{{::vm.event.eventDefinition}}</span> </div> </div> </div> <div class="container-fluid col-md-6"> <div class="row" ng-if="::vm.event.responsibility"> <div class="field-label col-sm-5"> <label translate="caseview.events.responsibility"></label> </div> <div class="col-sm-6"> <a target="_blank" href="api/search/redirect?linkData={{ vm.encodeLinkData({nameKey: vm.event.nameId}) }}" ng-if="::vm.event.nameId" class="text">{{::vm.event.responsibility}}</a> <span class="text" ng-if="::!vm.event.nameId && vm.event.responsibility">{{vm.event.responsibility}}</span> </div> </div> <div class="row" ng-if="::vm.event.fromCaseKey"> <div class="field-label col-sm-5"> <label translate="caseview.events.fromCase"></label> </div> <div class="col-sm-6"> <a target="_blank" ui-sref="caseview({id: vm.event.fromCaseKey})" ng-if="::vm.event.fromCaseKey">{{::vm.event.fromCaseIrn}}</a> <span ng-if="::!vm.event.fromCaseKey && vm.event.fromCaseIrn">{{::vm.event.fromCaseIrn}}</span> </div> </div> </div> </div> '),e.put("condor/portfolio/cases/directives/summary-no-image.html",'<div class="container-fluid"> <div class="row col-sm-12" ng-if="::!vm.hasScreenControl"> <ip-inline-alert id="NoScreenControlCriteria" text="caseview.message.noScreenControlCriteria" type="info"> </ip-inline-alert> <br/> </div> <div class="col-sm-4 col-lg-3"> <ip-case-header-field is-first-column="true" value="::viewData.irn" data-label-id="\'caseview.summary.caseReference\'" data-screen-control="::vm.screenControl.irn"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.yourReference" data-label-id="\'caseview.summary.yourReference\'" ng-if="::vm.isExternal"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.officialNumber" data-label-id="\'caseview.summary.officialNumber\'" data-screen-control="::vm.screenControl.officialNumber"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.caseType" data-label-id="\'caseview.summary.caseType\'" data-screen-control="::vm.screenControl.caseType"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.country" data-label-id="\'caseview.summary.jurisdiction\'" data-screen-control="::vm.screenControl.country"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.propertyType" data-label-id="\'caseview.summary.propertyType\'" data-screen-control="::vm.screenControl.propertyType"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.caseCategory" data-label-id="\'caseview.summary.category\'" data-screen-control="::vm.screenControl.caseCategory"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.subType" data-label-id="\'caseview.summary.subType\'" data-screen-control="::vm.screenControl.subType"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.basis" data-label-id="\'caseview.summary.basis\'" data-screen-control="::vm.screenControl.basis"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.caseStatus" data-label-id="\'caseview.summary.caseStatus\'" data-screen-control="::vm.screenControl.caseStatus"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.renewalStatus" data-label-id="\'caseview.summary.renewalStatus\'" data-screen-control="::vm.screenControl.renewalStatus"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.applicationFilingDate  | localeDate" data-label-id="\'caseview.summary.applicationFilingDate\'" data-screen-control="::vm.screenControl.applicationFilingDate"> </ip-case-header-field> </div> <div class="col-sm-4 col-lg-5"> <ip-case-header-field is-first-column="false" value="::viewData.title" data-label-id="\'caseview.summary.title\'" data-screen-control="::vm.screenControl.title"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.classes" data-label-id="\'caseview.summary.classes\'" data-screen-control="::vm.screenControl.classes"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.typeOfMark" data-label-id="\'caseview.summary.typeOfMark\'" data-screen-control="::vm.screenControl.typeOfMark"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.numberInSeries" data-label-id="\'caseview.summary.noInSeries\'" data-screen-control="::vm.screenControl.numberInSeries"> </ip-case-header-field> </div> <div class="col-sm-4"> <ip-case-header-field is-first-column="false" value="::viewData.staff.name" data-label-id="\'caseview.summary.workingAttorney\'" data-screen-control="::vm.screenControl.staff"> <ip-case-name-link data-case-key="::viewData.caseKey" data-name="::viewData.staff.name" data-name-key="::viewData.staff.nameKey" data-name-code="::viewData.staff.nameCode" data-name-type="::viewData.staff.nameType" data-show-code="::viewData.staff.showCode" data-can-link="::vm.showWebLink" data-show-email-link="true"></ip-case-name-link> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.firstApplicant" data-label-id="\'caseview.summary.firstApplicant\'" data-screen-control="::vm.screenControl.firstApplicant"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.instructor" data-label-id="\'caseview.summary.clientName\'" data-screen-control="::vm.screenControl.instructor"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.clientMainContact.name" data-label-id="\'caseview.summary.clientMainContact\'" ng-if="::vm.isExternal"> <ip-case-name-link data-name="::viewData.clientMainContact.name" data-name-key="::viewData.clientMainContact.nameKey" data-name-code="::viewData.clientMainContact.nameCode" data-can-link="::vm.showWebLink"> </ip-case-name-link> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.ourContact.name" data-label-id="\'caseview.summary.ourContact\'" ng-if="::vm.isExternal"> <ip-case-name-link data-case-key="::viewData.caseKey" data-name="::viewData.ourContact.name" data-name-key="::viewData.ourContact.nameKey" data-name-code="::viewData.ourContact.nameCode" data-name-type="::viewData.ourContact.nameType" data-show-code="::viewData.ourContact.showCode" data-can-link="::vm.showWebLink" data-show-email-link="true"> </ip-case-name-link> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.family" data-label-id="\'caseview.summary.family\'" data-screen-control="::vm.screenControl.family"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.caseOffice" data-label-id="\'caseview.summary.office\'" data-screen-control="::vm.screenControl.caseOffice"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.fileLocation" data-label-id="\'caseview.summary.fileLocation\'" data-screen-control="::vm.screenControl.fileLocation"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.profitCentre" data-label-id="\'caseview.summary.profitCentre\'" data-screen-control="::vm.screenControl.profitCentre"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.localClientFlag ? \'Yes\' : \'No\'" data-label-id="\'caseview.summary.localClientFlag\'" data-screen-control="::vm.screenControl.localClientFlag"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.entitySize" data-label-id="\'caseview.summary.entitySize\'" data-screen-control="::vm.screenControl.entitySize"> </ip-case-header-field> </div> </div>'),e.put("condor/portfolio/cases/directives/summary-with-image.html",'<div class="container-fluid"> <div class="row col-sm-12" ng-if="::!vm.hasScreenControl"> <ip-inline-alert id="NoScreenControlCriteria" text="caseview.message.noScreenControlCriteria" type="info"> </ip-inline-alert> <br/> </div> <div class="col-sm-4 col-lg-3"> <ip-case-header-field is-first-column="true" value="::viewData.irn" data-label-id="\'caseview.summary.caseReference\'" data-screen-control="::vm.screenControl.irn"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.yourReference" data-label-id="\'caseview.summary.yourReference\'" ng-if="::vm.isExternal"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.officialNumber" data-label-id="\'caseview.summary.officialNumber\'" data-screen-control="::vm.screenControl.officialNumber"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.caseType" data-label-id="\'caseview.summary.caseType\'" data-screen-control="::vm.screenControl.caseType"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.country" data-label-id="\'caseview.summary.jurisdiction\'" data-screen-control="::vm.screenControl.country"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.propertyType" data-label-id="\'caseview.summary.propertyType\'" data-screen-control="::vm.screenControl.propertyType"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.caseCategory" data-label-id="\'caseview.summary.category\'" data-screen-control="::vm.screenControl.caseCategory"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.subType" data-label-id="\'caseview.summary.subType\'" data-screen-control="::vm.screenControl.subType"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.basis" data-label-id="\'caseview.summary.basis\'" data-screen-control="::vm.screenControl.basis"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.caseStatus" data-label-id="\'caseview.summary.caseStatus\'" data-screen-control="::vm.screenControl.caseStatus"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.renewalStatus" data-label-id="\'caseview.summary.renewalStatus\'" data-screen-control="::vm.screenControl.renewalStatus"> </ip-case-header-field> <ip-case-header-field is-first-column="true" value="::viewData.applicationFilingDate | localeDate" data-label-id="\'caseview.summary.applicationFilingDate\'" data-screen-control="::vm.screenControl.applicationFilingDate"> </ip-case-header-field> </div> <div class="col-sm-4 col-lg-5"> <ip-case-header-field is-first-column="false" value="::viewData.title" data-label-id="\'caseview.summary.title\'" data-screen-control="::vm.screenControl.title"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.staff.name" data-label-id="\'caseview.summary.workingAttorney\'" data-screen-control="::vm.screenControl.staff"> <ip-case-name-link data-case-key="::viewData.caseKey" data-name="::viewData.staff.name" data-name-key="::viewData.staff.nameKey" data-name-code="::viewData.staff.nameCode" data-name-type="::viewData.staff.nameType" data-show-code="::viewData.staff.showCode" data-can-link="::vm.showWebLink" data-show-email-link="true"></ip-case-name-link> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.firstApplicant" data-label-id="\'caseview.summary.firstApplicant\'" data-screen-control="::vm.screenControl.firstApplicant"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.instructor" data-label-id="\'caseview.summary.clientName\'" data-screen-control="::vm.screenControl.instructor"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.clientMainContact.name" data-label-id="\'caseview.summary.clientMainContact\'" ng-if="::vm.isExternal"> <ip-case-name-link data-name="::viewData.clientMainContact.name" data-name-key="::viewData.clientMainContact.nameKey" data-name-code="::viewData.clientMainContact.nameCode" data-can-link="::vm.showWebLink"> </ip-case-name-link> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.ourContact.name" data-label-id="\'caseview.summary.ourContact\'" ng-if="::vm.isExternal"> <ip-case-name-link data-case-key="::viewData.caseKey" data-name="::viewData.ourContact.name" data-name-key="::viewData.ourContact.nameKey" data-name-code="::viewData.ourContact.nameCode" data-show-code="::viewData.ourContact.showCode" data-name-type="::viewData.ourContact.nameType" data-can-link="::vm.showWebLink" data-show-email-link="true"> </ip-case-name-link> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.classes" data-label-id="\'caseview.summary.classes\'" data-screen-control="::vm.screenControl.classes"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.typeOfMark" data-label-id="\'caseview.summary.typeOfMark\'" data-screen-control="::vm.screenControl.typeOfMark"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.numberInSeries" data-label-id="\'caseview.summary.noInSeries\'" data-screen-control="::vm.screenControl.numberInSeries"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.family" data-label-id="\'caseview.summary.family\'" data-screen-control="::vm.screenControl.family"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.caseOffice" data-label-id="\'caseview.summary.office\'" data-screen-control="::vm.screenControl.caseOffice"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.fileLocation" data-label-id="\'caseview.summary.fileLocation\'" data-screen-control="::vm.screenControl.fileLocation"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.profitCentre" data-label-id="\'caseview.summary.profitCentre\'" data-screen-control="::vm.screenControl.profitCentre"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.localClientFlag ? \'Yes\' : \'No\'" data-label-id="\'caseview.summary.localClientFlag\'" data-screen-control="::vm.screenControl.localClientFlag"> </ip-case-header-field> <ip-case-header-field is-first-column="false" value="::viewData.entitySize" data-label-id="\'caseview.summary.entitySize\'" data-screen-control="::vm.screenControl.entitySize"> </ip-case-header-field> </div> <div class="col-sm-4"> <div class="row"> <div class="col-sm-12 text-center"> <div class="image-container" uib-tooltip="{{::\'caseview.summary.caseImageTip\' | translate }}"> <ip-case-image data-case-key="::viewData.caseKey" data-image-key="::viewData.imageKey" data-image-desc="::viewData.imageDescription" data-image-title="\'caseview.caseImages.imageView\' | translate" data-max-width="280" data-max-height="280" data-is-thumbnail="true" data-is-responsive="true" data-is-clickable="true"></ip-case-image> </div> </div> </div> </div> </div>'),e.put("condor/portfolio/cases/designated-jurisdiction/designation-details.html",'<div ng-if="!vm.loaded"> <p translate="Loading"></p> </div> <div ng-if="vm.loaded" class="row col-sm-11 detail-offset" translate-namespace="caseview.designatedJurisdiction.details"> <div class="row"> <div class="col-sm-1 margin-col-half field-label"> <label translate=".notes"></label> </div> <div class="col-sm-10 full-width"> <span style="white-space: pre-wrap;">{{::vm.viewData.notes}}</span> </div> </div> <div class="row" ng-if="vm.viewData.caseKey"> <div class="col-sm-6"> <div class="row"> <div class="col-sm-3 field-label"> <label translate=".propertyType"></label> </div> <div class="col-sm-9"> <span class="text">{{::vm.details.propertyType}}</span> </div> </div> <div class="row"> <div class="col-sm-3 field-label"> <label translate=".caseCategory"></label> </div> <div class="col-sm-9"> <span class="text">{{::vm.details.caseCategory}}</span> </div> </div> <div class="row"> <div class="col-sm-3 field-label"> <label translate=".title"></label> </div> <div class="col-sm-9"> <span class="text">{{::vm.details.title}}</span> </div> </div> <div name="names"> <div class="row" ng-repeat="n in vm.details.names"> <div class="col-sm-3 field-label"> <label>{{::n.nameType}}</label> </div> <div class="col-sm-9"> <span ng-if="::n.canView" class="cpa-icon cpa-icon-ban" ip-tooltip="{{::\'caseview.designatedJurisdiction.nameAccessDenied\' | translate }}"></span> <div ng-if="::!n.canView"> <ip-ie-only-url ng-if="::n.nameId && vm.showWebLink" data-url="vm.getNameLink(n.nameId)" data-text="n.name"></ip-ie-only-url> <span ng-if="::!n.nameId || !vm.showWebLink">{{ ::n.name }}</span> </div> </div> </div> </div> </div> <div class="col-sm-6"> <div class="container-fluid"> <div class="row data critical-dates-spacing" ng-repeat="event in vm.details.criticalDates"> <div class="col-sm-6 right-bold-label"> <span ng-class="{\'ip-hover-help\' : event.eventDefinition}" uib-popover="{{::event.eventDefinition}}"> <span ng-if="::!event.isLastEvent && !event.isNextDueEvent">{{::event.eventDescription}}</span> <span ng-if="::event.countryCode" translate="caseview.criticalDates.isPriorityEvent" translate-values="{countryCode: event.countryCode }"></span> <span ng-if="::event.renewalYear" translate="caseview.criticalDates.renewalYear" translate-values="{year: (event.countryCode)?event.renewalYear + \', \' + event.countryCode :event.renewalYear}"></span> <span ng-if="::event.isLastEvent" translate="caseview.criticalDates.lastEvent" translate-values="{description: (event.countryCode)?event.eventDescription + \', \' + event.countryCode :event.eventDescription}"></span> <span ng-if="::event.isNextDueEvent" translate="caseview.criticalDates.nextEventDue" translate-values="{description: (event.countryCode)?event.eventDescription + \', \' + event.countryCode :event.eventDescription}"></span> </span> </div> <div class="col-sm-2 criticalDateField"> <ip-due-date ng-if="::!event.isOccurred" data-date="::event.date" data-show-tool-tip="true"></ip-due-date> <span ng-if="::event.isOccurred" class="text">{{::event.date | localeDate}}</span> </div> <div class="col-sm-4"> <a ng-if="::event.externalInfoLink" href="{{::event.externalInfoLink}}" target="_blank"> <span class="non-breaking">{{::event.officialNumber}}</span> </a> <span class="non-breaking" ng-if="::!event.externalInfoLink">{{::event.officialNumber}}</span> </div> </div> </div> </div> </div> <div class="row"> <ip-kendo-grid id="caseview-designations-classes" ng-if="vm.classes" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/portfolio/cases/designated-jurisdiction/designations.html",'<div class="row"> <div class="pull-right"> <ip-kendo-column-picker id="caseViewDesignationsColumnSelection" grid-options="vm.gridOptions"></ip-kendo-column-picker> </div> </div> <div class="row"> <ip-kendo-grid id="caseview-designations" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/efiling/efiling-history.html",'<style> .article-label {\r\n        font-weight: bold;\r\n    }\r\n    \r\n    .content {\r\n        margin: 12px 0 6px 0;\r\n    } </style> <div class="modal-header"> <h2 class="modal-title"> <div translate="caseview.eFilingHistory.header"></div> </h2> <div class="modal-header-controls"> <ip-close-button type="button" data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="content row"> <div class="container-fluid col-md-8"> <div class="row data"> <div class="col-md-4 article-label"> <span translate="caseview.eFilingHistory.packageReference"></span> </div> <div class="col-md-6"> <span id="packageReference" ng-bind="::vm.packageReference"></span> </div> </div> </div> <div class="col-md-4"> </div> </div> <ip-kendo-grid data-id="eFilingHistory" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/efiling/efiling-package-files.html",'<style> .package-files {\r\n    font-weight: bold;\r\n    line-height: 40px;\r\n} </style> <span class="package-files" translate="caseview.eFilingPackageFiles.header"></span> <div class="row"> <ip-kendo-grid data-id="eFilingPackageFiles" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/efiling/efiling.html",'<div class="row"> <div class="pull-right"> <ip-kendo-column-picker id="caseViewEFilingColumnSelection" grid-options="vm.gridOptions"></ip-kendo-column-picker> </div> </div> <div class="row"> <ip-kendo-grid id="caseview-efiling" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/ip-platform/file-instruct-link.html",'<button ng-if="vm.showIconOnly || vm.showLink" ng-disabled="vm.showIconOnly" ng-click="vm.link()" ip-tooltip="{{::\'ip-platform.file.instruct.tooltip\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-file-instruct"></span> </button>'),e.put("condor/portfolio/cases/names/name-details.html",'<style> .inherited-checkbox {\r\n        float: left;\r\n    }\r\n    \r\n    .inherited-checkbox .input-wrap {\r\n        padding-top: 0px;\r\n        margin-top: -3px;\r\n    } </style> <div class="content row col-sm-11 detail-offset" translate-namespace="caseview.names.details"> <div class="row"> <div class="col-sm-6"> <div class="row" ng-if="::vm.show(\'address\')"> <div class="col-sm-3 field-label"> <label translate=".address"></label> </div> <div class="col-sm-9"> <ip-text-area readonly="readonly" row="3" class="display-wrap cn-address" ng-class="::{ \'input-inherited\': vm.details.isAddressInherited}" content="::vm.details.address"></ip-text-area> </div> </div> <div class="row" ng-if="::vm.show(\'nationality\')"> <div class="col-sm-3 field-label"> <label translate=".nationality"></label> </div> <div class="col-sm-9"> <span class="text cn-nationality">{{::vm.details.nationality}}</span> </div> </div> <div class="row" ng-if="::vm.show(\'billPercentage\')"> <div class="col-sm-3 field-label"> <label translate=".billPercent"></label> </div> <div class="col-sm-9"> <span class="text cn-bill-percentage">{{::vm.details.billingPercentage}}</span> </div> </div> <div class="row" ng-if="::vm.show(\'remarks\')"> <div class="col-sm-3 field-label"> <label translate=".remarks"></label> </div> <div class="col-sm-9"> <ip-text-area readonly="readonly" row="3" class="display-wrap cn-remarks" content="::vm.details.comments"></ip-text-area> </div> </div> </div> <div class="col-sm-6"> <div class="row" ng-if="::vm.show(\'telecom\')"> <div class="col-sm-3 field-label"> <label translate=".phone"></label> </div> <div class="col-sm-9"> <span class="text cn-phone">{{::vm.details.phone}}</span> </div> </div> <div class="row" ng-if="::vm.show(\'telecom\')"> <div class="col-sm-3 field-label"> <label translate=".email"></label> </div> <div class="col-sm-9"> <ip-email-link class="cn-email" model="vm.email" text="::vm.details.email"></ip-email-link> </div> </div> <div class="row"> <div class="col-sm-3 field-label"> <label translate=".website"></label> </div> <div class="col-sm-9"> <a *ngif="::vm.details.website != null" class="cn-website" target="_blank" href="http://{{::vm.details.website}}">{{::vm.details.website}}</a> </div> </div> <div class="row" ng-if="::vm.show(\'assignDate\')"> <div class="col-sm-3 field-label"> <label translate=".assignDate"></label> </div> <div class="col-sm-9"> <ip-date model="::vm.details.assignDate" class="cn-assignment-date"></ip-date> </div> </div> <div class="row" ng-if="::vm.show(\'dateCommenced\')"> <div class="col-sm-3 field-label"> <label translate=".commenceDate"></label> </div> <div class="col-sm-9"> <ip-date model="::vm.details.commenceDate" class="cn-commence-date"></ip-date> </div> </div> <div class="row" ng-if="::vm.show(\'dateCeased\')"> <div class="col-sm-3 field-label"> <label translate=".expiryDate"></label> </div> <div class="col-sm-9"> <ip-date model="::vm.details.expiryDate" class="cn-cease-date"></ip-date> </div> </div> </div> </div> </div>'),
e.put("condor/portfolio/cases/names/names.html",'<div class="row"> <ip-kendo-grid data-id="caseViewNames" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/portfolio/cases/texts/case-text-history.html",'<style> .article-label {\r\n        font-weight: bold;\r\n    }\r\n\r\n    .content {\r\n        margin: 12px 0 6px 0;\r\n    }\r\n\r\n    .switch label {\r\n        top: -9px;\r\n        color: inherit;\r\n    }\r\n\r\n    .switch.input-wrap-focus {\r\n        background-color: transparent;\r\n        border: none;\r\n        box-shadow: none;\r\n    } </style> <div class="modal-header"> <h2 class="modal-title" translate="caseview.caseTexts.headerTemplate" translate-values="{typeText: vm.viewdata.textDescription}"></h2> <div class="modal-header-controls"> <ip-close-button data-ng-click="vm.close()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="content row" ng-if="vm.viewdata.irn || vm.viewdata.language || vm.viewdata.textDescription || vm.viewdata.fromCaseKey"> <div class="container-fluid col-md-8"> <div class="row data" ng-if="::vm.viewdata.irn"> <div class="col-md-4 article-label"> <span translate="caseview.caseTexts.caseIrn"></span> </div> <div class="col-md-6"> <span id="irn" ng-bind="::vm.viewdata.irn"></span> </div> </div> <div class="row data" ng-if="::vm.viewdata.language"> <div class="col-md-4 article-label"> <span translate="caseview.caseTexts.language"></span> </div> <div class="col-md-6"> <span id="language" ng-bind="::vm.viewdata.language"></span> </div> </div> <div class="row data" ng-if="::vm.viewdata.textClass"> <div class="col-md-4 article-label"> <span translate="caseview.caseTexts.class"></span> </div> <div class="col-md-6"> <span id="textClass" ng-bind="::vm.viewdata.textClass"></span> </div> </div> </div> <div class="col-md-4"> </div> </div> <div class="row"> <ip-kendo-grid data-id="caseViewCaseTextHistory" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> <br/> </div>'),e.put("condor/portfolio/cases/texts/case-texts.html",'<div class="row"> <ip-kendo-grid data-id="caseViewCaseTexts" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/processing/policing/dashboard/dashboard-popover.html",'<div> <p><b translate="total"></b> <span translate="policing.dashboard.tooltip.total"></span> </p> <p><b translate="waiting-to-start"></b> <span translate="policing.dashboard.tooltip.waitingToStart"></span> </p> <p><b translate="in-progress"></b> <span translate="policing.dashboard.tooltip.inProgress"></span> </p> <p><b translate="blocked"></b> <span translate="policing.dashboard.tooltip.blocked"></span> </p> <p><b translate="failed"></b> <span translate="policing.dashboard.tooltip.failed"></span> </p> <p><b translate="in-error"></b> <span translate="policing.dashboard.tooltip.inError"></span> </p> <p><b translate="on-hold"></b> <span translate="policing.dashboard.tooltip.onHold"></span> </p> </div>'),e.put("condor/processing/policing/dashboard/dashboard.html",'<ip-sticky-header> <ip-page-title page-title="policing.title" page-subtitle="policing.dashboard.title"> <action-buttons> <ip-policing-server-status></ip-policing-server-status> </action-buttons> </ip-page-title> </ip-sticky-header> <ip-inline-alert ng-if="!vm.isServiceBrokerEnabled" type="warning" text="serviceBrokerDisabled"></ip-inline-alert> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12 chart-container"> <div class="table-container"> <div class="table-title"> <h2 translate="policing.dashboard.summaryTitle"></h2> <span style="margin-left: 8px;"> <ip-inline-dialog placement="bottom" data-template="condor/processing/policing/dashboard/dashboard-popover.html"></ip-inline-dialog> </span> </div> </div> </div> </div> <ip-policing-status-summary-bar data="vm.summary"></ip-policing-status-summary-bar> <div class="row"> <div class="col-sm-12 chart-container"> <div class="table-container"> <div class="table-title"> <h2 translate="policing.dashboard.graph.statusChartType" ng-show="vm.graphSelected===\'statusGraph\'"></h2> <h2 translate="policing.dashboard.graph.rateChartType" ng-show="vm.graphSelected===\'rateGraph\'"></h2> <div class="col-sm-4 pull-right" style="width:300px"> <div class="input-wrap"> <label translate="policing.dashboard.graph.chartType"></label> <select id="chartSelection" ng-model="vm.graphSelected" ng-change="vm.chartTypeChanged()"> <option value="statusGraph" translate="policing.dashboard.graph.statusChartType"></option> <option value="rateGraph" translate="policing.dashboard.graph.rateChartType"></option> </select> </div> </div> </div> </div> <div> <ip-policing-current-status-graph ng-if="vm.graphSelected===\'statusGraph\'" data="vm.summary"></ip-policing-current-status-graph> <ip-policing-rate-graph ng-if="vm.graphSelected===\'rateGraph\'" data="vm.trend"></ip-policing-rate-graph> </div> </div> </div> <hr/> <ip-policing-request-logsummary></ip-policing-request-logsummary> <hr/> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="policing.errorLog.title"></h2> </div> </div> </div> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <span translate="policing.errorLog.viewErrorLogDescription"> </span> <br/> <br/> <div> <button id="viewAllErrors" class="btn btn-prominent clear" ui-sref="policingErrorLog"> <span translate="policing.errorLog.viewErrorLog"></span> </button> </div> </div> </div> </div> </div> <hr/> <div class="row" ng-if="vm.canManageExchangeRequests"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="exchangeIntegration.title"></h2> </div> </div> </div> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <span translate="exchangeIntegration.description"> </span> <br/> <br/> <div> <a ui-sref="exchangeRequests" target="_blank"> <button id="viewExchangeIntegration" class="btn btn-prominent clear"> <span translate="exchangeIntegration.link"></span> </button> </a> </div> </div> </div> </div> </div> <br/> </div>'),e.put("condor/processing/policing/errorLog/error.log.html",'<ip-sticky-header> <ip-page-title page-title="policing.title" page-subtitle="policing.errorLog.title"> <before-title> <ip-level-up-button data-to-state="policingDashboard"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="table-container"> <ip-kendo-grid data-id="errorlog" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/processing/policing/queue/queue.html",'<style> .switch {\r\n        width: 230px;\r\n    } </style> <ip-sticky-header> <ip-page-title page-title="policing.title" page-subtitle="policing.queue.title" page-subtitle-tranlslate-values="{queueType:\'{{vm.subheading | translate}}\'}"> <before-title> <ip-level-up-button data-to-state="policingDashboard"></ip-level-up-button> </before-title> <action-buttons> <div class="input-wrap switch pull-right"> <input type="checkbox" id="refreshSwitch" ng-model="vm.refreshState" ng-change="vm.autoRefreshChange()"> <label for="refreshSwitch" translate="{{vm.refreshState ? \'policing.queue.autoRefresh.on\' : \'policing.queue.autoRefresh.off\'}}" translate-values="{refreshInterval: vm.refreshInterval}"> </label> </div> </action-buttons> </ip-page-title> <div class="container-fluid"> <div class="row policing-title-header"> <ip-policing-status-summary-bar data="vm.summary"></ip-policing-status-summary-bar> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="table-container"> <ip-kendo-grid data-id="queue" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/processing/policing/requests/policing.request.affectedcases.html",'<div id="affectedCasesModal"> <div class="modal-header"> <h2 class="modal-title" translate="policing.request.maintenance.affectedCases.title"></h2> </div> <div class="modal-body"> <div class="row"> <p style="padding:4px 2px 5px 9px;font-weight:bold;" translate="policing.request.maintenance.affectedCases.message" translate-values="{cases:vm.totalAffectedCases}"></p> </div> </div> <div class="modal-footer"> <button type="button" class="btn btn-primary" data-ng-click="vm.ok()" translate="button.ok"></button> </div> </div>'),e.put("condor/processing/policing/requests/policing.requests.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 10px;\r\n        margin-right: 28px !important;\r\n        width: 30% !important;\r\n    }\r\n    \r\n    .label-legend {\r\n        font-weight: bold;\r\n        font-size: 120%;\r\n        margin-right: 10px;\r\n    }\r\n    \r\n    .input-wrap-group {\r\n        padding-left: 0px !important\r\n    }\r\n    \r\n    .input-wrap-group .input-wrap {\r\n        padding: 3px 6px 3px 3px;\r\n        margin: 0;\r\n    }\r\n    \r\n    .input-wrap-group>label {\r\n        padding-top: 5px;\r\n    }\r\n    \r\n    .input-wrap-group .modal-text {\r\n        margin-left: 25px;\r\n    }\r\n    \r\n    .inline-dialog {\r\n        top: -2px;\r\n    }\r\n    \r\n    .inline-alert {\r\n        top: -2px;\r\n    } </style> <div> <div class="modal-header"> <h2 class="modal-title" ng-show="!vm.request.requestId" translate="policing.request.maintenance.addTitle"></h2> <h2 class="modal-title" ng-show="vm.request.requestId" translate="policing.request.maintenance.editTitle"></h2> <div class="modal-header-controls"> <ip-icon-button ng-click="vm.runRequest()" ip-tooltip="{{:: \'policing.request.maintenance.runRequest.tooltip\' | translate }}" data-tooltip-placement="bottom" id="affectedCases" button-icon="gears"></ip-icon-button> <ip-save-button ng-click="vm.save()" id="Save" ng-disabled="!vm.requestMaintainForm.$dirty"></ip-save-button> <ip-close-button ng-click="vm.dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div ng-if="vm.currentAffectedCases.state!=0" class="search-options inline-alert"> <div ng-if="!vm.isRequestModifiedForAffectedCases()" class="col-sm-12"> <ip-inline-alert ng-if="vm.currentAffectedCases.cases === null" type="info" text="policing.request.maintenance.runRequest.calculatingCases"></ip-inline-alert> <ip-inline-alert ng-if="!(vm.currentAffectedCases.cases === null)" type="success" text="policing.request.maintenance.runRequest.affectedCases" text-params="{cases:vm.currentAffectedCases.cases}"></ip-inline-alert> </div> <div ng-if="vm.isRequestModifiedForAffectedCases()" class="col-sm-12"> <ip-inline-alert type="warning" text="policing.request.maintenance.runRequest.pendingChanges"></ip-inline-alert> </div> </div> <div class="modal-body" ng-form="vm.requestMaintainForm" ng-init="vm.initShortcuts()"> <div class="row"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.overview.header"></span> </div> </div> <div class="row"> <div class="input-wrap col-sm-12 required" ng-class="{\'error\': ((vm.requestMaintainForm.$submitted || vm.requestMaintainForm.requestTitle.$touched) &amp;&amp; !vm.requestMaintainForm.requestTitle.$valid)}"> <label class="col-sm-2" translate="policing.request.maintenance.sections.overview.title"></label> <input name="requestTitle" style="float:left" type="text" ng-model="vm.request.title" ng-class="{{::vm.requestFieldClasses(\'title\')}}" ng-maxlength="40" autocomplete="off" required data-ng-change="vm.resetErrors()"/> <span ng-if="((vm.requestMaintainForm.$submitted || vm.requestMaintainForm.requestTitle.$touched) &amp;&amp; !vm.requestMaintainForm.requestTitle.$valid)"> <span ng-if="vm.requestMaintainForm.requestTitle.$error.required" class="input-action tooltip-error" style="right:auto" data-tooltip-placement="right" ip-tooltip="{{:: \'field.errors.required\' | translate }}"> <span class="cpa-icon cpa-icon-exclamation-triangle"></span> </span> <span data-ng-if="vm.requestMaintainForm.requestTitle.$error.maxlength" class="input-action tooltip-error" style="right:auto" data-tooltip-placement="right" ip-tooltip="{{:: \'field.errors.maxlength\' | translate:{ length: 40 } }}"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.requestMaintainForm.requestTitle.$error.notunique" class="input-action tooltip-error" style="right:auto" data-tooltip-placement="right" ip-tooltip="{{:: \'field.errors.notunique\' | translate }}"> <icon name="exclamation-triangle"></icon> </span> </span> </div> </div> <div class="row"> <div class="input-wrap large"> <label translate="policing.request.maintenance.sections.overview.notes"></label> <textarea name="requestNote" style="resize:none" type="text" ng-model="vm.request.notes" ng-class="{{::vm.requestFieldClasses(\'notes\')}}"></textarea> </div> </div> <div ng-form="vm.optionsForm"> <div class="row"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.eventsReminder.header"></span> </div> </div> <div class="row"> <ip-datepicker id="startDate" name="startDate" class="col-sm-6" ng-model="vm.request.startDate" is-dirty="vm.request.isDirty(\'startDate\')" is-disabled="vm.disableReminders()" label="policing.request.maintenance.sections.eventsReminder.startDate" on-blur="vm.onDateBlur"></ip-datepicker> <div class="input-wrap col-sm-4" ng-class="{\'error\': vm.request.forDays===0 || (vm.request.forDays > 9999 || vm.request.forDays < -9999)}"> <span class="pull-left" style="margin-right:15px;margin-top:5px;" translate="policing.request.maintenance.sections.eventsReminder.for"></span> <input name="forDays" class="pull-left modal-text-small col-sm-4" type="number" ng-class="{{::vm.requestFieldClasses(\'forDays\')}}" ng-disabled="vm.disableReminders()" ng-model="vm.request.forDays" ng-change="vm.onChangeforDay()" ng-model-options="{ updateOn: \'blur\' }"/> <span class="pull-left" style="margin-right:15px;margin-top:5px;" translate="policing.request.maintenance.sections.eventsReminder.days"></span> <span> <span ng-if="vm.request.forDays===0" class="input-action tooltip-error" data-tooltip-placement="right" ip-tooltip="{{:: \'policing.request.maintenance.sections.eventsReminder.errors.days0\' | translate}}"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.request.forDays > 9999" class="input-action tooltip-error" style="right:auto" data-tooltip-placement="right" ip-tooltip="{{:: \'field.errors.max\' | translate:{ max: 9999 } }}"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.request.forDays < -9999" class="input-action tooltip-error" style="right:auto" data-tooltip-placement="right" ip-tooltip="{{:: \'field.errors.min\' | translate:{ min: -9999 } }}"> <icon name="exclamation-triangle"></icon> </span> </span> </div> </div> <div class="row"> <ip-datepicker id="endDate" name="endDate" class="col-sm-6" ng-model="vm.request.endDate" is-dirty="vm.request.isDirty(\'endDate\')" later-than="vm.minEndDate" is-disabled="vm.disableReminders()" label="policing.request.maintenance.sections.eventsReminder.endDate" on-blur="vm.onDateBlur"></ip-datepicker> </div> <div class="row"> <ip-datepicker id="dateLetters" name="dateLetters" class="col-sm-6" is-disabled="vm.disableReminders()" is-dirty="vm.request.isDirty(\'dateLetters\')" ng-model="vm.request.dateLetters" label="policing.request.maintenance.sections.eventsReminder.dateLetters" ip-datepicker-loader="vm.dateLetterState"></ip-datepicker> </div> <div class="row"> <div class="input-wrap-group group-inline col-sm-6" ng-class="{{::vm.requestFieldClasses(\'dueDateOnly\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="dueDateOnly" ng-model="vm.request.dueDateOnly" ng-disabled="vm.disableReminders()"/> <label for="dueDateOnly" translate="policing.request.maintenance.sections.eventsReminder.dueDateOnly"></label> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.policingOptions.header"></span> <ip-inline-dialog placement="top" data-template="condor/processing/policing/requests/policingoptions-popover.html"></ip-inline-dialog> </div> </div> <div class="col-sm-6"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.recalculateOptions.header"></span> <ip-inline-dialog placement="top" data-template="condor/processing/policing/requests/recalculateoptions-popover.html"></ip-inline-dialog> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'reminders\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="reminders" ng-model="vm.options.reminders" ng-change="vm.onSelectionReminder()"/> <label for="reminders" translate="policing.request.maintenance.sections.policingOptions.reminders"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'emailReminders\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="emailReminders" ng-model="vm.options.emailReminders" ng-disabled="!vm.options.reminders"/> <label for="emailReminders" translate="policing.request.maintenance.sections.policingOptions.emailReminders"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'documents\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="optDocuments" ng-model="vm.options.documents" ng-disabled="!vm.options.reminders"/> <label for="optDocuments" translate="policing.request.maintenance.sections.policingOptions.documents"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'update\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="update" ng-model="vm.options.update"/> <label for="update" translate="policing.request.maintenance.sections.policingOptions.update"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'adhocReminders\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="adhocReminders" ng-model="vm.options.adhocReminders" ng-disabled="vm.options.recalculateReminderDates"/> <label for="adhocReminders" translate="policing.request.maintenance.sections.policingOptions.adhocReminders"></label> </div> </div> </div> </div> <div class="col-sm-6"> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'recalculateCriteria\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="recalculateCriteria" ng-model="vm.options.recalculateCriteria" ng-change="vm.onChangeReCalc.criteria()"/> <label for="recalculateCriteria" translate="policing.request.maintenance.sections.recalculateOptions.recalculateCriteria"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'recalculateDueDates\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="recalculateDueDates" ng-model="vm.options.recalculateDueDates" ng-change="vm.onChangeReCalc.dueDate()" ng-disabled="vm.options.recalculateCriteria"/> <label for="recalculateDueDates" translate="policing.request.maintenance.sections.recalculateOptions.recalculateDueDates"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'recalculateReminderDates\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="recalculateReminderDates" ng-model="vm.options.recalculateReminderDates" ng-change="vm.onChangeReCalc.reminderDate()" ng-disabled="vm.options.recalculateDueDates"/> <label for="recalculateReminderDates" translate="policing.request.maintenance.sections.recalculateOptions.recalculateReminderDates"></label> </div> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" ng-class="{{::vm.optionsFieldClasses(\'recalculateEventDates\')}}"> <span></span> <div class="input-wrap"> <input type="checkbox" id="recalculateEventDates" ng-model="vm.options.recalculateEventDates" ng-disabled="!vm.options.recalculateDueDates"/> <label for="recalculateEventDates" translate="policing.request.maintenance.sections.recalculateOptions.recalculateEventDates"></label> </div> </div> </div> </div> </div> </div> <div ng-form="vm.form" ip-form> <div class="row"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.caseCharacteristics.header"></span> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="case" ng-model="vm.formData.caseReference" ng-change="vm.selectCase()" data-config="case" data-label="policing.request.maintenance.sections.caseCharacteristics.caseReference" ng-class="{{::vm.formDataFieldClasses(\'caseReference\')}}"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="jurisdiction" ng-model="vm.formData.jurisdiction" ng-change="vm.validate();vm.clearExcludeCheckbox(\'jurisdiction\', \'excludeJurisdiction\')" data-config="jurisdiction" data-label="policing.request.maintenance.sections.caseCharacteristics.jurisdiction" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'jurisdiction\')}}" data-picklist-can-maintain="true"> </ip-typeahead> </div> <div class="col-sm-2"> <div class="input-wrap" ng-class="{{::vm.formDataFieldClasses(\'excludeJurisdiction\')}}"> <input type="checkbox" id="excludeJurisdiction" ng-model="vm.formData.excludeJurisdiction" ng-disabled="!vm.formData.jurisdiction"/> <label for="excludeJurisdiction" translate="policing.request.maintenance.sections.exclude"></label> </div> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="propertyType" ng-model="vm.formData.propertyType" ng-change="vm.validate();vm.clearExcludeCheckbox(\'propertyType\', \'excludeProperty\')" data-config="propertyType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-label="policing.request.maintenance.sections.caseCharacteristics.propertyType" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'propertyType\')}}" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <div class="col-sm-2"> <div class="input-wrap" ng-class="{{::vm.formDataFieldClasses(\'excludeProperty\')}}"> <input type="checkbox" id="excludeProperty" ng-model="vm.formData.excludeProperty" ng-disabled="!vm.formData.propertyType || !vm.formData.propertyType.key"/> <label for="excludeProperty" translate="policing.request.maintenance.sections.exclude"></label> </div> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="caseType" ng-model="vm.formData.caseType" ng-change="vm.caseTypeChanged();vm.validate()" data-config="caseType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-label="policing.request.maintenance.sections.caseCharacteristics.caseType" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'caseType\')}}" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="caseCategory" ng-model="vm.formData.caseCategory" ng-change="vm.validate()" data-config="caseCategory" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-label="policing.request.maintenance.sections.caseCharacteristics.category" ng-disabled="vm.isCaseReferenceSelected() || vm.isCaseCategoryDisabled()" ng-class="{{::vm.formDataFieldClasses(\'caseCategory\')}}" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="subType" ng-model="vm.formData.subType" ng-change="vm.validate()" data-config="subType" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-label="policing.request.maintenance.sections.caseCharacteristics.subType" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'subType\')}}" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="office" ng-model="vm.formData.office" data-config="office" data-label="policing.request.maintenance.sections.caseCharacteristics.office" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'office\')}}"> </ip-typeahead> </div> </div> <div class="row"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.caseEventAttributes.header"></span> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="action" data-picklist-can-maintain="true" ng-model="vm.formData.action" ng-change="vm.validate();vm.handleActionSelected();vm.clearExcludeCheckbox(\'action\', \'excludeAction\');" data-config="action" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-label="policing.request.maintenance.sections.caseEventAttributes.action" ng-class="{{::vm.formDataFieldClasses(\'action\')}}"> </ip-typeahead> </div> <div class="col-sm-2"> <div class="input-wrap" ng-class="{{::vm.formDataFieldClasses(\'excludeAction\')}}"> <input type="checkbox" id="excludeAction" ng-model="vm.formData.excludeAction" ng-disabled="!vm.formData.action"/> <label for="excludeAction" translate="policing.request.maintenance.sections.exclude"></label> </div> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="event" ng-model="vm.formData.event" data-config="event" data-picklist-can-maintain="true" data-label="policing.request.maintenance.sections.caseEventAttributes.event" ng-class="{{::vm.formDataFieldClasses(\'event\')}}"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="dateOfLaw" data-picklist-can-maintain="true" ng-model="vm.formData.dateOfLaw" ng-change="vm.validate()" data-config="dateOfLaw" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-label="policing.request.maintenance.sections.caseEventAttributes.law" ng-disabled="vm.isDateOfLawDisabled()" ng-class="{{::vm.formDataFieldClasses(\'dateOfLaw\')}}"> </ip-typeahead> </div> </div> <div class="row"> <div class="text-wrap"> <span class="label-legend" translate="policing.request.maintenance.sections.caseAssociatedWithNames.header"></span> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="nameType" data-config="nameType" data-label="policing.request.maintenance.sections.caseAssociatedWithNames.nameType" ng-model="vm.formData.nameType" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'nameType\')}}"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead name="name" data-config="name" data-label="policing.request.maintenance.sections.caseAssociatedWithNames.name" ng-model="vm.formData.name" ng-disabled="vm.isCaseReferenceSelected()" ng-class="{{::vm.formDataFieldClasses(\'name\')}}"> </ip-typeahead> </div> </div> </div> </div> </div>'),e.put("condor/processing/policing/requests/policing.requests.runnow.confirmation.html",'<div id="requestRunNowModal" translate-namespace="policing.request.runNow"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div class="row"> <p ng-if="isStartDateInFuture()" style="padding:4px 2px 5px 9px;font-weight:bold;" translate=".futurePolicing"></p> <p style="padding:4px 2px 5px 9px" translate=".description"></p> </div> <div class="row text-wrap"> <div class="col-sm-3 text-right" translate=".request"> </div> <div class="col-sm-9"> <strong>{{request.title}}</strong> </div> </div> <div class="row" ng-show="canCalculateAffectedCases"> <div ng-if="!isAffectedCasesAvailable()" class="text-wrap col-sm-offset-2"> <span translate=".calculatingCases"></span> <span class="cpa-icon loading-circle"></span> </div> <div ng-if="isAffectedCasesAvailable()" class="text-wrap col-sm-offset-2" translate=".affectedCases" translate-values="{cases:request.noOfAffectedCases}"> </div> <div class="col-sm-offset-2"> <div> <ip-radio-button id="runType-oneRequest" label=".runTypeOneRequest" ng-model="runMode.type" ng-value="1"></ip-radio-button> </div> <div> <ip-radio-button class="col-sm-11" style="padding-left:0px;" id="runType-seperateCases" label=".runTypeSeparateCases" ng-disabled="!(request.noOfAffectedCases >0)" ng-model="runMode.type" ng-value="2"> </ip-radio-button> </div> </div> </div> <div class="row text-wrap"> <div class="col-sm-3 text-right" style="padding-left:0px;"> <span class="text-grey-dark" translate=".start"></span> </div> <div class="col-sm-4"> <span id="startDate" class="text-grey-dark"> <ip-date model="request.startDate|| \'Oldest\'"></ip-date> </span> </div> </div> <div class="row text-wrap"> <div class="col-sm-3 text-right"> <span class="text-grey-dark" translate=".forDays"></span> </div> <div class="col-sm-4"> <span id="forDays" ng-if="request.forDays && request.forDays!==0" class="text-grey-dark"> {{request.forDays}} </span> <span id="forDays" ng-if="!request.forDays || request.forDays===0" class="text-grey-dark"> {{defaultDays | translate}} </span> </div> </div> <div class="row text-wrap"> <div class="col-sm-3 text-right"> <span class="text-grey-dark" translate=".until"></span> </div> <div class="col-sm-4"> <span id="endDate" class="text-grey-dark"> <ip-date model="request.endDate||today"></ip-date> </span> </div> </div> <div class="row text-wrap"> <div class="col-sm-3 text-right"> <span class="text-grey-dark" translate=".dateLetters"></span> </div> <div class="col-sm-4"> <span id="dateLetters" class="text-grey-dark"> <ip-date model="request.dateLetters||today"></ip-date> </span> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="cancel()" translate="Cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="proceed()" translate="Proceed"></button> </div> </div>'),e.put("condor/processing/policing/requests/policingoptions-popover.html",'<div> <p><b translate="policing.request.maintenance.sections.policingOptions.tooltip.reminders"></b> <span translate="policing.request.maintenance.sections.policingOptions.tooltip.remindersDescription"></span> </p> <p><b translate="policing.request.maintenance.sections.policingOptions.tooltip.emailReminders"></b> <span translate="policing.request.maintenance.sections.policingOptions.tooltip.emailRemindersDescription"></span> </p> <p><b translate="policing.request.maintenance.sections.policingOptions.tooltip.documents"></b> <span translate="policing.request.maintenance.sections.policingOptions.tooltip.documentsDescription"></span> </p> <p><b translate="policing.request.maintenance.sections.policingOptions.tooltip.update"></b> <span translate="policing.request.maintenance.sections.policingOptions.tooltip.updateDescription"></span> </p> <ul> <li><span translate="policing.request.maintenance.sections.policingOptions.tooltip.updateDetailDescriptionForEvents"></span></li> <li><span translate="policing.request.maintenance.sections.policingOptions.tooltip.updateDetailDescriptionForDueDates"></span></li> <li><span translate="policing.request.maintenance.sections.policingOptions.tooltip.updateDetailDescriptionForReminderDates"></span></li> <li><span translate="policing.request.maintenance.sections.policingOptions.tooltip.updateDetailDescriptionForStatus"></span></li> </ul> <p><b translate="policing.request.maintenance.sections.policingOptions.tooltip.adhocReminders"></b> <span translate="policing.request.maintenance.sections.policingOptions.tooltip.adhocRemindersDescription"></span> </p> </div>'),
e.put("condor/processing/policing/requests/recalculateoptions-popover.html",'<div> <p><b translate="policing.request.maintenance.sections.recalculateOptions.tooltip.criteria"></b> <span translate="policing.request.maintenance.sections.recalculateOptions.tooltip.criteriaDescription"></span> </p> <p><b translate="policing.request.maintenance.sections.recalculateOptions.tooltip.dueDates"></b> <span translate="policing.request.maintenance.sections.recalculateOptions.tooltip.dueDatesDescription"></span> </p> <p><b translate="policing.request.maintenance.sections.recalculateOptions.tooltip.reminderDates"></b> <span translate="policing.request.maintenance.sections.recalculateOptions.tooltip.reminderDatesDescription"></span> </p> <p><b translate="policing.request.maintenance.sections.recalculateOptions.tooltip.eventDates"></b> <span translate="policing.request.maintenance.sections.recalculateOptions.tooltip.eventDatesDescription"></span> </p> </div>'),e.put("condor/processing/policing/requests/saved.requests.html",'<ip-sticky-header> <ip-page-title page-title="policing.title" page-subtitle="policing.management.savedrequests.title"> <before-title> <ip-level-up-button data-to-state="policingDashboard"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <ip-topics data-options="vm.options"></ip-topics>'),e.put("condor/processing/policing/requestsLog/request.log.html",'<ip-sticky-header> <ip-page-title page-title="policing.title" page-subtitle="policing.request.log.title"> <before-title> <ip-level-up-button data-to-state="policingDashboard"></ip-level-up-button> </before-title> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="table-container"> <ip-kendo-grid data-id="requestlog" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div>'),e.put("condor/classic/schemaMapping/mapping/inputs/boolean.html",'<div class="col-sm-offset-4 no-padding-horizontal"> <ip-radio-button id="radio-true" label="True" ng-value="true" ng-model="model.fixedValues[current.node.id]" name="boolean-{{current.node.id}}" class="col-sm-4"></ip-radio-button> <ip-radio-button id="radio-true" label="False" ng-value="false" ng-model="model.fixedValues[current.node.id]" name="boolean-{{current.node.id}}" class="col-sm-4"></ip-radio-button> <div class="col-sm-offset-1 col-sm-5"> <button class="btn" ng-click="model.fixedValues[current.node.id]=undefined" ng-disabled="model.fixedValues[current.node.id] !== true && model.fixedValues[current.node.id] !== false">Clear</button> </div> </div>'),e.put("condor/classic/schemaMapping/mapping/inputs/date.html",'<ip-datepicker ng-model="model.fixedValues[current.node.id]" label="DateTime" class="hide-label"></ip-datepicker>'),e.put("condor/classic/schemaMapping/mapping/inputs/datetime.html",'<div> <ip-datepicker ng-model="model.fixedValues[current.node.id]" label="DateTime" class="hide-label"></ip-datepicker> <ng-include src="\'condor/classic/schemaMapping/mapping/inputs/time.html\'"></ng-include> </div>'),e.put("condor/classic/schemaMapping/mapping/inputs/list.html",'<ip-dropdown label="List Value" ng-model="model.fixedValues[current.node.id]" options="value for value in current.underlyingType().restrictions.enumerations"> </ip-dropdown>'),e.put("condor/classic/schemaMapping/mapping/inputs/notsupported.html","<div>Data type not supported</div>"),e.put("condor/classic/schemaMapping/mapping/inputs/numeric.html",'<div class="input-wrap"> <input name="value" in-numeric="current.underlyingType().dataType" ng-model="model.fixedValues[current.node.id]" type="text" class="col-sm-offset-4 no-padding-horizontal col-sm-6"> </div>'),e.put("condor/classic/schemaMapping/mapping/inputs/text.html",'<ip-text-field ng-model="model.fixedValues[current.node.id]" class="hide-label" label="Text Value" ng-trim="false" ng-change="setToNullIfBlank(model.fixedValues, current.node.id)"> </ip-text-field>'),e.put("condor/classic/schemaMapping/mapping/inputs/time.html",'<div class="col-sm-5 col-sm-offset-4 no-padding-horizontal"> <div class="col-sm-4"> <select data-ng-model="selectedHour" ng-init="selectedHour = dateHelper.getTime(model.fixedValues[current.node.id]).hours" ng-change="model.fixedValues[current.node.id] = dateHelper.setTime(model.fixedValues[current.node.id], selectedHour, null)"> <option ng-repeat="n in [].constructor(24) track by $index" ng-value="$index"> {{padZero($index)}} </option> </select> </div> <div class="col-sm-1 text-center"> <label>:</label> </div> <div class="col-sm-4"> <select data-ng-model="selectedMinutes" ng-init="selectedMinutes = dateHelper.getTime(model.fixedValues[current.node.id])\r\n        .minutes" ng-change="model.fixedValues[current.node.id] = dateHelper.setTime(model.fixedValues[current.node.id], null, selectedMinutes)"> <option ng-repeat="n in [].constructor(60) track by $index" ng-value="$index"> {{padZero($index)}} </option> </select> </div> </div>'),e.put("condor/components/picklist/modals/directives/picklistModalCustomizeColumns.html",'<div class="grid-columns"> <button class="btn btn-icon" ng-class="{expand: isExpand,\'icon-left\': !iconRight,\'icon-right\': iconRight}" ng-click="vm.showColumns(); isExpand = !isExpand;"> <icon name="bars-vertical" data-tooltip-placement="top" ip-tooltip="{{::\'picklistmodal.columns\' | translate }}"></icon> </button> <div class="grid-columns-list" ng-show="isExpand" ng-class="{\'columns-left\': !iconRight,\' columns-right\': iconRight}"> <ul> <li ng-repeat="item in vm.removableColumns" data-field="{{item.field}}"> <input type="checkbox" ng-model="item.isShown" ng-click="vm.toggleColumn(item)"> <label ng-click="vm.toggleColumn(item)">{{item.title}}</label> </li> </ul> </div> </div> '),e.put("condor/components/picklist/modals/directives/picklistModalMaintenance.html",'<div data-ng-if="vm.currentView === \'maintenance\'"> <div ng-form="vm.maintenance" ip-form> <div class="modal-header" ip-confirm-before-page-change="vm.maintenance.$dirty" data-confirm-message="{{:: \'ConfirmLeaveUnsavedChanges\' | translate}}"> <h2 class="modal-title"> <span translate="{{::vm.getMaintenanceTitle()}}" translate-value-name="{{::vm.fieldLabel | translate }}"> </span> </h2> <div class="modal-header-controls"> <ip-checkbox ng-if="vm.maintenanceState === \'adding\' && vm.canAddAnother" label="{{ \'modal.addAnother\' | translate}}" ng-model="vm.isAddAnother"></ip-checkbox> <ip-save-button type="button" data-ng-disabled="!vm.isSaveEnabled()" data-ng-click="vm.save()" data-ng-show="vm.isSaveVisible()"></ip-save-button> <ip-close-button type="button" data-ng-click="vm.abandon()"></ip-close-button> </div> </div> <div ng-if="vm.navigation" class="modal-subheader"> &nbsp; <div class="modal-nav"> <div class="pull-right"> <button disabled="disabled" ng-disabled="vm.navigation.isFirstDisabled" ng-click="vm.navigation.first()" ip-tooltip="{{:: \'skipToFirst\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-angle-double-left"></span> </button> <button disabled="disabled" ng-disabled="vm.navigation.isPrevDisabled" ng-click="vm.navigation.prev()" ip-tooltip="{{:: \'Previous\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-chevron-circle-left"></span> </button> <span>{{vm.navigation.currentIndex + 1}}</span> <span translate="of"></span> <span>{{vm.navigation.totalCount}}</span> <button disabled="disabled" ng-disabled="vm.navigation.isNextDisabled" ng-click="vm.navigation.next()" ip-tooltip="{{:: \'Next\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-chevron-circle-right"></span> </button> <button disabled="disabled" ng-disabled="vm.navigation.isLastDisabled" ng-click="vm.navigation.last()" ip-tooltip="{{:: \'skipToLast\' | translate }}" class="btn btn-icon btn-no-bg"> <span class="cpa-icon cpa-icon-angle-double-right"></span> </button> </div> </div> </div> <div class="modal-body"> <ip-dynamic-content src="vm.maintenanceTemplate"></ip-dynamic-content> </div> </div> </div>'),e.put("condor/components/picklist/modals/directives/picklistModalSearch.html",'<style> .whitelabel {\r\n        color: #fff !important;\r\n    } </style> <div data-ng-show="vm.currentView === \'search\'"> <div class="modal-header"> <h2 class="modal-title" translate="{{::vm.windowLabel}}"></h2> <div class="modal-header-controls"> <ip-preview-button ng-if="vm.showPreview" is-preview-active="vm.isPreviewActive"></ip-preview-button> <ip-apply-button ng-if="vm.showApply" ng-click="vm.returnSelectedItems()"></ip-apply-button> <ip-close-button type="button" data-ng-click="vm.cancel()"></ip-close-button> </div> </div> <div class="modal-body" ng-transclude> </div> </div>'),e.put("condor/components/picklist/modals/directives/picklistModalSearchAdd.html",'<div class="text-wrap no-hover" data-ng-if="vm.maintainability.canAdd && vm.maintenanceActions.canAdd"> <ip-icon-button class="pull-right" button-icon="plus-circle" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.changeToAddView()"></ip-icon-button> </div>'),e.put("condor/components/picklist/modals/directives/picklistModalSearchField.html",'<ip-search-field ip-autofocus data-value="vm.searchValue" data-search="vm.searchInWindow()" ng-keydown="keydown($event)"></ip-search-field>'),e.put("condor/components/picklist/modals/directives/picklistModalSearchResults.html",'<style> .grid-actions {\r\n        white-space: nowrap;\r\n    }\r\n    \r\n    div.switch {\r\n        display: inline-block;\r\n        padding-right: 20px;\r\n        vertical-align: middle;\r\n    }\r\n    \r\n    div.switch.input-wrap-focus {\r\n        background-color: transparent;\r\n        border: none;\r\n        box-shadow: none;\r\n    }\r\n    \r\n    div.k-splitter {\r\n        min-height: 450px;\r\n        border: 0px !important;\r\n    }\r\n    \r\n    .fixed-detail-panel-right .detail-view {\r\n        margin: 5px;\r\n        border: 8px solid #F5F5F5;\r\n        padding: 8px;\r\n    }\r\n    \r\n    .fixed-detail-panel-right .article.data div {\r\n        padding: 0px;\r\n        margin: 0px;\r\n    }\r\n    \r\n    div.row.data {\r\n        padding: 5px 3px;\r\n    }\r\n    \r\n    div.article-label {\r\n        font-weight: bold;\r\n    }\r\n    \r\n    .dim {\r\n        font-family: \'Noto_SansItalic\';\r\n        font-weight: 500;\r\n        color: #909090\r\n    } </style> <div ng-if="vm.modalState !== \'initialising\' && !vm.showPreview"> <ip-kendo-grid mode="search" data-id="picklistResults" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> <div ng-if="vm.modalState !== \'initialising\' && vm.showPreview" class="row splitter-container"> <div kendo-splitter k-panes="vm.splitterOptions.panes" k-orientation="vm.splitterOptions.orientation" ng-if="vm.gridOptions" id="picklistSearchResults"> <div id="picklistSearchResultsPane" class="fixed-detail-panel-left"> <ip-kendo-grid mode="search" data-id="picklistResults" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> <div class="fixed-detail-panel-right" id="picklistPreviewPane" ng-show="vm.isPreviewActive"> <ip-picklist-names-pane ng-if="vm.windowLabel===\'Name\'" ng-if="vm.isPreviewActive" data-name-id="vm.gridOptions.getSelectedRow().key"></ip-picklist-names-pane> </div> </div> </div>'),e.put("condor/components/picklist/modals/panes/picklist.names.pane.html",'<style> .break-text {\r\n        word-wrap: break-word;\r\n    }\r\n    \r\n    .ceased-date {\r\n        color: red;\r\n    }\r\n    \r\n    textarea {\r\n        border: 0px;\r\n        resize: none;\r\n    } </style> <article class="detail-view" ng-if="vm.nameId === undefined"> <header> <ip-inline-alert type="info" text="caseSearch.topics.names.selectAName"> </ip-inline-alert> </header> </article> <article class="detail-view data" ng-if="vm.nameId"> <header> <h5>{{vm.nameDetailData.displayName}} <span ng-if="vm.nameDetailData.code">({{vm.nameDetailData.code}})</span> <ip-debtor-restriction-flag debtor="vm.nameId" ng-if="vm.nameDetailData.debtorRestrictionFlag" style="margin-left: 5px"></ip-debtor-restriction-flag> </h5> </header> <hr> <div class="container-fluid" ng-if="vm.nameDetailData.isIndividual && !vm.nameDetailData.isStaff"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.organisation"></span> </div> <div class="col-lg-8"> <span class="text">{{vm.nameDetailData.organisationName}}</span><span ng-if="vm.nameDetailData.organisationCode"> ({{vm.nameDetailData.organisationCode}})</span> <ip-debtor-restriction-flag debtor="vm.nameId" ng-if="vm.nameDetailData.debtorRestrictionFlag" style="margin-left: 5px"></ip-debtor-restriction-flag> </div> </div> </div> <div class="container-fluid"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.postalAddress"></span> </div> <div class="col-lg-8"> <ip-text-area content="vm.nameDetailData.postalAddress"></ip-text-area> </div> </div> </div> <div class="container-fluid" ng-if="!vm.nameDetailData.isExternalView || (vm.nameDetailData.isExternalView && !vm.nameDetailData.isStaff)"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.streetAddress"></span> </div> <div class="col-lg-8"> <ip-text-area content="vm.nameDetailData.streetAddress"></ip-text-area> </div> </div> </div> <div class="container-fluid"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.phone"></span> </div> <div class="col-lg-8"> <span class="text">{{vm.nameDetailData.mainPhone}}</span> </div> </div> </div> <div class="container-fluid"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.email"></span> </div> <div class="col-lg-8 break-text"> <span class="text">{{vm.nameDetailData.mainEmail}}</span> </div> </div> </div> <div class="container-fluid" ng-if="vm.nameDetailData.isOrganisation"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.mainContact"></span> </div> <div class="col-lg-8"> <span class="text">{{vm.nameDetailData.mainContact}}</span> </div> </div> </div> <div class="container-fluid" ng-if="!vm.nameDetailData.isExternalView && vm.nameDetailData.isStaff"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.startDate"></span> </div> <div class="col-lg-8"> <ip-date model="vm.nameDetailData.startDate"></ip-date> </div> </div> </div> <div class="container-fluid" ng-if="!vm.nameDetailData.isExternalView"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.ceasedDate"></span> </div> <div class="col-lg-8" ng-class="{\'ceased-date\': vm.nameDetailData.ceasedDateInPast}"> <ip-date model="vm.nameDetailData.dateCeased"></ip-date> </div> </div> </div> <div class="container-fluid" ng-if="!vm.nameDetailData.isExternalView && vm.nameDetailData.isStaff"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.staffClassification"></span> </div> <div class="col-lg-8"> <span class="text">{{vm.nameDetailData.staffClassification}}</span> </div> </div> </div> <div class="container-fluid" ng-if="!vm.nameDetailData.isExternalView && vm.nameDetailData.isStaff"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.profitCenter"></span> </div> <div class="col-lg-8"> <span class="text">{{vm.nameDetailData.profitCenter}}</span> </div> </div> </div> <div class="container-fluid" ng-if="!vm.nameDetailData.isExternalView"> <div class="row data"> <div class="col-lg-4 article-label"> <span translate="caseSearch.topics.names.group"></span> </div> <div class="col-lg-8"> <span class="text">{{vm.nameDetailData.group}}</span> </div> </div> </div> <br> </article>'),e.put("condor/configuration/general/ede/datamapping/datamapping.maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="dataMapping.maintenance"> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.options.entity.state"> <div ng-switch-when="adding" translate="{{\'.add\'}}" translate-values="{ structure: vm.structure }"></div> <div ng-switch-default translate="{{\'.edit\'}}" translate-values="{ structure: vm.structure }"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row" class="input-wrap"> <div class="col-sm-11"> <ip-text-field multiline rows="5" name="description" ip-required label=".inputDescription" ng-model="vm.entity.description" ng-class="{\'edited\': vm.form.description.$dirty}" data-ng-maxlength="254" ip-field-error="{{vm.getError() | translate}}" ip-autofocus></ip-text-field> </div> </div> <div class="row" class="input-wrap"> <div class="col-sm-11"> <ip-typeahead name="event" ng-model="vm.entity.event" data-label=".systemEvent" data-config="event" ng-disabled="vm.onChange()"> </ip-typeahead> </div> </div> <div class="row" class="input-wrap"> <div style="margin-left:32%"> OR </div> </div> <div class="row" class="input-wrap"> <div style="margin-left:30%"> <ip-checkbox name="ignore" label=".ignore" ng-checked="false" ng-change="vm.onChange()" ng-model="vm.entity.ignore" ng-disabled="false" ng-class="{\'edited\': vm.form.ignore.$dirty}"></ip-checkbox> </div> </div> </div> </div>'),e.put("condor/configuration/general/ede/datamapping/datamappingtopics.html",'<ip-sticky-header> <ip-page-title page-title="{{::vm.headerTitle}}" page-subtitle="{{::vm.viewData.name}}"> </ip-page-title> </ip-sticky-header> <ip-topics data-options="vm.options" data-on-topic-selected="vm.onTopicSelected(topicKey)"></ip-topics>'),e.put("condor/configuration/general/dataitem/directives/dataitemmaintenance.html",'<style> .input-top-margin {\r\n        margin-top: -7%;\r\n    }\r\n    \r\n    .input-left-margin {\r\n        margin-left: -4%;\r\n    }\r\n    \r\n    .input-textfield-margin {\r\n        margin-left: -25.5%;\r\n    }\r\n    \r\n    .input-textfield-margin-left {\r\n        margin-left: -17%;\r\n    }\r\n    \r\n    .input-checkbox-margin-left {\r\n        margin-left: 27%;\r\n    } </style> <div translate-namespace="dataItem.maintenance"> <div ng-if="src === \'configuration\'"> <ip-text-field class="input-textfield-margin" name="code" ip-autofocus ng-maxlength="40" label=".name" ng-model="model.name" ip-required ng-disabled="false" ng-class="{\'edited\': maintenance.code.$dirty}" ip-field-error="{{vm.getError(\'code\').message | translate}}"></ip-text-field> </div> <div ng-if="src === \'picklist\'"> <ip-text-field class="input-textfield-margin" name="name" ip-autofocus ng-maxlength="40" label=".name" ng-model="model.code" ip-required ng-disabled="false" ng-class="{\'edited\': vm.maintenance.name.$dirty}" ip-field-error="{{model.$error(\'code\').message | translate}}"></ip-text-field> </div> <div ng-if="src === \'configuration\'" class="row"> <div class="col-sm-12"> <ip-text-field multiline class="input-textfield-margin" name="description" label=".description" rows="4" ng-model="model.description" ng-disabled="false" ip-required ng-class="{\'edited\': maintenance.description.$dirty}" data-ng-maxlength="254"></ip-text-field> </div> </div> <div ng-if="src === \'picklist\'" class="row"> <div class="col-sm-12"> <ip-text-field multiline class="input-textfield-margin" name="description" label=".description" rows="4" ng-model="model.value" ng-disabled="false" ip-required ng-class="{\'edited\': vm.maintenance.description.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8" style="margin-left: -5.5%"> <ip-typeahead name="dataitemgrouppicklist" data-picklist-can-maintain="true" id="dataitem-group-picklist" data-multiselect data-config="dataItemGroup" data-label=".group" ng-model="model.itemGroups" ng-class="{\'edited\': maintenance.dataitemgrouppicklist.$dirty}"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-8" style="margin-left: -5.5%"> <ip-typeahead name="entrypoint" data-label=".entryPoint" data-key-field="name" data-text-field="name" data-api-url="api/picklists/entrypoint/search" data-picklist-display-name="picklist.entryPoint.Type" data-picklist-columns="[{title:\'Entry Point No.\', field:\'name\', sortable: false}, {title:\'Description\', field:\'description\', sortable: false}]" ng-model="model.entryPointUsage" data-item-template-url="condor/configuration/general/dataitem/typeahead-entrypoint-template.html" ng-class="{\'edited\': maintenance.entrypoint.$dirty}"> </ip-typeahead> </div> <div class="col-sm-1"> <ip-inline-dialog data-content="{{::\'dataItem.maintenance.entryPointHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div class="input-wrap-group group-inline" style="margin-left: 14.5%"> <div class="col-sm-12"> <ip-radio-button id="rdbSqlStatement" label=".sqlStatement" ng-value="true" ng-model="model.isSqlStatement" ng-disabled="false" ng-change="vm.resetSql();" name="radioSql" ng-class="{edited: maintenance.radioSql.$dirty}"></ip-radio-button> <ip-radio-button id="rdbSqlProcedure" style="margin-left: 17.5%" label=".storedProcedure" ng-value="false" ng-model="model.isSqlStatement" ng-disabled="false" ng-change="vm.resetSql();" name="radioSp" ng-class="{edited: maintenance.radioSp.$dirty}"></ip-radio-button> </div> </div> </div> <div class="row"> <div class="col-sm-7"> <ip-checkbox class="input-checkbox-margin-left" name="returnsimage" label=".returnsImage" ng-model="model.returnsImage" ng-disabled="false" ng-class="{\'edited\': maintenance.returnsimage.$dirty}" ng-change="vm.resetSqlError()"></ip-checkbox> </div> <div class="col-sm-5" data-ng-if="!model.isSqlStatement"> <ip-checkbox style="margin-left: -16.2%" name="useSourceFile" label=".useSourceFile" ng-model="model.useSourceFile" ng-disabled="false" ng-class="{\'edited\': model.maintenance.useSourceFile.$dirty}"></ip-checkbox> </div> </div> <div ng-if="src === \'configuration\'" class="row"> <div data-ng-if="model.isSqlStatement" class="input-wrap large" style="margin-left: -1%"> <ip-text-field multiline ip-sql-highlight placeholder="{{:: \'dataItem.maintenance.enterSqlText\' | translate }}" name="statement" label=".statement" rows="8" ng-model="model.sql.sqlStatement" ip-required ng-disabled="false" ng-class="{\'edited\': maintenance.statement.$dirty}" ip-field-error="{{vm.getError(\'statement\').topic | translate}}"></ip-text-field> </div> </div> <div ng-if="src === \'picklist\'" class="row"> <div data-ng-if="model.isSqlStatement" class="input-wrap large" style="margin-left: -1%"> <ip-text-field multiline ip-sql-highlight placeholder="{{:: \'dataItem.maintenance.enterSqlText\' | translate }}" name="statement" label=".statement" rows="8" ng-model="model.sql.sqlStatement" ip-required ng-disabled="false" ng-class="{\'edited\': vm.maintenance.statement.$dirty}" ip-field-error="{{ saveCall === true ? model.$error(\'statement\').topic : vm.getError(\'statement\').topic | translate }}"></ip-text-field> </div> </div> <div data-ng-if="src === \'configuration\' && !model.isSqlStatement" class="row"> <div class="col-sm-11"> <ip-text-field style="margin-left: -23.5%" placeholder="{{:: \'dataItem.maintenance.enterProcName\' | translate }}" name="procedurename" label=".procedureName" ng-model="model.sql.storedProcedure" ip-required ng-disabled="false" ng-class="{\'edited\': maintenance.procedurename.$dirty}" ip-field-error="{{vm.getError(\'procedurename\').topic | translate}}"> </ip-text-field> </div> <div class="col-sm-1"> <ip-inline-dialog data-html="true" data-content="{{::\'dataItem.maintenance.storedProcedureHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div data-ng-if="src === \'picklist\' && !model.isSqlStatement" class="row"> <div class="col-sm-11"> <ip-text-field style="margin-left: -23.5%" placeholder="{{:: \'dataItem.maintenance.enterProcName\' | translate }}" name="procedurename" label=".procedureName" ng-model="model.sql.storedProcedure" ip-required ng-disabled="false" ng-class="{\'edited\': vm.maintenance.procedurename.$dirty}" ip-field-error="{{ saveCall === true ? model.$error(\'procedurename\').topic : vm.getError(\'procedurename\').topic | translate }}"> </ip-text-field> </div> <div class="col-sm-1"> <ip-inline-dialog data-html="true" data-content="{{::\'dataItem.maintenance.storedProcedureHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row" style="margin-top: -.6%; margin-bottom: 1.75%"> <button id="validate" class="btn btn-prominent clear" style="margin-left: 17.5%" data-ng-click="vm.validateSql()" data-ng-disabled="vm.shouldDisable()"> <span translate="dataItem.maintenance.validate"></span> </button> </div> <div class="row"> <div class="input-wrap large" style="margin-left: -1%"> <ip-text-field multiline name="notes" label="dataItem.maintenance.notes" rows="4" ng-model="model.notes" ng-disabled="false" ng-class="{\'edited\': maintenance.notes.$dirty}"></ip-text-field> </div> </div> </div>'),e.put("condor/configuration/general/dataitem/directives/detailview.html",'<style> .input-left-margin {\r\n    margin-left: -4%;\r\n} </style> <div class="row input-left-margin"> <div class="col-md-6"> <div class="input-wrap large"> <label translate="{{item.isSql ? \'dataItem.sql\' : \'dataItem.storedProcedure\'}}"></label> <textarea name="sql" type="text" rows="6" ng-model="item.sql" ng-disabled="true"></textarea> </div> </div> <div class="col-md-6"> <div class="input-wrap large"> <label translate="notes"></label> <textarea name="notes" type="text" rows="6" ng-model="item.notes" ng-disabled="true"></textarea> </div> </div> </div>'),e.put("condor/configuration/general/events/eventnotetypes/eventnotetypes.html",'<ip-sticky-header> <ip-page-title page-title="eventNoteType.eventNoteTypeMaintenance">\\ <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="container-fluid"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.gridOptions.search()"></ip-search-field> </div> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/events/eventnotetypes/eventnotetypes.maintenance.html",'<style> .input-checkbox-margin-left {\r\n        margin-left: 22%;\r\n    } </style> <div ng-form="vm.form" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="eventNoteType.maintenance.addEventNoteType"></div> <div ng-switch-when="duplicating" translate="eventNoteType.maintenance.duplicateEventNoteType"></div> <div ng-switch-default translate="eventNoteType.maintenance.editEventNoteType"></div> </h2> <div class="modal-header-controls"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.form)"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEditState()" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div> <ip-text-field class="col-sm-8" name="description" ip-required label="eventNoteType.description" ng-model="vm.entity.description" data-ng-maxlength="250" ng-class="{\'edited\': vm.form.description.$dirty}" ip-autofocus="true" ip-field-error="{{vm.getError(\'description\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-checkbox class="input-checkbox-margin-left" name="sharingAllowed" ng-model="vm.entity.sharingAllowed" label="eventNoteType.sharingEventNotes" ng-class="{edited: vm.form.sharingAllowed.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div> <ip-checkbox class="input-checkbox-margin-left" name="isExternal" ng-model="vm.entity.isExternal" label="eventNoteType.public" ng-class="{edited: vm.form.isExternal.$dirty}"></ip-checkbox> </div> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/create.html",'<div ng-form="vm.maintenance" ip-form> <div class="modal-header"> <h2 class="modal-title"> <div translate="Add Jurisdiction"></div> </h2> <div class="modal-header-controls"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div class="input-wrap-group"> <span translate="jurisdictions.maintenance.overview.type" class="pull-left input-wrap"></span> <ip-radio-button label="jurisdictions.maintenance.overview.types.country" value="0" ng-model="vm.formData.type" name="typeCountry" ng-class="{edited: vm.maintenance.typeCountry.$dirty}"> </ip-radio-button> <ip-radio-button label="jurisdictions.maintenance.overview.types.group" value="1" ng-model="vm.formData.type" name="typeGroup" ng-class="{edited: vm.maintenance.typeGroup.$dirty}"> </ip-radio-button> <ip-radio-button label="jurisdictions.maintenance.overview.types.ipOnly" value="3" ng-model="vm.formData.type" name="typeIpOnly" ng-class="{edited: vm.maintenance.typeIpOnly.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <ip-text-field name="code" ip-required label="jurisdictions.maintenance.overview.code" ng-model="vm.formData.id" ng-maxlength="3" ng-class="{edited: vm.maintenance.code.$dirty}" ip-autofocus></ip-text-field> </div> <div class="row"> <ip-text-field name="name" label="jurisdictions.maintenance.overview.name" ng-model="vm.formData.name" ng-maxlength="60" ip-required ng-class="{edited: vm.maintenance.name.$dirty}"></ip-text-field> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/index.html",'<div ng-if="vm.defaultJurisdiction"> <ip-master-detail-view data-state="jurisdictions.default"> <div ng-include="\'condor/configuration/general/jurisdictions/maintenance/jurisdiction.maintenance.html\'"></div> </ip-master-detail-view> </div> <div ng-if="!vm.defaultJurisdiction"> <ip-master-detail-view data-state="jurisdictions.detail"> <div ng-include="\'condor/configuration/general/jurisdictions/maintenance/jurisdiction.maintenance.html\'"></div> </ip-master-detail-view> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/jurisdiction.maintenance.html",'<ip-sticky-header> <ip-page-title-save ng-if="::vm.canEdit" page-title="jurisdictions.pageTitle" page-subtitle="{{::vm.viewData.name}}" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.isSaveEnabled()" is-discard-enabled="vm.isDiscardEnabled()" is-delete-enabled="vm.canEdit" on-delete="vm.delete()"> <ip-level-up-button ng-if="!vm.isNavigated" data-to-state="jurisdictions" data-last-search="::vm.lastSearch" data-grid-id="searchResults" data-tooltip="{{::\'backToSearch\' | translate}}"></ip-level-up-button> </ip-page-title-save> <ip-page-title ng-if="::!vm.canEdit" page-title="jurisdictions.pageTitle" page-subtitle="{{::vm.viewData.name}}"> <before-title> <ip-level-up-button ng-if="!vm.isNavigated" data-to-state="jurisdictions" data-last-search="::vm.lastSearch" data-grid-id="searchResults" data-tooltip="{{::\'backToSearch\' | translate}}"></ip-level-up-button> </before-title> </ip-page-title> <div class="title-header compact"> <div class="col-sm-6 pull-right"> <ip-detail-page-nav ng-if="!vm.isNavigated" data-last-search="::vm.lastSearch" data-router-state="jurisdictions.detail"> </ip-detail-page-nav> </div> </div> </ip-sticky-header> <ip-topics data-options="vm.options" data-on-topic-selected="vm.onTopicSelected(topicKey)"></ip-topics>'),
e.put("condor/configuration/general/jurisdictions/search/index.html",'<ip-master-detail-view data-state="jurisdictions"> <ip-sticky-header> <ip-page-title page-title="jurisdictions.pageTitle"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.reset()" on-search="vm.search()" is-reset-disabled="vm.isResetDisabled()"> <div class="input-wrap"> <input type="text" id="search-options-criteria" ng-model="vm.searchCriteria.text" placeholder="{{ \'jurisdictions.search.placeholder\' | translate }}" ip-autofocus> </div> </ip-search-options> <div class="table-container" ng-init="vm.initShortcuts()"> <div class="table-title"> <h2 translate="searchResult"></h2> <button type="button" id="jurisdiction-add-btn" class="btn btn-icon pull-right" ip-tooltip="{{:: \'Add\' | translate}}" ng-click="vm.openAddModal()" ng-if="vm.permissions.canMaintain"> <icon name="plus-circle"></icon> </button> </div> <ip-kendo-grid data-id="searchResults" data-grid-options="vm.gridOptions" mode="search"></ip-kendo-grid> </div> </div> </ip-master-detail-view>'),e.put("condor/configuration/general/jurisdictions/search/jurisdiction.changecode.html",'<style> .modal-text-small {\r\n        margin-left: 60px;\r\n        width: 40% !important;\r\n    }\r\n    \r\n    .modal-label-align-left {\r\n        margin-left: -75px;\r\n    } </style> <div ng-form="vm.changeCodeForm" ip-form> <div class="modal-header"> <h2 class="modal-title"> <div translate="jurisdictions.changeCode.changeJurisdictionCode"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="!vm.formValid()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div class="input-wrap"> <label translate="jurisdictions.changeCode.currentCode" class="col-sm-4 modal-label-align-left"></label> <span class="input-wrap col-sm-4">{{vm.entity.jurisdictionCode}}</span> </div> </div> <div class="row"> <ip-text-field name="newJurisdictionCode" ip-required class="modal-text-small col-sm-6" label="jurisdictions.changeCode.newCode" ng-model="vm.entity.newJurisdictionCode" label="" ng-class="{\'edited\': vm.changeCodeForm.newJurisdictionCode.$dirty}" data-ng-maxlength="3" ip-field-error="{{vm.getError(\'jurisdiction\').message | translate}}"></ip-text-field> <ip-inline-dialog class="col-sm-1" data-content="{{:: \'jurisdictions.changeCode.newCodeHelp\' | translate}} " data-placement="right"></ip-inline-dialog> </div> </div> </div>'),e.put("condor/configuration/general/names/locality/locality.html",'<ip-sticky-header> <ip-page-title page-title="locality.title"> <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="container-fluid"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.gridOptions.search()"></ip-search-field> </div> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/names/locality/locality.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 92px;\r\n        width: 25% !important;\r\n    } </style> <div ng-form="vm.form" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.currentState"> <div ng-switch-when="adding" translate="locality.maintenance.addTitle"></div> <div ng-switch-when="duplicating" translate="locality.maintenance.duplicateTitle"></div> <div ng-switch-default translate="locality.maintenance.editTitle"></div> </h2> <div class="modal-header-controls"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div> <ip-text-field name="code" class="modal-text-small col-sm-8" ip-required label="locality.code" ng-model="vm.entity.code" ng-class="{\'edited\': vm.form.code.$dirty}" data-ng-maxlength="5" ng-disabled="vm.isEdit" ip-field-error="{{vm.getError(\'code\').message | translate}}" ip-autofocus="{{vm.entity.currentState === \'adding\' || vm.entity.currentState === \'duplicating\'}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field class="col-sm-8" name="name" label="locality.name" ng-model="vm.entity.name" data-ng-maxlength="30" ng-class="{\'edited\': vm.form.name.$dirty}" ip-field-error="{{vm.getError(\'name\').message | translate}}" ip-autofocus="{{vm.entity.currentState === \'updating\'}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field class="col-sm-8" name="city" label="locality.city" ng-model="vm.entity.city" data-ng-maxlength="30" ng-class="{\'edited\': vm.form.city.$dirty}" ip-autofocus="{{vm.entity.state === \'updating\'}}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead id="state-picklist" name="state" data-label="locality.state" data-key-field="key" data-key-field="code" data-text-field="value" data-api-url="api/configuration/picklists/states" data-picklist-display-name="State" data-picklist-columns="[{title:\'Code\', field:\'code\'}, {title:\'Description\', field:\'value\'}]" ng-model="vm.entity.state" ng-class="{edited: vm.form.state.$dirty}" data-extend-query="vm.extendStatePicklist" ng-change="vm.onStateChanged()" data-item-template-url="condor/components/form/autocomplete-item-code-desc.html"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead id="country-picklist" name="country" data-config="jurisdiction" data-label="locality.country" data-picklist-can-maintain="true" ng-model="vm.entity.country" ng-class="{\'edited\': vm.form.country.$dirty}" ng-change="vm.onCountryChanged()"></ip-typeahead> </div> </div> </div> </div>'),e.put("condor/configuration/general/names/namealiastype/namealiastype.html",'<ip-sticky-header> <ip-page-title page-title="nameAliasType.nameAliasTypeMaintenance"> <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="container-fluid"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.gridOptions.search()"></ip-search-field> </div> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/names/namealiastype/namealiastype.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 92px;\r\n        width: 25% !important;\r\n    }\r\n    \r\n    .modal-checkbox-offset {\r\n        margin-left: 135px;\r\n    } </style> <div ng-form="vm.form" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="nameAliasType.maintenance.addNameAliasType"></div> <div ng-switch-when="duplicating" translate="nameAliasType.maintenance.duplicateNameAliasType"></div> <div ng-switch-when="updating" translate="nameAliasType.maintenance.editNameAliasType"></div> </h2> <div class="modal-header-controls"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll(vm.form)"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div> <ip-text-field name="type" class="modal-text-small col-sm-8" ip-required label="nameAliasType.type" ng-model="vm.entity.code" ng-class="{\'edited\': vm.form.type.$dirty}" data-ng-maxlength="2" ng-disabled="vm.isEdit" ip-field-error="{{vm.getError(\'type\').message | translate}}" ip-autofocus="{{vm.entity.state === \'adding\' || vm.entity.state === \'duplicating\'}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field class="col-sm-8" name="description" ip-required label="nameAliasType.description" ng-model="vm.entity.description" data-ng-maxlength="30" ng-class="{\'edited\': vm.form.description.$dirty}" ip-field-error="{{vm.getError(\'description\').message | translate}}" ip-autofocus="{{vm.entity.state === \'updating\'}}"></ip-text-field> </div> </div> <div class="row"> <div class="input-wrap-group group-inline col-sm-8 modal-checkbox-offset"> <ip-checkbox name="isUnique" ng-model="vm.entity.isUnique" label="nameAliasType.unique" ng-class="{edited: vm.form.isUnique.$dirty}"></ip-checkbox> </div> </div> </div> </div>'),e.put("condor/configuration/general/names/namerelations/namerelation.maintenance.html",'<style> .modal-text-small {\r\n        margin-left: 92px;\r\n        width: 25% !important;\r\n    }\r\n    \r\n    .label-legend {\r\n        font-weight: bold;\r\n        font-size: 120%;\r\n        margin-right: 10px;\r\n    }\r\n    \r\n    .label-inner-legend {\r\n        font-weight: bold;\r\n        font-size: 110%;\r\n        margin-left: 10px;\r\n    }\r\n    \r\n    .input-wrap-group>span~.input-wrap {\r\n        width: 75%;\r\n    }\r\n    \r\n    .input-wrap-group .input-wrap {\r\n        padding: 3px 6px 3px 3px;\r\n        margin: 0;\r\n    }\r\n    \r\n    .inline-dialog {\r\n        top: -2px;\r\n    }\r\n    \r\n    .ip-text-field-alignment-width {\r\n        width: 30% !important;\r\n    }\r\n    \r\n    .input-left-margin {\r\n        margin-left: -19%;\r\n    }\r\n    \r\n    .mark-required {\r\n        content: \'*\';\r\n        position: absolute;\r\n        top: -2px;\r\n        right: 6px;\r\n        font-size: 11px;\r\n        color: #CC3300;\r\n        z-index: 5;\r\n    } </style> <div ng-form="vm.form" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.currentState"> <div ng-switch-when="adding" translate="namerelation.maintenance.addTitle"></div> <div ng-switch-when="duplicating" translate="namerelation.maintenance.duplicateTitle"></div> <div ng-switch-default translate="namerelation.maintenance.editTitle"></div> </h2> <div class="modal-header-controls"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-nav-modal ng-if="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges"> </ip-nav-modal> <div class="row"> <div> <ip-text-field name="relationshipCode" class="col-sm-9" ip-required label="namerelation.relationshipcode" ng-model="vm.entity.relationshipCode" ng-class="{\'edited\': vm.form.relationshipCode.$dirty}" data-ng-maxlength="3" ng-disabled="vm.isEdit" ip-field-error="{{vm.getError(\'relationshipCode\').message | translate}}" ip-autofocus="{{vm.entity.currentState === \'adding\' || vm.entity.currentState === \'duplicating\'}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field name="relationshipDescription" class="col-sm-9" ip-required label="namerelation.relationshipdesc" ng-model="vm.entity.relationshipDescription" ng-class="{\'edited\': vm.form.relationshipDescription.$dirty}" data-ng-maxlength="30" ip-field-error="{{vm.getError(\'relationshipDescription\').message | translate}}"></ip-text-field> </div> </div> <div class="row"> <div> <ip-text-field name="reverseDescription" class="col-sm-9" ip-required label="namerelation.reverserelationship" ng-model="vm.entity.reverseDescription" ng-class="{\'edited\': vm.form.reverseDescription.$dirty}" data-ng-maxlength="30" ip-field-error="{{vm.getError(\'reverseDescription\').message | translate}}"></ip-text-field> </div> </div> <div class="row text-wrap"> <span class="label-legend" translate="namerelation.maintenance.nameRelationApplicableFor"></span> <ip-inline-dialog data-content="{{::\'namerelation.maintenance.nameRelationRestrictions\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-3" label="namerelation.employee" ng-model="vm.entity.isEmployee" name="chkEmployee" ng-class="{edited: vm.form.chkEmployee.$dirty}" ip-field-error="{{vm.getError(\'isEmployee\').message | translate}}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="namerelation.individual" ng-model="vm.entity.isIndividual" name="chkIndividual" ng-class="{edited: vm.form.chkIndividual.$dirty}"></ip-checkbox> <ip-checkbox class="col-sm-3" label="namerelation.organisation" ng-model="vm.entity.isOrganisation" name="chkOrganisation" ng-class="{edited: vm.form.chkOrganisation.$dirty}"></ip-checkbox> </div> </div> <div class="row text-wrap"> <span class="label-legend" translate="namerelation.maintenance.ethicalWallOption"></span> <ip-inline-dialog data-content="{{::\'namerelation.maintenance.ethicalWallSettings\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="input-wrap-group"> <ip-radio-button ng-repeat="option in vm.ethicalWallOptions" class="col-sm-3" label="{{option.value}}" value="{{option.key}}" ng-model="vm.entity.ethicalWall" name="{{\'rdo\'+option.key}}" ng-class="{edited: vm.form.{{\'rdo\'+option.key}}.$dirty}"> </ip-radio-button> </div> </div> <div class="text-wrap"> <span class="label-legend" translate="namerelation.maintenance.otherOptions"></span> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox class="col-sm-4" label="namerelation.crm" ng-model="vm.entity.isCrmOnly" name="chkCrmOnly" ng-class="{edited: vm.form.chkCrmOnly.$dirty}"></ip-checkbox> </div> </div> </div> </div>'),e.put("condor/configuration/general/names/namerelations/namerelations.html",'<ip-sticky-header> <ip-page-title page-title="namerelation.title"> <action-buttons> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.add()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </action-buttons> </ip-page-title> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="container-fluid"> <div class="row"> <div class="col-sm-6"> <br> <ip-search-field data-value="vm.searchCriteria.text" ip-autofocus data-search="vm.gridOptions.search()"></ip-search-field> </div> </div> </div> <br/> <div class="table-container"> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions"></ip-kendo-search-grid> </div> </div>'),e.put("condor/configuration/general/navmodal/directives/nav-Modal.html",'<div> <div class="row modal-subheader text-xs-right"> <ip-modal-nav all-items="::vm.allItems" current-item="::vm.currentItem" on-navigate="::vm.onNavigate" has-unsaved-changes="::vm.hasUnsavedChanges" has-pagination="vm.hasPagination"> </ip-modal-nav> <br/> </div> </div> '),e.put("condor/configuration/general/ptosettings/epo/eposettings.html",'<style> .margin-top-2px {\r\n        margin-top: 2px;\r\n    } </style> <div translate-namespace="ptosettings.epo"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save page-title="ptosettings.epo.header" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.form.$dirty" is-discard-enabled="vm.form.$dirty"></ip-page-title-save> </div> <div class="row title-header"> <a class="btn btn-default clear pull-right margin-top-2px" href="integration/ptoaccess/#/schedules"> <span translate=".view-schedules"></span> </a> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="col-sm-10 col-sm-offset-2" ng-form="vm.form" ip-form> <div class="row"> <h2 translate=".consumer-key-section"></h2> <span translate=".consumer-key-section-subheader"></span> </div> <br/> <div class="row"> <div class="col-lg-8 col-xs-12"> <ip-text-field name="consumerKey" label=".consumer-key" ip-required ip-autofocus ng-model="vm.formData.consumerKey" ng-class="{edited: vm.form.consumerKey.$dirty}" ng-maxlength="500" ng-change="vm.status.verified=false" mask="true"></ip-text-field> </div> </div> <div class="row"> <div class="col-lg-8 col-xs-12"> <ip-text-field name="privateKey" label=".consumer-private-key" ip-required ng-model="vm.formData.privateKey" ng-class="{edited: vm.form.privateKey.$dirty}" ng-change="vm.status.verified=false" ng-maxlength="500" mask="true"> </ip-text-field> </div> </div> <br/> <div class="row"> <h2 translate=".test-section"></h2> <span translate=".test-section-subheader"></span> </div> <br/> <div class="row"> <div class="col-lg-8 col-xs-12"> <div class="col-xs-4 col-sm-4"> <div class="pull-right"> <button class="btn btn-prominent clear" ng-click="vm.verify()" translate=".verify-button" ng-class="{\'disabled\': !vm.form.$valid}"></button> </div> </div> <div class="col-xs-4 col-sm-4 margin-top-2px"> <span ng-if="(!vm.status.inprogress && vm.status.verified && vm.form.$valid)" ng-class="{\'alert-success\': vm.status.isValid, \'alert-danger\': !vm.status.isValid}"> &nbsp;&nbsp; <span class="cpa-icon cpa-icon-lg" ng-class="{\'cpa-icon-check-circle\': vm.status.isValid, \'cpa-icon-exclamation-triangle\': !vm.status.isValid}"></span> <span ng-if="vm.status.isValid" translate=".test-valid"></span> <span ng-if="!vm.status.isValid" translate=".test-invalid"></span> </span> &nbsp;&nbsp; <span ng-if="vm.status.inprogress === true;" translate=".test-inprogress"></span> </div> </div> </div> </div> </div> </div>'),e.put("condor/configuration/general/ptosettings/uspto/tsdrsettings.html",'<style> .margin-top-2px {\r\n        margin-top: 2px;\r\n    } </style> <div translate-namespace="ptosettings.uspto.tsdr"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save page-title="ptosettings.uspto.tsdr.header" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.form.$dirty" is-discard-enabled="vm.form.$dirty"></ip-page-title-save> </div> <div class="row title-header"> <a class="btn btn-default clear pull-right margin-top-2px" href="integration/ptoaccess/#/schedules"> <span translate=".view-schedules"></span> </a> </div> </div> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <div class="col-sm-10 col-sm-offset-2" ng-form="vm.form" ip-form> <div class="row"> <h2 translate=".api-key-section"></h2> <span translate=".api-key-section-subheader"></span> </div> <br/> <div class="row"> <div class="col-lg-8 col-xs-12"> <ip-text-field name="apiKey" label=".api-key" ip-required ng-model="vm.formData.apiKey" ng-class="{edited: vm.form.apiKey.$dirty}" ng-change="vm.status.verified=false" ng-maxlength="500" mask="true"> </ip-text-field> </div> </div> <br/> <div class="row"> <h2 translate=".test-section"></h2> <span translate=".test-section-subheader"></span> </div> <br/> <div class="row"> <div class="col-lg-8 col-xs-12"> <div class="col-xs-4 col-sm-4"> <div class="pull-right"> <button class="btn btn-prominent clear" ng-click="vm.verify()" translate=".verify-button" ng-class="{\'disabled\': !vm.form.$valid}"></button> </div> </div> <div class="col-xs-4 col-sm-4 margin-top-2px"> <span ng-if="(!vm.status.inprogress && vm.status.verified && vm.form.$valid)" ng-class="{\'alert-success\': vm.status.isValid, \'alert-danger\': !vm.status.isValid}"> &nbsp;&nbsp; <span class="cpa-icon cpa-icon-lg" ng-class="{\'cpa-icon-check-circle\': vm.status.isValid, \'cpa-icon-exclamation-triangle\': !vm.status.isValid}"></span> <span ng-if="vm.status.isValid" translate=".test-valid"></span> <span ng-if="!vm.status.isValid" translate=".test-invalid"></span> </span> &nbsp;&nbsp; <span ng-if="vm.status.inprogress === true;" translate=".test-inprogress"></span> </div> </div> </div> </div> </div> </div>'),e.put("condor/configuration/general/sitecontrols/directives/detailView.html",'<div class="row"> <div class="col-sm-6"> <div class="input-wrap" ng-class="{error:item.hasError(\'value\')}"> <label translate="settingValue"></label> <input ng-if="item.dataType === \'String\'" type="text" name="value" ng-model="item.value" ng-class="{edited:item.isDirty(\'value\'), saved:item.isSaved(\'value\')}" ng-disabled="!canUpdate" ip-autofocus/> <input ng-if="item.dataType === \'Decimal\'" type="text" name="value" ng-model="item.value" ng-class="{edited:item.isDirty(\'value\'), saved:item.isSaved(\'value\')}" ipt-data-type="decimal" data-parent-model="item" ng-disabled="!canUpdate" ip-autofocus/> <input ng-if="item.dataType === \'Integer\'" type="text" name="value" ng-model="item.value" ng-class="{edited:item.isDirty(\'value\'), saved:item.isSaved(\'value\')}" ipt-data-type="integer" data-parent-model="item" ng-disabled="!canUpdate" ip-autofocus/> <select ng-if="item.dataType === \'Boolean\'" name="value" ng-model="item.value" ng-options="item for item in [true, false]" ng-class="{edited:item.isDirty(\'value\'), saved:item.isSaved(\'value\')}" ng-disabled="!canUpdate" ip-autofocus></select> <span ng-if="item.hasError(\'value\')" class="input-action tooltip-error" data-tooltip-placement="bottom" ip-tooltip="{{:: \'DataTypeErrorTooltip\' | translate }}"> <icon name="exclamation-triangle"></icon> </span> </div> <div class="input-wrap"> <label translate="Tags"></label> <ipt-typeahead-multi-select source-url="api/configuration/tags" add-url="api/configuration/tags" items="item.tags" display-property="tagName" placeholder="Add a tag" is-edited="item.isDirty(\'tags\')" is-saved="item.isSaved(\'tags\')" ng-disabled="!canUpdate"></ipt-typeahead-multi-select> </div> </div> <div class="col-sm-6"> <div class="input-wrap"> <label translate="dataType"></label> <input type="text" value="{{::item.dataType}}" disabled="disabled"/> </div> <div class="input-wrap"> <label translate="initialSetting"></label> <input type="text" value="{{::item.initialValue}}" disabled="disabled"/> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="input-wrap large"> <label translate="notes"></label> <textarea name="notes" type="text" rows="6" ng-model="item.notes" ng-class="{edited:item.isDirty(\'notes\'), saved:item.isSaved(\'notes\')}" ng-change="change()" ng-disabled="!canUpdate"></textarea> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/directives/criteria-event-picklist-template.html",'<ip-picklist-modal-search> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> <div class="col-sm-4"> <ip-checkbox label="workflows.common.filterByThisCriteria" ng-model="vm.externalScope.filterByCriteria" ng-change="vm.searchInWindow(true)"></ip-checkbox> </div> <div class="ip-picklist-modal-search-flex"> <ip-picklist-modal-customize-columns ng-if="vm.hasColumnMenu"></ip-picklist-modal-customize-columns> <ip-picklist-modal-search-add></ip-picklist-modal-search-add> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search> <ip-picklist-modal-maintenance></ip-picklist-modal-maintenance> '),e.put("condor/configuration/rules/workflows/directives/entrycontrol-modal-subheader.html",'<div class="modal-subheader"> <div class="readonly-label readonly-label-navy"> <label translate="workflows.common.criteriaNumber"></label>: <span ng-bind="vm.criteriaNumber"></span> </div> <div class="readonly-label readonly-label-navy"> <label>|</label> </div> <div class="readonly-label readonly-label-navy"> <label translate="workflows.common.entryDescription"></label>: <span ng-bind="vm.entryDescription"></span> </div> <div class="row modal-secondary-subheader"> <ip-modal-nav ng-if="::vm.isEditMode" all-items="::vm.allItems" current-item="::vm.currentItem" on-navigate="::vm.onNavigateInternal"> </ip-modal-nav> </div> </div> '),e.put("condor/configuration/rules/workflows/directives/entrycontrol-step-category-picker.html",'<div> <ip-typeahead ng-if="vm.category.categoryCode === \'action\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="action" data-picklist-can-maintain="true" ip-required="vm.required" name="{{vm.name}}"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'checklist\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="checklist" data-picklist-can-maintain="true" name="{{vm.name}}" ip-required="vm.required"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'designationStage\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="designationStage" data-picklist-can-maintain="true" name="{{vm.name}}" ip-required="vm.required" data-extend-query="vm.designationStage.extendQuery" data-external-scope="vm.designationStage.externalScope"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'nameTypeGroup\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="nameTypeGroup" data-picklist-can-maintain="true" name="{{vm.name}}" ip-required="vm.required"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'relationship\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="relationship" data-picklist-can-maintain="true" name="{{vm.name}}" ip-required="vm.required"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'numberType\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="numberType" data-picklist-can-maintain="true" name="{{vm.name}}" ip-required="vm.required"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'nameType\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="nameType" data-picklist-can-maintain="true" name="{{vm.name}}" ip-required="vm.required"> </ip-typeahead> <ip-typeahead ng-if="vm.category.categoryCode === \'textType\'" label="{{vm.translateCategory()}}" ng-class="{edited: vm.isDirty()}" ng-model="vm.category.categoryValue" data-config="textType" data-picklist-can-maintain="true" ip-required="vm.required" name="{{vm.name}}" data-extend-query="vm.extendTextTypeQuery"> </ip-typeahead> </div>'),e.put("condor/configuration/rules/workflows/directives/eventcontrol-modal-subheader.html",'<div class="modal-subheader"> <div class="readonly-label readonly-label-navy"> <label translate="workflows.common.criteriaNumber"></label>: <span ng-bind="::vm.criteriaNumber"></span> </div> <div class="readonly-label readonly-label-navy"> <label>|</label> </div> <div class="readonly-label readonly-label-navy"> <label translate="workflows.common.eventNumber"></label>: <span ng-bind="::vm.eventNumber"></span> </div> <div class="readonly-label readonly-label-navy text-ellipsis"> <label translate="workflows.common.eventDescription"></label>: <span ng-bind="::vm.eventDescription"></span> </div> <ip-modal-nav ng-if="::vm.isEditMode" all-items="::vm.allItems" current-item="::vm.currentItem" on-navigate="::vm.onNavigateInteral"> </ip-modal-nav> </div> '),e.put("condor/configuration/rules/workflows/directives/inline-permission-alert.html",'<ip-inline-alert ng-if="!vm.options.canEdit" text="{{vm.message}}" data-text-params="{ criteriaId: vm.options.criteriaId, currentPage: vm.currentPage }" type="info" style="display:block; margin-bottom: 10px"></ip-inline-alert> '),e.put("condor/configuration/rules/workflows/entrycontrol/change-status.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.entrycontrol.changeStatus"> <div class="row"> <div class="col-sm-6" ng-class="{ \'input-inherited\': vm.formData.changeCaseStatus.key===vm.parentData.changeCaseStatus.key}"> <ip-typeahead data-ng-disabled="!vm.canEdit" name="caseStatus" data-config="statusFiltered" data-extend-query="vm.caseStatusScope.extendQuery" data-external-scope="vm.caseStatusScope" data-label=".changeCaseStatus" data-picklist-display-name="picklist.status.caseStatus" data-ng-class="{{::vm.fieldClasses(\'changeCaseStatus\')}}" data-ng-model="vm.formData.changeCaseStatus" ng-change="vm.changedStatus(vm.formData.changeCaseStatus)"> </ip-typeahead></div> </div> <div class="row"> <div class="col-sm-6" ng-class="{ \'input-inherited\': vm.formData.changeRenewalStatus.key===vm.parentData.changeRenewalStatus.key}"> <ip-typeahead data-ng-disabled="!vm.canEdit" name="renewalStatus" data-config="statusFiltered" data-extend-query="vm.renewalStatusScope.extendQuery" data-external-scope="vm.renewalStatusScope" data-label=".changeRenewalStatus" data-picklist-display-name="picklist.status.renewalStatus" data-ng-class="{{::vm.fieldClasses(\'changeRenewalStatus\')}}" data-ng-model="vm.formData.changeRenewalStatus" ng-change="vm.changedStatus(vm.formData.changeRenewalStatus)"> </ip-typeahead></div> </div> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/definition.html",'<div ng-form="vm.form" ip-form class="container-fluid" translate-namespace="workflows.entrycontrol"> <div class="row"> <div class="col-sm-6" ng-class="{\'input-inherited\': vm.formData.description===vm.parentData.description}"> <ip-text-field name="description" label="workflows.common.entryDescription" ip-autofocus="{{!!vm.topic.isActive}}" ng-disabled="::!vm.canEdit" ng-model="vm.formData.description" ng-maxlength="100" required ip-field-error="{{vm.formData.getError(\'description\')}}" data-ng-change="vm.formData.hasError(\'description\', false)" ng-class="{{::vm.fieldClasses(\'description\')}}" ng-trim="false"></ip-text-field> </div> <div class="input-wrap-group col-sm-2" ng-if="vm.formData.isSeparator"> <div class="label-sm-2 input-wrap readonly-label-group"> <label translate="workflows.entrycontrol.definition.isSeparator"></label> <span> <ip-inline-dialog data-content="{{::\'workflows.entrycontrol.definition.separatorInfo\' | translate}}" data-placement="bottom"></ip-inline-dialog> </span> </div> </div> </div> <div class="row" ng-if="!vm.formData.isSeparator"> <div class="col-sm-6" ng-class="{\'input-inherited\': vm.formData.userInstruction===vm.parentData.userInstruction}"> <ip-text-field ng-disabled="::!vm.canEdit" label=".definition.userInstructions" name="userInstruction" type="text" ng-model="vm.formData.userInstruction" multiline data-rows="3" ng-maxlength="254" ng-class="{{::vm.fieldClasses(\'userInstruction\')}}"></ip-text-field> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/entrycontrol/details.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.entrycontrol.details"> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="detailsGrid" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.entrycontrol.details.entryEvent\' | translate}}"> </ip-kendo-grid> </div> <h3 translate=".entryOptions"></h3> <div class="row"> <div class="col-sm-7"> <div class="input-wrap-group group-inline" ng-class="{{vm.fieldClasses(\'atLeastOneEventFlag\')}}"> <span translate=".atleastOneDate"></span> <ip-checkbox ng-model="vm.formData.atLeastOneEventFlag" ng-class="{ \'input-inherited\': vm.formData.atLeastOneEventFlag===vm.parentData.atLeastOneEventFlag}" ng-disabled="!vm.canEdit"> </ip-checkbox> </div> </div> </div> <div class="row"> <div class="col-sm-7" ng-class="{ \'input-inherited\': vm.formData.policeImmediately===vm.parentData.policeImmediately}"> <div class="input-wrap-group group-inline" ng-class="{{::vm.fieldClasses(\'policeImmediately\')}}"> <span translate=".policeImmediately"></span> <ip-radio-button label=".yes" ng-value="true" ng-model="vm.formData.policeImmediately" ng-disabled="!vm.canEdit"></ip-radio-button> <ip-radio-button label=".no" ng-value="false" ng-model="vm.formData.policeImmediately" ng-disabled="!vm.canEdit"></ip-radio-button> </div> </div> </div> <h3 translate=".otherDetails"></h3> <div class="row"> <div class="col-sm-6" ng-class="{ \'input-inherited\': vm.formData.officialNumberType.key===vm.parentData.officialNumberType.key}"> <ip-typeahead ng-disabled="!vm.canEdit" name="officialNumberType" data-config="numberType" label=".captureOfficialNumber" ng-class="{{::vm.fieldClasses(\'officialNumberType\')}}" ng-model="vm.formData.officialNumberType"> </ip-typeahead></div> </div> <div class="row"> <div class="col-sm-6" ng-class="{ \'input-inherited\': vm.formData.fileLocation.key===vm.parentData.fileLocation.key}"> <ip-typeahead ng-disabled="!vm.canEdit" name="fileLocation" data-config="fileLocation" label=".updateFileLocation" ng-class="{{::vm.fieldClasses(\'fileLocation\')}}" ng-model="vm.formData.fileLocation"> </ip-typeahead></div> </div> </div> '),
e.put("condor/configuration/rules/workflows/entrycontrol/display-conditions.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.entrycontrol.displayConditions" ng-class="{ \'input-inherited\': vm.isInherited()}"> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-disabled="!vm.canEdit" ng-change="vm.validate(\'displayEventNo\')" name="displayEventNo" data-config="eventsFilteredByCriteria" label=".displayEvent" ng-model="vm.formData.displayEvent" data-picklist-can-maintain="true" ng-class="{{::vm.fieldClasses(\'displayEvent\')}}" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead></div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-disabled="!vm.canEdit" ng-change="vm.validate(\'hideEventNo\')" name="hideEventNo" data-config="eventsFilteredByCriteria" label=".hideEvent" ng-model="vm.formData.hideEvent" data-picklist-can-maintain="true" ng-class="{{::vm.fieldClasses(\'hideEvent\')}}" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead></div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-disabled="!vm.canEdit" ng-change="vm.validate(\'dimEventNo\')" name="dimEventNo" data-config="eventsFilteredByCriteria" label=".dimEvent" ng-model="vm.formData.dimEvent" data-picklist-can-maintain="true" ng-class="{{::vm.fieldClasses(\'dimEvent\')}}" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead></div> </div> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/documents.html",'<div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form translate-namespace="workflows.entrycontrol.documents"> <ip-kendo-grid data-id="documentsGrid" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.entrycontrol.documents.document\' | translate}}"> </ip-kendo-grid> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/entry-control.html",'<div translate-namespace="workflows.entrycontrol"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save data-ng-if="vm.canEdit" page-title="workflows.title" page-subtitle="workflows.entrycontrol.title" on-save="vm.save()" on-discard="vm.discard()" on-delete="vm.delete()" is-save-enabled="vm.isSaveEnabled()" is-discard-enabled="vm.isDiscardEnabled()" is-delete-enabled="vm.isDeleteEnabled()"> <ip-level-up-button data-to-state="workflows.details"></ip-level-up-button> </ip-page-title-save> <ip-page-title data-ng-if="!vm.canEdit" page-title="workflows.title" page-subtitle="workflows.entrycontrol.title"> <before-title><ip-level-up-button data-to-state="workflows.details"></ip-level-up-button></before-title> </ip-page-title> </div> <div class="row title-header workflow-details"> <div class="col-sm-12"> <div ng-if="vm.entryControl.isInherited" class="btn btn-icon btn-no-bg protected-icon"> <ip-inheritance-icon inheritance-level="{{::vm.entryControl.inheritanceLevel}}"></ip-inheritance-icon> </div> <div ng-if="vm.entryControl.isProtected" class="btn btn-icon btn-no-bg protected-icon"> <icon ip-tooltip="{{::\'Protected\' | translate }}" data-tooltip-placement="bottom" class="text-blue-secondary" name="protected"></icon> </div> <div class="readonly-label-group"> <div class="readonly-label-value"> <label translate="criteriaNumber"></label>: <span class="criteria-number">{{::vm.entryControl.criteriaId}}</span> </div> <div class="readonly-label-value"> <label translate="workflows.common.entryDescription"></label>: <span class="entry-desc">{{vm.entryControl.description}}</span> </div> </div> <ip-detail-page-nav data-ids="::vm.workflowEntryIds" data-router-state="workflows.details.entrycontrol" data-param-key="entryId"> </ip-detail-page-nav> </div> </div> </div> </ip-sticky-header> <ip-topics data-options="vm.topicOptions" data-on-topic-selected="vm.onTopicSelected(topicKey)"> <ip-topics-header> <ip-inline-permission-alert current-page="Entry Control" data-options="vm.entryControl"> </ip-inline-permission-alert> </ip-topics-header> </ip-topics> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/entry-event-maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.entrycontrol.details.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"></ip-maintenance-modal-header> <ip-workflows-entrycontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" entry-description="vm.entryDescription" on-navigate="vm.onNavigate"> </ip-workflows-entrycontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".chooseEvent"></span> </h3> </div> <div class="row"> <ip-typeahead label=".entryEvent" ip-required ng-class="{edited: vm.form.entryEvent.$dirty}" name="entryEvent" ng-model="vm.formData.entryEvent" ip-autofocus data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead> </div> <div class="row"> <ip-typeahead label=".eventToUpdate" ng-class="{edited: vm.form.eventToUpdate.$dirty}" name="eventToUpdate" ng-model="vm.formData.eventToUpdate" data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead> </div> <div class="row"> <h3> <span class="label-legend" translate=".attributes"></span> </h3> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.eventDate.$dirty}" name="eventDate" label="workflows.common.eventDate" ng-model="vm.formData.eventDate" options="option.key as option.value | translate for option in vm.dateOptions"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.dueDate.$dirty}" name="dueDate" label="workflows.common.dueDate" ng-model="vm.formData.dueDate" options="option.key as option.value | translate for option in vm.dateOptions"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.period.$dirty}" name="period" label=".period" ng-model="vm.formData.period" options="option.key as option.value | translate for option in vm.controlOptions"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.stopPolicing.$dirty}" name="stopPolicing" label=".stopPolicing" ng-model="vm.formData.policing" options="option.key as option.value | translate for option in vm.controlOptions"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.dueDateResp.$dirty}" name="dueDateResp" label=".dueDateResponsibility" ng-model="vm.formData.dueDateResp" options="option.key as option.value | translate for option in vm.dueDateRespOptions"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.overrideEventDate.$dirty}" name="overrideEventDate" label=".overridingEventDate" ng-model="vm.formData.overrideEventDate" options="option.key as option.value | translate for option in vm.dateOptions"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.overrideDueDate.$dirty}" name="overrideDueDate" label=".overridingDueDate" ng-model="vm.formData.overrideDueDate" options="option.key as option.value | translate for option in vm.dateOptions"> </ip-dropdown> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/entrycontrol/inheritance-break-confirmation.html",'<div id="inheritanceBreakConfirmation" translate-namespace="workflows.inheritanceBreakConfirmation"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div translate="{{:: vm.context + \'.message\'}}" translate-values="{ criteriaId: vm.criteriaId }"></div> <br> <div class="row"> <div class="col-sm-2 col-sm-offset-1 text-right"> <a href="#/configuration/rules/workflows/{{vm.parent.id}}" target="_blank">{{vm.parent.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{vm.parent.id}}" target="_blank">{{vm.parent.description}}</a> </div> </div> <br> <div translate="{{:: vm.context + \'.blurb\'}}"></div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/inheritance-confirmation.html",'<div id="entryInheritanceConfirmation" translate-namespace="workflows.entrycontrol.inheritanceConfirmation"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div class="input-wrap" translate=".changesMessage"></div> <div id="breakingItems" ng-if="vm.breakingItems &amp;&amp; vm.breakingItems.length>0"> <div class="row"> <h3 translate="Breaking Changes"></h3> </div> <div class="input-wrap" translate=".breakMessage"> </div> <div class="row" ng-repeat="item in vm.breakingItems"> <div class="col-sm-2 col-sm-offset-1"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> <div id="applyChangesItems" ng-if="vm.items &amp;&amp; vm.items.length>0 "> <h3 class="row" translate="Apply Changes" ng-if="vm.breakingItems &amp;&amp; vm.breakingItems.length>0"></h3> <div class="input-wrap" translate=".message">} </div> <div id="items"> <div class="row" ng-repeat="item in vm.items"> <div class="col-sm-2 col-sm-offset-1"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <div class="footerCheckBox withInfo" ng-if="vm.items &amp;&amp; vm.items.length>0"> <div> <ip-checkbox label=".checkboxLabel" ng-model="vm.applyChangesToChildren" data-info="workflows.entrycontrol.inheritanceConfirmation.blurb"> </ip-checkbox> </div> </div> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/entrycontrol/inheritance-reset-confirmation.html",'<div id="inheritanceResetConfirmation" translate-namespace="workflows.inheritanceResetConfirmation"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div translate="{{:: vm.context + \'.message\'}}"></div> <br> <div ng-if="vm.items.length === 0" id="parent"> <div class="row"> <div class="col-sm-2 col-sm-offset-1 text-right"> <a href="#/configuration/rules/workflows/{{vm.parent.id}}" target="_blank">{{vm.parent.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{vm.parent.id}}" target="_blank">{{vm.parent.description}}</a> </div> </div> <br> <div translate="{{:: vm.context + \'.blurb\'}}"></div> </div> <div ng-if="vm.items.length > 0" id="parent"> <div class="row"> <div class="col-sm-2 col-sm-offset-1 text-right"> <a href="#/configuration/rules/workflows/{{vm.parent.id}}" target="_blank">{{vm.parent.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{vm.parent.id}}" target="_blank">{{vm.parent.description}}</a> </div> </div> <br> <div>{{:: vm.context + ".blurbWithChildren" | translate}}</div> <br> <div id="items"> <div class="row" ng-repeat="item in vm.items"> <div class="col-sm-2 col-sm-offset-1 text-right"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <div ng-if="vm.items.length > 0" class="footerCheckBox withInfo"> <ip-checkbox data-label=".checkboxLabel" data-info="{{::\'workflows.inheritanceResetConfirmation.applyInfoBubble\'}}" ng-model="vm.applyChangesToChildren"></ip-checkbox> </div> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/steps-maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.entrycontrol.steps.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"></ip-maintenance-modal-header> <ip-workflows-entrycontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" entry-description="vm.entryDescription" on-navigate="vm.onNavigate"> </ip-workflows-entrycontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".subTitle"></span> </h3> </div> <div class="row"> <ip-typeahead label=".step" ip-required data-config="availableTopic" ng-class="{edited: vm.form.topic.$dirty}" name="topic" ng-model="vm.formData.step" ip-autofocus data-picklist-can-maintain="true" ng-change="vm.onStepTypeChanged()" ng-disabled="vm.isEditMode"> </ip-typeahead> </div> <div class="row"> <ip-text-field label=".title" ng-class="{edited: vm.form.title.$dirty}" name="title" ng-model="vm.formData.title" ng-maxlength="254"> </ip-text-field> </div> <div class="row"> <ip-text-field label=".userTip" ng-class="{edited: vm.form.userTip.$dirty}" name="userTip" ng-model="vm.formData.screenTip" multiline data-rows="3" ng-maxlength="254"> </ip-text-field> </div> <div class="row"> <div class="input-wrap-group group-inline text-nowrap" ng-class="{edited: vm.form.isMandatory.$dirty}"> <span translate=".mandatory"></span> <ip-checkbox ng-model="vm.formData.isMandatory" name="isMandatory"> </ip-checkbox> </div> </div> <div class="row" ng-if="vm.formData.category1 || vm.formData.category2"> <h3> <span translate=".categories"></span> </h3> </div> <div class="row" ng-if="vm.formData.categories && vm.formData.categories.length> 0"> <h3> <span translate=".categories"></span> </h3> </div> <div ng-repeat="category in vm.formData.categories track by $index"> <ip-workflows-entrycontrol-step-category-picker category="category" step-type="vm.formData.step.type" required="category.isMandatory" name="\'categoryPicklist\' + $index" criteria-characteristics="vm.criteriaCharacteristics"> </ip-workflows-entrycontrol-step-category-picker> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/entrycontrol/steps.html",'<div> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="steps" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.entrycontrol.steps.step\' | translate}}"> </ip-kendo-grid> </div> </div> '),e.put("condor/configuration/rules/workflows/entrycontrol/userAccess.html",'<div> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="userAccess" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.entrycontrol.userAccess.role\' | translate}}"> </ip-kendo-grid> </div> </div> '),e.put("condor/configuration/rules/workflows/inheritance/criteria-unable-to-delete.html",'<div translate-namespace="workflows.inheritance.unableToDelete"> <div class="modal-header"> <h2 class="modal-title" translate="modal.unableToComplete"></h2> </div> <div class="modal-body"> <p translate=".paragraph1" translate-values="{criteriaId: options.criteriaId}"></p> <p> <span translate=".paragraph2"></span> <ip-inline-dialog data-content="{{:: \'workflows.inheritance.unableToDelete.info\' | translate}}" popover-placement="auto"></ip-inline-dialog> </p> </div> <div class="modal-footer"> <button type="button" class="btn" data-dismiss="modal" data-ng-click="$close()" translate="button.ok"></button> </div> </div> '),e.put("condor/configuration/rules/workflows/inheritance/inheritance-change-confirmation.html",'<div translate-namespace="workflows.inheritance.inheritanceChangeConfirmation"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <p translate="workflows.inheritance.inheritanceChangeConfirmation.message" translate-values="{id: vm.childCriteriaId, name: vm.childName, parentId: vm.parentCriteriaId, parentName: vm.parentName}"></p> <ip-checkbox label=".checkboxLabel" ng-model="vm.isReplaceChild" info="workflows.inheritance.inheritanceChangeConfirmation.blurb"></ip-checkbox> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <div class="input-wrap-group group-inline pull-right"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/inheritance/inheritance.html",'<div translate-namespace="workflows.inheritance"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title page-title="workflows.title" page-subtitle="workflows.inheritance.title"> <before-title><ip-level-up-button></ip-level-up-button></before-title> <action-buttons> <ip-icon-button button-icon="unlink" ng-disabled="!vm.isUnlinkEnabled()" ng-click="vm.onUnlinkClick()" ip-tooltip="{{::\'workflows.inheritance.tooltips.unlink\' | translate }}"></ip-icon-button> <ip-icon-button button-icon="trash-o" ng-disabled="!vm.isDeleteEnabled()" ng-click="vm.onDeleteClick()" ip-tooltip="{{::\'workflows.inheritance.tooltips.delete\' | translate}}"></ip-icon-button> </action-buttons> </ip-page-title> </div> </div> </ip-sticky-header> <div class="container-fluid" ip-resize-handler resize-handler-type="Panel"> <br> <div class="row"> <p class="col-sm-12"> <button class="btn" ng-click="vm.expandAll()" ng-disabled="!vm.isExpendAllEnabled()" translate=".expandAll"></button> <button class="btn" ng-click="vm.collapseAll()" ng-disabled="!vm.isCollapseAllEnabled()" translate=".collapseAll"></button> </p> </div> <div class="row"> <div ng-class="{\'col-sm-8\':vm.showsDetailView(), \'col-sm-12\':!vm.showsDetailView()}"> <div class="kendo-tree-container"> <br/> <ip-inline-alert data-type="info" data-text=".helpText"></ip-inline-alert> <br/> <div kendo-tree-view k-options="vm.treeOptions"> <div k-template ng-class="::{isInSearch: dataItem.isInSearch}"> <icon ng-if="::dataItem.isProtected" ip-tooltip="{{::\'Protected\' | translate}}" class="text-blue-secondary" name="protected"></icon> <span class="criteria-name">{{::dataItem.name}}</span> <a ng-click="vm.onNavigateClick(dataItem, $event)" ui-sref="workflows.details({id:dataItem.id})">({{::dataItem.id}})</a> </div> </div> </div> </div> <div ng-show="vm.showsDetailView()" class="col-sm-4"> <div class="fixed-detail-view-container" match-parent-width> <div ip-resize-handler> <article class="detail-view"> <header> <a ui-sref="workflows.details({id:vm.selectedCriteria.id})">{{vm.selectedCriteria.name}} ({{vm.selectedCriteria.id}})</a> </header> <hr/> <button class="btn btn-icon" ng-click="vm.closeDetailView()"> <span class="cpa-icon cpa-icon-times"></span> </button> <div ng-if="vm.hasOffices" class="input-wrap-group group-inline"> <span translate="Office"></span> <span class="text">{{vm.selectedCriteria.detail.office}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Case Type"></span> <span class="text">{{vm.selectedCriteria.detail.caseType}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Jurisdiction"></span> <span class="text">{{vm.selectedCriteria.detail.jurisdiction}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="propertyType"></span> <span class="text">{{vm.selectedCriteria.detail.propertyType}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Action"></span> <span class="text">{{vm.selectedCriteria.detail.action}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Case Category"></span> <span class="text">{{vm.selectedCriteria.detail.caseCategory}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Sub Type"></span> <span class="text">{{vm.selectedCriteria.detail.subType}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Basis"></span> <span class="text">{{vm.selectedCriteria.detail.basis}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Date of Law"></span> <span class="text">{{vm.selectedCriteria.detail.dateOfLaw}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Local or Foreign"></span> <span class="text" translate="{{vm.selectedCriteria.detail.localOrClient}}"></span> </div> <div class="input-wrap-group group-inline"> <span translate="In Use"></span> <span class="text" ng-hide="vm.selectedCriteria.detail.inUse == null">{{vm.selectedCriteria.detail.inUse ? "Yes" : "No" | translate}}</span> </div> <div class="input-wrap-group group-inline"> <span translate="Protected"></span> <span class="text" ng-hide="vm.selectedCriteria.detail.isProtected == null">{{vm.selectedCriteria.detail.isProtected ? "Yes" : "No" | translate}}</span> </div> </article> </div> </div> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/calculation-applies-popover.html",'<div> <p> <span translate="workflows.eventcontrol.dueDateCalc.gridBlurb.calculationApplies1"></span> </p> <p> <span translate="workflows.eventcontrol.dueDateCalc.gridBlurb.calculationApplies2"></span> </p> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/change-action.html",'<div translate-namespace=".changeAction" ng-form="vm.form" ip-form ng-class="{\'input-inherited\': vm.isInherited()}"> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-class="{edited: vm.form.openAction.$dirty}" name="openAction" ng-disabled="::!vm.canEdit" data-config="action" label=".openAction" ng-model="vm.changeAction.openAction"></ip-typeahead> </div> <div class="col-sm-6"> <ip-typeahead ng-class="{edited: vm.form.closeAction.$dirty}" name="closeAction" ng-disabled="::!vm.canEdit" data-config="action" label=".closeAction" ng-model="vm.changeAction.closeAction" ng-change="vm.onCloseActionChange()"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-offset-6 col-sm-6"> <ip-dropdown label=".relativeCycle" ng-required="!vm.isReletiveCycleDisabled()" ng-disabled="vm.isReletiveCycleDisabled()" ng-class="{edited: vm.form.relativeCycle.$dirty && !vm.isReletiveCycleDisabled()}" name="relativeCycle" ng-model="vm.changeAction.relativeCycle" options="option.key as option.value | translate for option in vm.relativeCycles"> </ip-dropdown> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/change-due-date-resp-confirm.html",'<div id="changeDueDateRespConfirm" translate-namespace="workflows.eventcontrol.changeDueDateRespConfirm"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div ng-if="!vm.preSave" class="input-wrap" translate=".message"></div> <div ng-if="vm.preSave" class="input-wrap" translate=".preSaveMessage"></div> <div> <ip-checkbox label=".checkboxLabel" ng-model="vm.changeDueDateResp"></ip-checkbox> </div> </div> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <div class="input-wrap-group group-inline pull-right"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/change-status.html",'<div ng-form="vm.form" translate-namespace=".changeStatus"> <div ng-if="::vm.enableRenewalStatus"> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="caseStatus" ng-class="{edited: vm.form.caseStatus.$dirty, \'input-inherited\': vm.changeStatus.key===vm.parentData.changeStatus.key}" ng-disabled="::!vm.canEdit" data-config="statusFiltered" data-extend-query="vm.caseStatusScope.extendQuery" data-external-scope="vm.caseStatusScope" label=".changeCaseStatus" data-picklist-display-name="picklist.status.caseStatus" ng-model="vm.changeStatus" ng-change="vm.changedStatus(vm.changeStatus)"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="renewalStatus" ng-class="{edited: vm.form.renewalStatus.$dirty, \'input-inherited\': vm.changeRenewalStatus.key===vm.parentData.changeRenewalStatus.key}" ng-disabled="::!vm.canEdit" data-config="statusFiltered" data-extend-query="vm.renewalStatusScope.extendQuery" data-external-scope="vm.renewalStatusScope" label=".changeRenewalStatus" data-picklist-display-name="picklist.status.renewalStatus" ng-model="vm.changeRenewalStatus" ng-change="vm.changedStatus(vm.changeRenewalStatus)"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-text-field ng-disabled="::!vm.canEdit" name="userDefinedStatus" label=".changeUserDefinedActionStatus" ng-model="vm.userDefinedStatus" ng-class="{edited: vm.form.userDefinedStatus.$dirty, \'input-inherited\': vm.userDefinedStatus===vm.parentData.userDefinedStatus}" ng-maxlength="100"></ip-text-field> </div> </div> </div> <div ng-if="::!vm.enableRenewalStatus"> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="changeStatus" ng-class="{edited: vm.form.changeStatus.$dirty, \'input-inherited\': vm.changeStatus.key===vm.parentData.changeStatus.key}" ng-disabled="::!vm.canEdit" data-config="statusFiltered" data-extend-query="vm.validStatusScope.extendQuery" data-external-scope="vm.validStatusScope" label=".changeStatus" ng-model="vm.changeStatus" ng-change="vm.changedStatus(vm.changeStatus)"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead data-disabled="true" uib-popover="{{\'workflows.eventcontrol.changeStatus.info\' | translate}}" popover-placement="right" label=".changeRenewalStatus" ng-model="vm.changeRenewalStatus" ng-class="{\'input-inherited\': vm.changeRenewalStatus.key===vm.parentData.changeRenewalStatus.key}"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-text-field ng-disabled="::!vm.canEdit" name="userDefinedStatus" label=".changeUserDefinedActionStatus" ng-model="vm.userDefinedStatus" ng-class="{edited: vm.form.userDefinedStatus.$dirty, \'input-inherited\': vm.userDefinedStatus===vm.parentData.userDefinedStatus}" ng-maxlength="100"></ip-text-field> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/charge-form.html",'<div class="row" ng-form="vm.form" translate-namespace="workflows.eventcontrol.charges"> <div ng-if="vm.wrapOptions"> <div class="row"> <ip-typeahead ng-disabled="::!vm.canEdit" name="chargeType" data-config="chargeType" data-label="{{::vm.chargeTypeLabel}}" ng-model="vm.charge.chargeType" ng-class="{edited: vm.form.chargeType.$dirty}" ng-change="vm.onChargeTypeChanged()"> </ip-typeahead> </div> <div class="row"> <div class="col-sm-offset-4 col-sm-2"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isPayFee" label=".isPayFee" ng-model="vm.charge.isPayFee" ng-disabled="vm.isCheckboxDisabled()" ng-change="vm.onPayFeeChanged()" ng-class="{edited: vm.form.isPayFee.$dirty}"></ip-checkbox> </div> </div> <div class="col-sm-2"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isRaiseCharge" label=".isRaiseCharge" ng-model="vm.charge.isRaiseCharge" ng-disabled="vm.isCheckboxDisabled()" ng-change="vm.onRaiseChargeChanged()" ng-class="{edited: vm.form.isRaiseCharge.$dirty}"></ip-checkbox> </div> </div> <div class="col-sm-2"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isEstimate" label="{{ vm.charge.isRaiseCharge ? \'.isUseEstimate\' : \'.isCreateEstimate\'}}" ng-model="vm.charge.isEstimate" ng-disabled="vm.isCheckboxDisabled()" ng-change="vm.onEstimateChanged()" ng-class="{edited: vm.form.isEstimate.$dirty}"></ip-checkbox> </div> </div> <div class="col-sm-2"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isDirectPay" label=".isDirectPay" ng-model="vm.charge.isDirectPay" ng-disabled="vm.isDirectPayDisabled()" ng-change="vm.onDirectPayChange()" ng-class="{edited: vm.form.isDirectPay.$dirty}"></ip-checkbox> </div> </div> </div> </div> <div ng-if="!vm.wrapOptions" class="row"> <ip-typeahead class="col-sm-6" ng-disabled="::!vm.canEdit" name="chargeType" data-config="chargeType" data-label="{{::vm.chargeTypeLabel}}" ng-model="vm.charge.chargeType" ng-class="{edited: vm.form.chargeType.$dirty}" ng-change="vm.onChargeTypeChanged()"> </ip-typeahead> <div class="col-sm-6"> <div class="row"> <div class="col-sm-3"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isPayFee" label=".isPayFee" ng-model="vm.charge.isPayFee" ng-disabled="vm.isCheckboxDisabled()" ng-change="vm.onPayFeeChanged()" ng-class="{edited: vm.form.isPayFee.$dirty}"></ip-checkbox> </div> </div> <div class="col-sm-3"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isRaiseCharge" label=".isRaiseCharge" ng-model="vm.charge.isRaiseCharge" ng-disabled="vm.isCheckboxDisabled()" ng-change="vm.onRaiseChargeChanged()" ng-class="{edited: vm.form.isRaiseCharge.$dirty}"></ip-checkbox> </div> </div> <div class="col-sm-3"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isEstimate" label="{{ vm.charge.isRaiseCharge ? \'.isUseEstimate\' : \'.isCreateEstimate\'}}" ng-model="vm.charge.isEstimate" ng-disabled="vm.isCheckboxDisabled()" ng-change="vm.onEstimateChanged()" ng-class="{edited: vm.form.isEstimate.$dirty}"></ip-checkbox> </div> </div> <div class="col-sm-3"> <div class="input-wrap-group group-inline"> <ip-checkbox name="isDirectPay" label=".isDirectPay" ng-model="vm.charge.isDirectPay" ng-disabled="vm.isDirectPayDisabled()" ng-change="vm.onDirectPayChange()" ng-class="{edited: vm.form.isDirectPay.$dirty}"></ip-checkbox> </div> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/charges.html",'<div translate-namespace=".charges" ip-form ng-form="vm.form"> <ip-workflows-event-control-charge-form data-form="chargeOne" data-can-edit="vm.canEdit" data-charge-type-label=".chargeOneLabel" ng-class="{\'input-inherited\':  vm.isInherited(\'chargeOne\')}" data-charge="vm.charges.chargeOne"></ip-workflows-event-control-charge-form> <ip-workflows-event-control-charge-form data-form="chargeTwo" data-can-edit="vm.canEdit" data-charge-type-label=".chargeTwoLabel" ng-class="{\'input-inherited\':  vm.isInherited(\'chargeTwo\')}" data-charge="vm.charges.chargeTwo"></ip-workflows-event-control-charge-form> </div>'),
e.put("condor/configuration/rules/workflows/eventcontrol/date-comparison-maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.eventcontrol.dateComparison.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"></ip-maintenance-modal-header> <ip-workflows-eventcontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" event-number="vm.eventId" event-description="vm.eventDescription" on-navigate="vm.onNavigate"> </ip-workflows-eventcontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".eventA"></span> </h3> </div> <div class="row"> <ip-typeahead label=".eventA" ip-required ip-autofocus ng-class="{edited: vm.form.eventA.$dirty}" name="eventA" ng-model="vm.formData.eventA" ng-change="vm.onEventAChange()" data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".use"></span> <ip-radio-button label="workflows.common.eventDate" value="Event" ng-model="vm.formData.eventADate" name="eventAEventDate" ng-class="{edited: vm.form.eventAEventDate.$dirty}"> </ip-radio-button> <ip-radio-button label="workflows.common.dueDate" value="Due" ng-model="vm.formData.eventADate" name="eventADueDate" ng-class="{edited: vm.form.eventADueDate.$dirty}"> </ip-radio-button> <ip-radio-button label=".eventOrDue" value="EventOrDue" ng-model="vm.formData.eventADate" name="eventAEventOrDue" ng-class="{edited: vm.form.eventAEventOrDue.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.eventARelativeCycle.$dirty}" name="eventARelativeCycle" ip-required label="workflows.common.relCycle" ng-model="vm.formData.eventARelativeCycle" options="option.key as option.value | translate for option in vm.relativeCycles | filter:{ showAll: \'true\'}"> </ip-dropdown> </div> <div class="row"> <h3> <span translate=".chooseComparisonMethod"></span> </h3> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.comparisonOperator.$dirty}" name="comparisonOperator" ip-required label=".eventAIs" ng-model="vm.formData.comparisonOperator" ng-change="vm.onComparisonOperatorChanged()" options="option.value for option in vm.operators track by option.key"> </ip-dropdown> <div ng-if="vm.showComparisonTypes" class="input-wrap-group group-inline"> <span>&nbsp;</span> <ip-radio-button label=".eventB" value="eventB" ng-model="vm.comparisonType" ng-change="vm.onComparisonTypeChange()" name="compareWithEventB" ng-class="{edited: vm.form.compareWithEventB.$dirty}"> </ip-radio-button> <ip-radio-button label=".date" value="date" ng-model="vm.comparisonType" ng-change="vm.onComparisonTypeChange()" name="compareWithDate" ng-class="{edited: vm.form.compareWithDate.$dirty}"> </ip-radio-button> <ip-radio-button label=".systemDate" value="systemDate" ng-model="vm.comparisonType" ng-change="vm.onComparisonTypeChange()" name="compareWithSystemDate" ng-class="{edited: vm.form.compareWithSystemDate.$dirty}"> </ip-radio-button> </div> </div> <div ng-if="vm.showEventB"> <div class="row"> <h3> <span translate=".compareWith"></span> </h3> </div> <div class="row"> <ip-typeahead label=".eventB" ip-required ng-class="{edited: vm.form.eventB.$dirty}" name="eventB" ng-model="vm.formData.eventB" ng-change="vm.onEventBChange()" data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead> <div class="input-wrap-group group-inline"> <span translate=".use"></span> <ip-radio-button label="workflows.common.eventDate" value="Event" ng-model="vm.formData.eventBDate" name="eventBEventDate" ng-class="{edited: vm.form.eventBEventDate.$dirty}"> </ip-radio-button> <ip-radio-button label="workflows.common.dueDate" value="Due" ng-model="vm.formData.eventBDate" name="eventBDueDate" ng-class="{edited: vm.form.eventBDueDate.$dirty}"> </ip-radio-button> <ip-radio-button label=".eventOrDue" value="EventOrDue" ng-model="vm.formData.eventBDate" name="eventBEventOrDue" ng-class="{edited: vm.form.eventBEventOrDue.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.eventBRelativeCycle.$dirty}" name="eventBRelativeCycle" ip-required label="workflows.common.relCycle" ng-model="vm.formData.eventBRelativeCycle" options="option.key as option.value | translate for option in vm.relativeCycles | filter:{ showAll: \'true\'}"> </ip-dropdown> </div> <div class="row"> <ip-typeahead name="compareRelationship" ng-class="{edited: vm.form.compareRelationship.$dirty}" data-config="relationship" ng-model="vm.formData.compareRelationship"> </ip-typeahead> </div> </div> <div ng-if="vm.showDate"> <div class="row"> <h3> <span translate=".compareWith"></span> </h3> </div> <div class="row"> <ip-datepicker ip-required id="compareDate" name="compareDate" ng-model="vm.formData.compareDate" label="workflows.eventcontrol.dateComparison.maintenance.date"></ip-datepicker> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/date-comparison.html",'<div class="input-wrap-group group-inline" ng-form="vm.form" ip-form ng-class="{edited: vm.form.$dirty, \'input-inherited\': vm.formData.datesLogicComparisonType===vm.parentData.datesLogicComparisonType}"> <ip-radio-button label=".dateComparison.any" value="Any" ng-model="vm.formData.datesLogicComparisonType" ng-disabled="vm.comparisonOptionsDisabled()"></ip-radio-button> <ip-radio-button label=".dateComparison.all" value="All" ng-model="vm.formData.datesLogicComparisonType" ng-disabled="vm.comparisonOptionsDisabled()"></ip-radio-button> <ip-add-button class="pull-right" ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="dateComparisonResults" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.dateComparison.title\' | translate}}"></ip-kendo-grid> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/date-logic-maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.eventcontrol.dateLogic.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"> </ip-maintenance-modal-header> <ip-workflows-eventcontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" event-number="vm.eventId" event-description="vm.eventDescription" on-navigate="vm.onNavigate"> </ip-workflows-eventcontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".ruleApplies"></span> </h3> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".toCurrentEvents"></span> <ip-radio-button name="appliesToEventDate" label=".eventDate" value="Event" ng-model="vm.formData.appliesTo" ng-class="{edited: vm.form.appliesToEventDate.$dirty}"> </ip-radio-button> <ip-radio-button name="appliesToDueDate" label=".dueDate" value="Due" ng-model="vm.formData.appliesTo" ng-class="{edited: vm.form.appliesToDueDate.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <h3> <span translate=".theEnteredDateShouldBe"></span> </h3> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.operator.$dirty}" name="operator" ip-required ip-autofocus label=".operator" ng-model="vm.formData.operator" options="option.value for option in vm.operators track by option.key"> </ip-dropdown> </div> <div class="row"> <h3> <span translate=".comparisonEvent"></span> </h3> </div> <div class="row"> <ip-typeahead label=".event" ip-required ng-class="{edited: vm.form.compareEvent.$dirty}" name="compareEvent" ng-model="vm.formData.compareEvent" data-config="eventsFilteredByCriteria" ng-change="vm.onComparisonEventChange()" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".use"></span> <ip-radio-button name="useEvent" label=".eventDate" value="Event" ng-model="vm.formData.compareType" ng-class="{edited: vm.form.useEvent.$dirty}"> </ip-radio-button> <ip-radio-button name="useDue" label=".dueDate" value="Due" ng-model="vm.formData.compareType" ng-class="{edited: vm.form.useDue.$dirty}"> </ip-radio-button> <ip-radio-button name="useEither" label=".eventDue" value="Either" ng-model="vm.formData.compareType" ng-class="{edited: vm.form.useEither.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.relativeCycle.$dirty}" name="relativeCycle" ip-required label=".relativeCycle" ng-model="vm.formData.relativeCycle" options="option.key as option.value | translate for option in vm.relativeCycles | filter:{ showAll: \'true\'}"> </ip-dropdown> </div> <div class="row"> <ip-typeahead label=".caseRelationship" ng-class="{edited: vm.form.caseRelationship.$dirty}" name="caseRelationship" ng-model="vm.formData.caseRelationship" data-config="relationship" data-picklist-can-maintain="false"> </ip-typeahead> </div> <div class="row"> <div class="col-md-8 col-md-push-4"> <ip-checkbox data-label=".eventMustExist" ng-class="{edited: vm.form.eventMustExist.$dirty}" ng-model="vm.formData.eventMustExist"> </ip-checkbox> </div> </div> <hr/> <div class="row"> <h3> <span translate=".ifConditionAboveNotMet"></span> </h3> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span>&nbsp;</span> <ip-radio-button name="warnUser" label=".warnUser" value="Warn" ng-model="vm.formData.ifRuleFails" ng-class="{edited: vm.form.warnUser.$dirty}"> </ip-radio-button> <ip-radio-button name="blockUser" label=".blockUser" value="Block" ng-model="vm.formData.ifRuleFails" ng-class="{edited: vm.form.blockUser.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <div class="col-md-12"> <ip-text-field name="failureMessage" label=".message" ng-model="vm.formData.failureMessage" ng-class="{edited: vm.form.failureMessage.$dirty}" multiline data-rows="3" ip-required> </ip-text-field> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/date-logic.html",'<div class="row"> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="dateLogicRules" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.dateLogic.title\' | translate}}"> </ip-kendo-grid> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/designated-jurisdictions-picklist-template.html",'<ip-picklist-modal-search> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="inline-readonly-list"> <label translate="workflows.eventcontrol.designatedJurisdictions.group"></label> <span>{{vm.externalScope.groupName}}</span> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search>'),e.put("condor/configuration/rules/workflows/eventcontrol/designated-jurisdictions.html",'<div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6"> <div class="input-wrap"> <ip-dropdown name="selectedCountryFlag" ng-class="{edited: vm.form.selectedCountryFlag.$dirty, \'input-inherited\': vm.selectedCountryFlag===vm.parentData.countryFlagForStopReminders}" data-label=".designatedJurisdictions.stopStage" data-options="option.key as option.value for option in vm.countryFlags" ng-model="vm.selectedCountryFlag" ng-change="vm.topic.validate()"></ip-dropdown> </div> </div> </div> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <div class="col-sm-12"> <ip-kendo-grid data-id="selectedJurisdictions" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.designatedJurisdictions.addLabel\' | translate}}"></ip-kendo-grid> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/documents-maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.eventcontrol.documents.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"> </ip-maintenance-modal-header> <ip-workflows-eventcontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" event-number="vm.eventId" event-description="vm.eventDescription" on-navigate="vm.onNavigate"> </ip-workflows-eventcontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".chooseDocument"></span> </h3> </div> <div class="row"> <ip-typeahead name="document" data-config="document" ng-model="vm.formData.document" ng-class="{edited: vm.form.document.$dirty}" ip-required ip-autofocus></ip-typeahead> </div> <div class="row"> <div class="input-wrap-group"> <span translate=".produce"></span> <ip-radio-button label=".eventOccurs" value="eventOccurs" ng-model="vm.formData.produce" ng-change="vm.onProduceChange()"></ip-radio-button> <ip-radio-button label=".onDueDate" value="onDueDate" ng-model="vm.formData.produce" ng-change="vm.onProduceChange()"></ip-radio-button> <ip-radio-button label=".asScheduled" value="asScheduled" ng-model="vm.formData.produce" ng-change="vm.onProduceChange()"></ip-radio-button> </div> </div> <div class="row"> <h3> <span translate=".sendingSchedule"></span> </h3> </div> <div class="row"> <ip-text-dropdown-group ng-if="vm.isScheduledDisabled()" name="startBefore" label=".startSending" ng-model="vm.formData.startBefore" ng-class="{edited: vm.form.startBefore.$dirty}" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger" ng-disabled="vm.isScheduledDisabled()"></ip-text-dropdown-group> <ip-text-dropdown-group ng-if="!vm.isScheduledDisabled()" name="startBefore" label=".startSending" ng-model="vm.formData.startBefore" ng-class="{edited: vm.form.startBefore.$dirty}" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger" ip-required ng-disabled="vm.isScheduledDisabled()"></ip-text-dropdown-group> </div> <div class="row"> <div class="col-sm-8 col-sm-push-4"> <ip-checkbox data-label=".recurring" ng-model="vm.recurring" ng-change="vm.onRecurringChange(vm.recurring)" ng-disabled="vm.isScheduledDisabled()"></ip-checkbox> </div> </div> <div class="row"> <ip-text-dropdown-group ng-if="!vm.recurring" name="repeatEvery" label=".repeateEvery" ng-model="vm.formData.repeatEvery" ng-class="{edited: vm.form.repeatEvery.$dirty}" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger" ng-disabled="vm.isScheduledDisabled() || !vm.recurring"></ip-text-dropdown-group> <ip-text-dropdown-group ng-if="vm.recurring" name="repeatEvery" label=".repeateEvery" ng-model="vm.formData.repeatEvery" ng-class="{edited: vm.form.repeatEvery.$dirty}" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger" ip-required ng-disabled="vm.isScheduledDisabled() || !vm.recurring"></ip-text-dropdown-group> </div> <div class="row"> <ip-text-dropdown-group name="stopTime" label=".stopAfter" ng-model="vm.formData.stopTime" ng-class="{edited: vm.form.stopTime.$dirty && !(vm.isScheduledDisabled() || !vm.recurring)}" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger" ng-disabled="vm.isScheduledDisabled() || !vm.recurring"></ip-text-dropdown-group> </div> <div class="row"> <div> <ip-text-field name="maxDocuments" label=".maxDocuments" ng-model="vm.formData.maxDocuments" ng-class="{edited: vm.form.maxDocuments.$dirty && !(vm.isScheduledDisabled() || !vm.recurring)}" ip-data-type="positiveinteger" ng-disabled="vm.isScheduledDisabled() || !vm.recurring"></ip-text-field> </div> </div> <ip-workflows-event-control-charge-form data-form="charge" data-can-edit="vm.canEdit" data-charge="vm.formData" data-wrap-options="true"></ip-workflows-event-control-charge-form> <div class="row"> <h3> <span translate=".substituteDocument"></span> <ip-inline-dialog data-content="{{:: \'workflows.eventcontrol.documents.maintenance.substituteDocumentBlurb\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <div class="col-sm-8 col-sm-push-4"> <ip-checkbox name="isCheckCycleForSubstitute" data-label=".checkCycle" ng-model="vm.formData.isCheckCycleForSubstitute"></ip-checkbox> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/documents.html",'<div translate-namespace=".documents"> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="documentsGrid" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.documents.title\' | translate}}"></ip-kendo-grid> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/due-date-calc-maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="workflows.eventcontrol.dueDateCalc.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"> </ip-maintenance-modal-header> <ip-workflows-eventcontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" event-number="vm.eventId" event-description="vm.eventDescription" on-navigate="vm.onNavigate"> </ip-workflows-eventcontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".chooseEvent"></span> </h3> </div> <div class="row"> <ip-typeahead label="workflows.common.event" ip-required ng-class="{edited: vm.form.fromEvent.$dirty}" name="fromEvent" ng-model="vm.formData.fromEvent" ng-change="vm.onFromEventChange()" ip-autofocus data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery"> </ip-typeahead> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span>&nbsp;</span> <ip-radio-button label="workflows.common.eventDate" ng-value="1" ng-model="vm.formData.fromTo" name="calculateFromEventDate" ng-class="{edited: vm.form.calculateFromEventDate.$dirty}"></ip-radio-button> <ip-radio-button label="workflows.common.dueDate" ng-value="2" ng-model="vm.formData.fromTo" name="calculateFromDueDate" ng-class="{edited: vm.form.calculateFromDueDate.$dirty}"></ip-radio-button> <ip-radio-button label=".either" ng-value="3" ng-model="vm.formData.fromTo" name="calculateFromEither" ng-class="{edited: vm.form.calculateFromEither.$dirty}"></ip-radio-button> <ip-inline-dialog data-content="{{:: \'workflows.eventcontrol.dueDateCalc.gridBlurb.either\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span>&nbsp;</span> <ip-checkbox label=".mustExist" ng-model="vm.formData.mustExist" name="mustExist" ng-class="{edited: vm.form.mustExist.$dirty}"> </ip-checkbox> <ip-inline-dialog data-content="{{:: \'workflows.eventcontrol.dueDateCalc.gridBlurb.mustExist\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <h3> <span class="label-legend" translate=".setupCalculation"></span> </h3> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate="workflows.eventcontrol.dueDateCalc.operator"></span> <ip-radio-button label="workflows.eventcontrol.dueDateCalc.operatorMap.add" value="A" ng-model="vm.formData.operator" name="dueDateCalcOperatorAdd" ng-class="{edited: vm.form.dueDateCalcOperatorAdd.$dirty}"> </ip-radio-button> <ip-radio-button label="workflows.eventcontrol.dueDateCalc.operatorMap.subtract" value="S" ng-model="vm.formData.operator" name="dueDateCalcOperatorSubtract" ng-class="{edited: vm.form.dueDateCalcOperatorSubtract.$dirty}"> </ip-radio-button> </div> </div> <div class="row"> <ip-text-dropdown-group ip-required ng-class="{edited: vm.form.period.$dirty}" ip-data-type="nonNegativeInteger" name="period" label="workflows.common.period" ng-model="vm.formData.period" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" is-text-disabled="vm.isPeriodTextDisabled" ng-change="vm.onPeriodChange()" warning-text="vm.getPeriodWarningText()"> </ip-text-dropdown-group> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.relativeCycle.$dirty}" name="relativeCycle" ip-required label="workflows.common.relCycle" ng-model="vm.formData.relativeCycle" options="option.key as option.value | translate for option in vm.relativeCycles | filter:{ showAll: \'true\'}"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.adjustBy.$dirty}" name="adjustBy" label=".adjustBy" ng-model="vm.formData.adjustBy" options="option.key as option.value | translate for option in vm.adjustByOptions" ng-change="vm.onAdjustByChange()" warning-text="vm.getAdjustByWarningText()"> </ip-dropdown> </div> <div class="row"> <ip-dropdown ng-class="{edited: vm.form.nonWorkDay.$dirty}" name="nonWorkDay" label=".ifNonWorkDay" ng-model="vm.formData.nonWorkDay" options="option.key as option.value | translate for option in vm.nonWorkDayOptions"> </ip-dropdown> </div> <div class="row"> <h3> <span class="label-legend" translate=".calculationApplies"></span> <ip-inline-dialog data-template="condor/configuration/rules/workflows/eventcontrol/calculation-applies-popover.html" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-text-field ip-required ng-class="{edited: vm.form.cycle.$dirty, error: vm.form.cycle.$invalid}" name="cycle" label=".toCycle" ng-class="{edited: vm.formData.isDirty(\'cycle\')}" ng-model="vm.formData.cycle" ng-disabled="vm.isCycleDisabled" ip-data-type="positiveinteger" warning-text="vm.getToCycleWarningText()"> </ip-text-field> </div> <div class="row"> <ip-typeahead name="jurisdiction" ng-class="{edited: vm.form.jurisdiction.$dirty}" label=".toJurisdiction" ng-model="vm.formData.jurisdiction" ng-disabled="vm.isJurisdictionDisabled" data-config="jurisdiction" data-picklist-can-maintain="true"> </ip-typeahead> </div> <div class="row"> <h3> <span class="label-legend" translate=".chooseDocument"></span> <ip-inline-dialog data-content="{{:: \'workflows.eventcontrol.dueDateCalc.gridBlurb.substituteDocument\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead name="document" ng-class="{edited: vm.form.document.$dirty}" ng-model="vm.formData.document" data-extend-query="vm.setDocumentGenerationCompatibility" data-config="document"> </ip-typeahead> </div> <div class="row"> <h3> <span class="label-legend" translate=".reminders"></span> <ip-inline-dialog data-content="{{:: \'workflows.eventcontrol.dueDateCalc.gridBlurb.reminders\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <div class="input-wrap-group"> <span translate=".options"></span> <ip-radio-button label=".standardReminder" value="standard" ng-model="vm.formData.reminderOption" name="reminderOptionStandard" ng-class="{edited: vm.form.reminderOptionStandard.$dirty}"> </ip-radio-button> <ip-radio-button label=".alternateReminder" value="alternate" ng-model="vm.formData.reminderOption" name="reminderOptionAlternate" ng-class="{edited: vm.form.reminderOptionAlternate.$dirty}"> </ip-radio-button> <ip-radio-button label=".suppressReminders" value="suppressAll" ng-model="vm.formData.reminderOption" name="reminderOptionSuppress" ng-class="{edited: vm.form.reminderOptionSuppress.$dirty}"> </ip-radio-button> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/due-date-calc-popover.html",'<div> <p> <b translate="workflows.eventcontrol.dueDateCalc.infoBubble.dateToUseTitle"></b> <span translate="workflows.eventcontrol.dueDateCalc.infoBubble.dateToUseDescription"></span> </p> <p> <b translate="workflows.eventcontrol.dueDateCalc.infoBubble.saveDueDateTitle"></b> <span translate="workflows.eventcontrol.dueDateCalc.infoBubble.saveDueDateDescription"></span> </p> <p> <b translate="workflows.eventcontrol.dueDateCalc.infoBubble.extendDueDateTitle"></b> <span translate="workflows.eventcontrol.dueDateCalc.infoBubble.extendDueDateDescription"></span> </p> <p> <b translate="workflows.eventcontrol.dueDateCalc.infoBubble.recalculateEventDateTitle"></b> <span translate="workflows.eventcontrol.dueDateCalc.infoBubble.recalculateEventDateDescription"></span> </p> <p> <b translate="workflows.eventcontrol.dueDateCalc.infoBubble.doNotCalculateDueDateTitle"></b> <span translate="workflows.eventcontrol.dueDateCalc.infoBubble.doNotCalculateDueDateDescription"></span> </p> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/due-date-calc.html",'<div translate-namespace=".dueDateCalc"> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="dueDateCalcResults" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.dueDateCalc.title\' | translate}}"></ip-kendo-grid> </div> <div class="setting" ng-form="vm.form" ip-form> <div class="row"> <div class="col-lg-6"> <h2> <span translate=".dueDateCalcSettings"></span> <ip-inline-dialog placement="left" data-template="condor/configuration/rules/workflows/eventcontrol/due-date-calc-popover.html"></ip-inline-dialog> </h2> <div id="dueDateCalcGroup" ng-class="{\'input-inherited\': vm.isInherited()}"> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".formElements.dateToUse"></span> <ip-radio-button name="dateToUseEarliest" ng-class="{edited: vm.form.dateToUseEarliest.$dirty}" label=".formElements.earliest" value="E" ng-model="vm.settings.dateToUse" ng-disabled="::!vm.canEdit"></ip-radio-button> <ip-radio-button name="dateToUseLatest" ng-class="{edited: vm.form.dateToUseLatest.$dirty}" label=".formElements.latest" value="L" ng-model="vm.settings.dateToUse" ng-disabled="::!vm.canEdit"></ip-radio-button> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".formElements.saveDueDate"></span> <ip-radio-button name="saveDueDateYes" ng-class="{edited: vm.form.saveDueDateYes.$dirty}" label=".formElements.yes" ng-value="true" ng-model="vm.settings.isSaveDueDate" ng-disabled="::!vm.canEdit" ng-change="vm.updateSaveDueDate()"></ip-radio-button> <ip-radio-button name="saveDueDateNo" ng-class="{edited: vm.form.saveDueDateNo.$dirty}" label=".formElements.no" ng-value="false" ng-model="vm.settings.isSaveDueDate" ng-disabled="::!vm.canEdit"></ip-radio-button> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".formElements.extendDueDate"></span> <ip-radio-button name="extendDueDateYes" ng-class="{edited: vm.form.extendDueDateYes.$dirty}" label=".formElements.yes" ng-value="true" ng-model="vm.settings.extendDueDate" ng-disabled="::!vm.canEdit" ng-change="vm.updateExtendDueDate()"></ip-radio-button> <ip-radio-button name="extendDueDateNo" ng-class="{edited: vm.form.extendDueDateNo.$dirty}" label=".formElements.no" ng-value="false" ng-model="vm.settings.extendDueDate" ng-disabled="::!vm.canEdit"></ip-radio-button> </div> </div> <div class="row" ng-if="vm.settings.extendDueDate"> <div class="col-sm-6 col-sm-offset-2"> <ip-text-dropdown-group name="extendDueDateOptions" ip-required ip-data-type="nonNegativeInteger" ng-class="{edited: vm.form.extendDueDateOptions.$dirty}" label=".formElements.extendDueDateBy" ng-model="vm.settings.extendDueDateOptions" data-text-field="value" data-option-field="type" options="item.value as item.name | translate for item in vm.extendDueDateByUnitOptions" ng-disabled="!vm.canEdit"> </ip-text-dropdown-group> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".formElements.recalcEventDate"></span> <ip-checkbox name="recalcEventDate" ng-class="{edited: vm.form.recalcEventDate.$dirty}" ng-model="vm.settings.recalcEventDate" ng-disabled="::!vm.canEdit"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".formElements.doNotCalculate"></span> <ip-checkbox name="doNotCalculateDueDate" ng-class="{edited: vm.form.doNotCalculateDueDate.$dirty}" ng-model="vm.settings.doNotCalculateDueDate" ng-disabled="::!vm.canEdit"></ip-checkbox> </div> </div> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/event-control.html",'<div translate-namespace="workflows.eventcontrol"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save data-ng-if="vm.canEdit || vm.canDelete" page-title="workflows.title" page-subtitle="workflows.eventcontrol.title" on-save="vm.onSaveClick()" on-discard="vm.discard()" is-save-enabled="vm.isSaveEnabled()" is-discard-enabled="vm.isDiscardEnabled()" is-delete-enabled="vm.isDeleteEnabled()" on-delete="vm.delete()" is-save-available="vm.isSaveDiscardAvailable()" is-discard-available="vm.isSaveDiscardAvailable()"> <ip-level-up-button></ip-level-up-button> </ip-page-title-save> <ip-page-title data-ng-if="!vm.canEdit && !vm.canDelete" page-title="workflows.title" page-subtitle="workflows.eventcontrol.title"> <before-title> <ip-level-up-button></ip-level-up-button> </before-title> </ip-page-title> </div> <div class="row title-header workflow-details event-control-header"> <div class="col-sm-12"> <div ng-if="vm.eventControl.inheritanceLevel !== \'None\'" class="btn btn-icon btn-no-bg protected-icon"> <ip-inheritance-icon inheritance-level="{{::vm.eventControl.inheritanceLevel}}"></ip-inheritance-icon> </div> <div ng-if="vm.eventControl.isProtected" class="btn btn-icon btn-no-bg protected-icon"> <icon ip-tooltip="{{::\'Protected\' | translate }}" data-tooltip-placement="bottom" class="text-blue-secondary" name="protected"></icon> </div> <div class="readonly-label-group"> <div class="readonly-label-value"> <label translate="criteriaNumber"></label>: <span class="criteria-number">{{vm.eventControl.criteriaId}}</span> </div> <div class="readonly-label-value"> <label translate="workflows.common.eventNumber"></label>: <span class="event-number">{{vm.eventControl.eventId}}</span> </div> <div class="readonly-label-value"> <label translate="eventDescription"></label>: <span class="event-desc">{{vm.eventControl.overview.data.description}}</span> </div> </div> <ip-detail-page-nav data-ids="::vm.workflowEventIds" data-router-state="workflows.details.eventcontrol" data-param-key="eventId"> </ip-detail-page-nav> </div> </div> </div> </ip-sticky-header> <ip-topics data-options="vm.topicOptions" data-on-topic-selected="vm.onTopicSelected(topicKey)"> <ip-topics-header> <ip-inline-permission-alert current-page="Event Control" data-options="vm.eventControl"></ip-inline-permission-alert> </ip-topics-header> </ip-topics> </div>'),
e.put("condor/configuration/rules/workflows/eventcontrol/event-occurrence-popover.html",'<div> <p> <b translate="workflows.eventcontrol.eventOccurrence.infoBubble.onTheDueDateTitle"></b> <span translate="workflows.eventcontrol.eventOccurrence.infoBubble.onTheDueDateDesc"></span> </p> <p> <b translate="workflows.eventcontrol.eventOccurrence.infoBubble.immediateTitle"></b> <span translate="workflows.eventcontrol.eventOccurrence.infoBubble.immediateDesc"></span> </p> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/event-occurrence.html",'<style> div~ip-checkbox {\r\n        margin-left: 15px;\r\n    }\r\n\r\n    .custom-class {\r\n        color: #4682b4;\r\n    } </style> <div ng-form="vm.form" ip-form translate-namespace=".eventOccurrence"> <div class="row"> <div class="col-sm-6" ng-class="{\'input-inherited\': vm.isInherited()}"> <div class="row" ip-tooltip="{{!vm.isEventOccurrenceDisabled() ? \'\' : (\'workflows.eventcontrol.eventOccurrence.disabledTooltip\' | translate)}}"> <div class="input-wrap-group group-inline text-nowrap"> <ip-radio-button name="onDueDateOption" label=".onTheDueDate" ng-model="vm.formData.dueDateOccurs" value="OnDueDate" ng-class="{edited: vm.form.onDueDateOption.$dirty, \'input-inherited\': vm.parentData.dueDateOccurs === \'OnDueDate\'}" ng-disabled="vm.isEventOccurrenceDisabled()"></ip-radio-button> <ip-radio-button name="immediatelyOnCalculatingDueDateOption" label=".immediatelyOnCalculatingTheDueDate" ng-model="vm.formData.dueDateOccurs" value="Immediate" ng-class="{edited: vm.form.immediatelyOnCalculatingDueDateOption.$dirty, \'input-inherited\': vm.parentData.dueDateOccurs === \'Immediate\'}" ng-disabled="vm.isEventOccurrenceDisabled()"></ip-radio-button> <ip-radio-button name="notApplicableOption" label="workflows.eventcontrol.notApplicable" ng-model="vm.formData.dueDateOccurs" value="NotApplicable" ng-class="{edited: vm.form.notApplicableOption.$dirty, \'input-inherited\': vm.parentData.dueDateOccurs === \'NotApplicable\'}" ng-disabled="vm.isEventOccurrenceDisabled()"></ip-radio-button> </div> </div> <div class="row"> <div class="input-wrap-group"> <ip-checkbox name="whenAnotherCaseExists" ng-class="{edited: vm.form.whenAnotherCaseExists.$dirty}" label=".whenAnotherCaseExists" data-info="workflows.eventcontrol.eventOccurrence.whenAnotherCaseExistsInfo" ng-model="vm.isWhenAnotherCaseExists" ng-disabled="vm.isWhenAnotherCaseExistsDisabled()"></ip-checkbox> </div> </div> </div> </div> <div ng-show="vm.isWhenAnotherCaseExists"> <div class="row"> <div class="col-sm-6"> <h2 translate=".characteristicsHeader"></h2> </div> <div class="col-sm-6"> <h2 translate=".matchCharacteristicsHeader"></h2> </div> </div> <div class="row"> <div class="col-sm-9"> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="office" ng-model="vm.formData.characteristics.office" ng-disabled="!vm.canEdit || vm.formData.matchOffice" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" data-config="office" ng-if="::vm.hasOffices"> </ip-typeahead> </div> <ip-checkbox name="matchOffice" ng-model="vm.formData.matchOffice" ng-disabled="::!vm.canEdit" ng-change="vm.matchBoxChanged()" ng-class="{\'input-inherited\': vm.isCharacteristicInherited(), \'edited\': vm.form.matchOffice.$dirty}"></ip-checkbox> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="caseType" ng-model="vm.formData.characteristics.caseType" ng-disabled="::!vm.canEdit" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" ng-change="vm.validateValidCombinations()" data-config="caseType" data-extend-query="vm.extendValidCombinationPickList" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="jurisdiction" ng-model="vm.formData.characteristics.jurisdiction" ng-disabled="!vm.canEdit || vm.formData.matchJurisdiction" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" data-config="jurisdiction" ng-change="vm.validateValidCombinations()" data-picklist-can-maintain="true" data-extend-query="vm.extendValidCombinationPickList" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> <ip-checkbox name="matchJurisdiction" ng-model="vm.formData.matchJurisdiction" ng-disabled="::!vm.canEdit" ng-change="vm.matchBoxChanged()" ng-class="{\'input-inherited\': vm.isCharacteristicInherited(), \'edited\': vm.form.matchJurisdiction.$dirty}"></ip-checkbox> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="propertyType" ng-model="vm.formData.characteristics.propertyType" ng-disabled="!vm.canEdit || vm.formData.matchPropertyType" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" data-config="propertyType" ng-change="vm.validateValidCombinations()" data-extend-query="vm.extendValidCombinationPickList" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"></ip-typeahead> </div> <ip-checkbox name="matchPropertyType" ng-model="vm.formData.matchPropertyType" ng-disabled="::!vm.canEdit" ng-change="vm.matchBoxChanged()" ng-class="{\'input-inherited\': vm.isCharacteristicInherited(), \'edited\': vm.form.matchPropertyType.$dirty}"></ip-checkbox> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="caseCategory" ng-model="vm.formData.characteristics.caseCategory" ng-disabled="!vm.canEdit || vm.isCaseCategoryDisabled() || vm.formData.matchCaseCategory" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" data-config="caseCategory" ng-change="vm.validateValidCombinations()" data-extend-query="vm.extendValidCombinationPickList" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> </div> <ip-checkbox name="matchCaseCategory" ng-model="vm.formData.matchCaseCategory" ng-disabled="::!vm.canEdit" ng-change="vm.matchBoxChanged()" ng-class="{\'input-inherited\': vm.isCharacteristicInherited(), \'edited\': vm.form.matchCaseCategory.$dirty}"></ip-checkbox> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="subType" ng-model="vm.formData.characteristics.subType" ng-disabled="!vm.canEdit || vm.formData.matchSubType" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" ng-change="vm.validateValidCombinations()" data-config="subType" data-picklist-can-maintain="true" data-extend-query="vm.extendValidCombinationPickList" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <ip-checkbox name="matchSubType" ng-model="vm.formData.matchSubType" ng-disabled="::!vm.canEdit" ng-change="vm.matchBoxChanged()" ng-class="{\'input-inherited\': vm.isCharacteristicInherited(),\'edited\': vm.form.matchSubType.$dirty}"></ip-checkbox> </div> <div class="row"> <div class="col-sm-8"> <ip-typeahead name="basis" ng-model="vm.formData.characteristics.basis" ng-disabled="!vm.canEdit || vm.formData.matchBasis" ng-class="{\'input-inherited\': vm.isCharacteristicInherited()}" ng-change="vm.validateValidCombinations()" data-config="basis" data-extend-query="vm.extendValidCombinationPickList" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <ip-checkbox name="matchBasis" ng-model="vm.formData.matchBasis" ng-disabled="::!vm.canEdit" ng-change="vm.matchBoxChanged()" ng-class="{\'input-inherited\': vm.isCharacteristicInherited(), \'edited\': vm.form.matchBasis.$dirty}"></ip-checkbox> </div> </div> </div> <div class="row"> <h2 translate=".matchingNamesHeader"></h2> </div> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row inline-editing"> <ip-kendo-grid data-id="matchNames" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'workflows.eventcontrol.eventOccurrence.nameTypeMatch\' | translate}}"> </ip-kendo-grid> </div> <div class="row"> <h2 translate=".matchingEventsHeader"></h2> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="eventsExist" label=".events" ng-class="{edited: vm.formData.eventsExist.$dirty}" ng-model="vm.formData.eventsExist" data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.eventPicklistScope" data-extend-query="vm.eventPicklistScope.extendQuery" data-multiselect data-multipick ng-disabled="::!vm.canEdit"> </ip-typeahead> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/events-to-clear.html",'<div class="text-right" ng-if="vm.canEdit"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid data-id="eventsToClearResults" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'workflows.eventcontrol.eventsToClear.eventToClear\' | translate}}"> </ip-kendo-grid> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/events-to-update.html",'<div class="text-right" ng-if="vm.canEdit"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid data-id="eventsToUpdateGrid" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'workflows.eventcontrol.eventsToUpdate.eventToUpdate\' | translate}}"> </ip-kendo-grid> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/inheritance-confirmation.html",'<div id="eventInheritanceConfirmation" translate-namespace="workflows.eventcontrol.inheritanceConfirmation"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div class="input-wrap" translate=".message1"> </div> <div class="input-wrap" translate=".message2"> </div> <div id="items"> <div class="row" ng-repeat="item in vm.items"> <div class="col-sm-2 col-sm-offset-1 text-right"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <div class="footerCheckBox withInfo"> <ip-checkbox label=".checkboxLabel" ng-model="vm.applyChangesToChildren" data-info="workflows.eventcontrol.inheritanceConfirmation.blurb"></ip-checkbox> </div> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/name-change-popover.html",'<div> <p> <span translate="workflows.eventcontrol.nameChange.info.line1"></span> </p> <p> <span translate="workflows.eventcontrol.nameChange.info.line2"></span> </p> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/name-change.html",'<div ng-form="vm.form" ip-form translate-namespace=".nameChange" ng-class="{\'input-inherited\': vm.isInherited()}"> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-class="{edited: vm.form.changeNameType.$dirty}" name="changeNameType" ng-disabled="::!vm.canEdit" label=".changeCaseName" data-config="nameType" ng-model="vm.formData.changeNameType" ng-change="vm.onChangeOfChangeNameType()"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead ip-required ng-if="vm.isCopyFromNameTypeRequired()" ng-class="{edited: vm.form.copyFromNameType.$dirty}" name="copyFromNameType" ng-disabled="!vm.canEdit || vm.isCopyFromNameTypeDisabled()" label=".copyNameFrom" data-config="nameType" ng-model="vm.formData.copyFromNameType" ng-change="vm.onChangeOfCopyFromNameType()"> </ip-typeahead> <ip-typeahead ng-if="!vm.isCopyFromNameTypeRequired()" ng-class="{edited: vm.form.copyFromNameType.$dirty}" name="copyFromNameType" ng-disabled="!vm.canEdit || vm.isCopyFromNameTypeDisabled()" label=".copyNameFrom" data-config="nameType" ng-model="vm.formData.copyFromNameType" ng-change="vm.onChangeOfCopyFromNameType()"> </ip-typeahead> </div> <ip-checkbox ng-class="{edited: vm.form.deleteCopyFromName.$dirty}" name="deleteCopyFromName" ng-disabled="vm.isDeleteCopyFromNameDisabled()" label="{{ vm.deleteFromTranslationKey() | translate:{nameType: vm.formData.copyFromNameType.value} }}" ng-model="vm.formData.deleteCopyFromName"> </ip-checkbox> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-class="{edited: vm.form.moveOldNameToNameType.$dirty}" name="moveOldNameToNameType" ng-disabled="!vm.canEdit || vm.isMoveOldNameToNameTypeDisabled()" label="{{ vm.moveNameTranslationKey() | translate:{nameType: vm.formData.changeNameType.value} }}" data-config="nameType" ng-model="vm.formData.moveOldNameToNameType"> </ip-typeahead> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/overview-maintenance.html",'<div ng-form="vm.maintenance" ip-form translate-namespace="workflows.eventcontrol.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" data-button-mode="save" is-edit-mode="vm.isEditMode"> </ip-maintenance-modal-header> <div class="modal-body"> <ip-dynamic-content src="vm.templateSrc"></ip-dynamic-content> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/overview.html",'<div ng-form="vm.form" ip-form class="container-fluid"> <div class="readonly-label-group"> <div class="input-wrap large readonly-label-value"> <label translate="workflows.common.eventNumber"></label> <span ng-bind="::vm.eventId"></span> </div> </div> <div class="readonly-label-group"> <div class="input-wrap large readonly-label-value"> <label translate=".baseDescription"></label> <span ng-if="!vm.canEdit" ng-bind="vm.baseDescription"></span> <span ng-if="vm.canEdit"> <a href="javascript:void(0)" ng-bind="vm.baseDescription" ng-click="vm.onEditBaseEvent()" ip-tooltip="{{:: \'workflows.eventcontrol.baseEventTooltip\' | translate }}"> </a> </span> </div> </div> <div class="row"> <div class="col-lg-6"> <ip-text-field ng-disabled="::!vm.canEdit" name="description" label="workflows.common.eventDescription" ip-autofocus="{{!!vm.topic.isActive}}" ng-model="vm.formData.description" required ng-class="{edited: vm.formData.isDirty(\'description\'), \'input-inherited\': vm.formData.description===vm.parentData.description}" ng-maxlength="100" ng-change="vm.ensureDescriptionIsNotEmpty()"></ip-text-field> </div> <div class="col-lg-5"> <span>{{vm.parent}}</span> </div> </div> <div class="row"> <div class="col-lg-6"> <ip-text-field ip-data-type="positiveinteger" ng-disabled="vm.isMaxCyclesDisabled()" name="maxCycles" label=".maxCycles" ng-model="vm.formData.maxCycles" ng-change="vm.maxCyclesChanged()" required ng-class="{edited: vm.formData.isDirty(\'maxCycles\'), \'input-inherited\': vm.formData.maxCycles===vm.parentData.maxCycles}"></ip-text-field> </div> <ip-checkbox ng-disabled="::!vm.canEdit" ng-model="vm.unlimitedCycles" data-label=".unlimited" ng-change="vm.unlimitedCyclesChecked()" ng-class="{ \'input-inherited\': vm.unlimitedCycles===vm.parentData.unlimitedCycles}"></ip-checkbox> </div> <div class="row"> <ip-dropdown required name="importanceLevel" label=".importanceLevel" class="col-lg-6" ng-class="{edited: vm.formData.isDirty(\'importanceLevel\'),\'input-inherited\': vm.formData.importanceLevel===vm.parentData.importanceLevel}" ng-disabled="::!vm.canEdit" ng-model="vm.formData.importanceLevel" options="option.key as option.value for option in vm.importanceLevelOptions"> </ip-dropdown> </div> <div class="row"> <div class="col-lg-6 input-wrap-group group-inline text-nowrap" ng-class="{edited: vm.formData.isDirty(\'dueDateRespType\'), \r\n             \'input-inherited\': vm.formData.dueDateRespType===vm.parentData.dueDateRespType}"> <span translate=".responsibility"></span> <ip-radio-button label=".nameType" value="nameType" ng-model="vm.formData.dueDateRespType" ng-change="vm.onRespTypeChange()" ng-disabled="!vm.canEdit"> </ip-radio-button> <ip-radio-button label=".name" value="name" ng-model="vm.formData.dueDateRespType" ng-change="vm.onRespTypeChange()" ng-disabled="!vm.canEdit"> </ip-radio-button> <ip-radio-button label=".notApplicable" value="notApplicable" ng-model="vm.formData.dueDateRespType" ng-change="vm.onRespTypeChange()" ng-disabled="!vm.canEdit"> </ip-radio-button> </div> </div> <div ng-if="vm.formData.dueDateRespType === \'name\'" class="row"> <ip-typeahead class="col-lg-6 hide-label" ng-class="{edited: vm.formData.isDirty(\'name\'), \r\n                    \'input-inherited\': vm.formData.name.key===vm.parentData.name.key}" name="name" ng-model="vm.formData.name" data-config="staff"> </ip-typeahead> </div> <div ng-if="vm.formData.dueDateRespType === \'nameType\'" class="row"> <ip-typeahead class="col-lg-6 hide-label" ng-class="{edited: vm.formData.isDirty(\'nameType\'),\r\n                 \'input-inherited\': vm.formData.nameType.key===vm.parentData.nameType.key}" name="nameType" ng-model="vm.formData.nameType" data-config="nameType"> </ip-typeahead> </div> <div class="row"> <div class="col-lg-6 large"> <ip-text-field ng-disabled="::!vm.canEdit" multiline data-rows="6" name="notes" label=".notes" ng-model="vm.formData.notes" ng-class="{edited: vm.formData.isDirty(\'notes\'), \'input-inherited\': vm.formData.notes===vm.parentData.notes}"></ip-text-field> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/pta-delays-calc.html",'<div ng-form="vm.form" ng-class="{edited: vm.form.$dirty, \'input-inherited\': vm.ptaDelay===vm.parentData.ptaDelay}" translate-namespace=".ptaDelaysCalc" class="row"> <div class="input-wrap-group col-lg-12"> <span translate=".calcTitle" style="width:17%"></span> <div class="group-inline input-wrap-group" style="float:unset;margin-top: 5px;"> <ip-radio-button label=".ipOfficeDelay" ng-model="vm.ptaDelay" value="ipOfficeDelay" ng-disabled="::!vm.canEdit"> </ip-radio-button> <ip-radio-button label=".applicantDelay" ng-model="vm.ptaDelay" value="applicantDelay" ng-disabled="::!vm.canEdit"> </ip-radio-button> <ip-radio-button label=".notApplicable" ng-model="vm.ptaDelay" value="notApplicable" ng-disabled="::!vm.canEdit"> </ip-radio-button> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/reminders-info-popover.html",'<div> <p> <span translate="workflows.eventcontrol.reminders.info"></span> </p> <p> <span translate="workflows.eventcontrol.reminders.info1"></span> </p> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/reminders-maintenance.html",'<style> .reminders-no-bottom-margin div {\r\n    margin-bottom: 0px;\r\n    padding-bottom: 1px;\r\n} </style> <div ng-form="vm.form" ip-form translate-namespace="workflows.eventcontrol.reminders.maintenance"> <ip-maintenance-modal-header data-page-title="{{:: vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEditMode"> </ip-maintenance-modal-header> <ip-workflows-eventcontrol-modal-subheader is-edit-mode="vm.isEditMode" all-items="vm.allItems" current-item="vm.currentItem" criteria-number="vm.criteriaId" event-number="vm.eventId" event-description="vm.eventDescription" on-navigate="vm.onNavigate"> </ip-workflows-eventcontrol-modal-subheader> <div class="modal-body"> <div class="row"> <h3> <span translate=".messages"></span> </h3> </div> <div class="row"> <div class="col-md-12"> <ip-text-field name="standardMessage" label=".standardMessage" ng-model="vm.formData.standardMessage" ng-class="{edited: vm.form.standardMessage.$dirty}" multiline data-rows="3" ip-required ip-autofocus></ip-text-field> </div> </div> <div class="row"> <div class="col-md-12"> <ip-text-field name="alternateMessage" label=".alternativeMessage" class="reminders-no-bottom-margin" ng-model="vm.formData.alternateMessage" ng-class="{edited: vm.form.alternateMessage.$dirty}" multiline data-rows="3"></ip-text-field> </div> </div> <div class="row"> <div class="col-md-8 col-md-push-4"> <ip-checkbox data-label=".useOnAndAfterDueDate" ng-class="{edited: vm.form.useOnAndAfterDueDate.$dirty}" ng-model="vm.formData.useOnAndAfterDueDate" ng-disabled="vm.isUseAlternateMessageDisabled()"></ip-checkbox> <ip-inline-dialog data-content="{{:: \'workflows.eventcontrol.reminders.maintenance.alternateMessageTooltip\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".alsoSendEmail"></span> <ip-checkbox ng-model="vm.formData.sendEmail" ng-class="{edited: vm.form.sendEmail.$dirty}" ng-change="vm.formData.emailSubject = null"></ip-checkbox> </div> </div> <ip-text-field ng-if="vm.formData.sendEmail" name="emailSubject" label=".subject" ng-model="vm.formData.emailSubject" ng-class="{edited: vm.form.emailSubject.$dirty && vm.formData.sendEmail}" ng-disabled="!vm.formData.sendEmail" ip-required></ip-text-field> <ip-text-field ng-if="!vm.formData.sendEmail" name="emailSubject" label=".subject" ng-model="vm.formData.emailSubject" ng-class="{edited: vm.form.emailSubject.$dirty && vm.formData.sendEmail}" ng-disabled="!vm.formData.sendEmail"></ip-text-field> <div class="row"> <h3> <span translate=".sendingSchedule"></span> </h3> </div> <div class="row"> <ip-text-dropdown-group name="startBefore" label=".startSending" ng-class="{edited: vm.form.startBefore.$dirty}" ng-model="vm.formData.startBefore" warning-text="vm.warningOnNegativeNumber(\'value\')" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="integer" ip-required></ip-text-dropdown-group> </div> <div class="row"> <div class="col-md-8 col-md-push-4"> <ip-checkbox data-label=".recurring" ng-model="vm.recurring" ng-change="vm.onRecurringChange(vm.recurring)"></ip-checkbox> </div> </div> <div class="row"> <ip-text-dropdown-group ng-if="!vm.recurring" name="repeatEvery" label=".repeateEvery" ng-class="{edited: vm.form.repeatEvery.$dirty && vm.recurring}" ng-model="vm.formData.repeatEvery" ng-disabled="!vm.recurring" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger"></ip-text-dropdown-group> <ip-text-dropdown-group ng-if="vm.recurring" name="repeatEvery" label=".repeateEvery" ng-class="{edited: vm.form.repeatEvery.$dirty && vm.recurring}" ng-model="vm.formData.repeatEvery" ng-disabled="!vm.recurring" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger" ip-required></ip-text-dropdown-group> </div> <div class="row"> <ip-text-dropdown-group name="stopTime" label=".stopAfter" ng-class="{edited: vm.form.stopTime.$dirty && vm.recurring}" ng-model="vm.formData.stopTime" ng-disabled="!vm.recurring" data-text-field="value" data-option-field="type" options="option.key as option.value | translate for option in vm.periodTypes" ip-data-type="nonNegativeInteger"></ip-text-dropdown-group> </div> <div class="row"> <h3> <span translate=".recipients"></span> </h3> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span translate=".sendTo"></span> <ip-checkbox name="sendToStaff" label=".staff" ng-model="vm.formData.sendToStaff" ng-class="{edited: vm.form.sendToStaff.$dirty}"></ip-checkbox> <ip-checkbox name="sendToSignatory" label=".signatory" ng-model="vm.formData.sendToSignatory" ng-class="{edited: vm.form.sendToSignatory.$dirty}"></ip-checkbox> <ip-checkbox name="sendToCriticalList" label=".criticalList" ng-model="vm.formData.sendToCriticalList" ng-class="{edited: vm.form.sendToCriticalList.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <ip-typeahead name="name" data-config="name" ng-model="vm.formData.name" ng-class="{edited: vm.form.name.$dirty}" ng-change="vm.clearRelationship()"></ip-typeahead> </div> <div class="row"> <ip-typeahead name="nameTypes" data-multiselect data-multipick ng-class="{edited: vm.form.nameTypes.$dirty}" ng-model="vm.formData.nameTypes" data-config="nameType" data-label="picklist.nameType.typeMulti" ng-change="vm.clearRelationship()"></ip-typeahead> </div> <div class="row"> <ip-typeahead name="relationship" ng-model="vm.formData.relationship" ng-class="{edited: vm.form.relationship.$dirty && !vm.isRelationshipDisabled()}" ng-disabled="vm.isRelationshipDisabled()" data-config="nameRelationship"></ip-typeahead> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/reminders.html",'<div translate-namespace=".reminders"> <div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row"> <ip-kendo-grid data-id="reminders" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.reminders.title\' | translate}}"></ip-kendo-grid> </div> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/report.html",'<div class="row" ng-form="vm.form" ng-class="{edited: vm.form.$dirty}" translate-namespace=".report"> <div class="col-sm-6"> <div class="input-wrap-group group-inline" ng-class="{\'input-inherited\': vm.report===vm.parentData.report}"> <span translate=".label" class="report-to-cpa-span"></span> <div class="input-wrap-group group-inline text-nowrap"> <ip-radio-button label=".turnOn" value="on" ng-model="vm.report" ng-disabled="::!vm.canEdit"></ip-radio-button> <ip-radio-button label=".turnOff" value="off" ng-model="vm.report" ng-disabled="::!vm.canEdit"></ip-radio-button> <ip-radio-button label=".noChange" value="noChange" ng-model="vm.report" ng-disabled="::!vm.canEdit"></ip-radio-button> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/satisfying-events.html",'<div class="text-right"> <ip-add-button ng-click="vm.onAddClick()" ng-if="vm.canEdit"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid data-id="satisfyingEventsResults" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'workflows.eventcontrol.satisfyingEvents.satisfyingEvent\' | translate}}"> </ip-kendo-grid> </div> '),e.put("condor/configuration/rules/workflows/eventcontrol/standing-instruction.html",'<div ng-form="vm.form" ng-class="{ \'input-inherited\': vm.isInherited()}" ip-form> <div class="row"> <ip-typeahead class="col-sm-6" ng-class="{edited: vm.form.instructionType.$dirty}" name="instructionType" ng-model="vm.formData.instructionType" ng-disabled="!vm.canEdit" ng-change="vm.onInstructionTypeChange()" data-config="instructionType" ip-autofocus="vm.topic.isActive"> </ip-typeahead> </div> <div class="row"> <ip-dropdown class="col-sm-6" ng-class="{edited: vm.form.characteristic.$dirty}" name="characteristic" label=".standingInstruction.requiredCharacteristic" ng-disabled="vm.isCharacteristicDisabled()" ng-required="vm.isCharacteristicRequired()" ng-change="vm.onCharacteristicChange()" ng-model="vm.formData.requiredCharacteristic" options="option.key as option.value for option in vm.characteristicsOptions"> </ip-dropdown> <div class="input-wrap-group col-sm-6"> <div class="input-wrap readonly-label-value label-sm-2" ng-show="vm.displayInstructions()"> <label class="col-sm-2">{{::\'workflows.eventcontrol.standingInstruction.instructionsLabel\' | translate}}:</label> <span class="col-sm-10" ng-bind="vm.displayInstructions()"></span> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/eventcontrol/sync-event-date.html",'<div ng-form="vm.form" ip-form class="row" translate-namespace=".syncEventDate"> <div class="col-sm-6" ng-class="{\'input-inherited\': vm.isInherited()}"> <div class="row"> <div class="input-wrap-group group-inline text-nowrap"> <span translate=".getEventDateFrom"></span> <ip-radio-button label=".relatedCase" ng-model="vm.caseOption" name="relatedCaseOption" value="RelatedCase" ng-class="{edited: vm.form.relatedCaseOption.$dirty}" ng-disabled="::!vm.canEdit"></ip-radio-button> <ip-radio-button label=".sameCase" ng-model="vm.caseOption" name="sameCaseOption" value="SameCase" ng-class="{edited: vm.form.sameCaseOption.$dirty}" ng-disabled="::!vm.canEdit"></ip-radio-button> <ip-radio-button label=".notApplicable" ng-model="vm.caseOption" name="notApplicableOption" value="NotApplicable" ng-class="{edited: vm.form.notApplicableOption.$dirty}" ng-disabled="::!vm.canEdit"></ip-radio-button> </div> </div> <div ng-form="sameCase" style="margin-top: 0px;" ip-form ng-show="vm.showSameCaseOptions()"> <div class="row"> <ip-typeahead ng-disabled="::!vm.canEdit" ip-required data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.sameCaseEventPicklistScope" data-extend-query="vm.sameCaseEventPicklistScope.extendQuery" label=".useEvent" ng-model="vm.sameCase.fromEvent" name="event" ng-class="{edited: vm.form.sameCase.event.$dirty}" ip-autofocus="{{!!vm.topic.isActive}}"> </ip-typeahead> </div> <div class="row"> <ip-dropdown ng-disabled="::!vm.canEdit" label=".adjustTheDate" ng-model="vm.sameCase.dateAdjustment" name="adjustment" ng-class="{edited: vm.form.sameCase.adjustment.$dirty}" options="option.key as option.value for option in vm.dateAdjustmentOptions"> </ip-dropdown> </div> </div> <div ng-form="relatedCase" ip-form ng-show="vm.showRelatedCaseOptions()"> <div class="row"> <ip-typeahead ng-disabled="::!vm.canEdit" ip-required data-config="eventsFilteredByCriteria" data-picklist-can-maintain="true" data-external-scope="vm.relatedCaseEventPicklistScope" data-extend-query="vm.relatedCaseEventPicklistScope.extendQuery" label=".useEvent" ng-model="vm.relatedCase.fromEvent" name="event" ng-class="{edited: vm.form.relatedCase.event.$dirty}" ip-autofocus="{{!!vm.topic.isActive}}"> </ip-typeahead> </div> <div class="row"> <ip-dropdown ng-disabled="::!vm.canEdit" label=".adjustTheDate" ng-model="vm.relatedCase.dateAdjustment" name="adjustment" ng-class="{edited: vm.form.relatedCase.adjustment.$dirty}" options="option.key as option.value for option in vm.dateAdjustmentOptions"> </ip-dropdown> </div> <div class="row"> <ip-typeahead label=".withRelationship" ip-required name="relationship" ng-class="{edited: vm.form.relatedCase.relationship.$dirty }" ng-model="vm.relatedCase.fromRelationship" ng-disabled="::!vm.canEdit" data-config="relationship"> </ip-typeahead> </div> <div class="row"> <div class="input-wrap-group group-inline text-nowrap" ng-class="{edited: vm.form.relatedCase.useCycle.$dirty}"> <span translate=".useCycle"></span> <ip-radio-button label=".useRelatedCaseEvent" name="useCycle" value="RelatedCaseEvent" ng-model="vm.relatedCase.useCycle" ng-disabled="::!vm.canEdit"></ip-radio-button> <ip-radio-button label=".useCaseRelationship" name="useCycle" value="CaseRelationship" ng-model="vm.relatedCase.useCycle" ng-disabled="::!vm.canEdit"></ip-radio-button> </div> </div> <div class="row"> <ip-typeahead ng-disabled="::!vm.canEdit" name="numberType" ng-class="{edited: vm.form.relatedCase.numberType.$dirty}" data-config="numberType" label=".syncNumber" ng-model="vm.relatedCase.loadNumberType"> </ip-typeahead> </div> </div> </div> </div>'),
e.put("condor/configuration/rules/workflows/maintenance/characteristics.html",'<div ng-form="vm.form" ip-form class="container-fluid" style="padding-bottom:15px" ng-if="vm.topic.initialised"> <div class="row"> <div class="col-sm-6"> <div class="readonly-label-group"> <div class="input-wrap readonly-label-value"> <label translate="criteriaNumber" for="workflow-criteria-id"></label> <span id="workflow-criteria-id" ng-bind="::vm.formData.id"></span> </div> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap required" ng-class="{error:vm.form.criteriaName.$invalid}"> <label translate="Criteria Name" for="workflow-criteria-name"></label> <textarea id="workflow-criteria-name" type="text" rows="2" name="criteriaName" required ip-autofocus="{{!!vm.topic.isActive}}" ng-disabled="{{::!vm.canEdit}}" ng-model="vm.formData.criteriaName" ng-class="{{::vm.fieldClasses(\'criteriaName\')}}" ng-change="vm.resetNameError()" data-ng-maxlength="254">\r\n                </textarea> <span class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.required\' | translate }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> <span ng-if="vm.form.criteriaName.$error.notunique" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.notunique\' | translate }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.form.criteriaName.$error.maxlength" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.maxlength\' | translate:{ length: 254 } }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="office" ng-model="vm.formData.office" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'office\')}}" data-config="office" ng-if="::vm.hasOffices"> </ip-typeahead> <ip-typeahead name="caseType" ng-model="vm.formData.caseType" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'caseType\')}}" ng-change="vm.caseTypeChanged();vm.validate()" data-config="caseType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="jurisdiction" ng-model="vm.formData.jurisdiction" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'jurisdiction\')}}" ng-change="vm.validate()" data-config="jurisdiction" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="propertyType" ng-model="vm.formData.propertyType" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'propertyType\')}}" ng-change="vm.validate()" data-config="propertyType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="dateOfLaw" ng-model="vm.formData.dateOfLaw" ng-disabled="vm.isDateOfLawDisabled()" ng-class="{{::vm.fieldClasses(\'dateOfLaw\')}}" ng-change="vm.validate()" data-config="dateOfLaw" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> </div> <div class="col-sm-6"> <ip-typeahead name="action" ng-model="vm.formData.action" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'action\')}}" ng-change="vm.validate()" data-config="action" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" required> </ip-typeahead> <ip-typeahead name="caseCategory" ng-model="vm.formData.caseCategory" ng-disabled="vm.isCaseCategoryDisabled()" ng-class="{{::vm.fieldClasses(\'caseCategory\')}}" ng-change="vm.validate()" data-config="caseCategory" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="subType" ng-model="vm.formData.subType" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'subType\')}}" ng-change="vm.validate()" data-config="subType" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="basis" ng-model="vm.formData.basis" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'basis\')}}" ng-change="vm.validate()" data-config="basis" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-dropdown data-label="workflows.common.localOrForeignDropdown.label" ng-disabled="::!vm.canEdit" ng-class="{saved: vm.formData.isSaved(\'isLocalClient\'), edited: vm.formData.isDirty(\'isLocalClient\')}" ng-model="vm.formData.isLocalClient" data-options="option.value as option.label | translate for option in vm.appliesToOptions"></ip-dropdown> <ip-typeahead name="examinationType" ng-model="vm.formData.examinationType" ng-if="vm.showExaminationType(vm.formData)" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'examinationType\')}}" data-config="examinationType" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="renewalType" ng-model="vm.formData.renewalType" ng-if="vm.showRenewalType(vm.formData)" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'renewalType\')}}" data-config="renewalType" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <br/> <div class="row"> <div class="col-sm-6"> <div class="input-wrap-group group-inline" ng-class="{{::vm.fieldClasses(\'isProtected\')}}"> <span>{{\'Protect Criteria\' | translate}}</span> <div class="input-wrap" uib-popover="{{vm.protectionDisabledText | translate }}"> <input type="radio" id="protect-yes" ng-disabled="vm.disableProtectedRadioButtons" ng-model="vm.formData.isProtected" ng-value="true"/> <label for="protect-yes" translate="Yes"></label> </div> <div class="input-wrap" uib-popover="{{vm.protectionDisabledText | translate }}"> <input type="radio" id="protect-no" ng-disabled="vm.disableProtectedRadioButtons" ng-model="vm.formData.isProtected" ng-value="false"/> <label for="protect-no" translate="No"></label> </div> </div> </div> <div class="col-sm-6"> <div class="input-wrap-group group-inline" ng-class="{{::vm.fieldClasses(\'inUse\')}}"> <span translate="In Use"></span> <div class="input-wrap"> <input type="radio" id="inUse-yes" ng-model="vm.formData.inUse" ng-disabled="::!vm.canEdit" ng-value="true"/> <label for="inUse-yes" translate="Yes"></label> </div> <div class="input-wrap"> <input type="radio" id="inUse-no" ng-model="vm.formData.inUse" ng-disabled="::!vm.canEdit" ng-value="false"/> <label for="inUse-no" translate="No"></label> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/maintenance/create-characteristics.html",'<div ng-form="vm.form" ip-form> <div class="modal-header"> <h2 class="modal-title" ng-show="!vm.formData.criteriaId" translate="workflows.create.title"></h2> <div class="modal-header-controls" ng-init="vm.initShortcuts(vm.form)"> <ip-save-button ng-click="vm.save()" id="Save" ng-disabled="!vm.isSaveEnabled()"></ip-save-button> <ip-close-button ng-click="vm.dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div class="modal-body" ng-init="vm.validate()"> <div class="container-fluid" style="padding-bottom:15px"> <div class="row"> <div class="col-sm-12"> <div class="input-wrap large required" ng-class="{error:vm.form.criteriaName.$dirty && vm.form.criteriaName.$invalid}"> <label translate="Criteria Name"></label> <textarea id="workflow-criteria-name" type="text" rows="2" name="criteriaName" required ip-autofocus ng-disabled="{{::!vm.canEdit}}" ng-model="vm.formData.criteriaName" ng-class="{{::vm.fieldClasses(\'criteriaName\')}}" ng-change="vm.resetNameError()" data-ng-maxlength="254">\r\n                </textarea> <span ng-if="vm.form.criteriaName.$error.required" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.required\' | translate }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> <span ng-if="vm.form.criteriaName.$error.notunique" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.notunique\' | translate }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.form.criteriaName.$error.maxlength" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.maxlength\' | translate:{ length: 254 } }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="row" ng-if="::vm.hasOffices"> <ip-typeahead name="office" ng-model="vm.formData.office" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'office\')}}" data-config="office"> </ip-typeahead> </div> <div class="row"> <ip-typeahead name="caseType" ng-model="vm.formData.caseType" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'caseType\')}}" ng-change="vm.caseTypeChanged();vm.validate()" data-config="caseType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="jurisdiction" ng-model="vm.formData.jurisdiction" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'jurisdiction\')}}" ng-change="vm.validate()" data-config="jurisdiction" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="propertyType" ng-model="vm.formData.propertyType" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'propertyType\')}}" ng-change="vm.validate()" data-config="propertyType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="dateOfLaw" ng-model="vm.formData.dateOfLaw" ng-disabled="vm.isDateOfLawDisabled()" ng-class="{{::vm.fieldClasses(\'dateOfLaw\')}}" ng-change="vm.validate()" data-config="dateOfLaw" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <div class="col-sm-6"> <div class="row"> <ip-typeahead name="action" ng-model="vm.formData.action" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'action\')}}" ng-change="vm.validate()" data-config="action" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" required> </ip-typeahead> </div> <div class="row"> <ip-typeahead name="caseCategory" ng-model="vm.formData.caseCategory" ng-disabled="vm.isCaseCategoryDisabled()" ng-class="{{::vm.fieldClasses(\'caseCategory\')}}" ng-change="vm.validate()" data-config="caseCategory" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="subType" ng-model="vm.formData.subType" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'subType\')}}" ng-change="vm.validate()" data-config="subType" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="basis" ng-model="vm.formData.basis" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'basis\')}}" ng-change="vm.validate()" data-config="basis" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-dropdown data-label="workflows.common.localOrForeignDropdown.label" ng-disabled="::!vm.canEdit" ng-class="{saved: vm.formData.isSaved(\'isLocalClient\'), edited: vm.formData.isDirty(\'isLocalClient\')}" ng-model="vm.formData.isLocalClient" data-options="option.value as option.label | translate for option in vm.appliesToOptions"></ip-dropdown> <ip-typeahead name="examinationType" ng-if="vm.showExaminationType(vm.formData)" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'examinationType\')}}" data-config="examinationType" data-picklist-can-maintain="true" ng-model="vm.formData.examinationType"> </ip-typeahead> <ip-typeahead name="renewalType" ng-if="vm.showRenewalType(vm.formData)" ng-disabled="::!vm.canEdit" ng-class="{{::vm.fieldClasses(\'renewalType\')}}" data-config="renewalType" data-picklist-can-maintain="true" ng-model="vm.formData.renewalType"> </ip-typeahead> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="input-wrap-group group-inline" ng-class="{{::vm.fieldClasses(\'isProtected\')}}"> <span>{{\'Protect Criteria\' | translate}}</span> <div class="input-wrap" uib-popover="{{vm.protectionDisabledText | translate }}"> <input type="radio" id="protect-yes" ng-disabled="vm.disableProtectedRadioButtons" ng-model="vm.formData.isProtected" ng-value="true"/> <label for="protect-yes" translate="Yes"></label> </div> <div class="input-wrap" uib-popover="{{vm.protectionDisabledText | translate }}"> <input type="radio" id="protect-no" ng-disabled="vm.disableProtectedRadioButtons" ng-model="vm.formData.isProtected" ng-value="false"/> <label for="protect-no" translate="No"></label> </div> </div> </div> <div class="col-sm-6"> <div class="input-wrap-group group-inline" ng-class="{{::vm.fieldClasses(\'inUse\')}}"> <span translate="In Use"></span> <div class="input-wrap"> <input type="radio" id="inUse-yes" ng-model="vm.formData.inUse" ng-disabled="::!vm.canEdit" ng-value="true"/> <label for="inUse-yes" translate="Yes"></label> </div> <div class="input-wrap"> <input type="radio" id="inUse-no" ng-model="vm.formData.inUse" ng-disabled="::!vm.canEdit" ng-value="false"/> <label for="inUse-no" translate="No"></label> </div> </div> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/maintenance/create-entries.html",'<div id="createEntriesModal" ng-form="vm.form" ip-form translate-namespace="workflows.maintenance.entries.createEntry"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button ng-click="vm.save()" id="Save" ng-disabled="!vm.isSaveEnabled()"></ip-save-button> <ip-close-button ng-click="vm.dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div class="modal-body"> <div class="container-fluid" style="padding-bottom:15px"> <div class="row"> <div class="col-sm-12"> <div class="input-wrap large required" ng-class="{error:vm.form.entryDescription.$dirty && vm.form.entryDescription.$invalid}"> <label translate=".description"></label> <textarea id="workflow-entry-entryDescription" type="text" rows="2" name="entryDescription" required ip-autofocus="true" ng-model="vm.entryDescription" ng-change="vm.resetUniqueError()" data-ng-maxlength="100" ng-trim="false">\r\n                        </textarea> <span ng-if="vm.form.entryDescription.$error.required" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.required\' | translate }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> <span ng-if="vm.form.entryDescription.$error.notunique" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.notunique\' | translate }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> <span data-ng-if="vm.form.entryDescription.$error.maxlength" class="input-action tooltip-error" ip-tooltip="{{:: \'field.errors.maxlength\' | translate:{ length: 100 } }}" data-tooltip-placement="right"> <icon name="exclamation-triangle"></icon> </span> </div> </div> </div> <div class="row" ng-if="!vm.events"> <div class="col-sm-4 col-sm-offset-2"> <ip-checkbox name="isSeparator" label=".isSeparator" ng-model="vm.isSeparator" ng-change="vm.resetUniqueError(); vm.resetRequiredError()"></ip-checkbox> <ip-inline-dialog class="col-sm-offset-1" data-content="{{::\'workflows.maintenance.entries.createEntry.separatorInfo\' | translate}}" data-placement="bottom"></ip-inline-dialog> </div> </div> <div ng-if="vm.events"> <div class="input-wrap"> <h5> {{:: \'workflows.maintenance.entries.createEntry.events\' | translate }}</h5> </div> <div class="row" ng-repeat="item in vm.events"> <div class="col-sm-2 col-sm-offset-1"> <a href="#/configuration/rules/workflows/{{vm.criteriaId}}/eventcontrol/{{item.eventNo}}" target="_blank">{{item.eventNo}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{vm.criteriaId}}/eventcontrol/{{item.eventNo}}" target="_blank">{{item.description}}</a> </div> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/maintenance/entries.html",'<h1 class="pull-right"> <button class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.onClickAdd()" ng-if="vm.canEdit"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </h1> <div class="row"> <div class="col-lg-6 col-sm-7" ng-form="vm.form"> <ip-typeahead name="event" ng-model="vm.shared.selectedEventInDetail" ip-autofocus="{{!!vm.topic.isActive}}" data-label="workflows.maintenance.findEvent" data-config="event" data-picklist-can-maintain="true"> </ip-typeahead> </div> <div class="col-sm-2"> <ip-inline-dialog class="nudge-left" data-content="{{:: \'workflows.maintenance.entries.entryControlFilterInfo\' | translate}}"></ip-inline-dialog> <span id="entry-search-match-count" class="inline-dialog" ng-show="vm.entryCount !== null"> <span>{{vm.entryCount}} </span> <span ng-show="vm.entryCount == 1" translate="match"></span> <span ng-show="vm.entryCount !== 1 && vm.entryCount !== null" translate="matches"></span> </span> </div> </div> <div class="row"> <ip-kendo-grid data-id="entriesResults" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onClickAdd()" data-add-item-name="{{\'workflows.maintenance.entries.entryControl\' | translate}}"> </ip-kendo-grid> </div>'),e.put("condor/configuration/rules/workflows/maintenance/events-for-case-confirmation.html",'<div id="eventsForCaseModal"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate="Delete Warning"></h2> </div> <div class="modal-body"> <p translate="{{::vm.deleteEventConfirmText()}}"></p> <div class="row" ng-repeat="item in vm.items.usedEvents"> <div class="col-sm-2 col-sm-offset-1"> <span class="text-grey-dark">{{item.eventId}}</span> </div> <div class="col-sm-9"> <span class="text-grey-dark">{{item.description}}</span> </div> </div> </div> <div class="modal-footer"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="Cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="Proceed"></button> </div> </div> '),e.put("condor/configuration/rules/workflows/maintenance/events.html",'<h1 class="pull-right"> <button class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.onClickAdd()" ng-if="vm.canEdit"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </h1> <div class="row"> <div class="col-sm-7 col-lg-6" ng-form="vm.form"> <ip-typeahead name="event" ng-model="vm.shared.selectedEventInDetail" ip-autofocus="{{!!vm.topic.isActive}}" data-label="workflows.maintenance.findEvent" data-config="event" data-picklist-can-maintain="true"> </ip-typeahead> </div> <div class="col-sm-2 col-lg-2"> <ip-inline-dialog class="nudge-left" data-content="{{:: \'workflows.maintenance.events.eventControlFilterInfo\' | translate}}"></ip-inline-dialog> <span id="event-search-match-count" class="addevent-inline-dialog" ng-show="vm.eventMatches"> <span>{{vm.eventMatches.length}} </span> <span ng-show="vm.eventMatches.length === 1" translate="match"></span> <span ng-show="vm.eventMatches.length !== 1" translate="matches"></span> </span> </div> <div class="col-sm-2 col-lg-3"> <span> <button ng-if="vm.canAddEventDirectly()" ng-click="vm.addEventDirectly()" class="addevent-btn addevent-btn-link grid-message"> <icon name="plus-circle"></icon> <em translate="workflows.maintenance.addItemToCriteria"></em> </button> </span> </div> </div> <div class="row"> <ip-kendo-grid data-id="eventResults" data-grid-options="vm.gridOptions" data-show-add="vm.canEdit" data-on-add-click="vm.onClickAdd()" data-add-item-name="{{\'workflows.maintenance.events.eventControl\' | translate}}"></ip-kendo-grid> </div> '),e.put("condor/configuration/rules/workflows/maintenance/inheritance-confirmation.html",'<div id="inheritanceConfirmationModal" translate-namespace="workflows.maintenance.inheritanceConfirmation"> <div class="modal-header"> <h2 class="modal-title" translate=".title"></h2> </div> <div class="modal-body"> <div class="input-wrap"> {{:: \'workflows.maintenance.inheritanceConfirmation.message\' | translate:vm.translationData }} </div> <div class="input-wrap"> {{:: \'workflows.maintenance.inheritanceConfirmation.detail\' | translate:vm.translationData }} </div> <div class="row" ng-repeat="item in items"> <div class="col-sm-2 col-sm-offset-1"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <div class="footerCheckBox withInfo"> <ip-checkbox label="workflows.maintenance.applyToDescendants" ng-model="vm.inherit" data-info="workflows.maintenance.inheritanceConfirmation.blurb" data-info-data="vm.translationData"> </ip-checkbox> </div> <button type="button" class="btn" data-ng-click="cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/maintenance/inheritance-delete-confirmation.html",'<div id="inheritanceDeleteConfirmationModal" translate-namespace="workflows.maintenance"> <div class="modal-header"> <h2 class="modal-title" translate=".deleteConfirmationEntry.title"></h2> </div> <div class="modal-body"> <div class="input-wrap" translate="{{::vm.deleteConfirmationMessage()}}"> </div> <div class="input-wrap" translate="{{::vm.deleteConfirmationDetail()}}"> </div> <div class="row" ng-repeat="item in vm.items.descendants"> <div class="col-sm-2 col-sm-offset-1"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> <div class="modal-footer"> <div class="row"> <div class="pull-right col-sm-12 modal-footer-buttons"> <div class="footerCheckBox"> <ip-checkbox data-label="workflows.maintenance.applyToDescendants" ng-model="vm.applyToDescendants"></ip-checkbox> </div> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-discard" data-ng-click="vm.del()" translate="Delete"></button> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/maintenance/inheritance-reorder-confirmation.html",'<div id="inheritanceReorderConfirmationModal" translate-namespace="workflows.maintenance.reOrderConfirmation"> <div class="modal-header"> <h2 class="modal-title" id="modalPendingLabel" translate=".title"></h2> </div> <div class="modal-body"> <p translate=".message"></p> <p translate=".detail"></p> <div class="row" ng-repeat="item in vm.items"> <div class="col-sm-2 col-sm-offset-1"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.id}}</a> </div> <div class="col-sm-9"> <a href="#/configuration/rules/workflows/{{item.id}}" target="_blank">{{item.description}}</a> </div> </div> </div> <hr> <div class="modal-footer"> <div class="row"> <div class="col-sm-12"> <div class="input-wrap-group group-inline pull-right"> <button type="button" class="btn" data-ng-click="vm.cancel()" translate="button.cancel"></button> <button type="button" class="btn btn-primary" data-ng-click="vm.proceed()" translate="button.proceed"></button> </div> </div> </div> </div> </div> '),e.put("condor/configuration/rules/workflows/maintenance/maintenance.html",'<ip-master-detail-view data-state="workflows.details"> <ip-sticky-header> <div class="container-fluid"> <div class="row"> <ip-page-title-save data-ng-if="vm.canEdit" page-title="workflows.title" page-subtitle="workflows.maintenance.title" on-save="vm.save()" on-discard="vm.discard()" is-save-enabled="vm.isSaveEnabled()" is-discard-enabled="vm.isDiscardEnabled()"> <ip-level-up-button data-last-search="::vm.lastSearch" data-grid-id="searchResults"></ip-level-up-button> </ip-page-title-save> <ip-page-title data-ng-if="!vm.canEdit" page-title="workflows.title" page-subtitle="workflows.maintenance.title"> <before-title><ip-level-up-button data-last-search="::vm.lastSearch" data-grid-id="searchResults"></ip-level-up-button><before-title> </before-title></before-title></ip-page-title> </div> <div class="row title-header workflow-details"> <div class="col-sm-12"> <a ui-sref="workflows.inheritance({criteriaIds: vm.criteria.criteriaId})" ng-if="vm.criteria.isInherited" class="btn btn-icon btn-no-bg protected-icon"> <ip-inheritance-icon></ip-inheritance-icon> </a> <div ng-if="vm.criteria.isHighestParent" class="btn btn-icon btn-no-bg protected-icon"> <a ui-sref="workflows.inheritance({criteriaIds: vm.criteria.criteriaId})" class="btn-no-bg" button-icon="inheritance" ip-tooltip="{{::\'HighestParent\' | translate }}"> <span class="cpa-icon cpa-icon-grey cpa-icon-inheritance" name="inheritance"></span> </a> </div> <div ng-if="vm.criteria.isProtected" class="btn btn-icon btn-no-bg protected-icon"> <icon ip-tooltip="{{::\'Protected\' | translate }}" data-tooltip-placement="bottom" class="text-blue-secondary" name="protected"></icon> </div> <div class="readonly-label-group"> <div class="readonly-label-value"> <label>{{::\'criteriaNumber\' | translate}}:</label> <span id="criteriaNumber">{{vm.criteria.criteriaId}}</span> </div> <div class="readonly-label-value"> <label>{{::\'Name\' | translate}}:</label> <span>{{vm.criteria.criteriaName}}</span> </div> </div> <ip-detail-page-nav data-last-search="::vm.lastSearch" data-router-state="workflows.details"> </ip-detail-page-nav> </div> </div> </div> </ip-sticky-header> <ip-topics data-options="vm.options" data-on-topic-selected="vm.onTopicSelected(topicKey)"> <ip-topics-header> <ip-inline-permission-alert current-page="Workflow Criteria" data-options="vm.permissionAlertOptions"></ip-inline-permission-alert> </ip-topics-header> </ip-topics> </ip-master-detail-view> '),e.put("condor/configuration/rules/workflows/search/search-by-case.html",'<div class="row"> <div class="col-sm-6"> <h5 translate="ChooseCaseTitle"></h5> </div> <div class="col-sm-6"> <h5 translate="ChooseActionTitle"></h5> </div> </div> <div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="case" ng-model="vm.formData.case" ng-change="vm.selectCase()" ip-autofocus data-config="case" ip-required> </ip-typeahead> </div> <div class="col-sm-6"> <ip-typeahead name="action" data-picklist-can-maintain="true" ng-model="vm.formData.action" ng-change="vm.validate();vm.handleActionSelected();" data-config="action" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" ip-required> </ip-typeahead> </div> </div> <h5 translate="Characteristics"></h5> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-if="::vm.hasOffices" name="office" ng-model="vm.formData.office" data-config="office"> </ip-typeahead> <ip-typeahead name="caseType" ng-model="vm.formData.caseType" ng-change="vm.validate()" data-config="caseType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="jurisdiction" ng-model="vm.formData.jurisdiction" ng-change="vm.validate()" data-config="jurisdiction" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="propertyType" ng-model="vm.formData.propertyType" ng-change="vm.validate()" data-config="propertyType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="dateOfLaw" data-picklist-can-maintain="true" ng-model="vm.formData.dateOfLaw" ng-change="vm.validate()" ng-disabled="vm.isDateOfLawDisabled()" data-config="dateOfLaw" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> <div class="col-sm-6"> <ip-typeahead name="caseCategory" ng-model="vm.formData.caseCategory" ng-disabled="vm.isCaseCategoryDisabled()" ng-change="vm.validate()" data-config="caseCategory" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="subType" ng-model="vm.formData.subType" ng-change="vm.validate()" data-config="subType" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="basis" ng-model="vm.formData.basis" ng-change="vm.validate()" data-config="basis" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-dropdown name="applyTo" data-label="workflows.common.localOrForeignDropdown.label" ng-class="{saved: vm.formData.isSaved(\'isLocalClient\'), edited: vm.formData.isDirty(\'isLocalClient\')}" ng-model="vm.formData.applyTo" data-options="option.value as option.label | translate for option in vm.appliesToOptions"></ip-dropdown> <ip-typeahead id="examinationType" name="examinationType" ng-if="vm.showExaminationType()" data-config="examinationType" data-picklist-can-maintain="true" ng-model="vm.formData.examinationType"></ip-typeahead> <ip-typeahead id="renewalType" name="renewalType" ng-if="vm.showRenewalType()" data-config="renewalType" data-picklist-can-maintain="true" ng-model="vm.formData.renewalType"></ip-typeahead> </div> </div> <br/> <div class="row"> <div class="col-sm-6 col-md-4 col-md-offset-1 col-lg-3"> <div class="input-wrap-group"> <span> <ip-inline-dialog data-template="condor/configuration/rules/workflows/search/search-type-popover.html"></ip-inline-dialog> <span translate="Find"></span> </span> <div class="input-wrap"> <input type="radio" id="case-exact-match" ng-model="vm.formData.matchType" value="exact-match"/> <label for="case-exact-match"> <span translate="workflows.search.exactMatchs"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="case-best-criteria" ng-model="vm.formData.matchType" value="best-criteria-only"/> <label for="case-best-criteria"> <span translate="workflows.search.bestCriteriaOnly"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="case-best-match" ng-model="vm.formData.matchType" value="best-match"/> <label for="case-best-match"> <span translate="workflows.search.bestMatches"></span> </label> </div> </div> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div class="input-wrap-group"> <span translate="Include"></span> <div class="input-wrap"> <input type="checkbox" id="case-include-not-in-use" ng-model="vm.formData.includeCriteriaNotInUse"> <label for="case-include-not-in-use"> <span translate="workflows.search.criteriaNotInUse"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="case-include-protected-criteria" ng-model="vm.formData.includeProtectedCriteria"> <label for="case-include-protected-criteria"> <span translate="workflows.search.protectedCriteria"></span> </label> </div> </div> </div> </div> </div>'),
e.put("condor/configuration/rules/workflows/search/search-by-characteristics.html",'<h5 translate="Characteristics"></h5> <div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-if="::vm.hasOffices" name="office" ng-model="vm.formData.office" data-config="office" ip-autofocus="{{::vm.hasAutofocusOnOffice}}"> </ip-typeahead> <ip-typeahead name="caseType" ng-model="vm.formData.caseType" ng-change="vm.validate()" data-config="caseType" ip-autofocus="{{::vm.hasAutofocusOnCaseType}}" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="jurisdiction" ng-model="vm.formData.jurisdiction" ng-change="vm.validate()" data-config="jurisdiction" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="propertyType" ng-model="vm.formData.propertyType" ng-change="vm.validate()" data-config="propertyType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="dateOfLaw" data-picklist-can-maintain="true" ng-model="vm.formData.dateOfLaw" ng-change="vm.validate()" ng-disabled="vm.isDateOfLawDisabled()" data-config="dateOfLaw" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> <div class="col-sm-6"> <ip-typeahead name="action" ng-model="vm.formData.action" ng-change="vm.validate()" data-config="action" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="caseCategory" ng-model="vm.formData.caseCategory" data-key-field="key" data-code-field="code" data-text-field="value" ng-disabled="vm.isCaseCategoryDisabled()" ng-change="vm.validate()" data-config="caseCategory" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead id="subType" name="subType" ng-model="vm.formData.subType" ng-change="vm.validate()" data-config="subType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead id="basis" name="basis" ng-model="vm.formData.basis" ng-change="vm.validate()" data-config="basis" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-dropdown name="applyTo" data-label="workflows.common.localOrForeignDropdown.label" ng-class="{saved: vm.formData.isSaved(\'isLocalClient\'), edited: vm.formData.isDirty(\'isLocalClient\')}" ng-model="vm.formData.applyTo" data-options="option.value as option.label | translate for option in vm.appliesToOptions"></ip-dropdown> <ip-typeahead id="examinationType" name="examinationType" ng-if="vm.showExaminationType()" data-config="examinationType" data-picklist-can-maintain="true" ng-model="vm.formData.examinationType"></ip-typeahead> <ip-typeahead id="renewalType" name="renewalType" ng-if="vm.showRenewalType()" data-config="renewalType" data-picklist-can-maintain="true" ng-model="vm.formData.renewalType"></ip-typeahead> </div> </div> <br/> <div class="row"> <div class="col-sm-6 col-md-4 col-md-offset-1 col-lg-3"> <div class="input-wrap-group"> <span> <ip-inline-dialog data-template="condor/configuration/rules/workflows/search/search-type-popover.html"></ip-inline-dialog> <span translate="Find"></span> </span> <div class="input-wrap"> <input type="radio" id="characteristics-exact-match" ng-model="vm.formData.matchType" value="exact-match"/> <label for="characteristics-exact-match"> <span translate="workflows.search.exactMatchs"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="characteristics-best-criteria" ng-model="vm.formData.matchType" value="best-criteria-only"/> <label for="characteristics-best-criteria"> <span translate="workflows.search.bestCriteriaOnly"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="characteristics-best-match" ng-model="vm.formData.matchType" value="best-match"/> <label for="characteristics-best-match"> <span translate="workflows.search.bestMatches"></span> </label> </div> </div> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div class="input-wrap-group"> <span translate="Include"></span> <div class="input-wrap"> <input type="checkbox" id="characteristics-include-not-in-use" ng-model="vm.formData.includeCriteriaNotInUse"> <label for="characteristics-include-not-in-use"> <span translate="workflows.search.criteriaNotInUse"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="characteristics-include-protected-criteria" ng-model="vm.formData.includeProtectedCriteria"> <label for="characteristics-include-protected-criteria"> <span translate="workflows.search.protectedCriteria"></span> </label> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/search/search-by-criteria.html",'<h5 translate="criteriaNumberOrDescription"></h5> <div class="row" ng-form="vm.form" ip-form> <ip-typeahead name="criteria" class="col-sm-6" ng-model="vm.formData" data-label="Criteria" data-multiselect data-multipick data-key-field="id" data-tag-field="id" data-text-field="description" ip-autofocus data-api-url="api/configuration/rules/workflows/typeaheadSearch" data-item-template-url="condor/configuration/rules/workflows/search/typeahead-criteria-template.html" data-picklist-display-name="Criteria" data-picklist-columns="[{field:\'id\', title:\'Criteria No.\', sortable: false}, {field:\'description\', title:\'Description\', sortable: false}]"> </ip-typeahead> </div> '),e.put("condor/configuration/rules/workflows/search/search-by-event.html",'<h5 translate="ChooseEventTitle"></h5> <div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="event" ng-model="vm.formData.event" ip-autofocus data-config="event" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <h5 translate="Characteristics"></h5> <div class="row"> <div class="col-sm-6"> <ip-typeahead ng-if="::vm.hasOffices" name="office" ng-model="vm.formData.office" data-config="office"> </ip-typeahead> <ip-typeahead name="caseType" ng-model="vm.formData.caseType" ng-change="vm.validate()" data-config="caseType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="jurisdiction" ng-model="vm.formData.jurisdiction" ng-change="vm.validate()" data-config="jurisdiction" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="propertyType" ng-model="vm.formData.propertyType" ng-change="vm.validate()" data-config="propertyType" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="dateOfLaw" data-picklist-can-maintain="true" ng-model="vm.formData.dateOfLaw" ng-change="vm.validate()" ng-disabled="vm.isDateOfLawDisabled()" data-config="dateOfLaw" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> <div class="col-sm-6"> <ip-typeahead name="action" data-picklist-can-maintain="true" ng-model="vm.formData.action" ng-change="vm.validate()" data-config="action" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> <ip-typeahead name="caseCategory" ng-model="vm.formData.caseCategory" ng-disabled="vm.isCaseCategoryDisabled()" ng-change="vm.validate()" data-config="caseCategory" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true"> </ip-typeahead> <ip-typeahead name="subType" ng-model="vm.formData.subType" ng-change="vm.validate()" data-config="subType" data-picklist-can-maintain="true" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-typeahead name="basis" ng-model="vm.formData.basis" ng-change="vm.validate()" data-config="basis" data-extend-query="vm.extendPicklistQuery" data-external-scope="vm.picklistValidCombination" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> <ip-dropdown name="applyTo" data-label="workflows.common.localOrForeignDropdown.label" ng-class="{saved: vm.formData.isSaved(\'isLocalClient\'), edited: vm.formData.isDirty(\'isLocalClient\')}" ng-model="vm.formData.applyTo" data-options="option.value as option.label | translate for option in vm.appliesToOptions"></ip-dropdown> <ip-typeahead id="examinationType" name="examinationType" ng-if="vm.showExaminationType()" data-config="examinationType" data-picklist-can-maintain="true" ng-model="vm.formData.examinationType"></ip-typeahead> <ip-typeahead id="renewalType" name="renewalType" ng-if="vm.showRenewalType()" data-config="renewalType" data-picklist-can-maintain="true" ng-model="vm.formData.renewalType"></ip-typeahead> </div> </div> <br/> <div class="row"> <div class="col-sm-6 col-md-4 col-md-offset-1 col-lg-3"> <div class="input-wrap-group"> <span> <ip-inline-dialog data-template="condor/configuration/rules/workflows/search/search-type-popover.html"></ip-inline-dialog> <span translate="Find"></span> </span> <div class="input-wrap"> <input type="radio" id="event-exact-match" ng-model="vm.formData.matchType" value="exact-match"/> <label for="event-exact-match"> <span translate="Exact matches"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="event-best-criteria" ng-model="vm.formData.matchType" value="best-criteria-only"/> <label for="event-best-criteria"> <span translate="Best criteria only"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="event-best-match" ng-model="vm.formData.matchType" value="best-match"/> <label for="event-best-match"> <span translate="Best matches"></span> </label> </div> </div> </div> <div class="col-sm-6 col-md-4 col-lg-3"> <div class="input-wrap-group"> <span translate="Include"></span> <div class="input-wrap"> <input type="checkbox" id="event-include-not-in-use" ng-model="vm.formData.includeCriteriaNotInUse"> <label for="event-include-not-in-use"> <span translate="Criteria not in use"></span> </label> </div> <div class="input-wrap"> <input type="checkbox" id="event-include-protected-criteria" ng-model="vm.formData.includeProtectedCriteria"> <label for="event-include-protected-criteria"> <span translate="Protected criteria"></span> </label> </div> </div> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/search/search-type-popover.html",'<div> <p><b translate="workflows.search.exactMatchs"></b> <span translate="workflows.search.exactMatchsInfo"></span> </p> <p><b translate="workflows.search.bestCriteriaOnly"></b> <span translate="workflows.search.bestCriteriaOnlyInfo"></span> </p> <p><b translate="workflows.search.bestMatches"></b> <span translate="workflows.search.bestMatchesInfo"></span> </p> </div>'),e.put("condor/configuration/rules/workflows/search/search.html",'<ip-master-detail-view data-state="workflows"> <ip-sticky-header> <ip-page-title page-title="workflows.title"></ip-page-title> <ip-search-options-header></ip-search-options-header> </ip-sticky-header> <div ip-resize-handler resize-handler-type="Panel"> <ip-search-options on-clear="vm.reset()" is-search-disabled="vm.isSearchDisabled()" on-search="vm.search()" on-validate="vm.validate()"> <div class="row" ng-init="vm.initializeShortcuts()"> <div class="col-sm-12"> <div class="input-wrap-group group-inline"> <span style="width: 16.6667%" translate="workflows.search.searchBy"></span> <div class="input-wrap"> <input type="radio" id="search-by-characteristics" ng-model="vm.searchBy" value="characteristics" ng-change="vm.optionChange()"/> <label for="search-by-characteristics"> <span translate="workflows.search.characteristics"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="search-by-criteria" ng-model="vm.searchBy" value="criteria" ng-change="vm.optionChange()"/> <label for="search-by-criteria"> <span translate="workflows.search.criteria"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="search-by-case" ng-model="vm.searchBy" value="case" ng-change="vm.optionChange()"/> <label for="search-by-case"> <span translate="workflows.search.case"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="search-by-event" ng-model="vm.searchBy" value="event" ng-change="vm.optionChange()"/> <label for="search-by-event"> <span translate="workflows.search.event"></span> </label> </div> </div> </div> </div> <hr/> <div ng-if="vm.mounted.characteristics" ng-show="vm.searchBy === \'characteristics\'"> <ip-search-by-characteristics></ip-search-by-characteristics> </div> <div ng-if="vm.mounted.criteria" ng-show="vm.searchBy === \'criteria\'"> <ip-search-by-criteria></ip-search-by-criteria> </div> <div ng-if="vm.mounted.case" ng-show="vm.searchBy === \'case\'"> <ip-search-by-case></ip-search-by-case> </div> <div ng-if="vm.mounted.event" ng-show="vm.searchBy === \'event\'"> <ip-search-by-event></ip-search-by-event> </div> </ip-search-options> <div class="table-container"> <div class="table-title"> <h2 translate="Workflow Criteria"></h2> <button type="button" id="criteria-add-btn" class="btn btn-icon pull-right" ip-tooltip="{{:: \'Add\' | translate}}" ng-click="vm.openCharacteristicModal()"> <icon name="plus-circle"></icon> </button> </div> <ip-kendo-grid data-no-results-hint="{{vm.noResultsHint | translate}}" data-id="searchResults" data-grid-options="vm.gridOptions" mode="search"></ip-kendo-grid> </div> </div> </ip-master-detail-view>'),e.put("condor/configuration/rules/workflows/search/typeahead-criteria-template.html",'<div> <p ng-bind-html="item.id | ipTypeaheadHighlight:searchValue"></p> <p ng-bind-html="item.description | ipTypeaheadHighlight:searchValue"></p> </div> '),e.put("condor/configuration/rules/workflows/search/valid-default-jurisdiction.html",'<div ng-if="vm.isDefaultJurisdiction()"> <ip-inline-alert text="validcombinations.defaultJurisdictionCombination" type="info"></ip-inline-alert> </div>'),e.put("condor/configuration/rules/workflows/search/valid-picklist-filtered-template.html",'<ip-picklist-modal-search> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> <div class="col-sm-4" ng-if="!!vm.externalScope.validCombination[(vm.entity || \'combination\')]()"> <ip-checkbox label="workflows.common.validStatusesOnly" ng-model="vm.externalScope.filterByCriteria" ng-change="vm.searchInWindow(true)" ng-disabled="!vm.externalScope.canAddValidCombinations"></ip-checkbox> </div> <div class="col-sm-2"> <div class="text-wrap no-hover" data-ng-if="vm.externalScope.canAddValidCombinations"> <ip-icon-button class="pull-right" button-icon="plus-circle" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.externalScope.add(vm)"></ip-icon-button> </div> </div> </div> <div class="row" ng-if="!!vm.externalScope.validCombination[(vm.entity || \'combination\')]()"> <div class="col-sm-12"> <div class="inline-readonly-list"> <label translate="Valid Combination"></label> <span ng-repeat="characteristic in vm.externalScope.validCombination[(vm.entity || \'combination\')]()">{{characteristic}}</span> <ip-default-jurisdiction ng-if="vm.gridOptions.data().length > 0" data-results="vm.gridOptions.data()"></ip-default-jurisdiction> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search> <ip-picklist-modal-maintenance></ip-picklist-modal-maintenance>'),e.put("condor/configuration/rules/workflows/search/valid-picklist-template.html",'<ip-picklist-modal-search> <div class="row"> <div class="col-sm-6"> <ip-picklist-modal-search-field></ip-picklist-modal-search-field> </div> <div class="col-sm-6"> <ip-picklist-modal-search-add></ip-picklist-modal-search-add> </div> </div> <div class="row" ng-if="::!!vm.externalScope[(vm.entity || \'combination\')]()"> <div class="col-sm-12"> <div class="inline-readonly-list"> <label translate="Valid Combination"></label> <span ng-repeat="characteristic in ::vm.externalScope[(vm.entity || \'combination\')]()">{{::characteristic}}</span> <ip-default-jurisdiction ng-if="vm.gridOptions.data().length > 0" data-results="vm.gridOptions.data()"></ip-default-jurisdiction> </div> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-picklist-modal-search-results></ip-picklist-modal-search-results> </div> </div> </ip-picklist-modal-search> <ip-picklist-modal-maintenance></ip-picklist-modal-maintenance>'),e.put("condor/configuration/general/validcombination/action/action-order-modal-subheader.html",'<div> <div class="row modal-subheader text-xs-right" ng-if="vm.launchSrc === \'maintenance\'"> <ip-modal-nav all-items="::vm.allItems" current-item="::vm.currentItem" has-unsaved-changes="::vm.hasUnsavedChanges" on-navigate="::vm.onNavigate"> </ip-modal-nav> <br/> </div> </div> '),e.put("condor/configuration/general/validcombination/action/action.maintenance.html",'<ip-valid-picklist-maintenance data-model="vm.entity" data-maintenance="vm.maintenance" data-state="vm.entity.state" data-can-maintain="true" data-entity-type="action"></ip-valid-picklist-maintenance>'),e.put("condor/configuration/general/validcombination/action/action.order.html",'<style> #validActionResults>table tbody tr {\r\n        cursor: move;\r\n    }\r\n    \r\n    tbody>.k-state-selected {\r\n        background-color: #D2E7F3 !important;\r\n        color: black !important;\r\n    } </style> <form name="actionOrder" novalidate> <div class="modal-header" ng-init="ctrl.initShortcuts()"> <h2 class="modal-title" translate="validcombinations.setActionDisplayOrder"></h2> <div class="modal-header-controls"> <button type="button" id="btnUp" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'validcombinations.moveUp\' | translate }}" data-ng-disabled="ctrl.disableUpButton" ng-click="ctrl.moveUp()"> <span class="cpa-icon cpa-icon-arrow-up"></span> </button> <button type="button" id="btnDown" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'validcombinations.moveDown\' | translate }}" data-ng-disabled="ctrl.disableDownButton" ng-click="ctrl.moveDown()"> <span class="cpa-icon cpa-icon-arrow-down"></span> </button> <ip-save-button type="button" data-ng-click="ctrl.save()" data-ng-disabled="!ctrl.hasChanges"></ip-save-button> <ip-close-button data-ng-click="ctrl.dismiss()"></ip-close-button> </div> </div> <div id="modal-content" class="modal-body"> <ip-action-order-modal-subheader all-items="ctrl.allItems" current-item="ctrl.currentItem" has-unsaved-changes="ctrl.hasUnsavedChanges" launch-src="ctrl.launchSrc"> </ip-action-order-modal-subheader> <br/> <div class="row"> <ip-typeahead id="pk-case-type" data-label="" data-placeholder="Case Type" class="col-sm-4" data-config="caseType" data-picklist-can-maintain="true" ng-model="ctrl.filterCriteria.caseType" ng-change="ctrl.setHeader();ctrl.onFilterCriteriaChanged()" ng-disabled="ctrl.launchSrc === \'maintenance\'"> </ip-typeahead> <ip-typeahead id="pk-jurisdiction" data-label="" data-placeholder="Jurisdiction" class="col-sm-4" data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="ctrl.filterCriteria.jurisdiction" ng-change="ctrl.setHeader();ctrl.onFilterCriteriaChanged()" ip-autofocus ng-disabled="ctrl.launchSrc === \'maintenance\'"> </ip-typeahead> <ip-typeahead id="pk-property-type" data-label="" data-placeholder="Property Type" class="col-sm-4" data-config="propertyType" data-picklist-can-maintain="true" ng-model="ctrl.filterCriteria.propertyType" ng-change="ctrl.setHeader();ctrl.onFilterCriteriaChanged()" ng-disabled="ctrl.launchSrc === \'maintenance\'" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <br/> <ip-inline-alert data-ng-if="ctrl.hint !== \'\'" text="{{ctrl.hint | translate}}" type="info"></ip-inline-alert> <br/> <kendo-grid id="validActionResults" k-options="ctrl.gridOptions"></kendo-grid> <ip-inline-alert data-ng-if="ctrl.displayNoItems" text="{{::\'noResultsFound\'}}" type="info"></ip-inline-alert> </div> </form>'),e.put("condor/configuration/general/validcombination/action/validaction.maintenance.html",'<div translate-namespace="validcombinations"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidAction"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-case-type" name="caseType" data-config="caseType" data-picklist-can-maintain="true" ng-model="model.caseType" ng-class="{edited: maintenance.caseType.$dirty}" ng-disabled="state == \'updating\'" ip-required> </ip-typeahead> </div> <div class="row"> <ip-typeahead data-multiselect id="pk-jurisdiction" name="jurisdiction" data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="model.jurisdictions" ng-class="{edited: maintenance.jurisdiction.$dirty}" ip-required ng-disabled="state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" ng-model="model.propertyType" ip-required ng-class="{edited: maintenance.propertyType.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <h3> <span class="label-legend" translate=".newValidActionOptions"></span> </h3> <div class="row"> <ip-typeahead id="pk-action" name="action" data-label="Action" data-config="validAction" ng-model="model.action" ip-required ng-change="vm.onPicklistSelectionChanged(maintenance.validDescription)" ng-class="{edited: maintenance.action.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="canMaintain === \'true\' ? true : false"> </ip-typeahead> </div> <div class="row"> <ip-text-field name="validDescription" ip-required label=".validDescription" ng-model="model.validDescription" ng-class="{edited: maintenance.validDescription.$dirty}" data-ng-maxlength="50"></ip-text-field> </div> <h3> <span class="label-legend" translate=".validDateOfLawEvents"></span> </h3> <div class="row" style="margin-left:15px"> <ip-typeahead id="determiningEvent" class="col-sm-11" data-label=".determiningEvent" name="determiningEvent" data-config="event" ng-model="model.determiningEvent" ng-disabled="state === \'viewing\'" ng-change="dCtrl.validate()" ng-class="{edited: vm.form.determiningEvent.$dirty}"> </ip-typeahead> <ip-inline-dialog style="margin-left: -4px;" data-content="{{::\'validcombinations.infoIconDeterminingEvent\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row" style="margin-left:15px"> <ip-typeahead id="retrospectiveEvent" class="col-sm-11" data-label=".retrospectiveEvent" name="retrospectiveEvent" data-config="event" ng-model="model.retrospectiveEvent" ng-disabled="state === \'viewing\'" ng-class="{edited: vm.form.retrospectiveEvent.$dirty}"> </ip-typeahead> <ip-inline-dialog style="margin-left: -4px;" data-content="{{::\'validcombinations.infoIconRetrospectiveEvent\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div>'),e.put("condor/configuration/general/validcombination/basis/basis.maintenance.html",'<ip-valid-picklist-maintenance data-model="vm.entity" data-maintenance="vm.maintenance" data-state="vm.entity.state" data-can-maintain="true" data-entity-type="basis" data-search-criteria="vm.searchCriteria" data-src="validcombination"></ip-valid-picklist-maintenance>'),e.put("condor/configuration/general/validcombination/basis/validbasis.maintenance.html",'<div translate-namespace="validcombinations" data-ng-controller="validBasisMaintenanceController as ctrl"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidBasis"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-case-type" name="caseType" data-config="caseType" data-picklist-can-maintain="true" ng-model="model.caseType" ng-change="ctrl.onCaseTypeSelectionChanged()" ng-class="{edited:maintenance.caseType.$dirty}" ng-disabled="state == \'updating\'"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="model.jurisdictions" ng-class="{edited: maintenance.jurisdiction.$dirty}" ip-required ng-disabled="state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" ng-model="model.propertyType" ip-required ng-class="{edited: maintenance.propertyType.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-case-category" name="caseCategory" data-config="caseCategory" data-picklist-can-maintain="true" ng-model="model.caseCategory" ng-change="ctrl.onCaseCategorySelectionChanged()" ng-class="{edited: maintenance.caseCategory.$dirty}" ng-disabled="state == \'updating\' || ctrl.disableCategoryPicklist()" data-extend-query="ctrl.picklistCriteria.extendQuery"> </ip-typeahead> </div> <h3> <span class="label-legend" translate=".labelNewValidBasis"></span> </h3> <div class="row"> <ip-typeahead id="pk-basis" name="basis" data-config="validBasis" data-picklist-can-maintain="canMaintain === \'true\' ? true : false" ng-model="model.basis" ip-required ng-change="ctrl.onBasisSelectionChanged(maintenance.validDescription)" ng-class="{edited: maintenance.basis.$dirty}" ng-disabled="state == \'updating\'" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <div class="row"> <ip-text-field name="validDescription" ip-required label=".validDescription" ng-model="model.validDescription" ng-class="{edited: maintenance.validDescription.$dirty}" data-ng-maxlength="50"></ip-text-field> </div> </div>'),e.put("condor/configuration/general/validcombination/category/category.maintenance.html",'<ip-valid-picklist-maintenance data-model="vm.entity" data-maintenance="vm.maintenance" data-state="vm.entity.state" data-can-maintain="true" data-entity-type="category" data-search-criteria="vm.searchCriteria" data-src="validcombination"></ip-valid-picklist-maintenance>'),e.put("condor/configuration/general/validcombination/category/validcategory.maintenance.html",'<div translate-namespace="validcombinations" data-ng-controller="validCategoryMaintenanceController as ctrl"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidCategory"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-case-type" name="caseType" data-config="caseType" data-picklist-can-maintain="true" ng-model="model.caseType" ip-required ng-change="ctrl.onCaseTypeSelectionChanged()" ng-class="{edited: maintenance.caseType.$dirty}" ng-disabled="state == \'updating\'"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="model.jurisdictions" ng-class="{edited: maintenance.jurisdiction.$dirty}" ip-required ng-disabled="state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" ng-model="model.propertyType" ip-required ng-class="{edited: maintenance.propertyType.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <h3> <span class="label-legend" translate=".labelNewValidCategory"></span> </h3> <div class="row"> <ip-typeahead id="pk-case-category" name="caseCategory" data-config="validCaseCategory" data-picklist-can-maintain="canMaintain === \'true\' ? true : false" ng-model="model.caseCategory" ip-required ng-change="ctrl.onCaseCategorySelectionChanged(maintenance.validDescription)" ng-class="{edited: maintenance.caseCategory.$dirty}" ng-disabled="state == \'updating\' || ctrl.disableCategoryPicklist()" data-extend-query="ctrl.picklistCriteria.extendQuery"> </ip-typeahead> </div> <div class="row"> <ip-text-field name="validDescription" ip-required label=".validDescription" ng-model="model.validDescription" ng-class="{edited: maintenance.validDescription.$dirty}" data-ng-maxlength="50"></ip-text-field> </div> <div class="row"> <ip-typeahead id="property-event-picklist" name="propertyEvent" data-label="Property Event" data-config="event" data-picklist-can-maintain="false" ng-model="model.propertyEvent" ng-class="{edited: maintenance.propertyEvent.$dirty}"> </ip-typeahead> </div> <div class="row"> <div class="input-wrap-group group-inline"> <span></span> <ip-checkbox name="chkMultiClassAllowed" ng-model="model.multiClassPropertyApp" label=".multiClassAllowed" ng-class="{edited: maintenance.chkMultiClassAllowed.$dirty}" ng-disabled="ctrl.allJurisdictionsMultiClass()"></ip-checkbox> <ip-inline-dialog data-content="{{::\'validcombinations.infoMultiClassApplicationAllowed\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div>'),e.put("condor/configuration/general/validcombination/checklist/checklist.maintenance.html",'<div translate-namespace="validcombinations"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidChecklist"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-case-type" name="caseType" data-config="caseType" data-picklist-can-maintain="true" ng-model="vm.entity.caseType" ip-required ng-class="{edited: vm.maintenance.caseType.$dirty}" ng-disabled="vm.entity.state == \'updating\'"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.entity.jurisdictions" ng-class="{edited: vm.maintenance.jurisdiction.$dirty}" ip-required ng-disabled="vm.entity.state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" ng-model="vm.entity.propertyType" ip-required ng-class="{edited: vm.maintenance.propertyType.$dirty}" ng-disabled="vm.entity.state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <h3> <span class="label-legend" translate=".labelNewValidChecklist"></span> </h3> <div class="row"> <ip-typeahead id="pk-checklist" name="checklist" data-config="checklist" data-picklist-can-maintain="true" ip-required ng-change="vm.onChecklistSelectionChanged(vm.maintenance.validDescription)" ng-model="vm.entity.checklist" ng-disabled="vm.entity.state == \'updating\'" ng-class="{edited: vm.maintenance.checklist.$dirty}"> </ip-typeahead> </div> <div class="row"> <ip-text-field name="validDescription" ip-required label=".validDescription" ng-model="vm.entity.validDescription" ng-class="{edited: vm.maintenance.validDescription.$dirty}" data-ng-maxlength="50"></ip-text-field> </div> </div> <br/>'),
e.put("condor/configuration/general/validcombination/dateoflaw/validdateoflaw.maintenance.html",'<div ng-form="vm.form" data-ng-controller="ValidDateOfLawMaintenanceController as dCtrl" translate-namespace="picklist.dateoflaw"> <div class="row" style="margin-left: 12.7%"> <div class="col-sm-6"> <ip-datepicker id="dateOfLaw" data-date-only-string="model.defaultDateOfLaw.value" ip-required name="dateOfLaw" label="{{\'picklist.dateoflaw.Type\' | translate}}" ng-model="model.defaultDateOfLaw.date" is-disabled="state === \'viewing\' || state === \'updating\'" on-blur="dCtrl.onDateBlur"></ip-datepicker> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead id="jurisdiction" ip-required data-label=".jurisdiction" name="jurisdiction" data-config="jurisdiction" ng-model="model.defaultDateOfLaw.jurisdiction" ng-disabled="state === \'viewing\' || state === \'updating\'" ng-class="{edited: vm.form.jurisdiction.$dirty}"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead id="propertyType" ip-required data-label=".propertyType" name="propertyType" data-config="propertyType" ng-model="model.defaultDateOfLaw.propertyType" ng-disabled="state === \'viewing\' || state === \'updating\'" ng-class="{edited: vm.form.propertyType.$dirty}"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead id="determiningEvent" ip-required data-label=".defaultDeterminingEvent" name="determiningEvent" data-config="event" ng-model="model.defaultDateOfLaw.defaultEventForLaw" ng-disabled="state === \'viewing\'" ng-change="dCtrl.validate()" ng-class="{edited: vm.form.determiningEvent.$dirty}"> </ip-typeahead> </div> <ip-inline-dialog style="margin-left: 1%" data-content="{{::\'picklist.dateoflaw.toolTipDeterminingEvent\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="col-sm-10"> <ip-typeahead id="retrospectiveEvent" data-label=".defaultRetrospectiveEvent" name="retrospectiveEvent" data-config="event" ng-model="model.defaultDateOfLaw.defaultRetrospectiveEvent" ng-disabled="state === \'viewing\'" ng-class="{edited: vm.form.retrospectiveEvent.$dirty}"> </ip-typeahead> </div> <ip-inline-dialog style="margin-left: 1%" data-content="{{::\'picklist.dateoflaw.toolTipRetrospectiveEvent\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <hr> <div class="row"> <div style="margin-top: -3%"> <h1>{{\'picklist.dateoflaw.affectedActions\' | translate}}</h1> </div> <div class="text-right" ng-if="true" style="margin-top: -5%"> <ip-add-button ng-click="dCtrl.onAddClick()" ng-disabled="dCtrl.hasError()" class="pull-right" name="add-affected-actions"></ip-add-button> </div> </div> <div class="row inline-editing"> <ip-kendo-grid data-id="affectedActions" data-show-add="true" data-on-add-click="dCtrl.onAddClick()" data-add-disabled="dCtrl.hasError()" data-grid-options="affectedActions.gridOptions"> </ip-kendo-grid> </div> </div>'),e.put("condor/configuration/general/validcombination/propertytype/propertytype.maintenance.html",'<ip-valid-picklist-maintenance data-model="vm.entity" data-maintenance="vm.maintenance" data-state="vm.entity.state" data-can-maintain="true" data-entity-type="propertyType"></ip-valid-picklist-maintenance>'),e.put("condor/configuration/general/validcombination/propertytype/validpropertytype.maintenance.html",'<div translate-namespace="validcombinations" data-ng-controller="validPropertyTypeMaintenanceController as ctrl"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidPropertyType"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="model.jurisdictions" ng-class="{edited: maintenance.jurisdiction.$dirty}" ip-required ng-disabled="state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="text-wrap"> <span class="label-legend" translate=".labelNewValidPropertyType"></span> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="validPropertyType" ng-model="model.propertyType" ip-required ng-change="vm.onPicklistSelectionChanged(maintenance.validDescription)" ng-class="{edited: maintenance.propertyType.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="canMaintain === \'true\' ? true : false" data-key-field="key" data-code-field="code" data-text-field="value"> </ip-typeahead> </div> <div class="row"> <ip-text-field name="validDescription" ip-required label=".validDescription" ng-model="model.validDescription" ng-class="{edited: maintenance.validDescription.$dirty}" data-ng-maxlength="50"></ip-text-field> </div> <h3> <span class="label-legend" translate=".labelAnnuityOptions"></span> </h3> <div class="row"> <div class="input-wrap-group"> <label class="text-right col-sm-4" translate=".annuityCalculatedFrom"></label> <div class="col-sm-7" ng-init="model.annuityType = (state == \'adding\' ? \'betweenRenewalDate\' : model.annuityType)"> <div class="input-wrap"> <ip-radio-button label=".annuityOffset" value="betweenRenewalDate" ng-model="model.annuityType" name="rbAnnuityOffset" ng-class="{edited: maintenance.rbAnnuityOffset.$dirty}" ng-click="ctrl.clearAnnuityOptions()"> </ip-radio-button> <ip-text-field name="annuityOffset" class="pull-left modal-text" ng-model="model.offset" data-ng-class="{\'edited\': maintenance.annuityOffset.$dirty}" ip-data-type="integer" ng-change="ctrl.onOffsetChange(model.offset)" ng-disabled="model.annuityType != \'betweenRenewalDate\'"></ip-text-field> </div> <div class="input-wrap"> <ip-radio-button label=".annuityCycleOffset" value="nextRenewalDate" ng-model="model.annuityType" name="rbAnnuityCycleOffset" ng-class="{edited: maintenance.rbAnnuityCycleOffset.$dirty}" ng-click="ctrl.clearAnnuityOptions()"> </ip-radio-button> <ip-text-field name="annuityCycleOffset" ip-data-type="nonnegativeinteger" class="pull-left modal-text" ng-model="model.cycleOffset" ng-class="{\'edited\': maintenance.annuityCycleOffset.$dirty}" ng-change="ctrl.onOffsetChange(model.cycleOffset)" ng-disabled="model.annuityType != \'nextRenewalDate\'"> </ip-text-field> </div> <div class="input-wrap"> <ip-radio-button label=".noAnnuity" value="noAnnuity" ng-model="model.annuityType" name="rbNoAnnuity" ng-class="{edited: maintenance.rbNoAnnuity.$dirty}" ng-click="ctrl.clearAnnuityOptions()"> </ip-radio-button> </div> </div> </div> </div> </div> <br/>'),e.put("condor/configuration/general/validcombination/relationship/relationship.maintenance.html",'<div translate-namespace="validcombinations"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidRelationship"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.entity.jurisdictions" ng-class="{edited: vm.maintenance.jurisdiction.$dirty}" ip-required ng-disabled="vm.entity.state == \'updating\'" ip-autofocus></ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" ng-model="vm.entity.propertyType" ip-required ng-class="{edited: vm.maintenance.propertyType.$dirty}" ng-disabled="vm.entity.state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"></ip-typeahead> </div> <h3> <span class="label-legend" translate=".labelNewValidRelationship"></span> </h3> <div class="row"> <ip-typeahead id="pk-relationship" name="relationship" data-config="relationship" data-picklist-can-maintain="true" ng-model="vm.entity.relationship" ip-required ng-disabled="vm.entity.state == \'updating\'" ng-class="{edited: vm.maintenance.relationship.$dirty}"></ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-recip-relationship" name="recipRelationship" data-label="validcombinations.reciprocalRelationship" data-config="relationship" data-picklist-display-name="validcombinations.reciprocalRelationship" data-picklist-can-maintain="true" ng-model="vm.entity.recipRelationship" ng-class="{edited: vm.maintenance.recipRelationship.$dirty}"></ip-typeahead> </div> </div> <br/>'),e.put("condor/configuration/general/validcombination/subtype/subtype.maintenance.html",'<ip-valid-picklist-maintenance data-model="vm.entity" data-maintenance="vm.maintenance" data-state="vm.entity.state" data-can-maintain="true" data-entity-type="subType" data-search-criteria="vm.searchCriteria" data-src="validcombination"></ip-valid-picklist-maintenance>'),e.put("condor/configuration/general/validcombination/subtype/validsubtype.maintenance.html",'<div translate-namespace="validcombinations" data-ng-controller="validSubTypeMaintenanceController as vm"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidSubType"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead name="caseType" id="pk-case-type" data-config="caseType" data-picklist-can-maintain="true" ng-model="model.caseType" ip-required ng-change="vm.onCaseTypeSelectionChanged()" ng-class="{edited: maintenance.caseType.$dirty}" ng-disabled="state == \'updating\'"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="model.jurisdictions" ng-class="{edited: maintenance.jurisdiction.$dirty}" ip-required ng-disabled="state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" data-picklist-display-name="Property Type" ng-model="model.propertyType" ip-required ng-class="{edited: maintenance.propertyType.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"></ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-case-category" name="caseCategory" data-config="caseCategory" data-picklist-can-maintain="true" ng-model="model.caseCategory" ip-required ng-change="vm.onCaseCategorySelectionChanged()" ng-class="{edited: maintenance.caseCategory.$dirty}" ng-disabled="state == \'updating\' || vm.disableCategoryPicklist()" data-extend-query="vm.picklistCriteria.extendQuery"></ip-typeahead> </div> <h3> <span class="label-legend" translate=".labelNewSubType"></span> </h3> <div class="row"> <ip-typeahead id="pk-sub-type" name="subType" data-config="validSubType" ng-model="model.subType" ip-required ng-change="vm.onSubTypeSelectionChanged(maintenance.validDescription)" ng-class="{edited: maintenance.subType.$dirty}" ng-disabled="state == \'updating\'" data-picklist-can-maintain="canMaintain === \'true\' ? true : false" data-key-field="key" data-code-field="code" data-text-field="value"></ip-typeahead> </div> <div class="row"> <ip-text-field name="validDescription" ip-required label=".validDescription" ng-model="model.validDescription" ng-class="{edited: maintenance.validDescription.$dirty}" data-ng-maxlength="50"></ip-text-field> </div> </div>'),e.put("condor/configuration/general/validcombination/status/status.maintenance.html",'<div translate-namespace="validcombinations"> <div class="row"> <h3> <span class="label-legend" translate=".labelValidStatus"></span> <ip-inline-dialog data-content="{{::\'validcombinations.createValidCharacteristic\' | translate}}" data-placement="right"></ip-inline-dialog> </h3> </div> <div class="row"> <ip-typeahead id="pk-case-type" name="caseType" data-config="caseType" data-picklist-can-maintain="true" ng-model="vm.entity.caseType" ip-required ng-class="{edited: vm.maintenance.caseType.$dirty}" ng-disabled="vm.entity.state == \'updating\'"> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-jurisdiction" name="jurisdiction" data-multiselect data-config="jurisdiction" data-picklist-can-maintain="true" ng-model="vm.entity.jurisdictions" data-item-template-url="condor/components/form/autocomplete-item-code-desc.html" ng-class="{edited: vm.maintenance.jurisdiction.$dirty}" ip-required ng-disabled="vm.entity.state == \'updating\'" ip-autofocus> </ip-typeahead> </div> <div class="row"> <ip-typeahead id="pk-property-type" name="propertyType" data-config="propertyType" ng-model="vm.entity.propertyType" ip-required ng-class="{edited: vm.maintenance.propertyType.$dirty}" ng-disabled="vm.entity.state == \'updating\'" data-picklist-can-maintain="true" data-key-field="key" data-code-field="code" data-text-field="value"></ip-typeahead> </div> <h3> <span class="label-legend" translate=".labelNewValidStatus"></span> </h3> <div class="row"> <ip-typeahead id="pk-status" name="status" data-config="status" data-picklist-can-maintain="false" ng-model="vm.entity.status" ip-required ng-class="{edited: vm.maintenance.status.$dirty}" ng-disabled="vm.entity.state == \'updating\'"></ip-typeahead> </div> </div> <br/>'),e.put("condor/configuration/system/mui/directives/editable-screen-item.html",'<div class="input-wrap large translation" ng-class="{ \'error\': item.hasError(\'translation\') }"> <textarea data-ng-model="item.translation" data-ng-class="{ \'edited\' : item.isDirty(\'translation\'), \'saved\': item.isSaved(\'translation\') }"></textarea> <span ng-if="item.hasError(\'translation\')" class="input-action tooltip-error" data-tooltip-placement="bottom" ip-tooltip="{{:: \'field.error.invalidentry\' | translate }}"> <icon name="exclamation-triangle"></icon> </span> </div> '),e.put("condor/processing/policing/requests/directives/saved.request.view.html",'<h1 class="pull-right"> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.onClickAdd()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> </h1> <div class="row"> <div class="col-sm-12"> <div class="table-container"></div> <ip-kendo-grid data-id="savedRequestsGrid" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div> </div> '),e.put("condor/processing/policing/requestsLog/directives/policing.request.logerror.html",'<div class="row"> <div class="col-sm-1"> <span translate="policing.queue.errors.title"></span> <span id="errorCount" class="badge warning">{{ vm.totalErrorCount }}</span> </div> <div class="col-sm-11"> <ip-kendo-grid data-id="requestlogerror" data-grid-options="vm.errorGridOptions" class="col-sm-12"> </ip-kendo-grid> </div> <div class="col-sm-offset-1 col-sm-11"> <div class="table-container"> <div class="table-title"> <a href id="viewAllErrors" ng-click="vm.viewErrors()" ng-class="pointerCursor" ng-if="vm.totalErrorCount > 5"> <span translate="policing.request.log.errors.more" translate-values="{totalErrorCount: vm.totalErrorCount}"></span> </a> </div> </div> </div> </div> '),e.put("condor/processing/policing/requestsLog/directives/policing.request.logerrordetail.html",'<form name="policingRequestLogerrordetail" novalidate> <div class="modal-header"> <h2 class="modal-title"> <span translate="policing.request.log.errors.all"></span> </h2> <div class="modal-header-controls"> <ip-close-button data-ng-click="dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <ip-kendo-grid data-id="errordetail" data-grid-options="errorDetailGridOptions" class="col-sm-12"> </ip-kendo-grid> </div> </div> </div> </form>'),e.put("condor/classic/integration/ptoaccess/uspto/privatepair/new-sponsorship-popover.html",'<div class="row"> <p> <b translate="dataDownload.uspto.new.sponsoredEmail"></b> <span translate="dataDownload.uspto.new.description.sponsoredEmail"></span> </p> <p> <b translate="dataDownload.uspto.new.password"></b> <span translate="dataDownload.uspto.new.description.password"></span> </p> <p> <b translate="dataDownload.uspto.new.authenticatorKey"></b> <span translate="dataDownload.uspto.new.description.authenticatorKey"></span> </p> <p> <b translate="dataDownload.uspto.new.sponsorName"></b> <span translate="dataDownload.uspto.new.description.sponsorName"></span> </p> <p> <b translate="dataDownload.uspto.new.customerNumbers"></b> <span translate="dataDownload.uspto.new.description.customerNumbers"></span> </p> </div>'),e.put("condor/classic/integration/ptoaccess/uspto/privatepair/new-sponsorship.html",'<div class="modal-header"> <h2 class="modal-title"> <div ng-if="!vm.isUpdateMode" translate="dataDownload.uspto.new.title"></div> <div ng-if="vm.isUpdateMode" translate="dataDownload.uspto.new.updateTitle"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-subheader" ng-if="vm.isUpdateMode"> <div class="readonly-label readonly-label-navy text-ellipsis"> <label translate="dataDownload.uspto.new.serviceInformation"></label> <span ip-copy-text>{{::vm.serviceInfo}}</span> </div> </div> <div class="modal-body" ng-form="vm.form" ip-form> <div class="row" ng-if="!vm.isUpdateMode"> <div class="col-sm-12"> <ip-inline-alert type="info" text="dataDownload.uspto.new.description.title"></ip-inline-alert> </div> </div> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="dataDownload.uspto.new.subTitle"></h2> <span style="margin-left: 8px;"> <ip-inline-dialog placement="auto left" data-template="condor/classic/integration/ptoaccess/uspto/privatepair/new-sponsorship-popover.html"></ip-inline-dialog> </span> </div> </div> </div> </div> <div class="row"> <div class="row input-wrap"> <ip-text-field name="SponsoredEmail" ng-disabled="vm.isUpdateMode" ip-email ip-required label="dataDownload.uspto.new.sponsoredEmail" ng-model="vm.sponsorship.email" ng-class="{\'edited\': vm.form.SponsoredEmail.$dirty, \'error\': !vm.form.SponsoredEmail.$valid}"></ip-text-field> </div> <div class="row input-wrap"> <ip-text-field name="password" mask="true" ip-required label="dataDownload.uspto.new.password" ng-model="vm.sponsorship.password" ng-class="{\'edited\': vm.form.password.$dirty,\'error\': !vm.form.password.$valid}"></ip-text-field> </div> <div class="row input-wrap"> <ip-text-field name="authenticatorKey" mask="true" ip-required label="dataDownload.uspto.new.authenticatorKey" ng-model="vm.sponsorship.authenticatorKey" ng-class="{\'edited\': vm.form.authenticatorKey.$dirty, \'error\': !vm.form.authenticatorKey.$valid}"></ip-text-field> </div> <div class="row input-wrap"> <ip-text-field name="name" ip-required ng-disabled="vm.isUpdateMode" label="dataDownload.uspto.new.sponsorName" ng-model="vm.sponsorship.name" ng-class="{\'edited\': vm.form.name.$dirty, \'error\': !vm.form.name.$valid}"></ip-text-field> </div> <div class="row input-wrap"> <ip-text-field name="customerNumbers" ip-required ip-customer-number customer-numbers="{{vm.customerNumbers}}" label="dataDownload.uspto.new.customerNumbers" multiline="true" rows="4" ng-model="vm.sponsorship.customerNumbers" ng-class="{\'edited\': vm.form.customerNumbers.$dirty, \'error\': !vm.form.customerNumbers.$valid}"></ip-text-field> </div> </div> </div>'),e.put("condor/classic/integration/ptoaccess/uspto/privatepair/schedule-item.html","<div> </div>"),e.put("condor/classic/integration/ptoaccess/uspto/privatepair/sponsorships.html",'<ip-sticky-header> <ip-page-title page-title="dataDownload.uspto.title"> </ip-page-title> </ip-sticky-header> <br/> <br/> <br/> <div ip-resize-handler resize-handler-type="Panel"> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="dataDownload.uspto.sponsorshipTitle"></h2> <span style="margin-left: 8px;"> <ip-inline-dialog placement="bottom" data-content="{{::\'dataDownload.uspto.sponsorshipSubTitle\'|translate}}"></ip-inline-dialog> </span> <div class="pull-right"> <button id="add" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'Add\' | translate }}" data-ng-click="vm.onAddOrUpdate()"> <span class="cpa-icon cpa-icon-plus-circle"></span> </button> <button style="margin-right: 5px;" id="edit" ng-if="vm.hasSponsorship" class="btn btn-icon" data-tooltip-placement="bottom" ip-tooltip="{{::\'dataDownload.uspto.updateAccountTooltip\' | translate }}" data-ng-click="vm.onUpdateAccountDetails()"> <span class="cpa-icon cpa-icon-cog"></span> </button> </div> </div> <ip-inline-alert ng-if="vm.missingBackgroundProcessLoginId" text="{{::\'dataDownload.newSchedule.errors.background-process-loginid\'|translate}}" type="danger" style="display:block; margin-bottom: 30px"></ip-inline-alert> <ip-inline-alert ng-if="vm.envInvalid" text="{{::\'dataDownload.uspto.sponsorshipEnvMismatch\'|translate}}" type="warning" style="display:block; margin-bottom: 30px"></ip-inline-alert> <ip-kendo-search-grid data-id="searchResults" data-grid-options="vm.gridOptions" data-search-hint="{{ :: \'dataDownload.uspto.noSponsorshipsFound\' | translate }}"></ip-kendo-search-grid> </div> </div> </div> <br/> <div class="row"> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <h2 translate="dataDownload.schedules.title"></h2> </div> </div> </div> <div class="col-sm-12"> <div class="table-container"> <div class="table-title"> <span translate="dataDownload.schedules.subtitle"></span> <br/> <br/> <div> <a ui-sref="classicPtoAccess.Schedules"> <button id="viewSchedules" class="btn btn-prominent clear"> <span translate="dataDownload.uspto.viewSchedules"></span> </button> </a> </div> </div> </div> </div> </div> <br/> </div>'),e.put("condor/classic/integration/ptoaccess/uspto/privatepair/update-account-details.html",'<div class="modal-header"> <h2 class="modal-title"> <div translate="dataDownload.uspto.updateAccountDetails.title"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-save-button type="button" data-ng-click="vm.save()" data-ng-disabled="vm.disable()"></ip-save-button> <ip-close-button data-ng-click="vm.dismissAll()"></ip-close-button> </div> </div> <div class="modal-subheader"> <div class="readonly-label readonly-label-navy text-ellipsis"> <label translate="dataDownload.uspto.new.serviceInformation"></label> <span>{{::vm.serviceInfo}}</span> </div> <ip-inline-alert type="warning" text="dataDownload.uspto.updateAccountDetails.warning"></ip-inline-alert> </div> <div class="modal-body" ng-form="vm.form" ip-form> <div class="row col-sm-11 input-wrap"> <ip-text-field name="queueUrl" ip-required label="dataDownload.uspto.updateAccountDetails.queueUrl" ng-model="vm.data.queueUrl" ng-class="{\'edited\': vm.form.queueUrl.$dirty,\'error\': !vm.form.queueUrl.$valid}"></ip-text-field> </div> <div class="row col-sm-11 input-wrap"> <ip-text-field name="queueId" ip-required label="dataDownload.uspto.updateAccountDetails.queueId" ng-model="vm.data.queueId" ng-class="{\'edited\': vm.form.queueId.$dirty,\'error\': !vm.form.queueId.$valid}"></ip-text-field> </div> <div class="row col-sm-11 input-wrap"> <ip-text-field name="queueSecret" mask="true" ip-required label="dataDownload.uspto.updateAccountDetails.queueSecret" ng-model="vm.data.queueSecret" ng-class="{\'edited\': vm.form.queueSecret.$dirty,\'error\': !vm.form.queueSecret.$valid}"></ip-text-field> </div> </div>'),e.put("condor/configuration/general/ede/datamapping/directives/datamapping.topic.html",'<div class="row"> <ip-add-button ng-click="vm.add()" class="pull-right"></ip-add-button> </div> <ip-kendo-grid id="structureSearchResults" data-grid-options="vm.gridOptions"> </ip-kendo-grid>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/addresssettings.html",'<div ng-form="vm.form" ip-form> <h3 translate="jurisdictions.maintenance.addressSettings.displayOptions"></h3> <div class="row"> <div class="input-wrap col-sm-6"> <ip-text-field name="stateLabel" label="jurisdictions.maintenance.addressSettings.stateLabel" ng-model="vm.formData.stateLabel" ng-class="{edited: vm.formData.isDirty(\'stateLabel\')}" ng-maxlength="20" ng-disabled="!viewData.canEdit"></ip-text-field> </div> <div class="input-wrap col-sm-6"> <ip-checkbox label="{{ \'jurisdictions.maintenance.addressSettings.formatUsingAbbreviation\' | translate}}" ng-class="{edited: vm.formData.isDirty(\'stateAbbreviated\')}" name="abbreviate" ng-model="vm.formData.stateAbbreviated" ng-disabled="!viewData.canEdit"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap col-sm-6"> <ip-text-field name="postCodeLabel" label="jurisdictions.maintenance.addressSettings.postCodeLabel" ng-model="vm.formData.postCodeLiteral" ng-class="{edited: vm.formData.isDirty(\'postCodeLiteral\')}" ng-maxlength="20" ng-disabled="!viewData.canEdit"></ip-text-field> </div> <div class="input-wrap col-sm-6"> <ip-checkbox label="{{ \'jurisdictions.maintenance.addressSettings.postCodeFirst\' | translate}}" ng-class="{edited: vm.formData.isDirty(\'postCodeFirst\')}" name="postCodeFirst" ng-model="vm.formData.postCodeFirst" ng-disabled="!viewData.canEdit"></ip-checkbox> </div> </div> <div class="row"> <div class="input-wrap col-sm-6"> <ip-typeahead name="nameStyle" data-config="nameStyle" ip-required ng-model="vm.formData.nameStyle" ng-disabled="!viewData.canEdit" ng-class="{edited: vm.form.nameStyle.$dirty}" ng-change="vm.onPicklistChange()"></ip-typeahead> </div> </div> <div class="row"> <div class="input-wrap col-sm-6"> <ip-typeahead name="addressStyle" data-config="addressStyle" ip-required ng-model="vm.formData.addressStyle" ng-disabled="!viewData.canEdit" ng-class="{edited: vm.form.addressStyle.$dirty}" ng-change="vm.onPicklistChange()"></ip-typeahead> </div> </div> <div class="row"> <div class="input-wrap col-sm-6"> <ip-typeahead name="populateCityFromPostCode" data-config="postCodeSearch" ng ng-model="vm.formData.populateCityFromPostCode" ng-disabled="!viewData.canEdit" ng-class="{edited: vm.form.populateCityFromPostCode.$dirty}"></ip-typeahead> </div> <div class="input-wrap col-sm-6"> <ip-checkbox label="{{ \'jurisdictions.maintenance.addressSettings.populatePostcodeFromCity\' | translate}}" ng-class="{edited: vm.formData.isDirty(\'postCodeAutoFlag\')}" name="postCodeAutoFlag" ng-model="vm.formData.postCodeAutoFlag" ng-disabled="!viewData.canEdit"></ip-checkbox> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/attributes.html",'<div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid data-id="attributesList" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'jurisdictions.maintenance.attributes.attribute\' | translate}}"> </ip-kendo-grid> <ip-checkbox class="small" name="reportPriorArt" label="jurisdictions.maintenance.overview.priorArt" ng-model="vm.formData.reportPriorArt" ng-class="{edited: vm.form.reportPriorArt.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> <ip-inline-dialog style="margin-left: 1%" data-content="{{::\'jurisdictions.maintenance.overview.priorArtTooltip\' | translate}}" data-placement="right"></ip-inline-dialog> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/businessdays.html",'<style> div#holidayDatePicker>.date span button {\r\n        top: -3px !important;\r\n    } </style> <div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6"> <h3 translate="jurisdictions.maintenance.businessDays.workDays"></h3> </div> </div> <div class="row"> <div class="col-sm-4"> <div> <ip-checkbox name="monday" ng-model="vm.holidays[2].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.monday" ng-class="{edited: vm.form.monday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> <div> <ip-checkbox name="tuesday" ng-model="vm.holidays[3].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.tuesday" ng-class="{edited: vm.form.tuesday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> <div> <ip-checkbox name="wednesday" ng-model="vm.holidays[4].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.wednesday" ng-class="{edited: vm.form.wednesday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> </div> <div class="col-sm-4"> <div> <ip-checkbox name="thursday" ng-model="vm.holidays[5].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.thursday" ng-class="{edited: vm.form.thursday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> <div> <ip-checkbox name="friday" ng-model="vm.holidays[6].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.friday" ng-class="{edited: vm.form.friday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> </div> <div class="col-sm-4"> <div> <ip-checkbox name="saturday" ng-model="vm.holidays[0].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.saturday" ng-class="{edited: vm.form.saturday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> <div> <ip-checkbox name="sunday" ng-model="vm.holidays[1].selected" label="jurisdictions.maintenance.businessDays.dayOfWeek.sunday" ng-class="{edited: vm.form.sunday.$dirty}" ng-disabled="!vm.topic.canUpdate"></ip-checkbox> </div> </div> </div> <hr/> </div> <div class="row inline-editing" ng-form="vm.holidayForm" ip-form> <div class="row"> <div class="col-sm-6"> <h3 translate="jurisdictions.maintenance.businessDays.publicHolidays"></h3> </div> </div> <div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <ip-kendo-grid id="holidays" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'jurisdictions.maintenance.businessDays.publicHoliday\' | translate}}" data-grid-options="vm.gridOptions"></ip-kendo-grid> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/businessdays.maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="jurisdictions.maintenance.businessDays"> <div class="modal-header"> <h2 class="modal-title" ng-switch on="vm.entity.state"> <div ng-switch-when="adding" translate="jurisdictions.maintenance.businessDays.addTitle"></div> <div ng-switch-default translate="jurisdictions.maintenance.businessDays.editTitle"></div> </h2> <div class="modal-header-controls" ng-init="vm.initShortcuts()"> <ip-checkbox ng-if="!vm.isEdit" label="{{ \'modal.addAnother\' | translate}}" ng-model="vm.isAddAnother"></ip-checkbox> <ip-save-button type="button" data-ng-click="vm.apply()" data-ng-disabled="!vm.isApplyEnabled()"></ip-save-button> <ip-close-button data-ng-click="vm.dismiss()"></ip-close-button> </div> </div> <div class="modal-body"> <ip-group-modal-subheader ng-if="vm.isEdit" is-edit-mode="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges" on-navigate="vm.onNavigate"> </ip-group-modal-subheader> <div class="row"> <div class="col-md-9"> <ip-datepicker id="holidayDate" name="holidayDate" label="{{\'jurisdictions.maintenance.businessDays.date\'}}" ip-required ng-model="vm.formData.holidayDate" on-blur="vm.onDateBlur"></ip-datepicker> </div> </div> <div class="row"> <div class="input-wrap large readonly-label-value" style="margin-left: 68px;"> <label translate="jurisdictions.maintenance.businessDays.dayOfWeek.title"></label>: <span>{{ vm.formData.dayOfWeek }}</span> </div> </div> <div class="row"> <div class="col-md-9"> <ip-text-field label="jurisdictions.maintenance.businessDays.holidayName" ip-required name="holiday" id="holiday" ng-maxlength="50" ng-model="vm.formData.holiday" ng-class="{edited: vm.form.holiday.$dirty}"></ip-text-field> </div> </div> <div class="row" style="height: 120px"> </div> </div> </div> '),
e.put("condor/configuration/general/jurisdictions/maintenance/directives/classdetail.html",'<div class="row" ng-if="vm.hasIntClasses"> <div class="col-md-12"> <div class="input-wrap large"> <label translate="jurisdictions.maintenance.classes.internationalClasses.label"></label> <div class="col-md-10"> <kendo-grid id="internationalClasses" k-options="vm.gridOptions"></kendo-grid> </div> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="input-wrap large"> <label translate="jurisdictions.maintenance.classes.notes"></label> <textarea name="notes" type="text" rows="3" ng-model="vm.notes" ng-disabled="true"></textarea> </div> </div> </div> '),e.put("condor/configuration/general/jurisdictions/maintenance/directives/classes.html",'<div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <ip-kendo-grid id="localClasses" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'jurisdictions.maintenance.classes.class\' | translate}}"></ip-kendo-grid> <br/> <class-inline-alert ng-if="vm.countryCode != \'ZZZ\'"></class-inline-alert>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/classes.maintenance.html",'<style> .ip-text-field-alignment-width {\r\n    width: 20% !important;\r\n}\r\n\r\n.label-legend {\r\n    font-weight: bold;\r\n    font-size: 120%;\r\n    margin-right: 10px;\r\n} </style> <div ng-form="vm.form" ip-form translate-namespace="jurisdictions.maintenance.classes"> <ip-maintenance-modal-header data-page-title="{{::vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEdit"> </ip-maintenance-modal-header> <div class="modal-body"> <ip-group-modal-subheader ng-if="vm.isEdit" is-edit-mode="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges" on-navigate="vm.onNavigate"></ip-group-modal-subheader> <div class="row"> <div class="col-sm-8"> <ip-typeahead id="property-type-picklist" ip-autofocus="{{vm.isAddAnother && !vm.formData.propertyTypeModel ? false : true}}" name="propertyType" data-config="propertyType" ng-model="vm.formData.propertyTypeModel" ip-required data-ng-class="{edited: vm.form.propertyType.$dirty}" data-extend-query="vm.extendPropertyTypePicklist" data-picklist-can-maintain="true" data-external-scope="vm.picklistValidCombination" ng-change="vm.onPropertyChanged()"> </ip-typeahead> </div> </div> <div class="row"> <div> <ip-text-field id="class" ip-autofocus="{{vm.isAddAnother && vm.formData.propertyTypeModel ? true : false}}" class="col-sm-4" label="Class" style="width: 24%; margin-left: 14%" name="class" ng-model="vm.formData.class" data-ng-class="{edited: vm.form.class.$dirty}" ip-required ng-maxlength="5"> </ip-text-field> <span class="pull-left input-wrap" style="margin-top: .5%" translate="{{\'.subclass\'}}"></span> <ip-text-field class="col-sm-4" style="width: 17%; margin-left:-1%" name="subclass" data-ng-blur="vm.onSubClassChange()" ng-model="vm.formData.subClass" data-ng-class="{edited: vm.form.subclass.$dirty}" ng-maxlength="5" ng-disabled="!vm.formData.propertyTypeModel.allowSubClass"> </ip-text-field> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-text-field multiline style="margin-left: -17%" name="classheading" label="{{vm.isClassLabel ? \'.classHeading\' : \'.subClassHeading\' | translate}}" rows="6" ng-model="vm.formData.description" ng-class="{\'edited\': vm.form.classheading.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-sm-8"> <ip-datepicker id="effectivedate" style="margin-left: 8.5%;width:315px" name="effectivedate" label="{{\'jurisdictions.maintenance.classes.effectiveDate\'}}" ng-model="vm.formData.effectiveDate"></ip-datepicker> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-text-field multiline style="margin-left: -17%" name="notes" label="{{\'.notes\' | translate}}" rows="4" ng-model="vm.formData.notes" ng-class="{\'edited\': vm.form.notes.$dirty}"></ip-text-field> </div> </div> <div ng-if="vm.options.parentId !== \'ZZZ\'"> <hr/> <div class="text-wrap"> <span class="label-legend" translate="{{\'.associateClasses\'}}"></span> </div> <div class="row"> <div class="col-sm-12"> <ip-typeahead label="{{\'.internationalClasses.heading\' | translate}}" name="internationalclass" style="margin-left: -17%" data-multiselect data-config="tmClass" ng-model="vm.formData.internationalClasses" data-extend-query="vm.extendTMClassPicklist" data-ng-class="{edited: vm.form.internationalclass.$dirty}" ng-disabled="vm.formData.propertyTypeModel && vm.formData.propertyTypeModel.code !== \'T\'"></ip-typeahead> </div> </div> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/combinations.html",'<div class="row"> <br> <br> <div class="alert alert-info" id="validCombinationAlert"> <icon name="info-circle"></icon> <span translate="{{ vm.hasValidCombinations ? \'jurisdictions.maintenance.validCombinations.exist\' : \'jurisdictions.maintenance.validCombinations.notExist\'}}" translate-values="{ name: vm.parentName }"></span> <a ui-sref="validcombination.allcharacteristics({searchKey: vm.parentId, searchName: vm.parentName})" target="_blank" id="validCombinationLink" translate="jurisdictions.maintenance.validCombinations.link" ip-tooltip="{{::\'jurisdictions.maintenance.validCombinations.tooltip\' | translate }}" ng-if="vm.displayLink"></a> </div> </div> <hr/>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/defaults.html",'<div ng-form="vm.form" ip-form> <div class="row"> <div class="col-sm-6"> <ip-typeahead name="defaultCurrency" data-config="currency" ng-model="vm.formData.defaultCurrency" ng-disabled="!vm.topic.canUpdate" ng-class="{edited: vm.form.defaultCurrency.$dirty}"></ip-typeahead> </div> </div> <div class="row"> <div class="col-sm-6"> <ip-dropdown ng-class="{edited: vm.form.defaultTaxRate.$dirty}" name="defaultTaxRate" label="jurisdictions.maintenance.defaults.taxCode" ng-model="vm.formData.defaultTaxRate" options="option.description for option in vm.taxExemptOptions track by option.id" ng-disabled="!vm.topic.canUpdate" ng-class="{edited: vm.form.defaultTaxRate.$dirty}"> </ip-dropdown> </div> <div class="col-sm-6"> <ip-checkbox name="taxNoMandatory" label="jurisdictions.maintenance.defaults.taxNoMandatory" ng-model="vm.formData.isTaxNumberMandatory" ng-disabled="!vm.topic.canUpdate" ng-class="{\'edited\': vm.form.taxNoMandatory.$dirty}"></ip-checkbox> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/group-modal-subheader.html",'<div> <div class="row modal-subheader text-xs-right"> <ip-modal-nav ng-if="::vm.isEditMode" all-items="::vm.allItems" current-item="::vm.currentItem" on-navigate="::vm.onNavigateInteral"> </ip-modal-nav> <br/> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/groups.html",'<div class="row" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" class="pull-right"></ip-add-button> </div> <div class="row" translate-namespace="jurisdictions.maintenance.groupMemberships"> <div id="groups" class="input-wrap-group group-inline" ng-if="vm.type===\'1\'"> <span translate="Display" class="pull-left input-wrap"></span> <div class="input-wrap"> <input type="radio" id="display-members" name="displayMember" ng-checked="vm.displayGroups === false" ng-change="vm.search(false)" ng-model="vm.displayGroups"> <label for="display-members"> <span translate=".membersOfThisGroup"></span> </label> </div> <div class="input-wrap"> <input type="radio" id="display-groups" name="displayGroup" ng-checked="vm.displayGroups === true" ng-change="vm.search(true)" ng-model="vm.displayGroups"> <label for="display-groups"> <span translate=".groupsBelongingTo"></span> </label> </div> <div class="input-wrap" style="margin-left:9%;"> <ip-checkbox name="allMembersFlag" label=".allMembersFlag" ng-model="vm.allMembersFlag" ng-disabled="false" ng-change="vm.setFormDirty()" ng-class="{\'edited\': vm.form.$dirty}"></ip-checkbox> </div> <div class="input-wrap" style="margin-left:-1%;"> <ip-inline-dialog data-content="{{::\'jurisdictions.maintenance.groupMemberships.allMembersFlagHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> </div> </div> <ip-kendo-grid id="groupMembers" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-item-name="{{\'jurisdictions.maintenance.groupMemberships.item\' | translate}}"> </ip-kendo-grid>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/groups.maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="jurisdictions.maintenance.groupMemberships.maintenance"> <ip-maintenance-modal-header data-page-title="{{::vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEdit"> </ip-maintenance-modal-header> <div class="modal-body"> <ip-group-modal-subheader ng-if="vm.isEdit" is-edit-mode="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges" on-navigate="vm.onNavigate"></ip-group-modal-subheader> <div class="row"> <div class="col-md-12" style="margin-left: -8.5%"> <ip-typeahead id="jurisdictiongrouppicklist" ng-disabled="vm.isEdit && vm.isGroupDisabled" name="jurisdictiongrouppicklist" label="{{vm.isGroup ? \'.group\' : \'.jurisdiction\'}}" ip-required ip-autofocus ng-class="{edited: vm.form.jurisdictiongrouppicklist.$dirty}" data-config="jurisdiction" data-picklist-can-maintain="true" ng-change="vm.onJurisdictionChange()" ng-model="vm.formData.group" data-extend-query="vm.extendJurisdictionPicklist"></ip-typeahead> </div> </div> <div class="row"> <div class="col-md-12"> <ip-datepicker id="datejoinedgroup" name="datejoinedgroup" style="margin-left: 5%;width:375px" label="{{ \'jurisdictions.maintenance.groupMemberships.maintenance.datejoinedgroup\' | translate }}" ng-model="vm.formData.dateCommenced"></ip-datepicker> </div> </div> <div class="row"> <div class="col-md-12"> <ip-datepicker id="dateleftgroup" name="dateleftgroup" style="margin-left: 5%;width:375px" label="{{ \'jurisdictions.maintenance.groupMemberships.maintenance.dateleftgroup\' | translate }}" ng-model="vm.formData.dateCeased"></ip-datepicker> </div> </div> <div class="row"> <div class="col-sm-12"> <ip-datepicker id="datefullmember" data-is-disabled="vm.formData.isAssociateMember" name="datefullmember" style="margin-left: 5%;width:375px" label="{{ \'jurisdictions.maintenance.groupMemberships.maintenance.datefullmember\' | translate }}" ng-model="vm.formData.fullMembershipDate"></ip-datepicker> </div> </div> <div class="row col-md-12 control-group"> <div class="inline pull-left"> <ip-datepicker id="dateassociatemember" data-is-disabled="!vm.formData.isAssociateMember" name="dateassociatemember" style="margin-left: 8.5%;width:375px;" label="{{ \'jurisdictions.maintenance.groupMemberships.maintenance.dateAssociateMember\' | translate }}" ng-model="vm.formData.associateMemberDate"></ip-datepicker> </div> <div class="inline"> <ip-checkbox name="associateMember" style="margin-left: 5%;" label=".chkAssosiateMember" ng-checked="false" ng-model="vm.formData.isAssociateMember" ng-disabled="false" ng-change="vm.onAssociateMemberChange()" ng-class="{\'edited\': vm.form.associateMember.$dirty}"></ip-checkbox> </div> </div> <div class="col-md-12" style="margin-left: -9%"> <ip-typeahead label="{{ \'jurisdictions.maintenance.groupMemberships.maintenance.propertyType\' | translate }}" id="propertyTypePicklsit" name="propertyTypePicklsit" data-config="propertyType" ng-model="vm.formData.propertyTypeCollection" data-multiselect data-ng-class="{edited: vm.form.propertyType.$dirty}" data-extend-query="vm.extendPropertyTypePicklist" data-picklist-can-maintain="true" ng-disabled="vm.propertyTypeDisabled()" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> <div class="col-md-1"> <ip-inline-dialog data-html="true" data-content="{{::\'jurisdictions.maintenance.groupMemberships.maintenance.propertyTypeHelp\' | translate}}" data-placement="right"></ip-inline-dialog> </div> <div class="row"> <div class="col-md-8 col-md-push-4" style="margin-left: -10%"> <ip-checkbox name="defaultSelection" label=".chkDefaultSelection" ng-checked="false" ng-model="vm.formData.isGroupDefault" ng-disabled="false" ng-class="{\'edited\': vm.form.defaultSelection.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="col-md-8 col-md-push-4" style="margin-left: -10%"> <ip-checkbox name="preventEntry" label=".chkPreventEntry" ng-checked="false" ng-model="vm.formData.preventNationalPhase" ng-disabled="false" ng-class="{\'edited\': vm.form.preventEntry.$dirty}"></ip-checkbox> </div> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/overview.html",'<div class="jurisdiction-overview" ng-form="vm.form" ip-form> <div class="row" ng-if="viewData.isInternal === true"> <div class="input-wrap col-sm-6"> <label translate="jurisdictions.maintenance.overview.type" class="col-sm-4"></label> <label translate="jurisdictions.maintenance.overview.types.internal" class="col-sm-2 label-3"></label> </div> <div class="col-md-6"> <ip-datepicker id="datecommenced" name="datecommenced" class="col-sm-7" ng-model="vm.formData.dateCommenced" label="jurisdictions.maintenance.overview.dateCommenced" is-saved="vm.formData.isSaved(\'dateCommenced\')" is-disabled="!viewData.canEdit"></ip-datepicker> <ip-datepicker id="dateceased" name="dateceased" class="col-sm-7" ng-model="vm.formData.dateCeased" label="jurisdictions.maintenance.overview.dateCeased" later-than="vm.formData.dateCommenced" is-saved="vm.formData.isSaved(\'dateCeased\')" is-disabled="!viewData.canEdit"></ip-datepicker> </div> </div> <div class="row" ng-if="!viewData.isInternal"> <div class="input-wrap-group col-md-6" ng-class="{saved: vm.formData.isSaved(\'type\'), edited: vm.formData.isDirty(\'type\')} "> <span translate="jurisdictions.maintenance.overview.type" class="pull-left input-wrap"></span> <div class="input-wrap"> <input type="radio" name="jurisdictionType" id="jurisdictionType-country" ng-model="vm.formData.type" value="0" ng-disabled="!viewData.canEdit"/> <label for="jurisdictionType-country" translate="jurisdictions.maintenance.overview.types.country"></label> </div> <div class="input-wrap"> <input type="radio" name="jurisdictionType" id="jurisdictionType-group" ng-model="vm.formData.type" value="1" ng-disabled="!viewData.canEdit"/> <label for="jurisdictionType-group" translate="jurisdictions.maintenance.overview.types.group"></label> </div> <div class="input-wrap"> <input type="radio" name="jurisdictionType" id="jurisdictionType-iponly" ng-model="vm.formData.type" value="3" ng-disabled="!viewData.canEdit"/> <label for="jurisdictionType-iponly" translate="jurisdictions.maintenance.overview.types.ipOnly"></label> </div> </div> <div class="col-md-6"> <ip-datepicker id="datecommenced" name="datecommenced" class="col-sm-7" ng-model="vm.formData.dateCommenced" label="jurisdictions.maintenance.overview.dateCommenced" is-saved="vm.formData.isSaved(\'dateCommenced\')" is-disabled="!viewData.canEdit"></ip-datepicker> </div> <div class="col-md-6"> <ip-datepicker id="dateceased" name="dateceased" class="col-sm-7" ng-model="vm.formData.dateCeased" label="jurisdictions.maintenance.overview.dateCeased" later-than="vm.formData.dateCommenced" is-saved="vm.formData.isSaved(\'dateCeased\')" is-disabled="!viewData.canEdit"></ip-datepicker> </div> </div> <div class="row"> <div class="col-md-6 country-code-group"> <ip-text-field name="code" required label="jurisdictions.maintenance.overview.code" ng-model="vm.formData.id" ng-maxlength="3" ng-disabled="true" ng-disabled="!viewData.canEdit"></ip-text-field> <ip-text-field name="alternateCode" label="jurisdictions.maintenance.overview.alternateCode" ng-model="vm.formData.alternateCode" ng-maxlength="3" ng-class="{saved: vm.formData.isSaved(\'alternateCode\'), edited: vm.formData.isDirty(\'alternateCode\')}" ng-disabled="!viewData.canEdit"></ip-text-field> </div> </div> <div class="row"> <div class="col-md-6"> <ip-text-field name="name" label="jurisdictions.maintenance.overview.name" ng-model="vm.formData.name" ng-maxlength="60" required ng-class="{saved: vm.formData.isSaved(\'name\'),edited: vm.formData.isDirty(\'name\')}" ng-disabled="!viewData.canEdit"></ip-text-field> <ip-text-field name="abbreviation" label="jurisdictions.maintenance.overview.abbreviation" ng-model="vm.formData.abbreviation" ng-maxlength="10" ng-class="{saved: vm.formData.isSaved(\'abbreviation\'), edited: vm.formData.isDirty(\'abbreviation\')}" ng-disabled="!viewData.canEdit"></ip-text-field> <ip-text-field name="postalName" ng-if="viewData.type == 0" label="jurisdictions.maintenance.overview.postalName" ng-model="vm.formData.postalName" ng-maxlength="60" required ng-class="{saved: vm.formData.isSaved(\'postalName\'), edited: vm.formData.isDirty(\'postalName\')}" ng-disabled="!viewData.canEdit"></ip-text-field> <ip-text-field name="informalName" label="jurisdictions.maintenance.overview.informalName" ng-model="vm.formData.informalName" ng-maxlength="60" ng-class="{saved: vm.formData.isSaved(\'informalName\'), edited: vm.formData.isDirty(\'informalName\')}" ng-disabled="!viewData.canEdit"></ip-text-field> <ip-text-field name="countryAdjective" label="jurisdictions.maintenance.overview.adjective" ng-model="vm.formData.countryAdjective" ng-maxlength="60" ng-class="{saved: vm.formData.isSaved(\'countryAdjective\'), edited: vm.formData.isDirty(\'countryAdjective\')}" ng-disabled="!viewData.canEdit"></ip-text-field> <ip-text-field name="isdCode" data-ng-if="viewData.type == 0" label="jurisdictions.maintenance.overview.intTelCode" ng-model="vm.formData.isdCode" ng-maxlength="5" ng-class="{saved: vm.formData.isSaved(\'isdCode\'), edited: vm.formData.isDirty(\'isdCode\')}" ng-disabled="!viewData.canEdit"></ip-text-field> </div> </div> <div class="row"> <div class="col-md-12"> <div class="input-wrap large" data-ng-class="{error: vm.form.notes.$invalid}"> <ip-text-field multiline name="notes" label="jurisdictions.maintenance.overview.notes" ng-model="vm.formData.notes" ng-maxlength="254" ng-class="{saved: vm.formData.isSaved(\'notes\'), edited: vm.formData.isDirty(\'notes\')}" ng-disabled="!viewData.canEdit"></ip-text-field> </div> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/states.html",'<div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid id="stateGrid" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{vm.getStateLabel()}}"></ip-kendo-grid> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/statusflags.html",'<div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <div class="row inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid id="statusFlagsGrid" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'jurisdictions.maintenance.designationStages.designationStage\' | translate}}"></ip-kendo-grid> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/texts.html",'<div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <div class="inline-editing" ng-form="vm.form" ip-form> <ip-kendo-grid data-id="textsGrid" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'jurisdictions.maintenance.texts.text\' | translate}}"> </ip-kendo-grid> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/validnumbers.html",'<div class="text-right" ng-if="vm.topic.canUpdate"> <ip-add-button ng-click="vm.onAddClick()" ng-disabled="vm.topic.hasError()" class="pull-right"></ip-add-button> </div> <ip-kendo-grid id="validNumbersGrid" data-grid-options="vm.gridOptions" data-show-add="vm.topic.canUpdate" data-on-add-click="vm.onAddClick()" data-add-disabled="vm.topic.hasError()" data-add-item-name="{{\'jurisdictions.maintenance.validNumbers.numberPattern\' | translate}}"></ip-kendo-grid> '),e.put("condor/configuration/general/jurisdictions/maintenance/directives/validnumbers.maintenance.html",'<div ng-form="vm.form" ip-form translate-namespace="jurisdictions.maintenance.validNumbers"> <ip-maintenance-modal-header data-page-title="{{::vm.title}}" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="vm.isAddAnother" is-edit-mode="vm.isEdit"> </ip-maintenance-modal-header> <div class="modal-body"> <ip-group-modal-subheader ng-if="vm.isEdit" is-edit-mode="vm.isEdit" all-items="vm.options.allItems" current-item="vm.options.dataItem" has-unsaved-changes="vm.hasUnsavedChanges" on-navigate="vm.onNavigate"></ip-group-modal-subheader> <div class="row"> <div class="col-md-9"> <ip-typeahead id="property-type-picklist" name="propertyType" data-config="propertyType" ng-model="vm.formData.propertyType" ip-required ip-autofocus data-ng-class="{edited: vm.form.propertyType.$dirty}" data-extend-query="vm.extendPicklistQuery" data-picklist-can-maintain="true" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-md-9"> <ip-typeahead id="number-type-picklist" name="numberType" data-config="numberType" ng-model="vm.formData.numberType" ip-required data-ng-class="{edited: vm.form.numberType.$dirty}" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-md-9"> <ip-typeahead id="case-type-picklist" name="caseType" data-config="caseType" ng-model="vm.formData.caseType" data-ng-class="{edited: vm.form.caseType.$dirty}" data-extend-query="vm.extendPicklistQuery" data-picklist-can-maintain="true" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-md-9"> <ip-typeahead id="case-category-picklist" name="caseCategory" data-config="caseCategory" ng-model="vm.formData.caseCategory" data-ng-class="{edited: vm.form.caseCategory.$dirty}" data-extend-query="vm.extendPicklistQuery" ng-disabled="vm.isCaseCategoryDisabled()" data-picklist-can-maintain="true" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-md-9"> <ip-typeahead id="sub-type-picklist" name="subType" data-config="subType" ng-model="vm.formData.subType" data-ng-class="{edited: vm.form.subType.$dirty}" data-extend-query="vm.extendPicklistQuery" data-picklist-can-maintain="true" data-external-scope="vm.picklistValidCombination"> </ip-typeahead> </div> </div> <div class="row"> <div class="col-md-9"> <ip-text-field name="pattern" ip-required label="{{\'.pattern\' | translate}}" ng-maxlength="254" ng-model="vm.formData.pattern" ng-class="{\'edited\': vm.form.pattern.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-md-9"> <ip-text-field multiline name="displayMessage" ng-maxlength="254" ip-required label="{{\'.errorMessage\' | translate}}" rows="3" ng-model="vm.formData.displayMessage" ng-class="{\'edited\': vm.form.displayMessage.$dirty}"></ip-text-field> </div> </div> <div class="row"> <div class="col-md-12"> <ip-datepicker id="validFrom" style="margin-left: 8.5%;width:315px" name="validFrom" label="{{\'jurisdictions.maintenance.validNumbers.validFrom\'}}" ng-model="vm.formData.validFrom"></ip-datepicker> </div> </div> <div class="row"> <div class="col-md-8 col-md-push-4" style="margin-left: -9.5%"> <ip-checkbox name="warningFlag" label=".displayWarning" ng-checked="false" ng-model="vm.formData.warningFlag" ng-disabled="false" ng-class="{\'edited\': vm.form.warningFlag.$dirty}"></ip-checkbox> </div> </div> <div class="row"> <div class="col-md-9"> <ip-typeahead id="additional-validation-picklist" ng-change="vm.onAdditionalValidationChanged()" name="additionalValidation" data-config="additionalNumberValidation" ng-model="vm.formData.additionalValidation" data-ng-class="{edited: vm.form.additionalValidation.$dirty}" data-picklist-can-maintain="true"> </ip-typeahead> </div> </div> <div class="row"> <button id="validate" class="btn btn-prominent clear" style="margin-left: 26%" data-ng-click="vm.onTestPatternClick()"> <span translate=".testPattern"></span> </button> </div> </div> </div>'),e.put("condor/configuration/general/jurisdictions/maintenance/directives/validnumbers.testpattern.html",'<div ng-form="vm.form" ip-form translate-namespace="jurisdictions.maintenance.validNumbers"> <ip-maintenance-modal-header data-page-title=".testPattern" data-dismiss="vm.dismiss()" data-on-apply="vm.apply()" data-is-apply-enabled="vm.isApplyEnabled()" data-has-unsaved-changes="vm.hasUnsavedChanges()" data-is-add-another="false" is-edit-mode="true"> </ip-maintenance-modal-header> <div class="modal-body"> <div class="row"> <div class="col-md-9"> <ip-text-field name="regexPattern" label="{{\'.numberPattern\' | translate}}" ng-model="vm.formData.pattern" ng-class="{\'edited\': vm.form.regexPattern.$dirty}" ng-maxlength="254"></ip-text-field> </div> </div> <div class="row"> <div class="col-md-9"> <ip-text-field name="testPatternNumber" label="{{\'.testPatternNumber\' | translate}}" ng-model="vm.formData.testPatternNumber" ng-class="{\'edited\': vm.form.testPatternNumber.$dirty}" ip-field-error="{{vm.errorPattern}}" ng-change="vm.resetErrorPattern()"></ip-text-field> </div> </div> <div class="row"> <button id="runTest" class="btn btn-prominent clear" style="margin-left: 26%" data-ng-click="vm.onTestPatternClick()" data-ng-disabled="vm.shouldDisableTestPattern()"> <span translate=".runTest"></span> </button> </div> </div> </div>'),e.put("condor/configuration/rules/workflows/entrycontrol/directives/roleUsers.html",'<div class="row" translate-namespace="workflows.entrycontrol.userAccess"> <div class="col-sm-6"> <h4 translate=".detailTitle"></h4> <div class="row" ng-repeat="user in ::vm.users"> <div class="col-sm-offset-1 col-sm-5" ng-class="::{\'k-alt\': $odd}" title="{{::user.username}}">{{::user.username}}</div> <div class="col-sm-6" ng-class="::{\'k-alt\': $odd}">{{::user.name}}</div> </div> <div class="col-sm-offset-1" ng-if="vm.users && !vm.users.length" translate="grid.messages.noItems"></div> </div> </div> <br>'),e.put("condor/processing/policing/dashboard/directives/rateGraph/chart.html",'<ip-inline-alert ng-show="!vm.rateGraph.historicalDataAvailable" type="warning" text="policing.dashboard.graph.noLogError"></ip-inline-alert> <ip-inline-alert ng-show="vm.rateGraph.error" type="warning" text="common.errors.status-other"></ip-inline-alert> <kendo-chart id="rateChart" kendo-chart-resize k-options="vm.chartOptions" ng-show="vm.rateGraph.historicalDataAvailable &amp;&amp; !vm.rateGraph.error" k-ng-delay="vm.chartOptions"></kendo-chart> <div class="chart-loading"></div>'),e.put("condor/processing/policing/dashboard/directives/server/status.html",'<span class="radio-status" ng-class="vm.currentState.data.radioClass" translate="{{vm.currentState.data.message}}"> </span> <button class="btn btn-icon" ng-class="{\'btn-danger\':vm.isRunning()}" ng-disabled="vm.isWaiting()" ng-if="vm.canAdminister" ng-click="vm.changeServerStatus()"> <i class="cpa-icon cpa-icon-power"></i> </button>'),e.put("condor/processing/policing/dashboard/directives/statusGraph/chart.html",'<div class="row"> <div class="col-sm-6"> <div class="chart-wrap" style="position: relative;"> <kendo-chart id="currentStatusChart" kendo-chart-resize k-options="vm.chartOptions" k-ng-delay="vm.chartOptions"></kendo-chart> <div class="chart-loading"></div> </div> </div> <div class="col-sm-6"> <div class="chart-wrap" style="position: relative;"> <kendo-chart id="currentErrorStatusChart" kendo-chart-resize k-options="vm.errorChartOptions" k-ng-delay="vm.errorChartOptions"></kendo-chart> <div class="chart-loading"></div> </div> </div> </div>'),e.put("condor/processing/policing/dashboard/directives/requestLog/policing.request.logsummary.html",'<div class="table-container"> <div class="table-title row"> <h2 translate="policing.request.log.summaryTitle"></h2> <div class="pull-right" data-ng-if="vm.showRequestLink"> <button id="viewRequests" class="btn btn-prominent" ui-sref="policingRequestMaintenance"> <span translate="policing.request.log.viewRequests"></span> </button> </div> </div> <ip-kendo-grid data-id="requestlog" data-grid-options="vm.gridOptions" data-search-hint="{{ \'policing.request.log.emptyGridHint\' | translate }}"></ip-kendo-grid> <a id="viewAllLogs" class="btn btn-link" data-ng-class="pointerCursor" href="#/policing-request-log" class="no-underline"> <span class="cpa-icon cpa-icon-exclamation-circle" style="font-size: 12pt"></span> <span translate="policing.request.log.viewLogs" style="font-style: italic"></span> </a> </div>'),e.put("condor/processing/policing/dashboard/directives/statusSummaryBar/policing.statusSummaryBar.html",'<div class="row"> <div class="col-sm-12"> <table class="table summary"> <tr> <td> <h1> <span class="queue-items-total">{{$ctrl.data.total}}</span> </h1> <a href="#/policing-queue/all" id="linkAll"> <h5 translate="policing.summaryBar.total"></h5> </a> </td> <td> <h1> <span class="queue-items-progressing">{{$ctrl.data.waitingToStart.total + $ctrl.data.inProgress.total}}</span> </h1> <a href="#/policing-queue/progressing" id="linkProgressing"> <h5 translate="policing.summaryBar.progressing"></h5> </a> </td> <td> <h1> <span class="queue-items-requires-attention">{{$ctrl.data.blocked.total + $ctrl.data.failed.total + $ctrl.data.inError.total}}</span> </h1> <a href="#/policing-queue/requires-attention" id="linkRequiresAttention"> <h5 translate="policing.summaryBar.needsAttention"></h5> </a> </td> <td> <h1> <span class="queue-items-on-hold">{{$ctrl.data.onHold.total}}</span> </h1> <a href="#/policing-queue/on-hold" id="linkOnHold"> <h5 translate="policing.summaryBar.onHold"></h5> </a> </td> </tr> </table> </div> </div>'),e.put("condor/processing/policing/queue/directives/nextruntime/nextruntime.html",'<div> <div class="modal-header"> <h2 class="modal-title" translate="policing.queue.nextRunTimeModal.header"> </h2> <div class="modal-header-controls"> <ip-save-button ng-click="save()" ng-disabled="isSaveDisabled()" id="Save"></ip-save-button> <ip-close-button ng-click="dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div class="modal-body" ng-init="initShortcut()"> <div class="row"> <label class="text-wrap" translate="policing.queue.nextRunTimeModal.description"></label> </div> <br/> <div class="row"> <div ng-form="nextrunform"> <ip-datepicker id="date" name="date" class="col-sm-6 fixed-datepicker" ng-model="selectedDate" label="policing.queue.nextRunTimeModal.date"></ip-datepicker> <div class="input-wrap col-sm-4"> <div class="col-sm-2 text-right"> <label translate="policing.queue.nextRunTimeModal.time"></label> </div> <div class="col-sm-4"> <select id="starthour" name="starthour" data-ng-model="selectedHour" data-ng-required="" data-ng-class="{ \'edited\': nextrunform.starthour.$dirty }"> <option value="00">00</option> <option value="01">01</option> <option value="02">02</option> <option value="03">03</option> <option value="04">04</option> <option value="05">05</option> <option value="06">06</option> <option value="07">07</option> <option value="08">08</option> <option value="09">09</option> <option value="10">10</option> <option value="11">11</option> <option value="12">12</option> <option value="13">13</option> <option value="14">14</option> <option value="15">15</option> <option value="16">16</option> <option value="17">17</option> <option value="18">18</option> <option value="19">19</option> <option value="20">20</option> <option value="21">21</option> <option value="22">22</option> <option value="23">23</option> </select> </div> <div class="col-sm-1 text-center"> <label>:</label> </div> <div class="col-sm-4"> <select id="startminute" name="startminute" data-ng-model="selectedMinutes" data-ng-required="" data-ng-class="{ \'edited\': nextrunform.startminute.$dirty }"> <option value="00">00</option> <option value="05">05</option> <option value="10">10</option> <option value="15">15</option> <option value="20">20</option> <option value="25">25</option> <option value="30">30</option> <option value="35">35</option> <option value="40">40</option> <option value="45">45</option> <option value="50">50</option> <option value="55">55</option> </select> </div> </div> </div> </div> </div> </div>'),
e.put("condor/processing/policing/queue/directives/errorView/queue.errordetailview.html",'<form name="policingQueueErrorDetail" id="policingErrordetailviewController" novalidate> <div class="modal-header"> <h2 class="modal-title"> <span translate="policing.queue.errors.all" translate-values="{caseReference: parent.caseReference}"></span> </h2> <div class="modal-header-controls"> <ip-close-button data-ng-click="dismissAll()" id="dismissAll"></ip-close-button> </div> </div> <div class="modal-body"> <div class="row"> <div class="col-sm-12"> <ip-kendo-grid data-id="errordetail" data-grid-options="errorDetailGridOptions" class="col-sm-12"> </ip-kendo-grid> </div> </div> </div> </form>'),e.put("condor/processing/policing/queue/directives/errorView/queue.errorview.html",'<div class="row"> <div class="col-sm-1"> <span translate="policing.queue.errors.title"></span> <span id="errorCount" class="badge warning">{{ vm.totalErrorCount }}</span> </div> <div class="col-sm-11"> <ip-kendo-grid data-id="error" data-grid-options="vm.errorGridOptions" class="col-sm-12"> </ip-kendo-grid> </div> <div class="col-sm-offset-1 col-sm-11"> <a href id="viewAllErrors" ng-click="vm.viewErrors()" ng-class="pointerCursor" ng-if="vm.totalErrorCount > 5"> <span translate="policing.queue.errors.more" translate-values="{totalErrorCount: vm.totalErrorCount}"></span> </a> </div> </div> ')}]);