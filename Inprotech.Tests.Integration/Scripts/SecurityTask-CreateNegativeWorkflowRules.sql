
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
/***********************************************************************************************************/
/*** DR-17045 Allow certain users to create criteria and events with negative numbers - Task			***/
/*********************************************************************************************************/


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	If NOT exists (select * from TASK where TASKID = 277)
        	BEGIN
         	 PRINT '**** DR-17045 Adding data TASK.TASKID = 277'
		 INSERT INTO TASK (TASKID, TASKNAME, DESCRIPTION)
		 VALUES (277, N'Create Negative Workflow Rules',N'Ability to create criteria and events with negative numbers')
        	 PRINT '**** DR-17045 Data successfully added to TASK table.'
		 PRINT ''
         	END
    	ELSE
         	PRINT '**** DR-17045 TASK.TASKID = 277 already exists'
         	PRINT ''
    	go


-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
/***********************************************************************************************************/
/*** DR-17045 Allow certain users to create criteria and events with negative numbers - FeatureTask		***/
/*********************************************************************************************************/


--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	IF NOT exists (select * from FEATURETASK where FEATUREID = 56 AND TASKID = 277)
		begin
		PRINT '**** DR-17045 Inserting FEATURETASK.FEATUREID = 56, TASKID = 277'
		INSERT INTO FEATURETASK (FEATUREID, TASKID)
		VALUES (56, 277)
		PRINT '**** DR-17045 Data has been successfully added to FEATURETASK table.'
		PRINT ''
		END
	ELSE
		PRINT '**** DR-17045 FEATURETASK.FEATUREID = 56, TASKID = 277 already exists.'
		PRINT ''
 	go


---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
/*******************************************************************************************************************/
/*** DR-17045 Allow certain users to create criteria and events with negative numbers - Permission Definition	***/
/*****************************************************************************************************************/


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	If NOT exists(SELECT * FROM PERMISSIONS WHERE OBJECTTABLE = 'TASK'
				and OBJECTINTEGERKEY = 277
				and LEVELTABLE is null
				and LEVELKEY is null)
        	BEGIN
         	 PRINT '**** DR-17045 Adding TASK definition data PERMISSIONS.OBJECTKEY = 277'
		 INSERT	PERMISSIONS (OBJECTTABLE, OBJECTINTEGERKEY, OBJECTSTRINGKEY, LEVELTABLE, LEVELKEY, GRANTPERMISSION, DENYPERMISSION) 
		 VALUES ('TASK', 277, NULL, NULL, NULL, 32, 0)
        	 PRINT '**** DR-17045 Data successfully added to PERMISSIONS table.'
		 PRINT ''
         	END
    	ELSE
         	BEGIN
         	 PRINT '**** DR-17045 TASK definition data PERMISSIONS.OBJECTKEY = 277 already exists'
		 PRINT ''
         	END
    	go


----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
/***********************************************************/
/*** DR-17045 - ValidObject								***/
/*********************************************************/


-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
	If NOT exists (SELECT * FROM VALIDOBJECT WHERE TYPE = 20 and OBJECTDATA = '72  72')
        	BEGIN
         		PRINT '**** DR-17045 Adding data VALIDOBJECT.OBJECTDATA = 72  72'
				declare @validObject int
      			Select @validObject = (max(OBJECTID) + 1) from VALIDOBJECT
				INSERT INTO VALIDOBJECT (OBJECTID, TYPE, OBJECTDATA)
				VALUES (@validObject, 20, '72  72')
        		PRINT '**** DR-17045 Data successfully added to VALIDOBJECT table.'
				PRINT ''
         	END
    	ELSE
         	PRINT '**** DR-17045 VALIDOBJECT.OBJECTDATA = 72  72 already exists'
         	PRINT ''
    	go
	If NOT exists (SELECT * FROM VALIDOBJECT WHERE TYPE = 20 and OBJECTDATA = '72 972')
        	BEGIN
         		PRINT '**** DR-17045 Adding data VALIDOBJECT.OBJECTDATA = 72 972'
				declare @validObject int
      	        Select @validObject = (max(OBJECTID) + 1) from VALIDOBJECT
                INSERT INTO VALIDOBJECT (OBJECTID, TYPE, OBJECTDATA)
				VALUES (@validObject, 20, '72 972')
        		PRINT '**** DR-17045 Data successfully added to VALIDOBJECT table.'
				PRINT ''
         	END
    	ELSE
         	PRINT '**** DR-17045 VALIDOBJECT.OBJECTDATA = 72 972 already exists'
         	PRINT ''
    	go

